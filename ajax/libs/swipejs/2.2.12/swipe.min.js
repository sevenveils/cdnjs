!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,P="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,C=P.document;function Swipe(s,r){"use strict";var a,t,u={},l={},c=(r=r||{}).auto||0,e=!1,n=function(){},d=function(t){setTimeout(t||n,0)},f={addEventListener:!!P.addEventListener,touch:"ontouchstart"in P||P.DocumentTouch&&C instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(C.createElement("swipe"))};if(s){var v,m,h,p,E=s.children[0],b=parseInt(r.startSlide,10)||0,y=r.speed||300;r.continuous=void 0===r.continuous||r.continuous,r.autoRestart=void 0!==r.autoRestart&&r.autoRestart;var g=function(n,i){i=i||100;var o=null;function s(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;s(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=s,t}(i),T={handleEvent:function(t){if(!e){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":g()}r.stopPropagation&&t.stopPropagation()}},start:function(t){var e;O(t)?(e=t).preventDefault():e=t.touches[0],u={x:e.pageX,y:e.pageY,time:+new Date},a=void 0,l={},O(t)?(E.addEventListener("mousemove",this,!1),E.addEventListener("mouseup",this,!1),E.addEventListener("mouseleave",this,!1)):(E.addEventListener("touchmove",this,!1),E.addEventListener("touchend",this,!1))},move:function(t){var e;if(O(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;r.disableScroll&&t.preventDefault(),e=t.touches[0]}l={x:e.pageX-u.x,y:e.pageY-u.y},void 0===a&&(a=!!(a||Math.abs(l.x)<Math.abs(l.y))),a||(t.preventDefault(),j(),r.continuous?(A(k(b-1),l.x+m[k(b-1)],0),A(b,l.x+m[b],0),A(k(b+1),l.x+m[k(b+1)],0)):(l.x=l.x/(!b&&0<l.x||b===v.length-1&&l.x<0?Math.abs(l.x)/h+1:1),A(b-1,l.x+m[b-1],0),A(b,l.x+m[b],0),A(b+1,l.x+m[b+1],0)))},end:function(t){var e=+new Date-u.time,n=Number(e)<250&&20<Math.abs(l.x)||Math.abs(l.x)>h/2,i=!b&&0<l.x||b===v.length-1&&l.x<0;r.continuous&&(i=!1);var o=Math.abs(l.x)/l.x;a||(n&&!i?(b=o<0?(r.continuous?(S(k(b-1),-h,0),S(k(b+2),h,0)):S(b-1,-h,0),S(b,m[b]-h,y),S(k(b+1),m[k(b+1)]-h,y),k(b+1)):(r.continuous?(S(k(b+1),h,0),S(k(b-2),-h,0)):S(b+1,h,0),S(b,m[b]+h,y),S(k(b-1),m[k(b-1)]+h,y),k(b-1)),w(M(),v[b],o)):r.continuous?(S(k(b-1),-h,y),S(b,0,y),S(k(b+1),h,y)):(S(b-1,-h,y),S(b,0,y),S(b+1,h,y))),O(t)?(E.removeEventListener("mousemove",T,!1),E.removeEventListener("mouseup",T,!1),E.removeEventListener("mouseleave",T,!1)):(E.removeEventListener("touchmove",T,!1),E.removeEventListener("touchend",T,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===b&&((c||r.autoRestart)&&I(),D(M(),v[b]))}};return i(),R(),{setup:i,slide:function(t,e){j(),z(t,e)},prev:function(){j(),function(){if(e)return;r.continuous?z(b-1):b&&z(b-1)}()},next:function(){j(),o()},restart:I,stop:j,getPos:M,disable:function(){j(),e=!0},enable:function(){e=!1,I()},getNumSlides:function(){return p},kill:function(){j(),s.style.visibility="",E.style.width="",E.style.left="";var t=v.length;for(;t--;){f.transitions&&A(t,0,0);var e=v[t];if(e.getAttribute("data-cloned")){var n=e.parentElement;n.removeChild(e)}e.style.width="",e.style.left="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}x(),g.cancel()}}}function x(){f.addEventListener?(E.removeEventListener("touchstart",T,!1),E.removeEventListener("mousedown",T,!1),E.removeEventListener("webkitTransitionEnd",T,!1),E.removeEventListener("msTransitionEnd",T,!1),E.removeEventListener("oTransitionEnd",T,!1),E.removeEventListener("otransitionend",T,!1),E.removeEventListener("transitionend",T,!1),P.removeEventListener("resize",T,!1)):P.onresize=null}function L(t){var e=t.cloneNode(!0);E.appendChild(e),e.setAttribute("data-cloned",!0),e.removeAttribute("id")}function i(t){if(null!=t)for(var e in t)r[e]=t[e];v=E.children,p=v.length;for(var n=0;n<v.length;n++)v[n].getAttribute("data-cloned")&&p--;v.length<2&&(r.continuous=!1),f.transitions&&r.continuous&&v.length<3&&(L(v[0]),L(v[1]),v=E.children),m=new Array(v.length),h=s.getBoundingClientRect().width||s.offsetWidth,E.style.width=v.length*h*2+"px";for(var i=v.length;i--;){var o=v[i];o.style.width=h+"px",o.setAttribute("data-index",i),f.transitions&&(o.style.left=i*-h+"px",S(i,i<b?-h:b<i?h:0,0))}r.continuous&&f.transitions&&(S(k(b-1),-h,0),S(k(b+1),h,0)),f.transitions||(E.style.left=b*-h+"px"),s.style.visibility="visible",x(),f.addEventListener?(f.touch&&E.addEventListener("touchstart",T,!1),r.draggable&&E.addEventListener("mousedown",T,!1),f.transitions&&(E.addEventListener("webkitTransitionEnd",T,!1),E.addEventListener("msTransitionEnd",T,!1),E.addEventListener("oTransitionEnd",T,!1),E.addEventListener("otransitionend",T,!1),E.addEventListener("transitionend",T,!1)),P.addEventListener("resize",T,!1)):P.onresize=g}function o(){e||(r.continuous?z(b+1):b<v.length-1&&z(b+1))}function w(t,e,n){r.callback&&r.callback(t,e,n)}function D(t,e){r.transitionEnd&&r.transitionEnd(t,e)}function k(t){return(v.length+t%v.length)%v.length}function M(){var t=b;return p<=t&&(t-=p),t}function z(t,e){if(t="number"!=typeof t?parseInt(t,10):t,b!==t){if(f.transitions){var n=Math.abs(b-t)/(b-t);if(r.continuous){var i=n;(n=-m[k(t)]/h)!==i&&(t=-n*v.length+t)}for(var o=Math.abs(b-t)-1;o--;)S(k((b<t?t:b)-o-1),h*n,0);t=k(t),S(b,h*n,e||y),S(t,0,e||y),r.continuous&&S(k(t-n),-h*n,0)}else t=k(t),function(e,n,i){if(!i)return E.style.left=n+"px";var o=+new Date,s=setInterval(function(){var t=+new Date-o;if(i<t)return E.style.left=n+"px",(c||r.autoRestart)&&I(),D(M(),v[b]),void clearInterval(s);E.style.left=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(b*-h,t*-h,e||y);b=t,d(function(){w(M(),v[b],n)})}}function S(t,e,n){A(t,e,n),m[t]=e}function A(t,e,n){var i=v[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform=o.msTransform=o.MozTransform=o.OTransform=o.transform="translateX("+e+"px)")}function R(){(c=r.auto||0)&&(t=setTimeout(o,c))}function j(){c=0,clearTimeout(t)}function I(){j(),R()}function O(t){return/^mouse/.test(t.type)}}return(P.jQuery||P.Zepto)&&((e=P.jQuery||P.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});