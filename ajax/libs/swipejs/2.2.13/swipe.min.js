!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.Swipe=e(),t.Swipe}):"object"==typeof module&&module.exports?module.exports=e():t.Swipe=e()}(this,function(){var e,Q="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,W=Q.document;function Swipe(s,a){"use strict";var r,t,u={},l={},c=(a=a||{}).auto||0,e=!1,n=function(){},d=function(t){setTimeout(t||n,0)},v={addEventListener:!!Q.addEventListener,touch:"ontouchstart"in Q||Q.DocumentTouch&&W instanceof DocumentTouch,transitions:function(t){var e=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var n in e)if(void 0!==t.style[e[n]])return!0;return!1}(W.createElement("swipe"))};if(s){var f,h,m,p,y=s.children[0],E=parseInt(a.startSlide,10)||0,b=a.speed||300;a.continuous=void 0===a.continuous||a.continuous;var i,o,g,T=(o="direction",(i=s).currentStyle?g=i.currentStyle[o]:Q.getComputedStyle&&(g=Q.getComputedStyle(i,null).getPropertyValue(o)),"rtl"===g?"right":"left");a.autoRestart=void 0!==a.autoRestart&&a.autoRestart;var x=function(n,i){i=i||100;var o=null;function r(){o&&clearTimeout(o)}function t(){var t=this,e=arguments;r(),o=setTimeout(function(){o=null,n.apply(t,e)},i)}return t.cancel=r,t}(k),L={handleEvent:function(t){if(!e){switch(t.type){case"mousedown":case"touchstart":this.start(t);break;case"mousemove":case"touchmove":this.move(t);break;case"mouseup":case"mouseleave":case"touchend":this.end(t);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.transitionEnd(t);break;case"resize":x()}a.stopPropagation&&t.stopPropagation()}},start:function(t){var e;X(t)?(e=t).preventDefault():e=t.touches[0],u={x:e.pageX,y:e.pageY,time:+new Date},r=void 0,l={},X(t)?(y.addEventListener("mousemove",this,!1),y.addEventListener("mouseup",this,!1),y.addEventListener("mouseleave",this,!1)):(y.addEventListener("touchmove",this,!1),y.addEventListener("touchend",this,!1))},move:function(t){var e;if(X(t))e=t;else{if(1<t.touches.length||t.scale&&1!==t.scale)return;a.disableScroll&&t.preventDefault(),e=t.touches[0]}l={x:e.pageX-u.x,y:e.pageY-u.y},void 0===r&&(r=!!(r||Math.abs(l.x)<Math.abs(l.y))),r||(t.preventDefault(),P(),a.continuous?(I(A(E-1),l.x+h[A(E-1)],0),I(E,l.x+h[E],0),I(A(E+1),l.x+h[A(E+1)],0)):(l.x=l.x/(!E&&0<l.x||E===f.length-1&&l.x<0?Math.abs(l.x)/m+1:1),I(E-1,l.x+h[E-1],0),I(E,l.x+h[E],0),I(E+1,l.x+h[E+1],0)))},end:function(t){var e=+new Date-u.time,n=Number(e)<250&&20<Math.abs(l.x)||Math.abs(l.x)>m/2,i=!E&&0<l.x||E===f.length-1&&l.x<0;a.continuous&&(i=!1);var o=Math.abs(l.x)/l.x;r||(n&&!i?(E=o<0?(a.continuous?(C(A(E-1),-m,0),C(A(E+2),m,0)):C(E-1,-m,0),C(E,h[E]-m,b),C(A(E+1),h[A(E+1)]-m,b),A(E+1)):(a.continuous?(C(A(E+1),m,0),C(A(E-2),-m,0)):C(E+1,m,0),C(E,h[E]+m,b),C(A(E-1),h[A(E-1)]+m,b),A(E-1)),S(R(),f[E],o)):a.continuous?(C(A(E-1),-m,b),C(E,0,b),C(A(E+1),m,b)):(C(E-1,-m,b),C(E,0,b),C(E+1,m,b))),X(t)?(y.removeEventListener("mousemove",L,!1),y.removeEventListener("mouseup",L,!1),y.removeEventListener("mouseleave",L,!1)):(y.removeEventListener("touchmove",L,!1),y.removeEventListener("touchend",L,!1))},transitionEnd:function(t){parseInt(t.target.getAttribute("data-index"),10)===E&&((c||a.autoRestart)&&N(),z(R(),f[E]))}};return k(),O(),{setup:k,slide:function(t,e){P(),j(t,e)},prev:function(){P(),function(){if(e)return;a.continuous?j(E-1):E&&j(E-1)}()},next:function(){P(),M()},restart:N,stop:P,getPos:R,disable:function(){P(),e=!0},enable:function(){e=!1,N()},getNumSlides:function(){return p},kill:function(){P(),s.style.visibility="",y.style.width="",y.style[T]="";var t=f.length;for(;t--;){v.transitions&&I(t,0,0);var e=f[t];if(e.getAttribute("data-cloned")){var n=e.parentElement;n.removeChild(e)}e.style.width="",e.style[T]="",e.style.webkitTransitionDuration=e.style.MozTransitionDuration=e.style.msTransitionDuration=e.style.OTransitionDuration=e.style.transitionDuration="",e.style.webkitTransform=e.style.msTransform=e.style.MozTransform=e.style.OTransform=""}w(),x.cancel()}}}function w(){v.addEventListener?(y.removeEventListener("touchstart",L,!1),y.removeEventListener("mousedown",L,!1),y.removeEventListener("webkitTransitionEnd",L,!1),y.removeEventListener("msTransitionEnd",L,!1),y.removeEventListener("oTransitionEnd",L,!1),y.removeEventListener("otransitionend",L,!1),y.removeEventListener("transitionend",L,!1),Q.removeEventListener("resize",L,!1)):Q.onresize=null}function D(t){var e=t.cloneNode(!0);y.appendChild(e),e.setAttribute("data-cloned",!0),e.removeAttribute("id")}function k(t){if(null!=t)for(var e in t)a[e]=t[e];f=y.children,p=f.length;for(var n=0;n<f.length;n++)f[n].getAttribute("data-cloned")&&p--;if(f.length<2&&(a.continuous=!1),v.transitions&&a.continuous&&f.length<3&&(D(f[0]),D(f[1]),f=y.children),"right"===T)for(var i=0;i<f.length;i++)f[i].style.float="right";h=new Array(f.length),m=s.getBoundingClientRect().width||s.offsetWidth,y.style.width=f.length*m*2+"px";for(var o=f.length;o--;){var r=f[o];r.style.width=m+"px",r.setAttribute("data-index",o),v.transitions&&(r.style[T]=o*-m+"px",C(o,o<E?-m:E<o?m:0,0))}a.continuous&&v.transitions&&(C(A(E-1),-m,0),C(A(E+1),m,0)),v.transitions||(y.style[T]=E*-m+"px"),s.style.visibility="visible",w(),v.addEventListener?(v.touch&&y.addEventListener("touchstart",L,!1),a.draggable&&y.addEventListener("mousedown",L,!1),v.transitions&&(y.addEventListener("webkitTransitionEnd",L,!1),y.addEventListener("msTransitionEnd",L,!1),y.addEventListener("oTransitionEnd",L,!1),y.addEventListener("otransitionend",L,!1),y.addEventListener("transitionend",L,!1)),Q.addEventListener("resize",L,!1)):Q.onresize=x}function M(){e||(a.continuous?j(E+1):E<f.length-1&&j(E+1))}function S(t,e,n){a.callback&&a.callback(t,e,n)}function z(t,e){a.transitionEnd&&a.transitionEnd(t,e)}function A(t){return(f.length+t%f.length)%f.length}function R(){var t=E;return p<=t&&(t-=p),t}function j(t,e){if(t="number"!=typeof t?parseInt(t,10):t,E!==t){if(v.transitions){var n=Math.abs(E-t)/(E-t);if(a.continuous){var i=n;(n=-h[A(t)]/m)!==i&&(t=-n*f.length+t)}for(var o=Math.abs(E-t)-1;o--;)C(A((E<t?t:E)-o-1),m*n,0);t=A(t),C(E,m*n,e||b),C(t,0,e||b),a.continuous&&C(A(t-n),-m*n,0)}else t=A(t),function(e,n,i){if(!i)return y.style[T]=n+"px";var o=+new Date,r=setInterval(function(){var t=+new Date-o;if(i<t)return y.style[T]=n+"px",(c||a.autoRestart)&&N(),z(R(),f[E]),void clearInterval(r);y.style[T]=(n-e)*(Math.floor(t/i*100)/100)+e+"px"},4)}(E*-m,t*-m,e||b);E=t,d(function(){S(R(),f[E],n)})}}function C(t,e,n){I(t,e,n),h[t]=e}function I(t,e,n){var i=f[t],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=n+"ms",o.webkitTransform=o.msTransform=o.MozTransform=o.OTransform=o.transform="translateX("+e+"px)")}function O(){(c=a.auto||0)&&(t=setTimeout(M,c))}function P(){c=0,clearTimeout(t)}function N(){P(),O()}function X(t){return/^mouse/.test(t.type)}}return(Q.jQuery||Q.Zepto)&&((e=Q.jQuery||Q.Zepto).fn.Swipe=function(t){return this.each(function(){e(this).data("Swipe",new Swipe(e(this)[0],t))})}),Swipe});