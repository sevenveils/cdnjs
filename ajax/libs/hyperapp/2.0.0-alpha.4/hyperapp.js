!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).hyperapp={})}(this,function(e){"use strict";var n="http://www.w3.org/1999/xlink",t={},r=[],l=r.map,o=Array.isArray,u=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},i="function"==typeof Promise&&Promise.resolve(),f=i?function(e){return i.then(e)}:setTimeout;var a=function(e,t,r,l,i,f){if("key"===t);else if("style"===t)for(var a in u(r,l)){var c=null==l||null==l[a]?"":l[a];"-"===a[0]?e[t].setProperty(a,c):e[t][a]=c}else if("class"===t)(l=function e(n){var t,r="",l=typeof n;if("string"===l||"number"===l)return n||"";if(o(n)&&n.length>0)for(var u=0,i=n.length;u<i;u++)""!==(t=e(n[u]))&&(r+=(r&&" ")+t);else for(var u in n)n.hasOwnProperty(u)&&n[u]&&(r+=(r&&" ")+u);return r}(l))?e.setAttribute(t,l):e.removeAttribute(t);else if("o"===t[0]&&"n"===t[1])t=t.slice(2).toLowerCase(),e.events||(e.events={}),e.events[t]=l,null==l?e.removeEventListener(t,i):null==r&&e.addEventListener(t,i);else{var s=null==l||!1===l;if(t in e&&"list"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!f)e[t]=null==l?"":l,s&&e.removeAttribute(t);else f&&t!==(t=t.replace(/^xlink:?/,""))?s?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,l):s?e.removeAttribute(t):e.setAttribute(t,l)}},c=function(e,n,t,r){var l=3===e.type?document.createTextNode(e.name):(r=r||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),o=e.props;o.onCreate&&n.push(function(){o.onCreate(l)});for(var u=0,i=e.children.length;u<i;u++)l.appendChild(c(e.children[u]=h(e.children[u]),n,t,r));for(var f in o)a(l,f,null,o[f],t,r);return e.element=l},s=function(e){for(var n=0,t=e.children.length;n<t;n++)s(e.children[n]);var r=e.props.onDestroy;return null!=r&&r(e.element),e.element},p=function(e,n){var t=function(){e.removeChild(s(n))},r=n.props&&n.props.onRemove;null!=r?r(n.element,t):t()},v=function(e){return null==e?null:e.key},m=function(e,n,t,r,l,o,i){if(r===t);else if(null!=t&&3===t.type&&3===r.type)t.name!==r.name&&(n.nodeValue=r.name);else if(null==t||t.name!==r.name){var f=e.insertBefore(c(r=h(r),l,o,i),n);null!=t&&p(e,t),n=f}else{var s,d,y;!function(e,n,t,r,l,o,i){for(var f in u(n,t))("value"===f||"checked"===f?e[f]:n[f])!==t[f]&&a(e,f,n[f],t[f],l,o);var c=i?t.onCreate:t.onUpdate;null!=c&&r.push(function(){c(e,n)})}(n,t.props,r.props,l,o,i=i||"svg"===r.name,1===t.type);for(var g,b=t.children,w=0,k=b.length-1,A=r.children,C=0,x=A.length-1;C<=x&&w<=k&&(y=v(b[w]),g=v(A[C]),null!=y&&y===g);)m(n,b[w].element,b[w],A[C]=h(A[C],b[w]),l,o,i),w++,C++;for(;C<=x&&w<=k&&(y=v(b[k]),g=v(A[x]),null!=y&&y===g);)m(n,b[k].element,b[k],A[x]=h(A[x],b[k]),l,o,i),k--,x--;if(w>k)for(;C<=x;)n.insertBefore(c(A[C]=h(A[C++]),l,o,i),(d=b[w])&&d.element);else if(C>x)for(;w<=k;)p(n,b[w++]);else{for(var N=function(e,n,t){for(var r,l,o={};n<=t;n++)null!=(r=(l=e[n]).key)&&(o[r]=l);return o}(b,w,k),z={};C<=x;)y=v(d=b[w]),g=v(A[C]=h(A[C],d)),z[y]||null!=g&&g===v(b[w+1])?(null==y&&p(n,d),w++):null==g||1===t.type?(null==y&&(m(n,d&&d.element,d,A[C],l,o,i),C++),w++):(y===g?(m(n,d.element,d,A[C],l,o,i),z[g]=!0,w++):null!=(s=N[g])?(m(n,n.insertBefore(s.element,d&&d.element),s,A[C],l,o,i),z[g]=!0):m(n,d&&d.element,null,A[C],l,o,i),C++);for(;w<=k;)null==v(d=b[w++])&&p(n,d);for(var L in N)null==z[L]&&p(n,N[L])}}return r.element=n},h=function(e,n){return 2===e.type?n&&isSameValue(e.lazy,n.lazy)?n:e.render():e},d=function(e,n,t,r,l,o){return{name:e,props:n,children:t,element:r,key:l,type:o}},y=function(e,n){return d(e,t,r,n,null,3)},g=function(e){return 3===e.nodeType?y(e.nodeValue,e):b(e)},b=function(e){return d(e.nodeName.toLowerCase(),t,l.call(e.childNodes,g),e,null,1)},w=function(e,n,t,r,l){var o=[];for(n=m(e,n,t,r,o,l);o.length>0;)o.pop()();return n},k=function(e,n){return o(e)&&o(n)&&"function"==typeof e[0]&&e[0]===n[0]},A=function(e,n,t){if(e&&(!e[0]||o(e[0]))||n&&(!n[0]||o(n[0]))){for(var r=[],l=e||[e],i=n||[n],f=0;f<l.length||f<i.length;f++)r.push(A(l[f],i[f],t));return r}return e?!n||e[0]!==n[0]||function(e,n){for(var t in u(e,n)){if(e[t]!==n[t]&&!k(e[t],n[t]))return!0;n[t]=e[t]}}(e[1],n[1])?[e[0],e[1],e[0](e[1],t),n&&n[2]()]:n:n&&n[2]()};e.Lazy=function(e){return{type:2,key:e.key,lazy:e,render:function(){var n=e.render(e);return n.lazy=e,n}}},e.h=function(e,n){for(var t,r=[],l=[],u=arguments.length;u-- >2;)r.push(arguments[u]);for(null!=(n=null==n?{}:n).children&&(r.length<=0&&r.push(n.children),delete n.children);r.length>0;)if(o(t=r.pop()))for(u=t.length;u-- >0;)r.push(t[u]);else!1===t||!0===t||null==t||l.push("object"==typeof t?t:y(t));return"function"==typeof e?e(n,n.children=l):d(e,n,l,null,n.key,0)},e.app=function(e){var n,t,r=e.view,l=e.subscriptions,u=e.container,i=u&&u.children[0],a=i&&b(i),c=!1,s=function(e){n!==e&&(n=e,c||(c=!0,f(m)))},p=function(e,t){null==e||("function"==typeof e?p(e(n,t)):o(e)?"function"==typeof e[0]?p(e[0](n,e[1],t)):e[1][0](e[1][1],p,s(e[0])):s(e))},v=function(e){p(e.currentTarget.events[e.type],e)},m=function(){c=!1,l&&(t=A(l(n),t,p)),r&&(i=w(u,i,a,a=r(n),v))};p(e.init)}});
//# sourceMappingURL=hyperapp.js.map