!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).hyperapp={})}(this,function(e){"use strict";var n="http://www.w3.org/1999/xlink",t={},r=[],l=r.map,u=Array.isArray,i="function"==typeof Promise?function(e){Promise.resolve().then(e)}:setTimeout,o=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t};var f=function(e,t,r,l,i,f){if("key"===t);else if("style"===t)for(var a in o(r,l)){var c=null==l||null==l[a]?"":l[a];"-"===a[0]?e[t].setProperty(a,c):e[t][a]=c}else if("class"===t)(l=function e(n){var t=typeof n,r="";if("string"===t||"number"===t)return n||"";if(u(n)&&n.length>0)for(var l=0,i=n.length;l<i;l++)""!==(t=e(n[l]))&&(r+=(r&&" ")+t);else for(var l in n)n[l]&&(r+=(r&&" ")+l);return r}(l))?e.setAttribute(t,l):e.removeAttribute(t);else if("o"===t[0]&&"n"===t[1])e.events||(e.events={}),e.events[t=t.slice(2).toLowerCase()]=l,null==l?e.removeEventListener(t,i):null==r&&e.addEventListener(t,i);else{var s=null==l||!1===l;if(t in e&&"list"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!f)e[t]=null==l?"":l,s&&e.removeAttribute(t);else f&&t!==(t=t.replace(/^xlink:?/,""))?s?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,l):s?e.removeAttribute(t):e.setAttribute(t,l)}},a=function(e,n,t){for(var r=3===e.type?document.createTextNode(e.name):(t=t||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),l=0,u=e.children.length;l<u;l++)r.appendChild(a(e.children[l]=v(e.children[l]),n,t));var i=e.props;for(var o in i)f(r,o,null,i[o],n,t);return e.element=r},c=function(e,n){e.removeChild(n.element)},s=function(e){return null==e?null:e.key},p=function(e,n,t,r,l,u){if(r===t);else if(null!=t&&3===t.type&&3===r.type)t.name!==r.name&&(n.nodeValue=r.name);else if(null==t||t.name!==r.name){var i=e.insertBefore(a(r=v(r),l,u),n);null!=t&&c(e,t),n=i}else{var m,d,h;!function(e,n,t,r,l){for(var u in o(n,t))("value"===u||"checked"===u?e[u]:n[u])!==t[u]&&f(e,u,n[u],t[u],r,l)}(n,t.props,r.props,l,u=u||"svg"===r.name);for(var y,g=t.children,b=0,k=g.length-1,w=r.children,A=0,x=w.length-1;A<=x&&b<=k&&(h=s(g[b]),y=s(w[A]),null!=h&&h===y);)p(n,g[b].element,g[b],w[A]=v(w[A],g[b]),l,u),b++,A++;for(;A<=x&&b<=k&&(h=s(g[k]),y=s(w[x]),null!=h&&h===y);)p(n,g[k].element,g[k],w[x]=v(w[x],g[k]),l,u),k--,x--;if(b>k)for(;A<=x;)n.insertBefore(a(w[A]=v(w[A++]),l,u),(d=g[b])&&d.element);else if(A>x)for(;b<=k;)c(n,g[b++]);else{for(var N=function(e,n,t){for(var r,l,u={};n<=t;n++)null!=(r=(l=e[n]).key)&&(u[r]=l);return u}(g,b,k),z={};A<=x;)h=s(d=g[b]),y=s(w[A]=v(w[A],d)),z[h]||null!=y&&y===s(g[b+1])?(null==h&&c(n,d),b++):null==y||1===t.type?(null==h&&(p(n,d&&d.element,d,w[A],l,u),A++),b++):(h===y?(p(n,d.element,d,w[A],l,u),z[y]=!0,b++):null!=(m=N[y])?(p(n,n.insertBefore(m.element,d&&d.element),m,w[A],l,u),z[y]=!0):p(n,d&&d.element,null,w[A],l,u),A++);for(;b<=k;)null==s(d=g[b++])&&c(n,d);for(var L in N)null==z[L]&&c(n,N[L])}}return r.element=n},v=function(e,n){return 2===e.type?!n||function(e,n){for(var t in e)if(e[t]!==n[t])return!0;for(var t in n)if(e[t]!==n[t])return!0}(e.lazy,n.lazy)?e.render():n:e},m=function(e,n,t,r,l,u){return{name:e,props:n,children:t,element:r,key:l,type:u}},d=function(e,n){return m(e,t,r,n,null,3)},h=function(e){return 3===e.nodeType?d(e.nodeValue,e):y(e)},y=function(e){return m(e.nodeName.toLowerCase(),t,l.call(e.childNodes,h),e,null,1)},g=function(e,n,t,r,l){return p(e,n,t,r,l)},b=function(e,n){return u(e)&&u(n)&&"function"==typeof e[0]&&e[0]===n[0]},k=function(e,n,t){if(n&&(!n[0]||u(n[0]))||e&&(!e[0]||u(e[0]))){for(var r=[],l=n||[n],i=e||[e],f=0;f<l.length||f<i.length;f++)r.push(k(i[f],l[f],t));return r}return n?!e||n[0]!==e[0]||function(e,n){for(var t in o(e,n)){if(e[t]!==n[t]&&!b(e[t],n[t]))return!0;n[t]=e[t]}}(n[1],e[1])?[n[0],n[1],n[0](n[1],t),e&&e[2]()]:e:e&&e[2]()};e.Lazy=function(e){return{type:2,key:e.key,lazy:e,render:function(){var n=e.render(e);return n.lazy=e,n}}},e.h=function(e,n){for(var t,r=[],l=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(null!=(n=null==n?{}:n).children&&(r.length<=0&&r.push(n.children),delete n.children);r.length>0;)if(u(t=r.pop()))for(i=t.length;i-- >0;)r.push(t[i]);else!1===t||!0===t||null==t||l.push("object"==typeof t?t:d(t));return"function"==typeof e?e(n,n.children=l):m(e,n,l,null,n.key,0)},e.app=function(e){var n,t,r=e.container,l=r&&r.children[0],o=l&&y(l),f=e.subscriptions,a=e.view,c=!1,s=function(e){n===e||c||i(m,c=!0),n=e},p=function(e,t){null==e||("function"==typeof e?p(e(n,t)):u(e)?"function"==typeof e[0]?p(e[0](n,e[1],t)):e.slice(1).map(function(e){e[0](e[1],p)},s(e[0])):s(e))},v=function(e){p(e.currentTarget.events[e.type],e)},m=function(){c=!1,f&&(t=k(t,f(n),p)),a&&(l=g(r,l,o,o=a(n),v))};p(e.init||{})}});
//# sourceMappingURL=hyperapp.js.map