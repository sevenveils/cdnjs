!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).hyperapp={})}(this,function(e){"use strict";var n="http://www.w3.org/1999/xlink",r={},t=[],l=t.map,o=Array.isArray,u=function(e,n){var r={};for(var t in e)r[t]=e[t];for(var t in n)r[t]=n[t];return r},i="function"==typeof Promise&&Promise.resolve(),f=i?function(e){return i.then(e)}:setTimeout;var a=function(e,r,t,l,i,f){if("key"===r);else if("style"===r)for(var a in u(t,l)){var c=null==l||null==l[a]?"":l[a];"-"===a[0]?e[r].setProperty(a,c):e[r][a]=c}else if("class"===r)(l=function e(n){var r,t="",l=typeof n;if("string"===l||"number"===l)return n||"";if(o(n)&&n.length>0)for(var u=0,i=n.length;u<i;u++)""!==(r=e(n[u]))&&(t+=(t&&" ")+r);else for(var u in n)n.hasOwnProperty(u)&&n[u]&&(t+=(t&&" ")+u);return t}(l))?e.setAttribute(r,l):e.removeAttribute(r);else if("o"===r[0]&&"n"===r[1])r=r.slice(2).toLowerCase(),e.events||(e.events={}),e.events[r]=l,null==l?e.removeEventListener(r,i):null==t&&e.addEventListener(r,i);else{var s=null==l||!1===l;if(r in e&&"list"!==r&&"draggable"!==r&&"spellcheck"!==r&&"translate"!==r&&!f)e[r]=null==l?"":l,s&&e.removeAttribute(r);else f&&r!==(r=r.replace(/^xlink:?/,""))?s?e.removeAttributeNS(n,r):e.setAttributeNS(n,r,l):s?e.removeAttribute(r):e.setAttribute(r,l)}},c=function(e,n,r,t){var l=3===e.type?document.createTextNode(e.name):(t=t||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),o=e.props;o.onCreate&&n.push(function(){o.onCreate(l)});for(var u=0,i=e.children.length;u<i;u++)l.appendChild(c(e.children[u]=m(e.children[u]),n,r,t));for(var f in o)a(l,f,null,o[f],r,t);return e.element=l},s=function(e){for(var n=0,r=e.children.length;n<r;n++)s(e.children[n]);var t=e.props.onDestroy;return null!=t&&t(e.element),e.element},p=function(e,n){var r=function(){e.removeChild(s(n))},t=n.props&&n.props.onRemove;null!=t?t(n.element,r):r()},v=function(e){return null==e?null:e.key},h=function(e,n,r,t,l,o,i){if(t===r);else if(null!=r&&3===r.type&&3===t.type)r.name!==t.name&&(n.nodeValue=t.name);else if(null==r||r.name!==t.name){var f=e.insertBefore(c(t=m(t),l,o,i),n);null!=r&&p(e,r),n=f}else{var s,d,y;!function(e,n,r,t,l,o,i){for(var f in u(n,r))("value"===f||"checked"===f?e[f]:n[f])!==r[f]&&a(e,f,n[f],r[f],l,o);var c=i?r.onCreate:r.onUpdate;null!=c&&t.push(function(){c(e,n)})}(n,r.props,t.props,l,o,i=i||"svg"===t.name,1===r.type);for(var g,b=r.children,w=0,k=b.length-1,A=t.children,C=0,x=A.length-1;C<=x&&w<=k&&(y=v(b[w]),g=v(A[C]),null!=y&&y===g);)h(n,b[w].element,b[w],A[C]=m(A[C],b[w]),l,o,i),w++,C++;for(;C<=x&&w<=k&&(y=v(b[k]),g=v(A[x]),null!=y&&y===g);)h(n,b[k].element,b[k],A[x]=m(A[x],b[k]),l,o,i),k--,x--;if(w>k)for(;C<=x;)n.insertBefore(c(A[C]=m(A[C++]),l,o,i),(d=b[w])&&d.element);else if(C>x)for(;w<=k;)p(n,b[w++]);else{for(var N=function(e,n,r){for(var t,l,o={};n<=r;n++)null!=(t=(l=e[n]).key)&&(o[t]=l);return o}(b,w,k),z={};C<=x;)y=v(d=b[w]),g=v(A[C]=m(A[C],d)),z[y]||null!=g&&g===v(b[w+1])?(null==y&&p(n,d),w++):null==g||1===r.type?(null==y&&(h(n,d&&d.element,d,A[C],l,o,i),C++),w++):(y===g?(h(n,d.element,d,A[C],l,o,i),z[g]=!0,w++):null!=(s=N[g])?(h(n,n.insertBefore(s.element,d&&d.element),s,A[C],l,o,i),z[g]=!0):h(n,d&&d.element,null,A[C],l,o,i),C++);for(;w<=k;)null==v(d=b[w++])&&p(n,d);for(var L in N)null==z[L]&&p(n,N[L])}}return t.element=n},m=function(e,n){return 2===e.type?!n||function(e,n){for(var r in e)if(e[r]!==n[r])return!0;for(var r in n)if(e[r]!==n[r])return!0}(e.lazy,n.lazy)?e.render():n:e},d=function(e,n,r,t,l,o){return{name:e,props:n,children:r,element:t,key:l,type:o}},y=function(e,n){return d(e,r,t,n,null,3)},g=function(e){return 3===e.nodeType?y(e.nodeValue,e):b(e)},b=function(e){return d(e.nodeName.toLowerCase(),r,l.call(e.childNodes,g),e,null,1)},w=function(e,n,r,t,l){var o=[];for(n=h(e,n,r,t,o,l);o.length>0;)o.pop()();return n},k=function(e,n){return o(e)&&o(n)&&"function"==typeof e[0]&&e[0]===n[0]},A=function(e,n,r){if(e&&(!e[0]||o(e[0]))||n&&(!n[0]||o(n[0]))){for(var t=[],l=e||[e],i=n||[n],f=0;f<l.length||f<i.length;f++)t.push(A(l[f],i[f],r));return t}return e?!n||e[0]!==n[0]||function(e,n){for(var r in u(e,n)){if(e[r]!==n[r]&&!k(e[r],n[r]))return!0;n[r]=e[r]}}(e[1],n[1])?[e[0],e[1],e[0](e[1],r),n&&n[2]()]:n:n&&n[2]()};e.Lazy=function(e){return{type:2,key:e.key,lazy:e,render:function(){var n=e.render(e);return n.lazy=e,n}}},e.h=function(e,n){for(var r,t=[],l=[],u=arguments.length;u-- >2;)t.push(arguments[u]);for(null!=(n=null==n?{}:n).children&&(t.length<=0&&t.push(n.children),delete n.children);t.length>0;)if(o(r=t.pop()))for(u=r.length;u-- >0;)t.push(r[u]);else!1===r||!0===r||null==r||l.push("object"==typeof r?r:y(r));return"function"==typeof e?e(n,n.children=l):d(e,n,l,null,n.key,0)},e.app=function(e){var n,r,t=e.view,l=e.subscriptions,u=e.container,i=u&&u.children[0],a=i&&b(i),c=!1,s=function(e){n!==e&&(n=e,c||(c=!0,f(h)))},p=function(e,r){null==e||("function"==typeof e?p(e(n,r)):o(e)?"function"==typeof e[0]?p(e[0](n,e[1],r)):e[1][0](e[1][1],p,s(e[0])):s(e))},v=function(e){p(e.currentTarget.events[e.type],e)},h=function(){c=!1,l&&(r=A(l(n),r,p)),t&&(i=w(u,i,a,a=t(n),v))};p(e.init)}});
//# sourceMappingURL=hyperapp.js.map