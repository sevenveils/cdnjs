var hyperapp=function(n){"use strict";var e={},r=[],t=r.map,o=Array.isArray,l=requestAnimationFrame||setTimeout,i=function(n){var e="";if("string"==typeof n)return n;if(o(n)&&n.length>0)for(var r,t=0;t<n.length;t++)""!==(r=i(n[t]))&&(e+=(e&&" ")+r);else for(var t in n)n[t]&&(e+=(e&&" ")+t);return e},u=function(n,e){var r={};for(var t in n)r[t]=n[t];for(var t in e)r[t]=e[t];return r},f=function(n){return n.reduce(function(n,e){return n.concat(!(!e||!0===e)&&("function"==typeof e[0]?[e]:f(e)))},r)},a=function(n,e){return o(n)&&o(e)&&n[0]===e[0]&&"function"==typeof n[0]},c=function(n,e){for(var r in u(n,e)){if(n[r]!==e[r]&&!a(n[r],e[r]))return!0;e[r]=n[r]}},s=function(n,e,r,t,o,l){if("key"===e);else if("style"===e)for(var f in u(r,t))r=null==t||null==t[f]?"":t[f],"-"===f[0]?n[e].setProperty(f,r):n[e][f]=r;else"o"===e[0]&&"n"===e[1]?((n.actions||(n.actions={}))[e=e.slice(2)]=t)?r||n.addEventListener(e,o,!!t.passive&&t):n.removeEventListener(e,o):!l&&"list"!==e&&e in n?n[e]=null==t?"":t:null==t||!1===t||"class"===e&&!(t=i(t))?n.removeAttribute(e):n.setAttribute(e,t)},p=function(n,e,r){var t=3===n.type?document.createTextNode(n.name):(r=r||"svg"===n.name)?document.createElementNS("http://www.w3.org/2000/svg",n.name):document.createElement(n.name),o=n.props;for(var l in o)s(t,l,null,o[l],e,r);for(var i=0,u=n.children.length;i<u;i++)t.appendChild(p(n.children[i]=y(n.children[i]),e,r));return n.node=t},d=function(n){return null==n?null:n.key},v=function(n,e,r,t,o,l){if(r===t);else if(null!=r&&3===r.type&&3===t.type)r.name!==t.name&&(e.nodeValue=t.name);else if(null==r||r.name!==t.name)e=n.insertBefore(p(t=y(t),o,l),e),null!=r&&n.removeChild(r.node);else{var i,f,a,c,h=r.props,m=t.props,g=r.children,z=t.children,w=0,C=0,k=g.length-1,A=z.length-1;for(var N in l=l||"svg"===t.name,u(h,m))("value"===N||"selected"===N||"checked"===N?e[N]:h[N])!==m[N]&&s(e,N,h[N],m[N],o,l);for(;C<=A&&w<=k&&null!=(a=d(g[w]))&&a===d(z[C]);)v(e,g[w].node,g[w],z[C]=y(z[C++],g[w++]),o,l);for(;C<=A&&w<=k&&null!=(a=d(g[k]))&&a===d(z[A]);)v(e,g[k].node,g[k],z[A]=y(z[A--],g[k--]),o,l);if(w>k)for(;C<=A;)e.insertBefore(p(z[C]=y(z[C++]),o,l),(f=g[w])&&f.node);else if(C>A)for(;w<=k;)e.removeChild(g[w++].node);else{N=w;for(var b={},E={};N<=k;N++)null!=(a=g[N].key)&&(b[a]=g[N]);for(;C<=A;)a=d(f=g[w]),c=d(z[C]=y(z[C],f)),E[a]||null!=c&&c===d(g[w+1])?(null==a&&e.removeChild(f.node),w++):null==c||1===r.type?(null==a&&(v(e,f&&f.node,f,z[C],o,l),C++),w++):(a===c?(v(e,f.node,f,z[C],o,l),E[c]=!0,w++):null!=(i=b[c])?(v(e,e.insertBefore(i.node,f&&f.node),i,z[C],o,l),E[c]=!0):v(e,f&&f.node,null,z[C],o,l),C++);for(;w<=k;)null==d(f=g[w++])&&e.removeChild(f.node);for(var N in b)null==E[N]&&e.removeChild(b[N].node)}}return t.node=e},y=function(n,e){return 2===n.type?((!e||function(n,e){for(var r in n)if(n[r]!==e[r])return!0;for(var r in e)if(n[r]!==e[r])return!0}(e.lazy,n.lazy))&&((e=n.lazy.view(n.lazy)).lazy=n.lazy),e):n},h=function(n,e,r,t,o,l){return{name:n,props:e,children:r,node:t,type:l,key:o}},m=function(n,t){return h(n,e,r,t,null,3)},g=function(n){return 3===n.nodeType?m(n.nodeValue,n):h(n.nodeName.toLowerCase(),e,t.call(n.childNodes,g),n,null,1)};return n.Lazy=function(n){return{lazy:n,type:2}},n.h=function(n,r){for(var t,l=[],i=[],u=arguments.length;u-- >2;)l.push(arguments[u]);for(;l.length>0;)if(o(t=l.pop()))for(u=t.length;u-- >0;)l.push(t[u]);else!1===t||!0===t||null==t||i.push("object"==typeof t?t:m(t));return r=r||e,"function"==typeof n?n(r,i):h(n,r,i,null,r.key)},n.app=function(n,e){var r={},t=!1,i=n.view,u=n.node,a=u&&g(u),s=n.subscriptions,p=[],d=function(n){var e=this.actions[n.type];e.preventDefault&&n.preventDefault(),e.stopPropagation&&n.stopPropagation(),h(e.action||e,n)},y=function(n){return r===n||t||l(z,t=!0),r=n},h=(e||function(n){return n})(function(n,e){return"function"==typeof n?h(n(r,e)):o(n)?"function"==typeof n[0]?h(n[0],"function"==typeof n[1]?n[1](e):n[1]):(f(n.slice(1)).map(function(n){n&&n[0](n[1],h)},y(n[0])),r):y(n)}),z=function(){t=!1,s&&(p=function(n,e,r){for(var t,o,l=0,i=[];l<n.length||l<e.length;l++)t=n[l],o=e[l],i.push(o?!t||o[0]!==t[0]||c(o[1],t[1])?[o[0],o[1],o[0](o[1],r),t&&t[2]()]:t:t&&t[2]());return i}(p,f(s(r)),h)),i&&(u=v(u.parentNode,u,a,"string"==typeof(a=i(r))?m(a):a,d))};h(n.init)},n}({});
//# sourceMappingURL=hyperapp.js.map