var hyperapp=function(e){"use strict";var n={},r=[],t=r.map,o=Array.isArray,l=requestAnimationFrame||setTimeout,i="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):l,u=function(e){var n="";if("string"==typeof e)return e;if(o(e)&&e.length>0)for(var r,t=0;t<e.length;t++)""!==(r=u(e[t]))&&(n+=(n&&" ")+r);else for(var t in e)e[t]&&(n+=(n&&" ")+t);return n},f=function(e,n){var r={};for(var t in e)r[t]=e[t];for(var t in n)r[t]=n[t];return r},a=function(e){return e.reduce(function(e,n){return e.concat(n&&!0!==n?"function"==typeof n[0]?[n]:a(n):0)},r)},c=function(e,n){return o(e)&&o(n)&&e[0]===n[0]&&"function"==typeof e[0]},s=function(e,n){if(e!==n)for(var r in f(e,n)){if(e[r]!==n[r]&&!c(e[r],n[r]))return!0;n[r]=e[r]}},d=function(e,n,r,t,o,l){if("key"===n);else if("style"===n)for(var i in f(r,t))r=null==t||null==t[i]?"":t[i],"-"===i[0]?e[n].setProperty(i,r):e[n][i]=r;else"o"===n[0]&&"n"===n[1]?((e.actions||(e.actions={}))[n=n.slice(2).toLowerCase()]=t)?r||e.addEventListener(n,o):e.removeEventListener(n,o):!l&&"list"!==n&&n in e?e[n]=null==t?"":t:null==t||!1===t||"class"===n&&!(t=u(t))?e.removeAttribute(n):e.setAttribute(n,t)},p=function(e,n,r){var t=3===e.type?document.createTextNode(e.name):(r=r||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),o=e.props;for(var l in o)d(t,l,null,o[l],n,r);for(var i=0,u=e.children.length;i<u;i++)t.appendChild(p(e.children[i]=h(e.children[i]),n,r));return e.node=t},v=function(e){return null==e?null:e.key},y=function(e,n,r,t,o,l){if(r===t);else if(null!=r&&3===r.type&&3===t.type)r.name!==t.name&&(n.nodeValue=t.name);else if(null==r||r.name!==t.name)n=e.insertBefore(p(t=h(t),o,l),n),null!=r&&e.removeChild(r.node);else{var i,u,a,c,s=r.props,m=t.props,g=r.children,w=t.children,z=0,C=0,k=g.length-1,b=w.length-1;for(var A in l=l||"svg"===t.name,f(s,m))("value"===A||"selected"===A||"checked"===A?n[A]:s[A])!==m[A]&&d(n,A,s[A],m[A],o,l);for(;C<=b&&z<=k&&null!=(a=v(g[z]))&&a===v(w[C]);)y(n,g[z].node,g[z],w[C]=h(w[C++],g[z++]),o,l);for(;C<=b&&z<=k&&null!=(a=v(g[k]))&&a===v(w[b]);)y(n,g[k].node,g[k],w[b]=h(w[b--],g[k--]),o,l);if(z>k)for(;C<=b;)n.insertBefore(p(w[C]=h(w[C++]),o,l),(u=g[z])&&u.node);else if(C>b)for(;z<=k;)n.removeChild(g[z++].node);else{A=z;for(var L={},N={};A<=k;A++)null!=(a=g[A].key)&&(L[a]=g[A]);for(;C<=b;)a=v(u=g[z]),c=v(w[C]=h(w[C],u)),N[a]||null!=c&&c===v(g[z+1])?(null==a&&n.removeChild(u.node),z++):null==c||1===r.type?(null==a&&(y(n,u&&u.node,u,w[C],o,l),C++),z++):(a===c?(y(n,u.node,u,w[C],o,l),N[c]=!0,z++):null!=(i=L[c])?(y(n,n.insertBefore(i.node,u&&u.node),i,w[C],o,l),N[c]=!0):y(n,u&&u.node,null,w[C],o,l),C++);for(;z<=k;)null==v(u=g[z++])&&n.removeChild(u.node);for(var A in L)null==N[A]&&n.removeChild(L[A].node)}}return t.node=n},h=function(e,n){return 2===e.type?((!n||function(e,n){for(var r in e)if(e[r]!==n[r])return!0;for(var r in n)if(e[r]!==n[r])return!0}(n.lazy,e.lazy))&&((n=e.lazy.view(e.lazy)).lazy=e.lazy),n):e},m=function(e,n,r,t,o,l){return{name:e,props:n,children:r,node:t,type:l,key:o}},g=function(e,t){return m(e,n,r,t,null,3)},w=function(e){return 3===e.nodeType?g(e.nodeValue,e):m(e.nodeName.toLowerCase(),n,t.call(e.childNodes,w),e,null,1)};return e.Lazy=function(e){return{lazy:e,type:2}},e.h=function(e,r){for(var t,l=[],i=[],u=arguments.length;u-- >2;)l.push(arguments[u]);for(;l.length>0;)if(o(t=l.pop()))for(u=t.length;u-- >0;)l.push(t[u]);else!1===t||!0===t||null==t||i.push("object"==typeof t?t:g(t));return r=r||n,"function"==typeof e?e(r,i):m(e,r,i,null,r.key)},e.app=function(e,n){var r={},t=!1,u=e.view,f=e.node,c=f&&w(f),d=e.subscriptions,p=[],v=function(e){m(this.actions[e.type],e)},h=function(e){return r!==e&&(d&&i(z),u&&!t&&l(C,t=!0)),r=e},m=(n||function(e){return e})(function(e,n,t){return"function"==typeof e?m(e(r,n),t||n):o(e)?"function"==typeof e[0]?m(e[0],"function"==typeof(e=e[1])?e(n):e,n):(a(e.slice(1)).map(function(e){e&&e[0](m,e[1],n)},h(e[0])),r):h(e)}),z=function(){p=function(e,n,r){for(var t,o,l=0,i=[];l<e.length||l<n.length;l++)t=e[l],o=n[l],i.push(o?!t||o[0]!==t[0]||s(o[1],t[1])?[o[0],o[1],o[0](r,o[1]),t&&t[2]()]:t:t&&t[2]());return i}(p,a([d(r)]),m)},C=function(){t=!1,f=y(f.parentNode,f,c,c="string"==typeof(c=u(r))?g(c):c,v)};m(e.init)},e}({});
//# sourceMappingURL=hyperapp.js.map