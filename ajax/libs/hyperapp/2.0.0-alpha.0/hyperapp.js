!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.hyperapp={})}(this,function(e){"use strict";var c="http://www.w3.org/1999/xlink",t={},r=[],n=r.map,m=Array.isArray,k=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},l="function"==typeof Promise&&Promise.resolve(),d=l?function(e){return l.then(e)}:setTimeout,A=function(e,n,t,r,l,o){if("key"===n);else if("style"===n)for(var u in k(t,r)){var i=null==r||null==r[u]?"":r[u];"-"===u[0]?e[n].setProperty(u,i):e[n][u]=i}else if("o"===n[0]&&"n"===n[1])n=n.slice(2).toLowerCase(),e.events||(e.events={}),null==(e.events[n]=r)?e.removeEventListener(n,l):null==t&&e.addEventListener(n,l);else{var f=null==r||!1===r;if(n in e&&"list"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!o)e[n]=null==r?"":r,f&&e.removeAttribute(n);else o&&n!==(n=n.replace(/^xlink:?/,""))?f?e.removeAttributeNS(c,n):e.setAttributeNS(c,n,r):f?e.removeAttribute(n):e.setAttribute(n,r)}},C=function(e,n,t,r){var l=3===e.type?document.createTextNode(e.name):(r=r||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),o=e.props;o.onCreate&&n.push(function(){o.onCreate(l)});for(var u=0,i=e.children.length;u<i;u++)l.appendChild(C(e.children[u],n,t,r));for(var f in o)A(l,f,null,o[f],t,r);return e.element=l},o=function(e){for(var n=0,t=e.children.length;n<t;n++)o(e.children[n]);var r=e.props.onDestroy;return null!=r&&r(e.element),e.element},x=function(e,n){var t=function(){e.removeChild(o(n))},r=n.props&&n.props.onRemove;null!=r?r(n.element,t):t()},N=function(e){return null==e?null:e.key},E=function(e,n,t,r,l,o,u){if(r===t);else if(null!=t&&3===t.type&&3===r.type)t.name!==r.name&&(n.nodeValue=r.name);else if(null==t||t.name!==r.name){var i=e.insertBefore(C(r,l,o,u),n);null!=t&&x(e,t),n=i}else{var f,c,a;!function(e,n,t,r,l,o,u){for(var i in k(n,t))("value"===i||"checked"===i?e[i]:n[i])!==t[i]&&A(e,i,n[i],t[i],l,o);var f=u?t.onCreate:t.onUpdate;null!=f&&r.push(function(){f(e,n)})}(n,t.props,r.props,l,o,u=u||"svg"===r.name,1===t.type);for(var s,p=t.children,v=0,m=p.length-1,d=r.children,h=0,y=d.length-1;h<=y&&v<=m&&(a=N(p[v]),s=N(d[h]),null!=a&&a===s);)E(n,p[v].element,p[v],d[h],l,o,u),v++,h++;for(;h<=y&&v<=m&&(a=N(p[m]),s=N(d[y]),null!=a&&a===s);)E(n,p[m].element,p[m],d[y],l,o,u),m--,y--;if(m<v)for(;h<=y;)n.insertBefore(C(d[h++],l,o,u),(c=p[v])&&c.element);else if(y<h)for(;v<=m;)x(n,p[v++]);else{for(var g=function(e,n,t){for(var r,l,o={};n<=t;n++)null!=(r=(l=e[n]).key)&&(o[r]=l);return o}(p,v,m),w={};h<=y;)a=N(c=p[v]),s=N(d[h]),w[a]||null!=s&&s===N(p[v+1])?(null==a&&x(n,c),v++):null==s||1===t.type?(null==a&&(E(n,c&&c.element,c,d[h],l,o,u),h++),v++):(a===s?(E(n,c.element,c,d[h],l,o,u),w[s]=!0,v++):null!=(f=g[s])?(E(n,n.insertBefore(f.element,c&&c.element),f,d[h],l,o,u),w[s]=!0):E(n,c&&c.element,null,d[h],l,o,u),h++);for(;v<=m;)null==N(c=p[v++])&&x(n,c);for(var b in g)null==w[b]&&x(n,g[b])}}return r.element=n},u=function(e,n,t,r,l,o){return{name:e,props:n,children:t,element:r,key:l,type:o}},i=function(e,n){return u(e,t,r,n,null,3)},f=function(e){return 3===e.nodeType?i(e.nodeValue,e):h(e)},h=function(e){return u(e.nodeName.toLowerCase(),t,n.call(e.childNodes,f),e,null,1)},a=function(e){e[2]()},s=function(e,n){return typeof e==typeof n&&m(e)&&e[0]===n[0]&&function(e,n){if(e!==n)for(var t in k(e,n))if(e[t]!==n[t])return!1;return!0}(e[1],n[1])},p=function(e,n){return e.concat(e[0](e[1],n))},y=function(e,n,t){return e?n?function(e,n,t){for(var r in k(e[1],n[1]))if(e[1][r]!==n[1][r]&&!s(e[1][r],n[1][r]))return a(n),p(e,t);return n}(e,n,t):p(e,t):n?a(n):n};e.h=function(e,n){for(var t,r=[],l=[],o=arguments.length;2<o--;)r.push(arguments[o]);for(null!=(n=null==n?{}:n).children&&(r.length<=0&&r.push(n.children),delete n.children);0<r.length;)if(m(t=r.pop()))for(o=t.length;0<o--;)r.push(t[o]);else!1===t||!0===t||null==t||l.push("object"==typeof t?t:i(t));return"function"==typeof e?e(n,n.children=l):u(e,n,l,null,n.key,0)},e.app=function(e){var t,n,r=e.view,l=e.subscriptions,o=e.container,u=o&&o.children&&o.children[0],i=u&&h(u),f=!1,c=function(e){t!==e&&(t=e,f||(f=!0,d(v)))},a=function(e){m(e)?e[1][0](e[1][1],s,c(e[0])):s(e)},s=function(e,n){null==e||("function"==typeof e?a(e(t,n)):m(e)?a(e[0](t,e[1],n)):c(e))},p=function(e){s(e.currentTarget.events[e.type],e)},v=function(){f=!1,l&&(n=y(l(t),n,s)),r&&(u=function(e,n,t,r,l){var o=[];for(n=E(e,n,t,r,o,l);0<o.length;)o.pop()();return n}(o,u,i,i=r(t),p))};s(e.init)}});
//# sourceMappingURL=hyperapp.js.map