!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).hyperapp={})}(this,function(e){"use strict";var n="http://www.w3.org/1999/xlink",t={},r=[],l=r.map,o=Array.isArray,u=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},i="function"==typeof Promise&&Promise.resolve(),f=i?function(e){return i.then(e)}:setTimeout,c=function(e,t,r,l,o,i){if("key"===t);else if("style"===t)for(var f in u(r,l)){var c=null==l||null==l[f]?"":l[f];"-"===f[0]?e[t].setProperty(f,c):e[t][f]=c}else if("o"===t[0]&&"n"===t[1])t=t.slice(2).toLowerCase(),e.events||(e.events={}),e.events[t]=l,null==l?e.removeEventListener(t,o):null==r&&e.addEventListener(t,o);else{var a=null==l||!1===l;if(t in e&&"list"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!i)e[t]=null==l?"":l,a&&e.removeAttribute(t);else i&&t!==(t=t.replace(/^xlink:?/,""))?a?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,l):a?e.removeAttribute(t):e.setAttribute(t,l)}},a=function(e,n,t,r){var l=3===e.type?document.createTextNode(e.name):(r=r||"svg"===e.name)?document.createElementNS("http://www.w3.org/2000/svg",e.name):document.createElement(e.name),o=e.props;o.onCreate&&n.push(function(){o.onCreate(l)});for(var u=0,i=e.children.length;u<i;u++)l.appendChild(a(e.children[u],n,t,r));for(var f in o)c(l,f,null,o[f],t,r);return e.element=l},s=function(e){for(var n=0,t=e.children.length;n<t;n++)s(e.children[n]);var r=e.props.onDestroy;return null!=r&&r(e.element),e.element},p=function(e,n){var t=function(){e.removeChild(s(n))},r=n.props&&n.props.onRemove;null!=r?r(n.element,t):t()},v=function(e){return null==e?null:e.key},m=function(e,n,t,r,l,o,i){if(r===t);else if(null!=t&&3===t.type&&3===r.type)t.name!==r.name&&(n.nodeValue=r.name);else if(null==t||t.name!==r.name){var f=e.insertBefore(a(r,l,o,i),n);null!=t&&p(e,t),n=f}else{var s,h,d;!function(e,n,t,r,l,o,i){for(var f in u(n,t))("value"===f||"checked"===f?e[f]:n[f])!==t[f]&&c(e,f,n[f],t[f],l,o);var a=i?t.onCreate:t.onUpdate;null!=a&&r.push(function(){a(e,n)})}(n,t.props,r.props,l,o,i=i||"svg"===r.name,1===t.type);for(var y,g=t.children,w=0,b=g.length-1,k=r.children,A=0,C=k.length-1;A<=C&&w<=b&&(d=v(g[w]),y=v(k[A]),null!=d&&d===y);)m(n,g[w].element,g[w],k[A],l,o,i),w++,A++;for(;A<=C&&w<=b&&(d=v(g[b]),y=v(k[C]),null!=d&&d===y);)m(n,g[b].element,g[b],k[C],l,o,i),b--,C--;if(w>b)for(;A<=C;)n.insertBefore(a(k[A++],l,o,i),(h=g[w])&&h.element);else if(A>C)for(;w<=b;)p(n,g[w++]);else{for(var x=function(e,n,t){for(var r,l,o={};n<=t;n++)null!=(r=(l=e[n]).key)&&(o[r]=l);return o}(g,w,b),N={};A<=C;)d=v(h=g[w]),y=v(k[A]),N[d]||null!=y&&y===v(g[w+1])?(null==d&&p(n,h),w++):null==y||1===t.type?(null==d&&(m(n,h&&h.element,h,k[A],l,o,i),A++),w++):(d===y?(m(n,h.element,h,k[A],l,o,i),N[y]=!0,w++):null!=(s=x[y])?(m(n,n.insertBefore(s.element,h&&h.element),s,k[A],l,o,i),N[y]=!0):m(n,h&&h.element,null,k[A],l,o,i),A++);for(;w<=b;)null==v(h=g[w++])&&p(n,h);for(var E in x)null==N[E]&&p(n,x[E])}}return r.element=n},h=function(e,n,t,r,l,o){return{name:e,props:n,children:t,element:r,key:l,type:o}},d=function(e,n){return h(e,t,r,n,null,3)},y=function(e){return 3===e.nodeType?d(e.nodeValue,e):g(e)},g=function(e){return h(e.nodeName.toLowerCase(),t,l.call(e.childNodes,y),e,null,1)},w=function(e,n,t,r,l){var o=[];for(n=m(e,n,t,r,o,l);o.length>0;)o.pop()();return n},b=function(e){e[2]()},k=function(e,n){return typeof e==typeof n&&o(e)&&e[0]===n[0]&&function(e,n){if(e!==n)for(var t in u(e,n))if(e[t]!==n[t])return!1;return!0}(e[1],n[1])},A=function(e,n,t){for(var r in u(e,n))if(e[r]!==n[r]&&!k(e[r],n[r]))return b(n),C(e,t);return n},C=function(e,n){return[e[0],e[1],e[0](e[1],n)]},x=function(e,n,t){for(var r=[].concat(e),l=[].concat(n),o=[],u=0;u<r.length||u<l.length;u++){var i=r[u],f=l[u];o.push(i?f?A(i,f,t):C(i,t):f?b(f):f)}return o};e.h=function(e,n){for(var t,r=[],l=[],u=arguments.length;u-- >2;)r.push(arguments[u]);for(null!=(n=null==n?{}:n).children&&(r.length<=0&&r.push(n.children),delete n.children);r.length>0;)if(o(t=r.pop()))for(u=t.length;u-- >0;)r.push(t[u]);else!1===t||!0===t||null==t||l.push("object"==typeof t?t:d(t));return"function"==typeof e?e(n,n.children=l):h(e,n,l,null,n.key,0)},e.app=function(e){var n,t=e.view,r=e.subscriptions,l=e.container,u=l&&l.children&&l.children[0],i=u&&g(u),c=[],a=!1,s=function(e){n!==e&&(n=e,a||(a=!0,f(m)))},p=function(e,t){null==e||("function"==typeof e?p(e(n,t)):o(e)?"function"==typeof e[0]?p(e[0](n,e[1],t)):e[1][0](e[1][1],p,s(e[0])):s(e))},v=function(e){p(e.currentTarget.events[e.type],e)},m=function(){a=!1,r&&(c=x(r(n),c,p)),t&&(u=w(l,u,i,i=t(n),v))};p(e.init)}});
//# sourceMappingURL=hyperapp.js.map