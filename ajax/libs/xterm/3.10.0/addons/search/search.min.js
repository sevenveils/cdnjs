!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).search=e()}}(function(){return function s(o,l,a){function h(t,e){if(!l[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var r=l[t]={exports:{}};o[t][0].call(r.exports,function(e){return h(o[t][1][e]||e)},r,r.exports,s,o,l,a)}return l[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)h(a[e]);return h}({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=" ~!@#$%^&*()+`-=[]{}|;:\"',./<>?",r=function(){function e(e){this._terminal=e,this._linesCache=null,this._linesCacheTimeoutId=0,this._destroyLinesCache=this._destroyLinesCache.bind(this)}return e.prototype.findNext=function(e,t){var i,n=this._terminal._core.selectionManager,r=t.incremental;if(!e||0===e.length)return n.clearSelection(),!1;var s=0,o=this._terminal._core.buffer.ydisp;if(n.selectionEnd&&0!==this._terminal.getSelection().length&&(o=r?n.selectionStart[1]:n.selectionEnd[1],s=r?n.selectionStart[0]:n.selectionEnd[0]),this._initLinesCache(),!(i=this._findInLine(e,o,s,t)))for(var l=o+1;l<this._terminal._core.buffer.ybase+this._terminal.rows&&!(i=this._findInLine(e,l,0,t));l++);if(!i)for(l=0;l<=o&&!(i=this._findInLine(e,l,0,t));l++);return this._selectResult(i)},e.prototype.findPrevious=function(e,t){var i,n=this._terminal._core.selectionManager;if(!e||0===e.length)return n.clearSelection(),!1;var r=this._terminal._core.buffer.ydisp,s=this._terminal._core.buffer.lines.get(r).length;if(n.selectionStart&&0!==this._terminal.getSelection().length&&(r=n.selectionStart[1],s=n.selectionStart[0]),this._initLinesCache(),!(i=this._findInLine(e,r,s,t,!0)))for(var o=r-1;0<=o&&!(i=this._findInLine(e,o,this._terminal._core.buffer.lines.get(o).length,t,!0));o--);if(!i)for(o=this._terminal._core.buffer.ybase+this._terminal.rows-1;r<=o&&!(i=this._findInLine(e,o,this._terminal._core.buffer.lines.get(o).length,t,!0));o--);return this._selectResult(i)},e.prototype._initLinesCache=function(){var e=this;this._linesCache||(this._linesCache=new Array(this._terminal._core.buffer.length),this._terminal.on("cursormove",this._destroyLinesCache)),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(function(){return e._destroyLinesCache()},15e3)},e.prototype._destroyLinesCache=function(){this._linesCache=null,this._terminal.off("cursormove",this._destroyLinesCache),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)},e.prototype._isWholeWord=function(e,t,i){return!(0!==e&&-1===n.indexOf(t[e-1])||e+i.length!==t.length&&-1===n.indexOf(t[e+i.length]))},e.prototype._findInLine=function(e,t,i,n,r){if(void 0===n&&(n={}),void 0===r&&(r=!1),!this._terminal._core.buffer.lines.get(t).isWrapped){var s=this._linesCache?this._linesCache[t]:void 0;void 0===s&&(s=this.translateBufferLineToStringWithWrap(t,!0),this._linesCache&&(this._linesCache[t]=s));var o=n.caseSensitive?e:e.toLowerCase(),l=n.caseSensitive?s:s.toLowerCase(),a=-1;if(n.regex){var h=RegExp(o,"g"),c=void 0;if(r)for(;c=h.exec(l.slice(0,i));)a=h.lastIndex-c[0].length,e=c[0],h.lastIndex-=e.length-1;else(c=h.exec(l.slice(i)))&&0<c[0].length&&(a=i+(h.lastIndex-c[0].length),e=c[0])}else r?0<=i-o.length&&(a=l.lastIndexOf(o,i-o.length)):a=l.indexOf(o,i);if(0<=a){if(a>=this._terminal.cols&&(t+=Math.floor(a/this._terminal.cols),a%=this._terminal.cols),n.wholeWord&&!this._isWholeWord(a,l,e))return;for(var f=this._terminal._core.buffer.lines.get(t),u=0;u<a;u++){var _=f.get(u),d=_[1];1<d.length&&(a-=d.length-1),0===_[2]&&a++}return{term:e,col:a,row:t}}}},e.prototype.translateBufferLineToStringWithWrap=function(e,t){var i,n="";do{var r=this._terminal._core.buffer.lines.get(e+1);i=!!r&&r.isWrapped,n+=this._terminal._core.buffer.translateBufferLineToString(e,!i&&t).substring(0,this._terminal.cols),e++}while(i);return n},e.prototype._selectResult=function(e){return e?(this._terminal._core.selectionManager.setSelection(e.col,e.row,e.term.length),this._terminal.scrollLines(e.row-this._terminal._core.buffer.ydisp),!0):(this._terminal.clearSelection(),!1)},e}();i.SearchHelper=r},{}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("./SearchHelper");function n(e,t,i){void 0===i&&(i={});var n=e;return n.__searchHelper||(n.__searchHelper=new r.SearchHelper(n)),n.__searchHelper.findNext(t,i)}function s(e,t,i){var n=e;return n.__searchHelper||(n.__searchHelper=new r.SearchHelper(n)),n.__searchHelper.findPrevious(t,i)}i.findNext=n,i.findPrevious=s,i.apply=function(e){e.prototype.findNext=function(e,t){return n(this,e,t)},e.prototype.findPrevious=function(e,t){return s(this,e,t)}}},{"./SearchHelper":1}]},{},[2])(2)});