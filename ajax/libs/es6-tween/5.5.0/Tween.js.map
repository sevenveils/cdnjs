{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/PlaybackPosition.js","../src/Timeline.js","../src/Interpolator.js"],"sourcesContent":["/* global global, self */\nexport let root =\n  typeof self !== 'undefined'\n    ? self : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n        ? global : this || (typeof exports !== 'undefined'\n          ? exports : {})\nexport let requestAnimationFrame =\n  root.requestAnimationFrame ||\n  ((fn) => root.setTimeout(fn, 50 / 3))\nexport let cancelAnimationFrame =\n  root.cancelAnimationFrame ||\n  ((id) => root.clearTimeout(id))\n","/* global process */\nimport { requestAnimationFrame, cancelAnimationFrame, root } from './shim'\n\n/**\n * Get browser/Node.js current time-stamp\n * @return Normalised current time-stamp in milliseconds\n * @memberof TWEEN\n * @example\n * TWEEN.now\n */\nconst now = (function () {\n  if (typeof process !== 'undefined' && process.hrtime !== undefined && (!process.versions || process.versions.electron === undefined)) {\n    return function () {\n      const time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n    // In a browser, use window.performance.now if it is available.\n  } else if (\n    root.performance !== undefined &&\n    root.performance.now !== undefined\n  ) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n    // Use Date.now if it is available.\n  } else {\n    const offset =\n      root.performance &&\n      root.performance.timing &&\n      root.performance.timing.navigationStart\n        ? root.performance.timing.navigationStart\n        : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n})()\n\n/**\n * Lightweight, effecient and modular ES6 version of tween.js\n * @copyright 2019 @dalisoft and es6-tween contributors\n * @license MIT\n * @namespace TWEEN\n * @example\n * // ES6\n * const {add, remove, isRunning, autoPlay} = TWEEN\n */\nconst _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _onRequestTick = []\nconst _ticker = requestAnimationFrame\nlet emptyFrame = 0\nlet powerModeThrottle = 120\nlet _tick\nlet handleLag = true\n\nconst onRequestTick = (fn) => {\n  _onRequestTick.push(fn)\n}\n\nconst _requestTick = () => {\n  for (let i = 0; i < _onRequestTick.length; i++) {\n    _onRequestTick[i]()\n  }\n}\n\n/**\n * Adds tween to list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * let tween = new Tween({x:0})\n * tween.to({x:200}, 1000)\n * TWEEN.add(tween)\n */\nconst add = (tween) => {\n  let i = _tweens.indexOf(tween)\n\n  if (i > -1) {\n    _tweens.splice(i, 1)\n  }\n\n  _tweens.push(tween)\n\n  emptyFrame = 0\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\n/**\n * Adds ticker like event\n * @param {Function} fn callback\n * @memberof TWEEN\n * @example\n * TWEEN.onTick(time => console.log(time))\n */\nconst onTick = (fn) => _tweens.push({ update: fn })\n\n/**\n * Sets after how much frames empty updating should stop\n * @param {number} [frameCount=120] count of frames that should stop after all tweens removed\n * @memberof TWEEN\n * @example\n * TWEEN.FrameThrottle(60)\n */\nconst FrameThrottle = (frameCount = 120) => {\n  powerModeThrottle = frameCount * 1.05\n}\n\n/**\n * Handle lag, useful if you have rendering Canvas or DOM objects or using es6-tween plugins\n * @param {number} [state=true] handle lag state\n * @memberof TWEEN\n * @example\n * TWEEN.ToggleLagSmoothing(false)\n */\nconst ToggleLagSmoothing = (_state = true) => {\n  handleLag = _state\n}\n\n/**\n * @returns {Array<Tween>} List of tweens in Array\n * @memberof TWEEN\n * TWEEN.getAll() // list of tweens\n */\nconst getAll = () => _tweens\n\n/**\n * Runs update loop automaticlly\n * @param {Boolean} state State of auto-run of update loop\n * @example TWEEN.autoPlay(true)\n * @memberof TWEEN\n */\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\n/**\n * Removes all tweens from list\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\n * @memberof TWEEN\n */\nconst removeAll = () => {\n  _tweens.length = 0\n  cancelAnimationFrame(_tick)\n  isStarted = false\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Tween} Matched tween\n * @memberof TWEEN\n * @example\n * TWEEN.get(tween)\n */\nconst get = (tween) => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Boolean} Status of Exists tween or not\n * @memberof TWEEN\n * @example\n * TWEEN.has(tween)\n */\nconst has = (tween) => {\n  return get(tween) !== null\n}\n/**\n * Removes tween from list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * TWEEN.remove(tween)\n */\nconst remove = (tween) => {\n  const i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n  if (_tweens.length === 0) {\n    cancelAnimationFrame(_tick)\n    isStarted = false\n  }\n}\n\n/**\n * Updates global tweens by given time\n * @param {number=} time Timestamp\n * @param {Boolean=} preserve Prevents tween to be removed after finish\n * @memberof TWEEN\n * @example\n * TWEEN.update(500)\n */\n\nconst update = (time = now(), preserve) => {\n  if (emptyFrame >= powerModeThrottle) {\n    isStarted = false\n    emptyFrame = 0\n    cancelAnimationFrame(_tick)\n    return false\n  }\n\n  if (_autoPlay && isStarted) {\n    _tick = _ticker(update)\n  } else {\n    _requestTick()\n  }\n\n  if (!_tweens.length) {\n    emptyFrame++\n  }\n\n  let i = 0\n  let length = _tweens.length\n  while (i < length) {\n    _tweens[i++].update(time, preserve)\n\n    if (length > _tweens.length) {\n      // The tween has been removed, keep same index\n      i--\n    }\n\n    length = _tweens.length\n  }\n\n  return true\n}\n\n/**\n * The state of ticker running\n * @return {Boolean} Status of running updates on all tweens\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isRunning = () => isStarted\n\n/**\n * Returns state of lag smoothing handling\n * @return {Boolean} Status of lag smoothing state\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isLagSmoothing = () => handleLag\n\n/**\n * The plugins store object\n * @namespace TWEEN.Plugins\n * @memberof TWEEN\n * @example\n * let num = Plugins.num = function (node, start, end) {\n * return t => start + (end - start) * t\n * }\n *\n * @static\n */\nconst Plugins = {}\n\nexport {\n  Plugins,\n  get,\n  has,\n  getAll,\n  removeAll,\n  remove,\n  add,\n  now,\n  update,\n  autoPlay,\n  onTick,\n  onRequestTick,\n  isRunning,\n  isLagSmoothing,\n  FrameThrottle,\n  ToggleLagSmoothing\n}\n","/**\n * List of full easings\n * @namespace TWEEN.Easing\n * @example\n * import {Tween, Easing} from 'es6-tween'\n *\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\n */\nconst Easing = {\n  Linear: {\n    None (k) {\n      return k\n    }\n  },\n\n  Quadratic: {\n    In (k) {\n      return k * k\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n  },\n\n  Cubic: {\n    In (k) {\n      return k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n  },\n\n  Quartic: {\n    In (k) {\n      return k * k * k * k\n    },\n\n    Out (k) {\n      return 1 - --k * k * k * k\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n  },\n\n  Quintic: {\n    In (k) {\n      return k * k * k * k * k\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n  },\n\n  Sinusoidal: {\n    In (k) {\n      return 1 - Math.cos(k * Math.PI / 2)\n    },\n\n    Out (k) {\n      return Math.sin(k * Math.PI / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n  },\n\n  Exponential: {\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n  },\n\n  Circular: {\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - --k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n  },\n\n  Elastic: {\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return (\n          -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n        )\n      }\n\n      return (\n        0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n      )\n    }\n  },\n\n  Back: {\n    In (k) {\n      const s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      const s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      const s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n  },\n\n  Bounce: {\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n  },\n\n  Stepped: {\n    steps: steps => k => ((k * steps) | 0) / steps\n  }\n}\n\nexport default Easing\n","// Frame lag-fix constants\nexport const FRAME_MS = 50 / 3\nexport const TOO_LONG_FRAME_MS = 250\n\nexport const CHAINED_TWEENS = '_chainedTweens'\n\n// Event System\nexport const EVENT_CALLBACK = 'Callback'\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RESTART = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP'\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g\nexport const HEXC_REGEX = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\n\n// Copies everything, duplicates, no shallow-copy\nexport function deepCopy (source) {\n  if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\n    return source\n  } else if (Array.isArray(source)) {\n    return [].concat(source)\n  } else if (typeof source === 'object') {\n    let target = {}\n    for (let prop in source) {\n      target[prop] = deepCopy(source[prop])\n    }\n    return target\n  }\n  return source\n}\n\nconst isNaNForST = v =>\n  isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' '\n\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\nconst hex2rgb = (all, hex) => {\n  let r\n  let g\n  let b\n  if (hex.length === 3) {\n    r = hex[0]\n    g = hex[1]\n    b = hex[2]\n    hex = r + r + g + g + b + b\n  }\n  let color = parseInt(hex, 16)\n  r = color >> 16 & 255\n  g = color >> 8 & 255\n  b = color & 255\n  return 'rgb(' + r + ',' + g + ',' + b + ')'\n}\n\nexport function decomposeString (fromValue) {\n  return typeof fromValue !== 'string' ? fromValue : fromValue.replace(hexColor, hex2rgb).match(NUM_REGEX).map(v => (isNaNForST(v) ? v : +v))\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose (prop, obj, from, to, stringBuffer) {\n  const fromValue = from[prop]\n  const toValue = to[prop]\n\n  if (typeof fromValue === 'string' || typeof toValue === 'string') {\n    let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue)\n    let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue)\n\n    let i = 1\n    while (i < fromValue1.length) {\n      if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n        fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i])\n        toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i])\n      } else {\n        i++\n      }\n    }\n\n    i = 0\n\n    if (fromValue1[0] === STRING_PROP) {\n      fromValue1.shift()\n    }\n    if (toValue1[0] === STRING_PROP) {\n      toValue1.shift()\n    }\n\n    let fromValue2 = {\n      isString: true,\n      length: fromValue1.length\n    }\n    let toValue2 = {\n      isString: true,\n      length: toValue1.length\n    }\n\n    while (i < fromValue2.length) {\n      fromValue2[i] = fromValue1[i]\n      toValue2[i] = toValue1[i]\n      i++\n    }\n\n    from[prop] = fromValue2\n    to[prop] = toValue2\n    return true\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (Array.isArray(fromValue)) {\n      return fromValue.map((v, i) =>\n        decompose(i, obj[prop], fromValue, toValue)\n      )\n    } else {\n      for (let prop2 in toValue) {\n        decompose(prop2, obj[prop], fromValue, toValue)\n      }\n    }\n    return true\n  }\n  return false\n}\n\n// Recompose value\nexport const RGB = 'rgb('\nexport const RGBA = 'rgba('\n\nexport const isRGBColor = (v, i, r = RGB) =>\n  typeof v[i] === 'number' &&\n  (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r)\nexport function recompose (prop, obj, from, to, t, originalT, stringBuffer) {\n  const fromValue = stringBuffer ? from : from[prop]\n  const toValue = stringBuffer ? to : to[prop]\n  if (toValue === undefined) {\n    return fromValue\n  }\n  if (\n    fromValue === undefined ||\n    typeof fromValue === 'string' ||\n    fromValue === toValue\n  ) {\n    return toValue\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (!fromValue || !toValue) {\n      return obj[prop]\n    }\n    if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\n      let STRING_BUFFER = ''\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n        let currentValue =\n          typeof fromValue[i] !== 'number'\n            ? fromValue[i]\n            : isRelative\n              ? fromValue[i] +\n                parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n              : fromValue[i] + (toValue[i] - fromValue[i]) * t\n        if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n          currentValue |= 0\n        }\n        STRING_BUFFER += currentValue\n        if (isRelative && originalT === 1) {\n          fromValue[i] =\n            fromValue[i] +\n            parseFloat(toValue[i][0] + toValue[i].substr(2))\n        }\n      }\n      if (!stringBuffer) {\n        obj[prop] = STRING_BUFFER\n      }\n      return STRING_BUFFER\n    } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n      for (let i in fromValue) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    }\n  } else if (typeof fromValue === 'number') {\n    const isRelative = typeof toValue === 'string'\n    obj[prop] =\n      isRelative\n        ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n        : fromValue + (toValue - fromValue) * t\n    if (isRelative && originalT === 1) {\n      from[prop] = obj[prop]\n    }\n  } else if (typeof toValue === 'function') {\n    obj[prop] = toValue(t)\n  }\n  return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj, property) {\n  const value = obj[property]\n  const props = property.replace(replaceBrace, '').split(propRegExp)\n  const propsLastIndex = props.length - 1\n  let lastArr = Array.isArray(obj)\n  let lastObj = typeof obj === 'object' && !lastArr\n  if (lastObj) {\n    obj[property] = null\n    delete obj[property]\n  } else if (lastArr) {\n    obj.splice(property, 1)\n  }\n  return props.reduce((nested, prop, index) => {\n    if (lastArr) {\n      if (prop !== '.' && prop !== '[') {\n        prop *= 1\n      }\n    }\n    let nextProp = props[index + 1]\n    let nextIsArray = nextProp === '['\n    if (prop === '.' || prop === '[') {\n      if (prop === '.') {\n        lastObj = true\n        lastArr = false\n      } else if (prop === '[') {\n        lastObj = false\n        lastArr = true\n      }\n      return nested\n    } else if (nested[prop] === undefined) {\n      if (lastArr || lastObj) {\n        nested[prop] =\n          index === propsLastIndex\n            ? value\n            : lastArr || nextIsArray ? [] : lastObj ? {} : null\n        lastObj = lastArr = false\n        return nested[prop]\n      }\n    } else if (nested[prop] !== undefined) {\n      if (index === propsLastIndex) {\n        nested[prop] = value\n      }\n      return nested[prop]\n    }\n    return nested\n  }, obj)\n}\n\nexport const SET_NESTED = function (nested) {\n  if (typeof nested === 'object' && !!nested) {\n    for (let prop in nested) {\n      if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n        propExtract(nested, prop)\n      } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n        let nested2 = nested[prop]\n        for (let prop2 in nested2) {\n          if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n            propExtract(nested2, prop2)\n          } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n            let nested3 = nested2[prop2]\n            for (let prop3 in nested3) {\n              if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                propExtract(nested3, prop3)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return nested\n}\n","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * List of full Interpolation\n * @namespace TWEEN.Interpolation\n * @example\n * import {Interpolation, Tween} from 'es6-tween'\n *\n * let bezier = Interpolation.Bezier\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof TWEEN\n */\nconst Interpolation = {\n  Linear (v, k, value) {\n    const m = v.length - 1\n    const f = m * k\n    const i = Math.floor(f)\n    const fn = Interpolation.Utils.Linear\n    if (k < 0) {\n      return fn(v[0], v[1], f, value)\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f, value)\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n  },\n\n  Bezier (v, k, value) {\n    let b = Interpolation.Utils.Reset(value)\n    let n = v.length - 1\n    let pw = Math.pow\n    let fn = Interpolation.Utils.Bernstein\n\n    let isBArray = Array.isArray(b)\n\n    for (let i = 0; i <= n; i++) {\n      if (typeof b === 'number') {\n        b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n      } else if (isBArray) {\n        for (let p = 0, len = b.length; p < len; p++) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'object') {\n        for (let p in b) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'string') {\n        let STRING_BUFFER = ''\n        let idx = Math.round(n * k)\n        let vCurr = v[idx]\n        for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n          STRING_BUFFER += vCurr[ks]\n        }\n        return STRING_BUFFER\n      }\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k, value) {\n    const m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    const fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor((f = m * (1 + k)))\n      }\n\n      return fn(\n        v[(i - 1 + m) % m],\n        v[i],\n        v[(i + 1) % m],\n        v[(i + 2) % m],\n        f - i,\n        value\n      )\n    } else {\n      if (k < 0) {\n        return fn(v[1], v[1], v[0], v[0], -k, value)\n      }\n\n      if (k > 1) {\n        return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n      }\n\n      return fn(\n        v[i ? i - 1 : 0],\n        v[i],\n        v[m < i + 1 ? m : i + 1],\n        v[m < i + 2 ? m : i + 2],\n        f - i,\n        value\n      )\n    }\n  },\n\n  Utils: {\n    Linear (p0, p1, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        }\n        return v\n      }\n    },\n\n    Reset (value) {\n      if (Array.isArray(value)) {\n        for (let i = 0, len = value.length; i < len; i++) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'object') {\n        for (let i in value) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'number') {\n        return 0\n      }\n      return value\n    },\n\n    Bernstein (n, i) {\n      const fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      const a = [1]\n\n      return n => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        const v0 = (p2 - p0) * 0.5\n        const v1 = (p3 - p1) * 0.5\n        const t2 = t * t\n        const t3 = t * t2\n\n        return (\n          (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n          (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n          v0 * t +\n          p1\n        )\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number'\n                  ? Interpolation.Utils.CatmullRom(\n                    p0[i],\n                    p1[i],\n                    p2[i],\n                    p3[i],\n                    t\n                  )\n                  : p3[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            )\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            )\n          }\n        }\n        return v\n      }\n    }\n  }\n}\n\nexport default Interpolation\n","import {\n  remove\n} from './core'\n\nexport const Store = {}\nexport default function (node, object, tween) {\n  if (!node || !node.nodeType) {\n    return object\n  }\n  const ID = node.queueID || 'q_' + Date.now()\n  if (!node.queueID) {\n    node.queueID = ID\n  }\n  const storeID = Store[ID]\n  if (storeID) {\n    if (\n      storeID.object === object &&\n      node === storeID.tween.node &&\n      tween._startTime === storeID.tween._startTime\n    ) {\n      remove(storeID.tween)\n    } else if (typeof object === 'object' && !!object && !!storeID.object) {\n      for (let prop in object) {\n        if (prop in storeID.object) {\n          if (tween._startTime === storeID.tween._startTime) {\n            delete storeID.object[prop]\n          } else {\n            storeID.propNormaliseRequired = true\n          }\n        }\n      }\n      storeID.object = { ...storeID.object,\n        ...object\n      }\n    }\n    return storeID.object\n  }\n\n  if (typeof object === 'object' && !!object) {\n    Store[ID] = {\n      tween,\n      object,\n      propNormaliseRequired: false\n    }\n    return Store[ID].object\n  }\n\n  return object\n}\n","export default function (selector, collection, allowRaw) {\n  if (collection) {\n    return !selector\n      ? null\n      : (typeof window !== 'undefined' && selector === window) || (typeof document !== 'undefined' && selector === document)\n        ? [selector]\n        : typeof selector === 'string'\n          ? !!document.querySelectorAll && document.querySelectorAll(selector)\n          : Array.isArray(selector)\n            ? selector\n            : selector.nodeType ? [selector] : allowRaw ? selector : []\n  }\n  return !selector\n    ? null\n    : (typeof window !== 'undefined' && selector === window) || (typeof document !== 'undefined' && selector === document)\n      ? selector\n      : typeof selector === 'string'\n        ? !!document.querySelector && document.querySelector(selector)\n        : Array.isArray(selector)\n          ? selector[0]\n          : selector.nodeType ? selector : allowRaw ? selector : null\n}\n","import {\n  add,\n  now,\n  Plugins,\n  remove,\n  isRunning,\n  isLagSmoothing\n} from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport NodeCache, {\n  Store\n} from './NodeCache'\nimport Selector from './selector'\nimport {\n  decompose,\n  decomposeString,\n  recompose,\n  deepCopy,\n  SET_NESTED,\n  EVENT_CALLBACK,\n  CHAINED_TWEENS,\n  EVENT_UPDATE,\n  EVENT_COMPLETE,\n  EVENT_START,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_PAUSE,\n  EVENT_PLAY,\n  EVENT_RESTART,\n  EVENT_STOP,\n  EVENT_SEEK,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\n/**\n * Tween main constructor\n * @constructor\n * @class\n * @namespace TWEEN.Tween\n * @param {Object|Element} node Node Element or Tween initial object\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\n */\nclass Tween {\n  /**\n   * Easier way to call the Tween\n   * @param {Element} node DOM Element\n   * @param {object} object - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static fromTo (node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to\n    const tween = new Tween(node, object).to(to, params)\n    if (params.quickRender) {\n      tween.render().update(tween._startTime)\n      tween._rendered = false\n      tween._onStartCallbackFired = false\n    }\n    return tween\n  }\n  /**\n   * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.to(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static to (node, to, params) {\n    return Tween.fromTo(node, null, to, params)\n  }\n  /**\n   * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example Tween.from(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static from (node, from, params) {\n    return Tween.fromTo(node, from, null, params)\n  }\n  constructor (node, object) {\n    this.id = _id++\n    if (!!node && typeof node === 'object' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (!!node &&\n      (node.nodeType || node.length || typeof node === 'string')\n    ) {\n      node = this.node = Selector(node)\n      object = this.object = NodeCache(node, object, this)\n    }\n    this._valuesEnd = null\n    this._valuesStart = Array.isArray(object) ? [] : {}\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._easingReverse = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._initTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n    this._maxListener = 15\n    this._chainedTweensCount = 0\n    this._prevTime = null\n\n    return this\n  }\n\n  /**\n   * Sets max `event` listener's count to Events system\n   * @param {number} count - Event listener's count\n   * @memberof TWEEN.Tween\n   */\n  setMaxListener (count = 15) {\n    this._maxListener = count\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  on (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = callback\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system.\n   * Removes itself after fired once\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  once (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = (...args) => {\n          callback.apply(this, args)\n          this[callbackId] = null\n        }\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Removes `event` from Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  off (event, callback) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId] === callback) {\n        this[callbackId] = null\n      }\n    }\n    return this\n  }\n\n  /**\n   * Emits/Fired/Trigger `event` from Events system listeners\n   * @param {string} event - Event listener name\n   * @memberof TWEEN.Tween\n   */\n  emit (event, arg1, arg2, arg3, arg4) {\n    const {\n      _maxListener\n    } = this\n    const callbackName = event + EVENT_CALLBACK\n\n    if (!this[callbackName + 0]) {\n      return this\n    }\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId]) {\n        this[callbackId](arg1, arg2, arg3, arg4)\n      }\n    }\n    return this\n  }\n\n  /**\n   * @return {boolean} State of playing of tween\n   * @example tween.isPlaying() // returns `true` if tween in progress\n   * @memberof TWEEN.Tween\n   */\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  /**\n   * @return {boolean} State of started of tween\n   * @example tween.isStarted() // returns `true` if tween in started\n   * @memberof TWEEN.Tween\n   */\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  /**\n   * Reverses the tween state/direction\n   * @example tween.reverse()\n   * @param {boolean=} state Set state of current reverse\n   * @memberof TWEEN.Tween\n   */\n  reverse (state) {\n    const {\n      _reversed\n    } = this\n\n    this._reversed = state !== undefined ? state : !_reversed\n\n    return this\n  }\n\n  /**\n   * @return {boolean} State of reversed\n   * @example tween.reversed() // returns `true` if tween in reversed state\n   * @memberof TWEEN.Tween\n   */\n  reversed () {\n    return this._reversed\n  }\n\n  /**\n   * Pauses tween\n   * @example tween.pause()\n   * @memberof TWEEN.Tween\n   */\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  /**\n   * Play/Resume the tween\n   * @example tween.play()\n   * @memberof TWEEN.Tween\n   */\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    this._initTime = this._startTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  /**\n   * Restarts tween from initial value\n   * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\n   * @example tween.restart()\n   * @memberof TWEEN.Tween\n   */\n  restart (noDelay) {\n    this._repeat = this._r\n    this.reassignValues()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART, this.object)\n  }\n\n  /**\n   * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\n   * @param {Time} time Tween update time\n   * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\n   * @example tween.seek(500)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted, so we deprecated this method\n   */\n  seek (time, keepPlaying) {\n    const {\n      _duration,\n      _initTime,\n      _startTime,\n      _reversed\n    } = this\n\n    let updateTime = _initTime + time\n    this._isPlaying = true\n\n    if (updateTime < _startTime && _startTime >= _initTime) {\n      this._startTime -= _duration\n      this._reversed = !_reversed\n    }\n\n    this.update(time, false)\n\n    this.emit(EVENT_SEEK, time, this.object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  /**\n   * Sets tween duration\n   * @param {number} amount Duration is milliseconds\n   * @example tween.duration(2000)\n   * @memberof TWEEN.Tween\n   */\n  duration (amount) {\n    this._duration =\n      typeof amount === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  /**\n   * Sets target value and duration\n   * @param {object} properties Target value (to value)\n   * @param {number|Object=} [duration=1000] Duration of tween\n   * @example let tween = new Tween({x:0}).to({x:100}, 2000)\n   * @memberof TWEEN.Tween\n   */\n  to (properties, duration = 1000, maybeUsed) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof duration === 'function') {\n      this._duration =\n        typeof duration === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (const prop in duration) {\n        if (typeof this[prop] === 'function') {\n          const [\n            arg1 = null,\n            arg2 = null,\n            arg3 = null,\n            arg4 = null\n          ] = Array.isArray(duration[prop]) ? duration[prop] : [duration[prop]]\n          this[prop](arg1, arg2, arg3, arg4)\n        }\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Renders and computes value at first render\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  render () {\n    if (this._rendered) {\n      return this\n    }\n    let {\n      _valuesStart,\n      _valuesEnd,\n      object,\n      node,\n      InitialValues\n    } = this\n\n    SET_NESTED(object)\n    SET_NESTED(_valuesEnd)\n\n    if (node && node.queueID && Store[node.queueID]) {\n      const prevTweenByNode = Store[node.queueID]\n      if (\n        prevTweenByNode.propNormaliseRequired &&\n        prevTweenByNode.tween !== this\n      ) {\n        for (const property in _valuesEnd) {\n          if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\n            // delete prevTweenByNode.tween._valuesEnd[property];\n          }\n        }\n        prevTweenByNode.normalisedProp = true\n        prevTweenByNode.propNormaliseRequired = false\n      }\n    }\n\n    if (node && InitialValues) {\n      if (!object || Object.keys(object).length === 0) {\n        object = this.object = NodeCache(\n          node,\n          InitialValues(node, _valuesEnd),\n          this\n        )\n      } else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object)\n      }\n    }\n    for (const property in _valuesEnd) {\n      let start = object && object[property] && deepCopy(object[property])\n      let end = _valuesEnd[property]\n      if (Plugins[property] && Plugins[property].init) {\n        Plugins[property].init.call(this, start, end, property, object)\n        if (start === undefined && _valuesStart[property]) {\n          start = _valuesStart[property]\n        }\n        if (Plugins[property].skipProcess) {\n          continue\n        }\n      }\n      if (\n        (typeof start === 'number' && isNaN(start)) ||\n        start === null ||\n        end === null ||\n        start === false ||\n        end === false ||\n        start === undefined ||\n        end === undefined ||\n        start === end\n      ) {\n        continue\n      }\n      if (Array.isArray(end) && !Array.isArray(start)) {\n        end.unshift(start)\n        for (let i = 0, len = end.length; i < len; i++) {\n          if (typeof end[i] === 'string') {\n            let arrayOfStrings = decomposeString(end[i])\n            let stringObject = {\n              length: arrayOfStrings.length,\n              isString: true\n            }\n            for (let ii = 0, len2 = arrayOfStrings.length; ii < len2; ii++) {\n              stringObject[ii] = arrayOfStrings[ii]\n            }\n            end[i] = stringObject\n          }\n        }\n      }\n      _valuesStart[property] = start\n      if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\n        continue\n      }\n      decompose(property, object, _valuesStart, _valuesEnd)\n    }\n\n    if (Tween.Renderer && this.node && Tween.Renderer.init) {\n      Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd)\n      this.__render = true\n    }\n\n    return this\n  }\n\n  /**\n   * Start the tweening\n   * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\n   * @example tween.start()\n   * @memberof TWEEN.Tween\n   */\n  start (time) {\n    this._startTime =\n      time !== undefined\n        ? typeof time === 'string' ? now() + parseFloat(time) : time\n        : now()\n    this._startTime += this._delayTime\n    this._initTime = this._prevTime = this._startTime\n\n    this._onStartCallbackFired = false\n    this._rendered = false\n    this._isPlaying = true\n\n    add(this)\n\n    return this\n  }\n\n  /**\n   * Stops the tween\n   * @example tween.stop()\n   * @memberof TWEEN.Tween\n   */\n  stop () {\n    let {\n      _isPlaying,\n      _isFinite,\n      object,\n      _startTime,\n      _duration,\n      _r,\n      _yoyo,\n      _reversed\n    } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    let atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed\n\n    this._reversed = false\n\n    if (_yoyo && atStart) {\n      this.update(_startTime)\n    } else {\n      this.update(_startTime + _duration)\n    }\n    remove(this)\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  /**\n   * Set delay of tween\n   * @param {number} amount Sets tween delay / wait duration\n   * @example tween.delay(500)\n   * @memberof TWEEN.Tween\n   */\n  delay (amount) {\n    this._delayTime =\n      typeof amount === 'function' ? amount(this._delayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Chained tweens\n   * @param {any} arguments Arguments list\n   * @example tween.chainedTweens(tween1, tween2)\n   * @memberof TWEEN.Tween\n   */\n  chainedTweens () {\n    this._chainedTweensCount = arguments.length\n    if (!this._chainedTweensCount) {\n      return this\n    }\n    for (let i = 0, len = this._chainedTweensCount; i < len; i++) {\n      this[CHAINED_TWEENS + i] = arguments[i]\n    }\n\n    return this\n  }\n\n  /**\n   * Sets how times tween is repeating\n   * @param {amount} amount the times of repeat\n   * @example tween.repeat(5)\n   * @memberof TWEEN.Tween\n   */\n  repeat (amount) {\n    this._repeat = !this._duration\n      ? 0\n      : typeof amount === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  /**\n   * Set delay of each repeat alternate of tween\n   * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\n   * @example tween.reverseDelay(500)\n   * @memberof TWEEN.Tween\n   */\n  reverseDelay (amount) {\n    this._reverseDelayTime =\n      typeof amount === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Set `yoyo` state (enables reverse in repeat)\n   * @param {boolean} state Enables alternate direction for repeat\n   * @param {Function=} _easingReverse Easing function in reverse direction\n   * @example tween.yoyo(true)\n   * @memberof TWEEN.Tween\n   */\n  yoyo (state, _easingReverse) {\n    this._yoyo =\n      typeof state === 'function'\n        ? state(this._yoyo)\n        : state === null ? this._yoyo : state\n    if (!state) {\n      this._reversed = false\n    }\n    this._easingReverse = _easingReverse || null\n\n    return this\n  }\n\n  /**\n   * Set easing\n   * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\n   * @example tween.easing(Easing.Elastic.InOut)\n   * @memberof TWEEN.Tween\n   */\n  easing (_easingFunction) {\n    this._easingFunction = _easingFunction\n\n    return this\n  }\n\n  /**\n   * Set interpolation\n   * @param {Function} _interpolationFunction Interpolation function\n   * @example tween.interpolation(Interpolation.Bezier)\n   * @memberof TWEEN.Tween\n   */\n  interpolation (_interpolationFunction) {\n    if (typeof _interpolationFunction === 'function') {\n      this._interpolationFunction = _interpolationFunction\n    }\n\n    return this\n  }\n\n  /**\n   * Reassigns value for rare-case like Tween#restart or for Timeline\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  reassignValues (time) {\n    const {\n      _valuesStart,\n      object,\n      _delayTime\n    } = this\n\n    this._isPlaying = true\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += _delayTime\n    this._reversed = false\n    add(this)\n\n    for (const property in _valuesStart) {\n      const start = _valuesStart[property]\n\n      object[property] = start\n    }\n\n    return this\n  }\n\n  /**\n   * Updates initial object to target value by given `time`\n   * @param {Time} time Current time\n   * @param {boolean=} preserve Prevents from removing tween from store\n   * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\n   * @example tween.update(100)\n   * @memberof TWEEN.Tween\n   */\n  update (time, preserve, forceTime) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _easingReverse,\n      _repeat,\n      _delayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _prevTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render,\n      _chainedTweensCount\n    } = this\n\n    let elapsed\n    let currentEasing\n    let property\n    let propCount = 0\n\n    if (!_duration) {\n      elapsed = 1\n      _repeat = 0\n    } else {\n      time = time !== undefined ? time : now()\n\n      let delta = time - _prevTime\n      this._prevTime = time\n      if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n        time -= delta - FRAME_MS\n      }\n\n      if (!_isPlaying || (time < _startTime && !forceTime)) {\n        return true\n      }\n\n      elapsed = (time - _startTime) / _duration\n      elapsed = elapsed > 1 ? 1 : elapsed\n      elapsed = _reversed ? 1 - elapsed : elapsed\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    currentEasing = _reversed\n      ? _easingReverse || _easingFunction\n      : _easingFunction\n\n    if (!object) {\n      return true\n    }\n\n    for (property in _valuesEnd) {\n      const start = _valuesStart[property]\n      if (\n        (start === undefined || start === null) &&\n        !(Plugins[property] && Plugins[property].update)\n      ) {\n        continue\n      }\n      const end = _valuesEnd[property]\n      const value = currentEasing[property]\n        ? currentEasing[property](elapsed)\n        : typeof currentEasing === 'function'\n          ? currentEasing(elapsed)\n          : defaultEasing(elapsed)\n      const _interpolationFunctionCall = _interpolationFunction[property]\n        ? _interpolationFunction[property]\n        : typeof _interpolationFunction === 'function'\n          ? _interpolationFunction\n          : Interpolation.Linear\n\n      if (typeof end === 'number') {\n        object[property] = start + (end - start) * value\n      } else if (Array.isArray(end) && !Array.isArray(start)) {\n        object[property] = _interpolationFunctionCall(\n          end,\n          value,\n          object[property]\n        )\n      } else if (end && end.update) {\n        end.update(value)\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (typeof end === 'string' && typeof start === 'number') {\n        object[property] = start + parseFloat(end[0] + end.substr(2)) * value\n      } else {\n        recompose(property, object, _valuesStart, _valuesEnd, value, elapsed)\n      }\n      if (Plugins[property] && Plugins[property].update) {\n        Plugins[property].update.call(\n          this,\n          object[property],\n          start,\n          end,\n          value,\n          elapsed,\n          property\n        )\n      }\n      propCount++\n    }\n\n    if (!propCount) {\n      remove(this)\n      return false\n    }\n\n    if (__render && Tween.Renderer && Tween.Renderer.update) {\n      Tween.Renderer.update.call(this, object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed, time)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat > 0 && _duration > 0) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        } else {\n          for (property in _valuesEnd) {\n            let end = _valuesEnd[property]\n            if (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\n              _valuesStart[property] += parseFloat(end[0] + end.substr(2))\n            }\n          }\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time - _reverseDelayTime\n        } else {\n          this._startTime = time + _delayTime\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          this._isPlaying = false\n          remove(this)\n          _id--\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        if (_chainedTweensCount) {\n          for (let i = 0; i < _chainedTweensCount; i++) {\n            this[CHAINED_TWEENS + i].start(time + _duration)\n          }\n        }\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\n  constructor () {\n    this.totalTime = 0\n    this.labels = []\n    this.offsets = []\n  }\n  parseLabel (name, offset) {\n    const { offsets, labels } = this\n    let i = labels.indexOf(name)\n    if (\n      typeof name === 'string' &&\n      name.indexOf('=') !== -1 &&\n      !offset &&\n      i === -1\n    ) {\n      const rty = name.substr(name.indexOf('=') - 1, 2)\n      const rt = name.split(rty)\n      offset = rt.length === 2 ? rty + rt[1] : null\n      name = rt[0]\n      i = labels.indexOf(name)\n    }\n    if (i !== -1 && name) {\n      let currOffset = offsets[i] || 0\n      if (typeof offset === 'number') {\n        currOffset = offset\n      } else if (typeof offset === 'string') {\n        if (offset.indexOf('=') !== -1) {\n          const type = offset.charAt(0)\n          offset = Number(offset.substr(2))\n          if (type === '+' || type === '-') {\n            currOffset += parseFloat(type + offset)\n          } else if (type === '*') {\n            currOffset *= offset\n          } else if (type === '/') {\n            currOffset /= offset\n          } else if (type === '%') {\n            currOffset *= offset / 100\n          }\n        }\n      }\n      return currOffset\n    }\n    return typeof offset === 'number' ? offset : 0\n  }\n  addLabel (name, offset) {\n    this.labels.push(name)\n    this.offsets.push(this.parseLabel(name, offset))\n    return this\n  }\n  setLabel (name, offset) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\n    }\n    return this\n  }\n  eraseLabel (name) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.labels.splice(i, 1)\n      this.offsets.splice(i, 1)\n    }\n    return this\n  }\n}\n","import { add, now, remove, isRunning, isLagSmoothing } from './core'\nimport PlaybackPosition from './PlaybackPosition'\nimport Tween from './Tween'\nimport {\n  EVENT_START,\n  EVENT_COMPLETE,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_RESTART,\n  EVENT_UPDATE,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\nimport Selector from './selector'\n\nexport const shuffle = a => {\n  let j\n  let x\n  let i\n  for (i = a.length; i; i -= 1) {\n    j = Math.floor(Math.random() * i)\n    x = a[i - 1]\n    a[i - 1] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\nlet _id = 0\n/**\n * Timeline main constructor.\n *\n * It works same as `Tween` instance, using `.repeat`, `.restart` or `etc` works like a `Tween`, so please see `Tween` class for methods\n * @constructor\n * @class\n * @namespace TWEEN.Timeline\n * @param {Object=} params Default params for new tweens\n * @example let tl = new Timeline({delay:200})\n * @extends Tween\n */\nclass Timeline extends Tween {\n  constructor (params) {\n    super()\n    this._duration = 0\n    this._startTime = params.startTime !== undefined ? params.startTime : now()\n    this._tweens = []\n    this.elapsed = 0\n    this._id = _id++\n    this._defaultParams = params\n    this.position = new PlaybackPosition()\n    this.position.addLabel('afterLast', this._duration)\n    this.position.addLabel('afterInit', this._startTime)\n    this._onStartCallbackFired = false\n\n    return this\n  }\n  mapTotal (fn) {\n    fn.call(this, this._tweens)\n    return this\n  }\n  timingOrder (fn) {\n    const timing = fn(this._tweens.map(t => t._startTime))\n    this._tweens.map((tween, i) => {\n      tween._startTime = timing[i]\n    })\n    return this\n  }\n  getTiming (mode, nodes, params, offset = 0) {\n    if (mode === 'reverse') {\n      const { stagger } = params\n      const totalStagger = (stagger || 0) * (nodes.length - 1)\n      return nodes.map((node, i) => totalStagger - (stagger || 0) * i + offset)\n    } else if (mode === 'async') {\n      return nodes.map(node => offset)\n    } else if (mode === 'sequence' || mode === 'delayed') {\n      let { stagger } = params\n      if (!stagger) {\n        stagger = (params.duration || 1000) / (nodes.length - 1)\n      }\n      return nodes.map((node, i) => stagger * i + offset)\n    } else if (mode === 'oneByOne') {\n      return nodes.map(node => params.duration)\n    } else if (mode === 'shuffle') {\n      const { stagger } = params\n      return shuffle(nodes.map((node, i) => (stagger || 0) * i + offset))\n    } else {\n      const { stagger } = params\n      return nodes.map((node, i) => (stagger || 0) * i + offset)\n    }\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.fromTo(nodes, {x:0}, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  fromTo (nodes, from, to, params) {\n    nodes = Selector(nodes, true, true)\n    if (nodes && nodes.length) {\n      if (this._defaultParams) {\n        params = params ? { ...this._defaultParams, ...params } : this._defaultParams\n      }\n      const position = params.label\n      const offset =\n        typeof position === 'number'\n          ? position\n          : this.position.parseLabel(\n            typeof position !== 'undefined' ? position : 'afterLast',\n            null\n          )\n      const mode = this.getTiming(params.mode, nodes, params, offset)\n      for (let i = 0, node, len = nodes.length; i < len; i++) {\n        node = nodes[i]\n        this.add(\n          Tween.fromTo(\n            node,\n            typeof from === 'function' ? from(i, nodes.length) : typeof from === 'object' && !!from ? { ...from } : null,\n            typeof to === 'function' ? to(i, nodes.length) : to,\n            typeof params === 'function' ? params(i, nodes.length) : params\n          ),\n          mode[i]\n        )\n      }\n    }\n    return this.start()\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example tl.from(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  from (nodes, from, params) {\n    return this.fromTo(nodes, from, null, params)\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.to(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  to (nodes, to, params) {\n    return this.fromTo(nodes, null, to, params)\n  }\n\n  /**\n   * Add label to Timeline\n   * @param {string} name Label name\n   * @param {any} offset Label value, can be `number` and/or `string`\n   * @example tl.add('label1', 200)\n   * @memberof Timeline\n   */\n  addLabel (name, offset) {\n    this.position.addLabel(name, offset)\n    return this\n  }\n\n  map (fn) {\n    for (let i = 0, len = this._tweens.length; i < len; i++) {\n      const _tween = this._tweens[i]\n      fn(_tween, i)\n      this._duration = Math.max(\n        this._duration,\n        _tween._duration + _tween._startTime\n      )\n    }\n    return this\n  }\n\n  /**\n   * Add tween to Timeline\n   * @param {Tween} tween Tween instance\n   * @param {position} position Can be label name, number or relative number to label\n   * @example tl.add(new Tween(node, {x:0}).to({x:200}, 200))\n   * @memberof Timeline\n   */\n  add (tween, position) {\n    if (Array.isArray(tween)) {\n      tween.map(_tween => {\n        this.add(_tween, position)\n      })\n      return this\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\n\n    const { _defaultParams, _duration } = this\n\n    if (_defaultParams) {\n      for (const method in _defaultParams) {\n        if (typeof tween[method] === 'function') {\n          tween[method](_defaultParams[method])\n        }\n      }\n    }\n\n    const offset =\n      typeof position === 'number'\n        ? position\n        : this.position.parseLabel(\n          typeof position !== 'undefined' ? position : 'afterLast',\n          null\n        )\n    tween._startTime = Math.max(this._startTime, tween._delayTime, offset)\n    tween._delayTime = offset\n    tween._isPlaying = true\n    this._duration = Math.max(\n      _duration,\n      Math.max(tween._startTime + tween._delayTime, tween._duration)\n    )\n    this._tweens.push(tween)\n    this.position.setLabel('afterLast', this._duration)\n    return this\n  }\n\n  restart () {\n    this._startTime += now()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART)\n  }\n\n  easing (easing) {\n    return this.map(tween => tween.easing(easing))\n  }\n\n  interpolation (interpolation) {\n    return this.map(tween => tween.interpolation(interpolation))\n  }\n\n  update (time) {\n    const {\n      _tweens,\n      _duration,\n      _reverseDelayTime,\n      _startTime,\n      _reversed,\n      _yoyo,\n      _repeat,\n      _isFinite,\n      _isPlaying,\n      _prevTime,\n      _onStartCallbackFired\n    } = this\n\n    let elapsed\n\n    time = time !== undefined ? time : now()\n\n    let delta = time - _prevTime\n    this._prevTime = time\n    if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n      time -= delta - FRAME_MS\n    }\n\n    if (!_isPlaying || time < _startTime) {\n      return true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    this.elapsed = elapsed\n\n    if (!_onStartCallbackFired) {\n      this.emit(EVENT_START)\n      this._onStartCallbackFired = true\n    }\n\n    const timing = time - _startTime\n    const _timing = _reversed ? _duration - timing : timing\n\n    let i = 0\n    while (i < _tweens.length) {\n      _tweens[i].update(_timing)\n      i++\n    }\n\n    this.emit(EVENT_UPDATE, elapsed, timing)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n          this.timingOrder(timing => timing.reverse())\n        }\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        i = 0\n        while (i < _tweens.length) {\n          _tweens[i].reassignValues(time)\n          i++\n        }\n\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\n        this._repeat = this._r\n\n        remove(this)\n        this._isPlaying = false\n\n        return false\n      }\n    }\n\n    return true\n  }\n\n  progress (value) {\n    return value !== undefined\n      ? this.update(value * this._duration)\n      : this.elapsed\n  }\n}\nexport default Timeline\n","import { decompose, recompose, decomposeString } from './constants'\n\n/**\n * Tween helper for plugins\n * @namespace TWEEN.Interpolator\n * @memberof TWEEN\n * @param {any} a - Initial position\n * @param {any} b - End position\n * @return {Function} Returns function that accepts number between `0-1`\n */\nconst Interpolator = (a, b) => {\n  let isArray = Array.isArray(a)\n  let origin = typeof a === 'string' ? a : isArray ? a.slice() : { ...a }\n  if (isArray) {\n    for (let i = 0, len = a.length; i < len; i++) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'object') {\n    for (let i in a) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'string') {\n    a = decomposeString(a)\n    b = decomposeString(b)\n\n    let i = 1\n    while (i < a.length) {\n      if (a[i] === b[i] && typeof a[i - 1] === 'string') {\n        a.splice(i - 1, 2, a[i - 1] + a[i])\n        b.splice(i - 1, 2, b[i - 1] + b[i])\n      } else {\n        i++\n      }\n    }\n\n    let c = { isString: true, length: a.length }\n    let d = { isString: true, length: b.length }\n\n    while (i < c.length) {\n      c[i] = a[i]\n      d[i] = b[i]\n      i++\n    }\n  }\n  return function (t) {\n    if (isArray) {\n      for (let i = 0, len = a.length; i < len; i++) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'object') {\n      for (let i in a) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'string') {\n      origin = recompose(0, 0, a, b, t, t, true)\n    }\n    return origin\n  }\n}\n\nexport default Interpolator\n"],"names":["root","self","window","global","this","exports","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","now","process","hrtime","undefined","versions","electron","time","performance","bind","offset","timing","navigationStart","Date","_tweens","isStarted","_autoPlay","_onRequestTick","_ticker","emptyFrame","powerModeThrottle","_tick","handleLag","onRequestTick","push","_requestTick","i","length","add","tween","indexOf","splice","update","onTick","FrameThrottle","frameCount","getAll","autoPlay","state","removeAll","get","has","remove","preserve","isRunning","isLagSmoothing","Plugins","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","Math","cos","PI","sin","Exponential","pow","Circular","sqrt","Elastic","Back","s","Bounce","Stepped","steps","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","EVENT_CALLBACK","EVENT_UPDATE","EVENT_COMPLETE","EVENT_START","EVENT_REPEAT","EVENT_REVERSE","EVENT_PAUSE","EVENT_PLAY","EVENT_RESTART","EVENT_STOP","EVENT_SEEK","STRING_PROP","NUM_REGEX","HEXC_REGEX","deepCopy","source","nodeType","Array","isArray","concat","target","prop","isNaNForST","v","isNaN","hexColor","hex2rgb","all","hex","r","g","b","color","parseInt","decomposeString","fromValue","replace","match","map","decompose","obj","from","to","stringBuffer","toValue","fromValue1","toValue1","shift","fromValue2","isString","toValue2","prop2","RGB","RGBA","isRGBColor","recompose","t","originalT","STRING_BUFFER","len","isRelative","currentValue","parseFloat","substr","propRegExp","replaceBrace","propExtract","property","value","props","split","propsLastIndex","lastArr","lastObj","reduce","nested","index","nextProp","nextIsArray","SET_NESTED","nested2","nested3","prop3","Interpolation","m","f","floor","Utils","Bezier","Reset","n","pw","Bernstein","isBArray","p","idx","round","vCurr","ks","CatmullRom","p0","p1","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Store","node","object","ID","queueID","storeID","_startTime","propNormaliseRequired","selector","collection","allowRaw","document","querySelectorAll","querySelector","_id","defaultEasing","Tween","params","quickRender","render","_rendered","_onStartCallbackFired","fromTo","Selector","NodeCache","_valuesEnd","_valuesStart","_duration","_easingFunction","_easingReverse","_interpolationFunction","_initTime","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_pausedTime","_isFinite","_maxListener","_chainedTweensCount","_prevTime","count","event","callback","callbackName","callbackId","args","apply","arg1","arg2","arg3","arg4","emit","noDelay","reassignValues","keepPlaying","updateTime","pause","amount","properties","duration","InitialValues","prevTweenByNode","normalisedProp","Object","keys","start","end","init","call","skipProcess","unshift","arrayOfStrings","stringObject","ii","len2","Renderer","__render","atStart","arguments","isFinite","_reverseDelayTime","forceTime","elapsed","currentEasing","propCount","delta","_interpolationFunctionCall","PlaybackPosition","totalTime","labels","offsets","name","rty","rt","currOffset","type","charAt","Number","parseLabel","shuffle","j","x","random","Timeline","startTime","_defaultParams","position","addLabel","mode","nodes","stagger","totalStagger","label","getTiming","_tween","max","method","setLabel","easing","interpolation","_timing","timingOrder","reverse","Interpolator","origin","slice","c","d"],"mappings":"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"}