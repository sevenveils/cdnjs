{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/PlaybackPosition.js","../src/Timeline.js","../src/Interpolator.js"],"sourcesContent":["/* global global, self */\nexport let root =\n  typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n        ? global\n        : this || (typeof exports !== 'undefined' ? exports : {})\nexport let requestAnimationFrame = root.requestAnimationFrame || ((fn) => root.setTimeout(fn, 50 / 3))\nexport let cancelAnimationFrame = root.cancelAnimationFrame || ((id) => root.clearTimeout(id))\n","/* global process */\nimport { requestAnimationFrame, cancelAnimationFrame, root } from './shim'\n\n/**\n * Get browser/Node.js current time-stamp\n * @return Normalised current time-stamp in milliseconds\n * @memberof TWEEN\n * @example\n * TWEEN.now\n */\nconst now = (function () {\n  if (\n    typeof process !== 'undefined' &&\n    process.hrtime !== undefined &&\n    (!process.versions || process.versions.electron === undefined)\n  ) {\n    return function () {\n      const time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n    // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined && root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n    // Use Date.now if it is available.\n  } else {\n    const offset =\n      root.performance && root.performance.timing && root.performance.timing.navigationStart\n        ? root.performance.timing.navigationStart\n        : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n})()\n\n/**\n * Lightweight, effecient and modular ES6 version of tween.js\n * @copyright 2019 @dalisoft and es6-tween contributors\n * @license MIT\n * @namespace TWEEN\n * @example\n * // ES6\n * const {add, remove, isRunning, autoPlay} = TWEEN\n */\nconst _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _onRequestTick = []\nconst _ticker = requestAnimationFrame\nlet emptyFrame = 0\nlet powerModeThrottle = 120\nlet _tick\nlet handleLag = true\n\nconst onRequestTick = (fn) => {\n  _onRequestTick.push(fn)\n}\n\nconst _requestTick = () => {\n  for (let i = 0; i < _onRequestTick.length; i++) {\n    _onRequestTick[i]()\n  }\n}\n\n/**\n * Adds tween to list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * let tween = new Tween({x:0})\n * tween.to({x:200}, 1000)\n * TWEEN.add(tween)\n */\nconst add = (tween) => {\n  let i = _tweens.indexOf(tween)\n\n  if (i > -1) {\n    _tweens.splice(i, 1)\n  }\n\n  _tweens.push(tween)\n\n  emptyFrame = 0\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\n/**\n * Adds ticker like event\n * @param {Function} fn callback\n * @memberof TWEEN\n * @example\n * TWEEN.onTick(time => console.log(time))\n */\nconst onTick = (fn) => _tweens.push({ update: fn })\n\n/**\n * Sets after how much frames empty updating should stop\n * @param {number} frameCount=120 count of frames that should stop after all tweens removed\n * @memberof TWEEN\n * @example\n * TWEEN.FrameThrottle(60)\n */\nconst FrameThrottle = (frameCount = 120) => {\n  powerModeThrottle = frameCount * 1.05\n}\n\n/**\n * Handle lag, useful if you have rendering Canvas or DOM objects or using es6-tween plugins\n * @param {number} state=true handle lag state\n * @memberof TWEEN\n * @example\n * TWEEN.ToggleLagSmoothing(false)\n */\nconst ToggleLagSmoothing = (_state = true) => {\n  handleLag = _state\n}\n\n/**\n * @returns {Array<Tween>} List of tweens in Array\n * @memberof TWEEN\n * TWEEN.getAll() // list of tweens\n */\nconst getAll = () => _tweens\n\n/**\n * Runs update loop automaticlly\n * @param {Boolean} state State of auto-run of update loop\n * @example TWEEN.autoPlay(true)\n * @memberof TWEEN\n */\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\n/**\n * Removes all tweens from list\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\n * @memberof TWEEN\n */\nconst removeAll = () => {\n  _tweens.length = 0\n  cancelAnimationFrame(_tick)\n  isStarted = false\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Tween} Matched tween\n * @memberof TWEEN\n * @example\n * TWEEN.get(tween)\n */\nconst get = (tween) => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Boolean} Status of Exists tween or not\n * @memberof TWEEN\n * @example\n * TWEEN.has(tween)\n */\nconst has = (tween) => {\n  return get(tween) !== null\n}\n/**\n * Removes tween from list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * TWEEN.remove(tween)\n */\nconst remove = (tween) => {\n  const i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n  if (_tweens.length === 0) {\n    cancelAnimationFrame(_tick)\n    isStarted = false\n  }\n}\n\n/**\n * Updates global tweens by given time\n * @param {number=} time Timestamp\n * @param {Boolean=} preserve Prevents tween to be removed after finish\n * @memberof TWEEN\n * @example\n * TWEEN.update(500)\n */\n\nconst update = (time = now(), preserve) => {\n  if (emptyFrame >= powerModeThrottle && handleLag) {\n    isStarted = false\n    emptyFrame = 0\n    cancelAnimationFrame(_tick)\n    return false\n  }\n\n  if (_autoPlay && isStarted) {\n    _tick = _ticker(update)\n  } else {\n    _requestTick()\n  }\n\n  if (!_tweens.length) {\n    emptyFrame++\n  }\n\n  let i = 0\n  let length = _tweens.length\n  while (i < length) {\n    _tweens[i++].update(time, preserve)\n\n    if (length > _tweens.length) {\n      // The tween has been removed, keep same index\n      i--\n    }\n\n    length = _tweens.length\n  }\n\n  return true\n}\n\n/**\n * The state of ticker running\n * @return {Boolean} Status of running updates on all tweens\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isRunning = () => isStarted\n\n/**\n * Returns state of lag smoothing handling\n * @return {Boolean} Status of lag smoothing state\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isLagSmoothing = () => handleLag\n\n/**\n * The plugins store object\n * @namespace TWEEN.Plugins\n * @memberof TWEEN\n * @example\n * let num = Plugins.num = function (node, start, end) {\n * return t => start + (end - start) * t\n * }\n *\n * @static\n */\nconst Plugins = {}\n\nexport {\n  Plugins,\n  get,\n  has,\n  getAll,\n  removeAll,\n  remove,\n  add,\n  now,\n  update,\n  autoPlay,\n  onTick,\n  onRequestTick,\n  isRunning,\n  isLagSmoothing,\n  FrameThrottle,\n  ToggleLagSmoothing\n}\n","/**\n * List of full easings\n * @namespace TWEEN.Easing\n * @example\n * import {Tween, Easing} from 'es6-tween'\n *\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\n */\nconst Easing = {\n  Linear: {\n    None (k) {\n      return k\n    }\n  },\n\n  Quadratic: {\n    In (k) {\n      return Math.pow(k, 2)\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 2)\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n  },\n\n  Cubic: {\n    In (k) {\n      return Math.pow(k, 3)\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 3)\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n  },\n\n  Quartic: {\n    In (k) {\n      return Math.pow(k, 4)\n    },\n\n    Out (k) {\n      return 1 - --k * k * k * k\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 4)\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n  },\n\n  Quintic: {\n    In (k) {\n      return Math.pow(k, 5)\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 5)\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n  },\n\n  Sinusoidal: {\n    In (k) {\n      return 1 - Math.cos((k * Math.PI) / 2)\n    },\n\n    Out (k) {\n      return Math.sin((k * Math.PI) / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n  },\n\n  Exponential: {\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n  },\n\n  Circular: {\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - --k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n  },\n\n  Elastic: {\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n  },\n\n  Back: {\n    In (k) {\n      const s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      const s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      const s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n  },\n\n  Bounce: {\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      let x = 2.75\n      let y = 7.5625\n      if (k < 1 / x) {\n        return y * k * k\n      } else if (k < 2 / x) {\n        return y * (k -= 1.5 / x) * k + 0.75\n      } else if (k < 2.5 / x) {\n        return y * (k -= 2.25 / x) * k + 0.9375\n      } else {\n        return y * (k -= 2.625 / x) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n  },\n\n  Stepped: {\n    steps: (steps) => (k) => ((k * steps) | 0) / steps\n  }\n}\n\nexport default Easing\n","// Frame lag-fix constants\nexport const FRAME_MS = 50 / 3\nexport const TOO_LONG_FRAME_MS = 250\n\nexport const CHAINED_TWEENS = '_chainedTweens'\n\n// Event System\nexport const EVENT_CALLBACK = 'Callback'\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RESTART = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP'\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g\n\n// Copies everything, duplicates, no shallow-copy\nexport function deepCopy (source) {\n  if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\n    return source\n  } else if (Array.isArray(source)) {\n    return [].concat(source)\n  } else if (typeof source === 'object') {\n    let target = {}\n    for (let prop in source) {\n      target[prop] = deepCopy(source[prop])\n    }\n    return target\n  }\n  return source\n}\n\nconst isNaNForST = (v) => isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' '\n\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi\nconst hex2rgb = (all, hex) => {\n  let r\n  let g\n  let b\n  if (hex.length === 3) {\n    r = hex[0]\n    g = hex[1]\n    b = hex[2]\n    hex = r + r + g + g + b + b\n  }\n  let color = parseInt(hex, 16)\n  r = (color >> 16) & 255\n  g = (color >> 8) & 255\n  b = color & 255\n  return 'rgb(' + r + ', ' + g + ', ' + b + ')'\n}\n\nexport function decomposeString (fromValue) {\n  return typeof fromValue !== 'string'\n    ? fromValue\n    : fromValue\n      .replace(hexColor, hex2rgb)\n      .match(NUM_REGEX)\n      .map((v) => (isNaNForST(v) ? v : +v))\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose (prop, obj, from, to, stringBuffer) {\n  const fromValue = from[prop]\n  const toValue = to[prop]\n\n  if (typeof fromValue === 'string' && Array.isArray(toValue)) {\n    const fromValue1 = decomposeString(fromValue)\n    const toValues = toValue.map(decomposeString)\n\n    fromValue1.isString = true\n    from[prop] = fromValue1\n    to[prop] = toValues\n    return true\n  } else if (typeof fromValue === 'string' || typeof toValue === 'string') {\n    let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue)\n    let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue)\n\n    let i = 1\n    while (i < fromValue1.length) {\n      if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n        fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i])\n        toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i])\n      } else {\n        i++\n      }\n    }\n\n    i = 0\n\n    if (fromValue1[0] === STRING_PROP) {\n      fromValue1.shift()\n    }\n    if (toValue1[0] === STRING_PROP) {\n      toValue1.shift()\n    }\n\n    fromValue1.isString = true\n    toValue1.isString = true\n\n    from[prop] = fromValue1\n    to[prop] = toValue1\n    return true\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (Array.isArray(fromValue)) {\n      return fromValue.map((v, i) => decompose(i, obj[prop], fromValue, toValue))\n    } else {\n      for (let prop2 in toValue) {\n        decompose(prop2, obj[prop], fromValue, toValue)\n      }\n    }\n    return true\n  }\n  return false\n}\n\n// Recompose value\nexport const RGB = 'rgb('\nexport const RGBA = 'rgba('\n\nexport const isRGBColor = (v, i, r = RGB) =>\n  typeof v[i] === 'number' && (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r)\nexport function recompose (prop, obj, from, to, t, originalT, stringBuffer) {\n  const fromValue = stringBuffer ? from : from[prop]\n  const toValue = stringBuffer ? to : to[prop]\n  if (toValue === undefined) {\n    return fromValue\n  }\n  if (fromValue === undefined || typeof fromValue === 'string' || fromValue === toValue) {\n    return toValue\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (!fromValue || !toValue) {\n      return obj[prop]\n    }\n    if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\n      let STRING_BUFFER = ''\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n        let currentValue =\n          typeof fromValue[i] !== 'number'\n            ? fromValue[i]\n            : isRelative\n              ? fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n              : fromValue[i] + (toValue[i] - fromValue[i]) * t\n        if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n          currentValue |= 0\n        }\n        STRING_BUFFER += currentValue\n        if (isRelative && originalT === 1) {\n          fromValue[i] = fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2))\n        }\n      }\n      if (!stringBuffer) {\n        obj[prop] = STRING_BUFFER\n      }\n      return STRING_BUFFER\n    } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n      for (let i in fromValue) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    }\n  } else if (typeof fromValue === 'number') {\n    const isRelative = typeof toValue === 'string'\n    obj[prop] = isRelative\n      ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n      : fromValue + (toValue - fromValue) * t\n    if (isRelative && originalT === 1) {\n      from[prop] = obj[prop]\n    }\n  } else if (typeof toValue === 'function') {\n    obj[prop] = toValue(t)\n  }\n  return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj, property) {\n  const value = obj[property]\n  const props = property.replace(replaceBrace, '').split(propRegExp)\n  const propsLastIndex = props.length - 1\n  let lastArr = Array.isArray(obj)\n  let lastObj = typeof obj === 'object' && !lastArr\n  if (lastObj) {\n    obj[property] = null\n    delete obj[property]\n  } else if (lastArr) {\n    obj.splice(property, 1)\n  }\n  return props.reduce((nested, prop, index) => {\n    if (lastArr) {\n      if (prop !== '.' && prop !== '[') {\n        prop *= 1\n      }\n    }\n    let nextProp = props[index + 1]\n    let nextIsArray = nextProp === '['\n    if (prop === '.' || prop === '[') {\n      if (prop === '.') {\n        lastObj = true\n        lastArr = false\n      } else if (prop === '[') {\n        lastObj = false\n        lastArr = true\n      }\n      return nested\n    } else if (nested[prop] === undefined) {\n      if (lastArr || lastObj) {\n        nested[prop] = index === propsLastIndex ? value : lastArr || nextIsArray ? [] : lastObj ? {} : null\n        lastObj = lastArr = false\n        return nested[prop]\n      }\n    } else if (nested[prop] !== undefined) {\n      if (index === propsLastIndex) {\n        nested[prop] = value\n      }\n      return nested[prop]\n    }\n    return nested\n  }, obj)\n}\n\nexport const SET_NESTED = function (nested) {\n  if (typeof nested === 'object' && !!nested) {\n    for (let prop in nested) {\n      if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n        propExtract(nested, prop)\n      } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n        let nested2 = nested[prop]\n        for (let prop2 in nested2) {\n          if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n            propExtract(nested2, prop2)\n          } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n            let nested3 = nested2[prop2]\n            for (let prop3 in nested3) {\n              if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                propExtract(nested3, prop3)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return nested\n}\n","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * List of full Interpolation\n * @namespace TWEEN.Interpolation\n * @example\n * import {Interpolation, Tween} from 'es6-tween'\n *\n * let bezier = Interpolation.Bezier\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof TWEEN\n */\nconst Interpolation = {\n  Linear (v, k, value) {\n    const m = v.length - 1\n    const f = m * k\n    const i = Math.floor(f)\n    const fn = Interpolation.Utils.Linear\n\n    if (k < 0) {\n      return fn(v[0], v[1], f, value)\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f, value)\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n  },\n\n  Bezier (v, k, value) {\n    let b = Interpolation.Utils.Reset(value)\n    let n = v.length - 1\n    let pw = Math.pow\n    let fn = Interpolation.Utils.Bernstein\n\n    let isBArray = Array.isArray(b)\n\n    for (let i = 0; i <= n; i++) {\n      if (typeof b === 'number') {\n        b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n      } else if (isBArray) {\n        for (let p = 0, len = b.length; p < len; p++) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'object') {\n        for (let p in b) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'string') {\n        let STRING_BUFFER = ''\n        let idx = Math.round(n * k)\n        let vCurr = v[idx]\n        for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n          STRING_BUFFER += vCurr[ks]\n        }\n        return STRING_BUFFER\n      }\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k, value) {\n    const m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    const fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor((f = m * (1 + k)))\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value)\n    } else {\n      if (k < 0) {\n        return fn(v[1], v[1], v[0], v[0], -k, value)\n      }\n\n      if (k > 1) {\n        return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value)\n    }\n  },\n\n  Utils: {\n    Linear (p0, p1, t, v) {\n      if (p0 === p1 || typeof p0 === 'string') {\n        // Quick return for performance reason\n        if (p1.length && p1.splice && p1.isString) {\n          p1 = ''\n          for (let i = 0, len = p0.length; i < len; i++) {\n            p1 += p0[i]\n          }\n        }\n        return p1\n      } else if (typeof p0 === 'number') {\n        return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          const isForceStringProp = typeof p0[0] === 'string' || p0.isString\n          if (isForceStringProp || p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = isForceStringProp ? 0 : 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                t === 0 ? p0[i] : t === 1 ? p1[i] : typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n              if ((t > 0 && t < 1 && isRGBColor(p0, i)) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          } else if (v && v.length && v.splice) {\n            for (let p = 0, len = v.length; p < len; p++) {\n              v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n            }\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        }\n        return v\n      }\n    },\n\n    Reset (value) {\n      if (Array.isArray(value)) {\n        for (let i = 0, len = value.length; i < len; i++) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'object') {\n        for (let i in value) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'number') {\n        return 0\n      }\n      return value\n    },\n\n    Bernstein (n, i) {\n      const fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      const a = [1]\n\n      return (n) => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        const v0 = (p2 - p0) * 0.5\n        const v1 = (p3 - p1) * 0.5\n        const t2 = t * t\n        const t3 = t * t2\n\n        return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number' ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t) : p3[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n          }\n        }\n        return v\n      }\n    }\n  }\n}\n\nexport default Interpolation\n","import { remove } from './core'\n\nexport const Store = {}\nexport default function (node, object, tween) {\n  if (!node || !node.nodeType) {\n    return object\n  }\n  const ID = node.queueID || 'q_' + Date.now()\n  if (!node.queueID) {\n    node.queueID = ID\n  }\n  const storeID = Store[ID]\n  if (storeID) {\n    if (storeID.object === object && node === storeID.tween.node && tween._startTime === storeID.tween._startTime) {\n      remove(storeID.tween)\n    } else if (typeof object === 'object' && !!object && !!storeID.object) {\n      for (let prop in object) {\n        if (prop in storeID.object) {\n          if (tween._startTime === storeID.tween._startTime) {\n            delete storeID.object[prop]\n          } else {\n            storeID.propNormaliseRequired = true\n          }\n        }\n      }\n      Object.assign(storeID.object, object)\n    }\n    return storeID.object\n  }\n\n  if (typeof object === 'object' && !!object) {\n    Store[ID] = {\n      tween,\n      object,\n      propNormaliseRequired: false\n    }\n    return Store[ID].object\n  }\n\n  return object\n}\n","export default function (selector, collection, allowRaw) {\n  if (collection) {\n    return !selector\n      ? null\n      : (typeof window !== 'undefined' && selector === window) ||\n        (typeof document !== 'undefined' && selector === document)\n        ? [selector]\n        : typeof selector === 'string'\n          ? !!document.querySelectorAll && document.querySelectorAll(selector)\n          : Array.isArray(selector)\n            ? selector\n            : selector.nodeType\n              ? [selector]\n              : allowRaw\n                ? selector\n                : []\n  }\n  return !selector\n    ? null\n    : (typeof window !== 'undefined' && selector === window) ||\n      (typeof document !== 'undefined' && selector === document)\n      ? selector\n      : typeof selector === 'string'\n        ? !!document.querySelector && document.querySelector(selector)\n        : Array.isArray(selector)\n          ? selector[0]\n          : selector.nodeType\n            ? selector\n            : allowRaw\n              ? selector\n              : null\n}\n","import { add, now, Plugins, remove, isRunning, isLagSmoothing } from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport NodeCache, { Store } from './NodeCache'\nimport Selector from './selector'\nimport {\n  decompose,\n  decomposeString,\n  recompose,\n  deepCopy,\n  SET_NESTED,\n  EVENT_CALLBACK,\n  CHAINED_TWEENS,\n  EVENT_UPDATE,\n  EVENT_COMPLETE,\n  EVENT_START,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_PAUSE,\n  EVENT_PLAY,\n  EVENT_RESTART,\n  EVENT_STOP,\n  EVENT_SEEK,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\n/**\n * Tween main constructor\n * @constructor\n * @class\n * @namespace TWEEN.Tween\n * @param {Object|Element} node Node Element or Tween initial object\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\n */\nclass Tween {\n  /**\n   * Easier way to call the Tween\n   * @param {Element} node DOM Element\n   * @param {object} object - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static fromTo (node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to\n    const tween = new Tween(node, object).to(to, params)\n    if (params.quickRender) {\n      tween.render().update(tween._startTime)\n      tween._rendered = false\n      tween._onStartCallbackFired = false\n    }\n    return tween\n  }\n  /**\n   * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.to(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static to (node, to, params) {\n    return Tween.fromTo(node, null, to, params)\n  }\n  /**\n   * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example Tween.from(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static from (node, from, params) {\n    return Tween.fromTo(node, from, null, params)\n  }\n  constructor (node, object) {\n    this.id = _id++\n    if (!!node && typeof node === 'object' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (!!node && (node.nodeType || node.length || typeof node === 'string')) {\n      node = this.node = Selector(node)\n      object = this.object = NodeCache(node, object, this)\n    }\n    this._valuesEnd = null\n    this._valuesStart = Array.isArray(object) ? [] : {}\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._easingReverse = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._initTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n    this._maxListener = 15\n    this._chainedTweensCount = 0\n    this._prevTime = null\n\n    return this\n  }\n\n  /**\n   * Sets max `event` listener's count to Events system\n   * @param {number} count - Event listener's count\n   * @memberof TWEEN.Tween\n   */\n  setMaxListener (count = 15) {\n    this._maxListener = count\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  on (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = callback\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system.\n   * Removes itself after fired once\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  once (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = (...args) => {\n          callback.apply(this, args)\n          this[callbackId] = null\n        }\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Removes `event` from Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  off (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId] === callback) {\n        this[callbackId] = null\n      }\n    }\n    return this\n  }\n\n  /**\n   * Emits/Fired/Trigger `event` from Events system listeners\n   * @param {string} event - Event listener name\n   * @memberof TWEEN.Tween\n   */\n  emit (event, arg1, arg2, arg3) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n\n    if (!this[callbackName + 0]) {\n      return this\n    }\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId]) {\n        this[callbackId](arg1, arg2, arg3)\n      }\n    }\n    return this\n  }\n\n  /**\n   * @return {boolean} State of playing of tween\n   * @example tween.isPlaying() // returns `true` if tween in progress\n   * @memberof TWEEN.Tween\n   */\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  /**\n   * @return {boolean} State of started of tween\n   * @example tween.isStarted() // returns `true` if tween in started\n   * @memberof TWEEN.Tween\n   */\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  /**\n   * Reverses the tween state/direction\n   * @example tween.reverse()\n   * @param {boolean=} state Set state of current reverse\n   * @memberof TWEEN.Tween\n   */\n  reverse (state) {\n    const { _reversed } = this\n\n    this._reversed = state !== undefined ? state : !_reversed\n\n    return this\n  }\n\n  /**\n   * @return {boolean} State of reversed\n   * @example tween.reversed() // returns `true` if tween in reversed state\n   * @memberof TWEEN.Tween\n   */\n  reversed () {\n    return this._reversed\n  }\n\n  /**\n   * Pauses tween\n   * @example tween.pause()\n   * @memberof TWEEN.Tween\n   */\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  /**\n   * Play/Resume the tween\n   * @example tween.play()\n   * @memberof TWEEN.Tween\n   */\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    this._initTime = this._startTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  /**\n   * Restarts tween from initial value\n   * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\n   * @example tween.restart()\n   * @memberof TWEEN.Tween\n   */\n  restart (noDelay) {\n    this._repeat = this._r\n    this.reassignValues()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART, this.object)\n  }\n\n  /**\n   * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\n   * @param {Time} time Tween update time\n   * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\n   * @example tween.seek(500)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted, so we deprecated this method\n   */\n  seek (time, keepPlaying) {\n    const { _duration, _initTime, _startTime, _reversed } = this\n\n    let updateTime = _initTime + time\n    this._isPlaying = true\n\n    if (updateTime < _startTime && _startTime >= _initTime) {\n      this._startTime -= _duration\n      this._reversed = !_reversed\n    }\n\n    this.update(time, false)\n\n    this.emit(EVENT_SEEK, time, this.object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  /**\n   * Sets tween duration\n   * @param {number} amount Duration is milliseconds\n   * @example tween.duration(2000)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted and useless, so we deprecated this method\n   */\n  duration (amount) {\n    this._duration = typeof amount === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  /**\n   * Sets target value and duration\n   * @param {object} properties Target value (to value)\n   * @param {number|Object=} [duration=1000] Duration of tween\n   * @example let tween = new Tween({x:0}).to({x:100}, 2000)\n   * @memberof TWEEN.Tween\n   */\n  to (properties, duration = 1000, maybeUsed) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof duration === 'function') {\n      this._duration = typeof duration === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (const prop in duration) {\n        if (typeof this[prop] === 'function') {\n          const [arg1 = null, arg2 = null, arg3 = null, arg4 = null] = Array.isArray(duration[prop])\n            ? duration[prop]\n            : [duration[prop]]\n          this[prop](arg1, arg2, arg3, arg4)\n        }\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Renders and computes value at first render\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  render () {\n    if (this._rendered) {\n      return this\n    }\n    let { _valuesStart, _valuesEnd, object, node, InitialValues } = this\n\n    SET_NESTED(object)\n    SET_NESTED(_valuesEnd)\n\n    if (node && node.queueID && Store[node.queueID]) {\n      const prevTweenByNode = Store[node.queueID]\n      if (prevTweenByNode.propNormaliseRequired && prevTweenByNode.tween !== this) {\n        for (const property in _valuesEnd) {\n          if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\n            // delete prevTweenByNode.tween._valuesEnd[property];\n          }\n        }\n        prevTweenByNode.normalisedProp = true\n        prevTweenByNode.propNormaliseRequired = false\n      }\n    }\n\n    if (node && InitialValues) {\n      if (!object || Object.keys(object).length === 0) {\n        object = this.object = NodeCache(node, InitialValues(node, _valuesEnd), this)\n      } else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object)\n      }\n    }\n    for (const property in _valuesEnd) {\n      let start = object && object[property] && deepCopy(object[property])\n      let end = _valuesEnd[property]\n      if (Plugins[property] && Plugins[property].init) {\n        Plugins[property].init.call(this, start, end, property, object)\n        if (start === undefined && _valuesStart[property]) {\n          start = _valuesStart[property]\n        }\n        if (Plugins[property].skipProcess) {\n          continue\n        }\n      }\n      if (\n        (typeof start === 'number' && isNaN(start)) ||\n        start === null ||\n        end === null ||\n        start === false ||\n        end === false ||\n        start === undefined ||\n        end === undefined ||\n        start === end\n      ) {\n        continue\n      }\n      if (Array.isArray(end) && !Array.isArray(start)) {\n        end.unshift(start)\n        for (let i = 0, len = end.length; i < len; i++) {\n          if (typeof end[i] === 'string') {\n            let arrayOfStrings = decomposeString(end[i])\n            arrayOfStrings.isString = true\n            end[i] = arrayOfStrings\n          }\n        }\n      }\n      _valuesStart[property] = start\n      if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\n        continue\n      }\n      decompose(property, object, _valuesStart, _valuesEnd)\n    }\n\n    if (Tween.Renderer && this.node && Tween.Renderer.init) {\n      Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd)\n      this.__render = true\n    }\n\n    return this\n  }\n\n  /**\n   * Start the tweening\n   * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\n   * @example tween.start()\n   * @memberof TWEEN.Tween\n   */\n  start (time) {\n    this._startTime = time !== undefined ? (typeof time === 'string' ? now() + parseFloat(time) : time) : now()\n    this._startTime += this._delayTime\n    this._initTime = this._prevTime = this._startTime\n\n    this._onStartCallbackFired = false\n    this._rendered = false\n    this._isPlaying = true\n\n    add(this)\n\n    return this\n  }\n\n  /**\n   * Stops the tween\n   * @example tween.stop()\n   * @memberof TWEEN.Tween\n   */\n  stop () {\n    let { _isPlaying, _isFinite, object, _startTime, _duration, _r, _yoyo, _reversed } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    let atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed\n\n    this._reversed = false\n\n    if (_yoyo && atStart) {\n      this.update(_startTime)\n    } else {\n      this.update(_startTime + _duration)\n    }\n    remove(this)\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  /**\n   * Set delay of tween\n   * @param {number} amount Sets tween delay / wait duration\n   * @example tween.delay(500)\n   * @memberof TWEEN.Tween\n   */\n  delay (amount) {\n    this._delayTime = typeof amount === 'function' ? amount(this._delayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Chained tweens\n   * @param {any} arguments Arguments list\n   * @example tween.chainedTweens(tween1, tween2)\n   * @memberof TWEEN.Tween\n   */\n  chainedTweens () {\n    this._chainedTweensCount = arguments.length\n    if (!this._chainedTweensCount) {\n      return this\n    }\n    for (let i = 0, len = this._chainedTweensCount; i < len; i++) {\n      this[CHAINED_TWEENS + i] = arguments[i]\n    }\n\n    return this\n  }\n\n  /**\n   * Sets how times tween is repeating\n   * @param {amount} amount the times of repeat\n   * @example tween.repeat(5)\n   * @memberof TWEEN.Tween\n   */\n  repeat (amount) {\n    this._repeat = !this._duration ? 0 : typeof amount === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  /**\n   * Set delay of each repeat alternate of tween\n   * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\n   * @example tween.reverseDelay(500)\n   * @memberof TWEEN.Tween\n   */\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof amount === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Set `yoyo` state (enables reverse in repeat)\n   * @param {boolean} state Enables alternate direction for repeat\n   * @param {Function=} _easingReverse Easing function in reverse direction\n   * @example tween.yoyo(true)\n   * @memberof TWEEN.Tween\n   */\n  yoyo (state, _easingReverse) {\n    this._yoyo = typeof state === 'function' ? state(this._yoyo) : state === null ? this._yoyo : state\n    if (!state) {\n      this._reversed = false\n    }\n    this._easingReverse = _easingReverse || null\n\n    return this\n  }\n\n  /**\n   * Set easing\n   * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\n   * @example tween.easing(Easing.Elastic.InOut)\n   * @memberof TWEEN.Tween\n   */\n  easing (_easingFunction) {\n    this._easingFunction = _easingFunction\n\n    return this\n  }\n\n  /**\n   * Set interpolation\n   * @param {Function} _interpolationFunction Interpolation function\n   * @example tween.interpolation(Interpolation.Bezier)\n   * @memberof TWEEN.Tween\n   */\n  interpolation (_interpolationFunction) {\n    if (typeof _interpolationFunction === 'function') {\n      this._interpolationFunction = _interpolationFunction\n    }\n\n    return this\n  }\n\n  /**\n   * Reassigns value for rare-case like Tween#restart or for Timeline\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  reassignValues (time) {\n    const { _valuesStart, object, _delayTime } = this\n\n    this._isPlaying = true\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += _delayTime\n    this._reversed = false\n    add(this)\n\n    for (const property in _valuesStart) {\n      const start = _valuesStart[property]\n\n      object[property] = start\n    }\n\n    return this\n  }\n\n  /**\n   * Updates initial object to target value by given `time`\n   * @param {Time} time Current time\n   * @param {boolean=} preserve Prevents from removing tween from store\n   * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\n   * @example tween.update(100)\n   * @memberof TWEEN.Tween\n   */\n  update (time, preserve, forceTime) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _easingReverse,\n      _repeat,\n      _delayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _prevTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render,\n      _chainedTweensCount\n    } = this\n\n    let elapsed\n    let currentEasing\n    let property\n    let propCount = 0\n\n    if (!_duration) {\n      elapsed = 1\n      _repeat = 0\n    } else {\n      time = time !== undefined ? time : now()\n\n      let delta = time - _prevTime\n      this._prevTime = time\n      if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n        time -= delta - FRAME_MS\n      }\n\n      if (!_isPlaying || (time < _startTime && !forceTime)) {\n        return true\n      }\n\n      elapsed = (time - _startTime) / _duration\n      elapsed = elapsed > 1 ? 1 : elapsed\n      elapsed = _reversed ? 1 - elapsed : elapsed\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    currentEasing = _reversed ? _easingReverse || _easingFunction : _easingFunction\n\n    if (!object) {\n      return true\n    }\n\n    for (property in _valuesEnd) {\n      const start = _valuesStart[property]\n      if ((start === undefined || start === null) && !(Plugins[property] && Plugins[property].update)) {\n        continue\n      }\n      const end = _valuesEnd[property]\n      const value = currentEasing[property]\n        ? currentEasing[property](elapsed)\n        : typeof currentEasing === 'function'\n          ? currentEasing(elapsed)\n          : defaultEasing(elapsed)\n      const _interpolationFunctionCall = _interpolationFunction[property]\n        ? _interpolationFunction[property]\n        : typeof _interpolationFunction === 'function'\n          ? _interpolationFunction\n          : Interpolation.Linear\n\n      if (typeof end === 'number') {\n        object[property] = start + (end - start) * value\n      } else if (Array.isArray(end) && !end.isString && (!Array.isArray(start) || start.isString)) {\n        object[property] = _interpolationFunctionCall(end, value, object[property])\n      } else if (end && end.update) {\n        end.update(value)\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (typeof end === 'string' && typeof start === 'number') {\n        object[property] = start + parseFloat(end[0] + end.substr(2)) * value\n      } else {\n        recompose(property, object, _valuesStart, _valuesEnd, value, elapsed)\n      }\n      if (Plugins[property] && Plugins[property].update) {\n        Plugins[property].update.call(this, object[property], start, end, value, elapsed, property)\n      }\n      propCount++\n    }\n\n    if (!propCount) {\n      remove(this)\n      return false\n    }\n\n    if (__render && Tween.Renderer && Tween.Renderer.update) {\n      Tween.Renderer.update.call(this, object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed, time)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat > 0 && _duration > 0) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        } else {\n          for (property in _valuesEnd) {\n            let end = _valuesEnd[property]\n            if (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\n              _valuesStart[property] += parseFloat(end[0] + end.substr(2))\n            }\n          }\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time - _reverseDelayTime\n        } else {\n          this._startTime = time + _delayTime\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          this._isPlaying = false\n          remove(this)\n          _id--\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        if (_chainedTweensCount) {\n          for (let i = 0; i < _chainedTweensCount; i++) {\n            this[CHAINED_TWEENS + i].start(time + _duration)\n          }\n        }\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\n  constructor () {\n    this.totalTime = 0\n    this.labels = []\n    this.offsets = []\n  }\n  parseLabel (name, offset) {\n    const { offsets, labels } = this\n    let i = labels.indexOf(name)\n    if (typeof name === 'string' && name.indexOf('=') !== -1 && !offset && i === -1) {\n      const rty = name.substr(name.indexOf('=') - 1, 2)\n      const rt = name.split(rty)\n      offset = rt.length === 2 ? rty + rt[1] : null\n      name = rt[0]\n      i = labels.indexOf(name)\n    }\n    if (i !== -1 && name) {\n      let currOffset = offsets[i] || 0\n      if (typeof offset === 'number') {\n        currOffset = offset\n      } else if (typeof offset === 'string') {\n        if (offset.indexOf('=') !== -1) {\n          const type = offset.charAt(0)\n          offset = Number(offset.substr(2))\n          if (type === '+' || type === '-') {\n            currOffset += parseFloat(type + offset)\n          } else if (type === '*') {\n            currOffset *= offset\n          } else if (type === '/') {\n            currOffset /= offset\n          } else if (type === '%') {\n            currOffset *= offset / 100\n          }\n        }\n      }\n      return currOffset\n    }\n    return typeof offset === 'number' ? offset : 0\n  }\n  addLabel (name, offset) {\n    this.labels.push(name)\n    this.offsets.push(this.parseLabel(name, offset))\n    return this\n  }\n  setLabel (name, offset) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\n    }\n    return this\n  }\n  eraseLabel (name) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.labels.splice(i, 1)\n      this.offsets.splice(i, 1)\n    }\n    return this\n  }\n}\n","import { add, now, remove, isRunning, isLagSmoothing } from './core'\nimport PlaybackPosition from './PlaybackPosition'\nimport Tween from './Tween'\nimport {\n  EVENT_START,\n  EVENT_COMPLETE,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_RESTART,\n  EVENT_UPDATE,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\nimport Selector from './selector'\n\nexport const shuffle = (a) => {\n  let j\n  let x\n  let i\n  for (i = a.length; i; i -= 1) {\n    j = Math.floor(Math.random() * i)\n    x = a[i - 1]\n    a[i - 1] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\nlet _id = 0\n/**\n * Timeline main constructor.\n *\n * It works same as `Tween` instance, using `.repeat`, `.restart` or `etc` works like a `Tween`, so please see `Tween` class for methods\n * @constructor\n * @class\n * @namespace TWEEN.Timeline\n * @param {Object=} params Default params for new tweens\n * @example let tl = new Timeline({delay:200})\n * @extends Tween\n */\nclass Timeline extends Tween {\n  constructor (params) {\n    super()\n    this._duration = 0\n    this._startTime = params && params.startTime !== undefined ? params.startTime : now()\n    this._tweens = []\n    this.elapsed = 0\n    this._id = _id++\n    this._defaultParams = params\n    this.position = new PlaybackPosition()\n    this.position.addLabel('afterLast', this._duration)\n    this.position.addLabel('afterInit', this._startTime)\n    this._onStartCallbackFired = false\n\n    return this\n  }\n  mapTotal (fn) {\n    fn.call(this, this._tweens)\n    return this\n  }\n  timingOrder (fn) {\n    const timing = fn(this._tweens.map((t) => t._startTime))\n    this._tweens.map((tween, i) => {\n      tween._startTime = timing[i]\n    })\n    return this\n  }\n  getTiming (mode, nodes, params, offset = 0) {\n    if (mode === 'reverse') {\n      const { stagger } = params\n      const totalStagger = (stagger || 0) * (nodes.length - 1)\n      return nodes.map((node, i) => totalStagger - (stagger || 0) * i + offset)\n    } else if (mode === 'async') {\n      return nodes.map((node) => offset)\n    } else if (mode === 'sequence' || mode === 'delayed') {\n      let { stagger } = params\n      if (!stagger) {\n        stagger = (params.duration || 1000) / (nodes.length - 1)\n      }\n      return nodes.map((node, i) => stagger * i + offset)\n    } else if (mode === 'oneByOne') {\n      return nodes.map((node) => params.duration)\n    } else if (mode === 'shuffle') {\n      const { stagger } = params\n      return shuffle(nodes.map((node, i) => (stagger || 0) * i + offset))\n    } else {\n      const { stagger } = params\n      return nodes.map((node, i) => (stagger || 0) * i + offset)\n    }\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.fromTo(nodes, {x:0}, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  fromTo (nodes, from, to, params) {\n    nodes = Selector(nodes, true, true)\n    if (nodes && nodes.length) {\n      if (this._defaultParams) {\n        params = params ? { ...this._defaultParams, ...params } : this._defaultParams\n      }\n      const position = params.label\n      const offset =\n        typeof position === 'number'\n          ? position\n          : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\n      const mode = this.getTiming(params.mode, nodes, params, offset)\n      for (let i = 0, node, len = nodes.length; i < len; i++) {\n        node = nodes[i]\n        this.add(\n          Tween.fromTo(\n            node,\n            typeof from === 'function'\n              ? from(i, nodes.length)\n              : typeof from === 'object' && !!from\n                ? { ...from }\n                : null,\n            typeof to === 'function' ? to(i, nodes.length) : to,\n            typeof params === 'function' ? params(i, nodes.length) : params\n          ),\n          mode[i]\n        )\n      }\n    }\n    return this.start()\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example tl.from(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  from (nodes, from, params) {\n    return this.fromTo(nodes, from, null, params)\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.to(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  to (nodes, to, params) {\n    return this.fromTo(nodes, null, to, params)\n  }\n\n  /**\n   * Add label to Timeline\n   * @param {string} name Label name\n   * @param {any} offset Label value, can be `number` and/or `string`\n   * @example tl.add('label1', 200)\n   * @memberof Timeline\n   */\n  addLabel (name, offset) {\n    this.position.addLabel(name, offset)\n    return this\n  }\n\n  map (fn) {\n    for (let i = 0, len = this._tweens.length; i < len; i++) {\n      const _tween = this._tweens[i]\n      fn(_tween, i)\n      this._duration = Math.max(this._duration, _tween._duration + _tween._startTime)\n    }\n    return this\n  }\n\n  /**\n   * Add tween to Timeline\n   * @param {Tween} tween Tween instance\n   * @param {position} position Can be label name, number or relative number to label\n   * @example tl.add(new Tween(node, {x:0}).to({x:200}, 200))\n   * @memberof Timeline\n   */\n  add (tween, position) {\n    if (Array.isArray(tween)) {\n      tween.map((_tween) => {\n        this.add(_tween, position)\n      })\n      return this\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\n\n    const { _defaultParams, _duration } = this\n\n    if (_defaultParams) {\n      for (const method in _defaultParams) {\n        if (typeof tween[method] === 'function') {\n          tween[method](_defaultParams[method])\n        }\n      }\n    }\n\n    const offset =\n      typeof position === 'number'\n        ? position\n        : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\n    tween._startTime = Math.max(this._startTime, tween._delayTime, offset)\n    tween._delayTime = offset\n    tween._isPlaying = true\n    this._duration = Math.max(_duration, Math.max(tween._startTime + tween._delayTime, tween._duration))\n    this._tweens.push(tween)\n    this.position.setLabel('afterLast', this._duration)\n    return this\n  }\n\n  restart () {\n    this._startTime += now()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART)\n  }\n\n  easing (easing) {\n    return this.map((tween) => tween.easing(easing))\n  }\n\n  interpolation (interpolation) {\n    return this.map((tween) => tween.interpolation(interpolation))\n  }\n\n  update (time) {\n    const {\n      _tweens,\n      _duration,\n      _reverseDelayTime,\n      _startTime,\n      _reversed,\n      _yoyo,\n      _repeat,\n      _isFinite,\n      _isPlaying,\n      _prevTime,\n      _onStartCallbackFired\n    } = this\n\n    let elapsed\n\n    time = time !== undefined ? time : now()\n\n    let delta = time - _prevTime\n    this._prevTime = time\n    if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n      time -= delta - FRAME_MS\n    }\n\n    if (!_isPlaying || time < _startTime) {\n      return true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    this.elapsed = elapsed\n\n    if (!_onStartCallbackFired) {\n      this.emit(EVENT_START)\n      this._onStartCallbackFired = true\n    }\n\n    const timing = time - _startTime\n    const _timing = _reversed ? _duration - timing : timing\n\n    let i = 0\n    while (i < _tweens.length) {\n      _tweens[i].update(_timing)\n      i++\n    }\n\n    this.emit(EVENT_UPDATE, elapsed, timing)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n          this.timingOrder((timing) => timing.reverse())\n        }\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        i = 0\n        while (i < _tweens.length) {\n          _tweens[i].reassignValues(time)\n          i++\n        }\n\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\n        this._repeat = this._r\n\n        remove(this)\n        this._isPlaying = false\n\n        return false\n      }\n    }\n\n    return true\n  }\n\n  progress (value) {\n    return value !== undefined ? this.update(value * this._duration) : this.elapsed\n  }\n}\nexport default Timeline\n","import { decompose, recompose, decomposeString } from './constants'\n\n/**\n * Tween helper for plugins\n * @namespace TWEEN.Interpolator\n * @memberof TWEEN\n * @param {any} a - Initial position\n * @param {any} b - End position\n * @return {Function} Returns function that accepts number between `0-1`\n */\nconst Interpolator = (a, b) => {\n  let isArray = Array.isArray(a) && !a.isString\n  let origin = typeof a === 'string' ? a : isArray ? a.slice() : { ...a }\n  if (isArray) {\n    for (let i = 0, len = a.length; i < len; i++) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'object') {\n    for (let i in a) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'string') {\n    a = decomposeString(a)\n    b = decomposeString(b)\n\n    let i = 1\n    while (i < a.length) {\n      if (a[i] === b[i] && typeof a[i - 1] === 'string') {\n        a.splice(i - 1, 2, a[i - 1] + a[i])\n        b.splice(i - 1, 2, b[i - 1] + b[i])\n      } else {\n        i++\n      }\n    }\n\n    a.isString = true\n    b.isString = true\n  }\n  return (t) => {\n    if (isArray) {\n      for (let i = 0, len = a.length; i < len; i++) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'object') {\n      for (let i in a) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'string') {\n      origin = recompose(0, 0, a, b, t, t, true)\n    }\n    return origin\n  }\n}\n\nexport default Interpolator\n"],"names":["root","self","window","global","this","exports","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","now","process","hrtime","undefined","versions","electron","time","performance","bind","offset","timing","navigationStart","Date","_tweens","isStarted","_autoPlay","_onRequestTick","_ticker","emptyFrame","powerModeThrottle","_tick","handleLag","onRequestTick","push","_requestTick","i","length","add","tween","indexOf","splice","update","onTick","FrameThrottle","frameCount","ToggleLagSmoothing","_state","getAll","autoPlay","state","removeAll","get","has","remove","preserve","isRunning","isLagSmoothing","Plugins","Easing","Linear","None","k","Quadratic","In","Math","pow","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","PI","sin","Exponential","Circular","sqrt","Elastic","Back","s","Bounce","x","y","Stepped","steps","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","EVENT_CALLBACK","EVENT_UPDATE","EVENT_COMPLETE","EVENT_START","EVENT_REPEAT","EVENT_REVERSE","EVENT_PAUSE","EVENT_PLAY","EVENT_RESTART","EVENT_STOP","EVENT_SEEK","STRING_PROP","NUM_REGEX","deepCopy","source","nodeType","Array","isArray","concat","target","prop","isNaNForST","v","isNaN","hexColor","hex2rgb","all","hex","r","g","b","color","parseInt","decomposeString","fromValue","replace","match","map","decompose","obj","from","to","stringBuffer","toValue","fromValue1","toValues","isString","toValue1","shift","prop2","RGB","RGBA","isRGBColor","recompose","t","originalT","STRING_BUFFER","len","isRelative","currentValue","parseFloat","substr","propRegExp","replaceBrace","propExtract","property","value","props","split","propsLastIndex","lastArr","lastObj","reduce","nested","index","nextProp","nextIsArray","SET_NESTED","nested2","nested3","prop3","Interpolation","m","f","floor","Utils","Bezier","Reset","n","pw","Bernstein","isBArray","p","idx","round","vCurr","ks","CatmullRom","p0","p1","isForceStringProp","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Store","node","object","ID","queueID","storeID","_startTime","propNormaliseRequired","Object","assign","selector","collection","allowRaw","document","querySelectorAll","querySelector","_id","defaultEasing","Tween","params","quickRender","render","_rendered","_onStartCallbackFired","fromTo","Selector","NodeCache","_valuesEnd","_valuesStart","_duration","_easingFunction","_easingReverse","_interpolationFunction","_initTime","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_pausedTime","_isFinite","_maxListener","_chainedTweensCount","_prevTime","count","event","callback","callbackName","callbackId","args","apply","arg1","arg2","arg3","emit","noDelay","reassignValues","keepPlaying","updateTime","pause","amount","properties","duration","arg4","InitialValues","prevTweenByNode","normalisedProp","keys","start","end","init","call","skipProcess","unshift","arrayOfStrings","Renderer","__render","atStart","arguments","isFinite","_reverseDelayTime","forceTime","elapsed","currentEasing","propCount","delta","_interpolationFunctionCall","PlaybackPosition","totalTime","labels","offsets","name","rty","rt","currOffset","type","charAt","Number","parseLabel","shuffle","j","random","Timeline","startTime","_defaultParams","position","addLabel","mode","nodes","stagger","totalStagger","label","getTiming","_tween","max","method","setLabel","easing","interpolation","_timing","timingOrder","reverse","Interpolator","origin","slice"],"mappings":"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"}