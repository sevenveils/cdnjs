{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/PlaybackPosition.js","../src/Timeline.js","../src/Interpolator.js"],"sourcesContent":["/* global global, self */\nexport let root =\n  typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n      ? window\n      : typeof global !== 'undefined'\n        ? global\n        : this || (typeof exports !== 'undefined' ? exports : {})\nexport let requestAnimationFrame = root.requestAnimationFrame || ((fn) => root.setTimeout(fn, 50 / 3))\nexport let cancelAnimationFrame = root.cancelAnimationFrame || ((id) => root.clearTimeout(id))\n","/* global process */\nimport { requestAnimationFrame, cancelAnimationFrame, root } from './shim'\n\n/**\n * Get browser/Node.js current time-stamp\n * @return Normalised current time-stamp in milliseconds\n * @memberof TWEEN\n * @example\n * TWEEN.now\n */\nconst now = (function () {\n  if (\n    typeof process !== 'undefined' &&\n    process.hrtime !== undefined &&\n    (!process.versions || process.versions.electron === undefined)\n  ) {\n    return function () {\n      const time = process.hrtime()\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000\n    }\n    // In a browser, use window.performance.now if it is available.\n  } else if (root.performance !== undefined && root.performance.now !== undefined) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance)\n    // Use Date.now if it is available.\n  } else {\n    const offset =\n      root.performance && root.performance.timing && root.performance.timing.navigationStart\n        ? root.performance.timing.navigationStart\n        : Date.now()\n    return function () {\n      return Date.now() - offset\n    }\n  }\n})()\n\n/**\n * Lightweight, effecient and modular ES6 version of tween.js\n * @copyright 2019 @dalisoft and es6-tween contributors\n * @license MIT\n * @namespace TWEEN\n * @example\n * // ES6\n * const {add, remove, isRunning, autoPlay} = TWEEN\n */\nconst _tweens = []\nlet isStarted = false\nlet _autoPlay = false\nlet _onRequestTick = []\nconst _ticker = requestAnimationFrame\nlet emptyFrame = 0\nlet powerModeThrottle = 120\nlet _tick\nlet handleLag = true\n\nconst onRequestTick = (fn) => {\n  _onRequestTick.push(fn)\n}\n\nconst _requestTick = () => {\n  for (let i = 0; i < _onRequestTick.length; i++) {\n    _onRequestTick[i]()\n  }\n}\n\n/**\n * Adds tween to list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * let tween = new Tween({x:0})\n * tween.to({x:200}, 1000)\n * TWEEN.add(tween)\n */\nconst add = (tween) => {\n  let i = _tweens.indexOf(tween)\n\n  if (i > -1) {\n    _tweens.splice(i, 1)\n  }\n\n  _tweens.push(tween)\n\n  emptyFrame = 0\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update)\n    isStarted = true\n  }\n}\n\n/**\n * Adds ticker like event\n * @param {Function} fn callback\n * @memberof TWEEN\n * @example\n * TWEEN.onTick(time => console.log(time))\n */\nconst onTick = (fn) => _tweens.push({ update: fn })\n\n/**\n * Sets after how much frames empty updating should stop\n * @param {number} frameCount=120 count of frames that should stop after all tweens removed\n * @memberof TWEEN\n * @example\n * TWEEN.FrameThrottle(60)\n */\nconst FrameThrottle = (frameCount = 120) => {\n  powerModeThrottle = frameCount * 1.05\n}\n\n/**\n * Handle lag, useful if you have rendering Canvas or DOM objects or using es6-tween plugins\n * @param {number} state=true handle lag state\n * @memberof TWEEN\n * @example\n * TWEEN.ToggleLagSmoothing(false)\n */\nconst ToggleLagSmoothing = (_state = true) => {\n  handleLag = _state\n}\n\n/**\n * @returns {Array<Tween>} List of tweens in Array\n * @memberof TWEEN\n * TWEEN.getAll() // list of tweens\n */\nconst getAll = () => _tweens\n\n/**\n * Runs update loop automaticlly\n * @param {Boolean} state State of auto-run of update loop\n * @example TWEEN.autoPlay(true)\n * @memberof TWEEN\n */\nconst autoPlay = (state) => {\n  _autoPlay = state\n}\n\n/**\n * Removes all tweens from list\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\n * @memberof TWEEN\n */\nconst removeAll = () => {\n  _tweens.length = 0\n  cancelAnimationFrame(_tick)\n  isStarted = false\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Tween} Matched tween\n * @memberof TWEEN\n * @example\n * TWEEN.get(tween)\n */\nconst get = (tween) => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i]\n    }\n  }\n\n  return null\n}\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Boolean} Status of Exists tween or not\n * @memberof TWEEN\n * @example\n * TWEEN.has(tween)\n */\nconst has = (tween) => {\n  return get(tween) !== null\n}\n/**\n * Removes tween from list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * TWEEN.remove(tween)\n */\nconst remove = (tween) => {\n  const i = _tweens.indexOf(tween)\n  if (i !== -1) {\n    _tweens.splice(i, 1)\n  }\n  if (_tweens.length === 0) {\n    cancelAnimationFrame(_tick)\n    isStarted = false\n  }\n}\n\n/**\n * Updates global tweens by given time\n * @param {number=} time Timestamp\n * @param {Boolean=} preserve Prevents tween to be removed after finish\n * @memberof TWEEN\n * @example\n * TWEEN.update(500)\n */\n\nconst update = (time = now(), preserve) => {\n  if (emptyFrame >= powerModeThrottle && handleLag) {\n    isStarted = false\n    emptyFrame = 0\n    cancelAnimationFrame(_tick)\n    return false\n  }\n\n  if (_autoPlay && isStarted) {\n    _tick = _ticker(update)\n  } else {\n    _requestTick()\n  }\n\n  if (!_tweens.length) {\n    emptyFrame++\n  }\n\n  let i = 0\n  let length = _tweens.length\n  while (i < length) {\n    _tweens[i++].update(time, preserve)\n\n    if (length > _tweens.length) {\n      // The tween has been removed, keep same index\n      i--\n    }\n\n    length = _tweens.length\n  }\n\n  return true\n}\n\n/**\n * The state of ticker running\n * @return {Boolean} Status of running updates on all tweens\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isRunning = () => isStarted\n\n/**\n * Returns state of lag smoothing handling\n * @return {Boolean} Status of lag smoothing state\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isLagSmoothing = () => handleLag\n\n/**\n * The plugins store object\n * @namespace TWEEN.Plugins\n * @memberof TWEEN\n * @example\n * let num = Plugins.num = function (node, start, end) {\n * return t => start + (end - start) * t\n * }\n *\n * @static\n */\nconst Plugins = {}\n\nexport {\n  Plugins,\n  get,\n  has,\n  getAll,\n  removeAll,\n  remove,\n  add,\n  now,\n  update,\n  autoPlay,\n  onTick,\n  onRequestTick,\n  isRunning,\n  isLagSmoothing,\n  FrameThrottle,\n  ToggleLagSmoothing\n}\n","/**\n * List of full easings\n * @namespace TWEEN.Easing\n * @example\n * import {Tween, Easing} from 'es6-tween'\n *\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\n */\nconst Easing = {\n  Linear: {\n    None (k) {\n      return k\n    }\n  },\n\n  Quadratic: {\n    In (k) {\n      return Math.pow(k, 2)\n    },\n\n    Out (k) {\n      return k * (2 - k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 2)\n      }\n\n      return -0.5 * (--k * (k - 2) - 1)\n    }\n  },\n\n  Cubic: {\n    In (k) {\n      return Math.pow(k, 3)\n    },\n\n    Out (k) {\n      return --k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 3)\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2)\n    }\n  },\n\n  Quartic: {\n    In (k) {\n      return Math.pow(k, 4)\n    },\n\n    Out (k) {\n      return 1 - --k * k * k * k\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 4)\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2)\n    }\n  },\n\n  Quintic: {\n    In (k) {\n      return Math.pow(k, 5)\n    },\n\n    Out (k) {\n      return --k * k * k * k * k + 1\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(k, 5)\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2)\n    }\n  },\n\n  Sinusoidal: {\n    In (k) {\n      return 1 - Math.cos((k * Math.PI) / 2)\n    },\n\n    Out (k) {\n      return Math.sin((k * Math.PI) / 2)\n    },\n\n    InOut (k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k))\n    }\n  },\n\n  Exponential: {\n    In (k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1)\n    },\n\n    Out (k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1)\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n    }\n  },\n\n  Circular: {\n    In (k) {\n      return 1 - Math.sqrt(1 - k * k)\n    },\n\n    Out (k) {\n      return Math.sqrt(1 - --k * k)\n    },\n\n    InOut (k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1)\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n    }\n  },\n\n  Elastic: {\n    In (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n    },\n\n    Out (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1\n    },\n\n    InOut (k) {\n      if (k === 0) {\n        return 0\n      }\n\n      if (k === 1) {\n        return 1\n      }\n\n      k *= 2\n\n      if (k < 1) {\n        return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n      }\n\n      return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n    }\n  },\n\n  Back: {\n    In (k) {\n      const s = 1.70158\n\n      return k * k * ((s + 1) * k - s)\n    },\n\n    Out (k) {\n      const s = 1.70158\n\n      return --k * k * ((s + 1) * k + s) + 1\n    },\n\n    InOut (k) {\n      const s = 1.70158 * 1.525\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s))\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n    }\n  },\n\n  Bounce: {\n    In (k) {\n      return 1 - Easing.Bounce.Out(1 - k)\n    },\n\n    Out (k) {\n      let x = 2.75\n      let y = 7.5625\n      if (k < 1 / x) {\n        return y * k * k\n      } else if (k < 2 / x) {\n        return y * (k -= 1.5 / x) * k + 0.75\n      } else if (k < 2.5 / x) {\n        return y * (k -= 2.25 / x) * k + 0.9375\n      } else {\n        return y * (k -= 2.625 / x) * k + 0.984375\n      }\n    },\n\n    InOut (k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5\n    }\n  },\n\n  Stepped: {\n    steps: (steps) => (k) => ((k * steps) | 0) / steps\n  }\n}\n\nexport default Easing\n","// Frame lag-fix constants\nexport const FRAME_MS = 50 / 3\nexport const TOO_LONG_FRAME_MS = 250\n\nexport const CHAINED_TWEENS = '_chainedTweens'\n\n// Event System\nexport const EVENT_CALLBACK = 'Callback'\nexport const EVENT_UPDATE = 'update'\nexport const EVENT_COMPLETE = 'complete'\nexport const EVENT_START = 'start'\nexport const EVENT_REPEAT = 'repeat'\nexport const EVENT_REVERSE = 'reverse'\nexport const EVENT_PAUSE = 'pause'\nexport const EVENT_PLAY = 'play'\nexport const EVENT_RESTART = 'restart'\nexport const EVENT_STOP = 'stop'\nexport const EVENT_SEEK = 'seek'\n\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP'\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g\nexport const HEXC_REGEX = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\n\n// Copies everything, duplicates, no shallow-copy\nexport function deepCopy (source) {\n  if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\n    return source\n  } else if (Array.isArray(source)) {\n    return [].concat(source)\n  } else if (typeof source === 'object') {\n    let target = {}\n    for (let prop in source) {\n      target[prop] = deepCopy(source[prop])\n    }\n    return target\n  }\n  return source\n}\n\nconst isNaNForST = (v) => isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' '\n\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i\nconst hex2rgb = (all, hex) => {\n  let r\n  let g\n  let b\n  if (hex.length === 3) {\n    r = hex[0]\n    g = hex[1]\n    b = hex[2]\n    hex = r + r + g + g + b + b\n  }\n  let color = parseInt(hex, 16)\n  r = (color >> 16) & 255\n  g = (color >> 8) & 255\n  b = color & 255\n  return 'rgb(' + r + ',' + g + ',' + b + ')'\n}\n\nexport function decomposeString (fromValue) {\n  return typeof fromValue !== 'string'\n    ? fromValue\n    : fromValue\n      .replace(hexColor, hex2rgb)\n      .match(NUM_REGEX)\n      .map((v) => (isNaNForST(v) ? v : +v))\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose (prop, obj, from, to, stringBuffer) {\n  const fromValue = from[prop]\n  const toValue = to[prop]\n\n  if (typeof fromValue === 'string' && Array.isArray(toValue)) {\n    const fromValue1 = decomposeString(fromValue)\n    const toValues = toValue.map(decomposeString)\n\n    fromValue1.isString = true\n    from[prop] = fromValue1\n    to[prop] = toValues\n    return true\n  } else if (typeof fromValue === 'string' || typeof toValue === 'string') {\n    let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue)\n    let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue)\n\n    let i = 1\n    while (i < fromValue1.length) {\n      if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n        fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i])\n        toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i])\n      } else {\n        i++\n      }\n    }\n\n    i = 0\n\n    if (fromValue1[0] === STRING_PROP) {\n      fromValue1.shift()\n    }\n    if (toValue1[0] === STRING_PROP) {\n      toValue1.shift()\n    }\n\n    fromValue1.isString = true\n    toValue1.isString = true\n\n    from[prop] = fromValue1\n    to[prop] = toValue1\n    return true\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (Array.isArray(fromValue)) {\n      return fromValue.map((v, i) => decompose(i, obj[prop], fromValue, toValue))\n    } else {\n      for (let prop2 in toValue) {\n        decompose(prop2, obj[prop], fromValue, toValue)\n      }\n    }\n    return true\n  }\n  return false\n}\n\n// Recompose value\nexport const RGB = 'rgb('\nexport const RGBA = 'rgba('\n\nexport const isRGBColor = (v, i, r = RGB) =>\n  typeof v[i] === 'number' && (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r)\nexport function recompose (prop, obj, from, to, t, originalT, stringBuffer) {\n  const fromValue = stringBuffer ? from : from[prop]\n  const toValue = stringBuffer ? to : to[prop]\n  if (toValue === undefined) {\n    return fromValue\n  }\n  if (fromValue === undefined || typeof fromValue === 'string' || fromValue === toValue) {\n    return toValue\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (!fromValue || !toValue) {\n      return obj[prop]\n    }\n    if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\n      let STRING_BUFFER = ''\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n        let currentValue =\n          typeof fromValue[i] !== 'number'\n            ? fromValue[i]\n            : isRelative\n              ? fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n              : fromValue[i] + (toValue[i] - fromValue[i]) * t\n        if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n          currentValue |= 0\n        }\n        STRING_BUFFER += currentValue\n        if (isRelative && originalT === 1) {\n          fromValue[i] = fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2))\n        }\n      }\n      if (!stringBuffer) {\n        obj[prop] = STRING_BUFFER\n      }\n      return STRING_BUFFER\n    } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n      for (let i in fromValue) {\n        if (fromValue[i] === toValue[i]) {\n          continue\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT)\n      }\n    }\n  } else if (typeof fromValue === 'number') {\n    const isRelative = typeof toValue === 'string'\n    obj[prop] = isRelative\n      ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n      : fromValue + (toValue - fromValue) * t\n    if (isRelative && originalT === 1) {\n      from[prop] = obj[prop]\n    }\n  } else if (typeof toValue === 'function') {\n    obj[prop] = toValue(t)\n  }\n  return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj, property) {\n  const value = obj[property]\n  const props = property.replace(replaceBrace, '').split(propRegExp)\n  const propsLastIndex = props.length - 1\n  let lastArr = Array.isArray(obj)\n  let lastObj = typeof obj === 'object' && !lastArr\n  if (lastObj) {\n    obj[property] = null\n    delete obj[property]\n  } else if (lastArr) {\n    obj.splice(property, 1)\n  }\n  return props.reduce((nested, prop, index) => {\n    if (lastArr) {\n      if (prop !== '.' && prop !== '[') {\n        prop *= 1\n      }\n    }\n    let nextProp = props[index + 1]\n    let nextIsArray = nextProp === '['\n    if (prop === '.' || prop === '[') {\n      if (prop === '.') {\n        lastObj = true\n        lastArr = false\n      } else if (prop === '[') {\n        lastObj = false\n        lastArr = true\n      }\n      return nested\n    } else if (nested[prop] === undefined) {\n      if (lastArr || lastObj) {\n        nested[prop] = index === propsLastIndex ? value : lastArr || nextIsArray ? [] : lastObj ? {} : null\n        lastObj = lastArr = false\n        return nested[prop]\n      }\n    } else if (nested[prop] !== undefined) {\n      if (index === propsLastIndex) {\n        nested[prop] = value\n      }\n      return nested[prop]\n    }\n    return nested\n  }, obj)\n}\n\nexport const SET_NESTED = function (nested) {\n  if (typeof nested === 'object' && !!nested) {\n    for (let prop in nested) {\n      if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n        propExtract(nested, prop)\n      } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n        let nested2 = nested[prop]\n        for (let prop2 in nested2) {\n          if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n            propExtract(nested2, prop2)\n          } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n            let nested3 = nested2[prop2]\n            for (let prop3 in nested3) {\n              if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                propExtract(nested3, prop3)\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return nested\n}\n","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * List of full Interpolation\n * @namespace TWEEN.Interpolation\n * @example\n * import {Interpolation, Tween} from 'es6-tween'\n *\n * let bezier = Interpolation.Bezier\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof TWEEN\n */\nconst Interpolation = {\n  Linear (v, k, value) {\n    const m = v.length - 1\n    const f = m * k\n    const i = Math.floor(f)\n    const fn = Interpolation.Utils.Linear\n\n    if (k < 0) {\n      return fn(v[0], v[1], f, value)\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f, value)\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n  },\n\n  Bezier (v, k, value) {\n    let b = Interpolation.Utils.Reset(value)\n    let n = v.length - 1\n    let pw = Math.pow\n    let fn = Interpolation.Utils.Bernstein\n\n    let isBArray = Array.isArray(b)\n\n    for (let i = 0; i <= n; i++) {\n      if (typeof b === 'number') {\n        b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n      } else if (isBArray) {\n        for (let p = 0, len = b.length; p < len; p++) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'object') {\n        for (let p in b) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n          } else {\n            b[p] = v[i][p]\n          }\n        }\n      } else if (typeof b === 'string') {\n        let STRING_BUFFER = ''\n        let idx = Math.round(n * k)\n        let vCurr = v[idx]\n        for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n          STRING_BUFFER += vCurr[ks]\n        }\n        return STRING_BUFFER\n      }\n    }\n\n    return b\n  },\n\n  CatmullRom (v, k, value) {\n    const m = v.length - 1\n    let f = m * k\n    let i = Math.floor(f)\n    const fn = Interpolation.Utils.CatmullRom\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor((f = m * (1 + k)))\n      }\n\n      return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value)\n    } else {\n      if (k < 0) {\n        return fn(v[1], v[1], v[0], v[0], -k, value)\n      }\n\n      if (k > 1) {\n        return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n      }\n\n      return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value)\n    }\n  },\n\n  Utils: {\n    Linear (p0, p1, t, v) {\n      if (p0 === p1 || typeof p0 === 'string') {\n        // Quick return for performance reason\n        if (p1.length && p1.splice && p1.isString) {\n          p1 = ''\n          for (let i = 0, len = p0.length; i < len; i++) {\n            p1 += p0[i]\n          }\n        }\n        return p1\n      } else if (typeof p0 === 'number') {\n        return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          const isForceStringProp = typeof p0[0] === 'string' || p0.isString\n          if (isForceStringProp || p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = isForceStringProp ? 0 : 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                t === 0 ? p0[i] : t === 1 ? p1[i] : typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n              if ((t > 0 && t < 1 && isRGBColor(p0, i)) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          } else if (v && v.length && v.splice) {\n            for (let p = 0, len = v.length; p < len; p++) {\n              v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n            }\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n          }\n        }\n        return v\n      }\n    },\n\n    Reset (value) {\n      if (Array.isArray(value)) {\n        for (let i = 0, len = value.length; i < len; i++) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'object') {\n        for (let i in value) {\n          value[i] = Interpolation.Utils.Reset(value[i])\n        }\n        return value\n      } else if (typeof value === 'number') {\n        return 0\n      }\n      return value\n    },\n\n    Bernstein (n, i) {\n      const fc = Interpolation.Utils.Factorial\n\n      return fc(n) / fc(i) / fc(n - i)\n    },\n\n    Factorial: (function () {\n      const a = [1]\n\n      return (n) => {\n        let s = 1\n\n        if (a[n]) {\n          return a[n]\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i\n        }\n\n        a[n] = s\n        return s\n      }\n    })(),\n\n    CatmullRom (p0, p1, p2, p3, t, v) {\n      if (typeof p0 === 'string') {\n        return p1\n      } else if (typeof p0 === 'number') {\n        const v0 = (p2 - p0) * 0.5\n        const v1 = (p3 - p1) * 0.5\n        const t2 = t * t\n        const t3 = t * t2\n\n        return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = ''\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number' ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t) : p3[i]\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0\n              }\n              STRING_BUFFER += currentValue\n            }\n            return STRING_BUFFER\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n          }\n        }\n        return v\n      }\n    }\n  }\n}\n\nexport default Interpolation\n","import { remove } from './core'\n\nexport const Store = {}\nexport default function (node, object, tween) {\n  if (!node || !node.nodeType) {\n    return object\n  }\n  const ID = node.queueID || 'q_' + Date.now()\n  if (!node.queueID) {\n    node.queueID = ID\n  }\n  const storeID = Store[ID]\n  if (storeID) {\n    if (storeID.object === object && node === storeID.tween.node && tween._startTime === storeID.tween._startTime) {\n      remove(storeID.tween)\n    } else if (typeof object === 'object' && !!object && !!storeID.object) {\n      for (let prop in object) {\n        if (prop in storeID.object) {\n          if (tween._startTime === storeID.tween._startTime) {\n            delete storeID.object[prop]\n          } else {\n            storeID.propNormaliseRequired = true\n          }\n        }\n      }\n      storeID.object = { ...storeID.object, ...object }\n    }\n    return storeID.object\n  }\n\n  if (typeof object === 'object' && !!object) {\n    Store[ID] = {\n      tween,\n      object,\n      propNormaliseRequired: false\n    }\n    return Store[ID].object\n  }\n\n  return object\n}\n","export default function (selector, collection, allowRaw) {\n  if (collection) {\n    return !selector\n      ? null\n      : (typeof window !== 'undefined' && selector === window) ||\n        (typeof document !== 'undefined' && selector === document)\n        ? [selector]\n        : typeof selector === 'string'\n          ? !!document.querySelectorAll && document.querySelectorAll(selector)\n          : Array.isArray(selector)\n            ? selector\n            : selector.nodeType\n              ? [selector]\n              : allowRaw\n                ? selector\n                : []\n  }\n  return !selector\n    ? null\n    : (typeof window !== 'undefined' && selector === window) ||\n      (typeof document !== 'undefined' && selector === document)\n      ? selector\n      : typeof selector === 'string'\n        ? !!document.querySelector && document.querySelector(selector)\n        : Array.isArray(selector)\n          ? selector[0]\n          : selector.nodeType\n            ? selector\n            : allowRaw\n              ? selector\n              : null\n}\n","import { add, now, Plugins, remove, isRunning, isLagSmoothing } from './core'\nimport Easing from './Easing'\nimport Interpolation from './Interpolation'\nimport NodeCache, { Store } from './NodeCache'\nimport Selector from './selector'\nimport {\n  decompose,\n  decomposeString,\n  recompose,\n  deepCopy,\n  SET_NESTED,\n  EVENT_CALLBACK,\n  CHAINED_TWEENS,\n  EVENT_UPDATE,\n  EVENT_COMPLETE,\n  EVENT_START,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_PAUSE,\n  EVENT_PLAY,\n  EVENT_RESTART,\n  EVENT_STOP,\n  EVENT_SEEK,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\n\nlet _id = 0 // Unique ID\nconst defaultEasing = Easing.Linear.None\n\n/**\n * Tween main constructor\n * @constructor\n * @class\n * @namespace TWEEN.Tween\n * @param {Object|Element} node Node Element or Tween initial object\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\n */\nclass Tween {\n  /**\n   * Easier way to call the Tween\n   * @param {Element} node DOM Element\n   * @param {object} object - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static fromTo (node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to\n    const tween = new Tween(node, object).to(to, params)\n    if (params.quickRender) {\n      tween.render().update(tween._startTime)\n      tween._rendered = false\n      tween._onStartCallbackFired = false\n    }\n    return tween\n  }\n  /**\n   * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.to(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static to (node, to, params) {\n    return Tween.fromTo(node, null, to, params)\n  }\n  /**\n   * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example Tween.from(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static from (node, from, params) {\n    return Tween.fromTo(node, from, null, params)\n  }\n  constructor (node, object) {\n    this.id = _id++\n    if (!!node && typeof node === 'object' && !object && !node.nodeType) {\n      object = this.object = node\n      node = null\n    } else if (!!node && (node.nodeType || node.length || typeof node === 'string')) {\n      node = this.node = Selector(node)\n      object = this.object = NodeCache(node, object, this)\n    }\n    this._valuesEnd = null\n    this._valuesStart = Array.isArray(object) ? [] : {}\n\n    this._duration = 1000\n    this._easingFunction = defaultEasing\n    this._easingReverse = defaultEasing\n    this._interpolationFunction = Interpolation.Linear\n\n    this._startTime = 0\n    this._initTime = 0\n    this._delayTime = 0\n    this._repeat = 0\n    this._r = 0\n    this._isPlaying = false\n    this._yoyo = false\n    this._reversed = false\n\n    this._onStartCallbackFired = false\n    this._pausedTime = null\n    this._isFinite = true\n    this._maxListener = 15\n    this._chainedTweensCount = 0\n    this._prevTime = null\n\n    return this\n  }\n\n  /**\n   * Sets max `event` listener's count to Events system\n   * @param {number} count - Event listener's count\n   * @memberof TWEEN.Tween\n   */\n  setMaxListener (count = 15) {\n    this._maxListener = count\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  on (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = callback\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Adds `event` to Events system.\n   * Removes itself after fired once\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  once (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (!this[callbackId]) {\n        this[callbackId] = (...args) => {\n          callback.apply(this, args)\n          this[callbackId] = null\n        }\n        break\n      }\n    }\n    return this\n  }\n\n  /**\n   * Removes `event` from Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  off (event, callback) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId] === callback) {\n        this[callbackId] = null\n      }\n    }\n    return this\n  }\n\n  /**\n   * Emits/Fired/Trigger `event` from Events system listeners\n   * @param {string} event - Event listener name\n   * @memberof TWEEN.Tween\n   */\n  emit (event, arg1, arg2, arg3, arg4) {\n    const { _maxListener } = this\n    const callbackName = event + EVENT_CALLBACK\n\n    if (!this[callbackName + 0]) {\n      return this\n    }\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i\n      if (this[callbackId]) {\n        this[callbackId](arg1, arg2, arg3, arg4)\n      }\n    }\n    return this\n  }\n\n  /**\n   * @return {boolean} State of playing of tween\n   * @example tween.isPlaying() // returns `true` if tween in progress\n   * @memberof TWEEN.Tween\n   */\n  isPlaying () {\n    return this._isPlaying\n  }\n\n  /**\n   * @return {boolean} State of started of tween\n   * @example tween.isStarted() // returns `true` if tween in started\n   * @memberof TWEEN.Tween\n   */\n  isStarted () {\n    return this._onStartCallbackFired\n  }\n\n  /**\n   * Reverses the tween state/direction\n   * @example tween.reverse()\n   * @param {boolean=} state Set state of current reverse\n   * @memberof TWEEN.Tween\n   */\n  reverse (state) {\n    const { _reversed } = this\n\n    this._reversed = state !== undefined ? state : !_reversed\n\n    return this\n  }\n\n  /**\n   * @return {boolean} State of reversed\n   * @example tween.reversed() // returns `true` if tween in reversed state\n   * @memberof TWEEN.Tween\n   */\n  reversed () {\n    return this._reversed\n  }\n\n  /**\n   * Pauses tween\n   * @example tween.pause()\n   * @memberof TWEEN.Tween\n   */\n  pause () {\n    if (!this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = false\n\n    remove(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PAUSE, this.object)\n  }\n\n  /**\n   * Play/Resume the tween\n   * @example tween.play()\n   * @memberof TWEEN.Tween\n   */\n  play () {\n    if (this._isPlaying) {\n      return this\n    }\n\n    this._isPlaying = true\n\n    this._startTime += now() - this._pausedTime\n    this._initTime = this._startTime\n    add(this)\n    this._pausedTime = now()\n\n    return this.emit(EVENT_PLAY, this.object)\n  }\n\n  /**\n   * Restarts tween from initial value\n   * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\n   * @example tween.restart()\n   * @memberof TWEEN.Tween\n   */\n  restart (noDelay) {\n    this._repeat = this._r\n    this.reassignValues()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART, this.object)\n  }\n\n  /**\n   * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\n   * @param {Time} time Tween update time\n   * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\n   * @example tween.seek(500)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted, so we deprecated this method\n   */\n  seek (time, keepPlaying) {\n    const { _duration, _initTime, _startTime, _reversed } = this\n\n    let updateTime = _initTime + time\n    this._isPlaying = true\n\n    if (updateTime < _startTime && _startTime >= _initTime) {\n      this._startTime -= _duration\n      this._reversed = !_reversed\n    }\n\n    this.update(time, false)\n\n    this.emit(EVENT_SEEK, time, this.object)\n\n    return keepPlaying ? this : this.pause()\n  }\n\n  /**\n   * Sets tween duration\n   * @param {number} amount Duration is milliseconds\n   * @example tween.duration(2000)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted and useless, so we deprecated this method\n   */\n  duration (amount) {\n    this._duration = typeof amount === 'function' ? amount(this._duration) : amount\n\n    return this\n  }\n\n  /**\n   * Sets target value and duration\n   * @param {object} properties Target value (to value)\n   * @param {number|Object=} [duration=1000] Duration of tween\n   * @example let tween = new Tween({x:0}).to({x:100}, 2000)\n   * @memberof TWEEN.Tween\n   */\n  to (properties, duration = 1000, maybeUsed) {\n    this._valuesEnd = properties\n\n    if (typeof duration === 'number' || typeof duration === 'function') {\n      this._duration = typeof duration === 'function' ? duration(this._duration) : duration\n    } else if (typeof duration === 'object') {\n      for (const prop in duration) {\n        if (typeof this[prop] === 'function') {\n          const [arg1 = null, arg2 = null, arg3 = null, arg4 = null] = Array.isArray(duration[prop])\n            ? duration[prop]\n            : [duration[prop]]\n          this[prop](arg1, arg2, arg3, arg4)\n        }\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Renders and computes value at first render\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  render () {\n    if (this._rendered) {\n      return this\n    }\n    let { _valuesStart, _valuesEnd, object, node, InitialValues } = this\n\n    SET_NESTED(object)\n    SET_NESTED(_valuesEnd)\n\n    if (node && node.queueID && Store[node.queueID]) {\n      const prevTweenByNode = Store[node.queueID]\n      if (prevTweenByNode.propNormaliseRequired && prevTweenByNode.tween !== this) {\n        for (const property in _valuesEnd) {\n          if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\n            // delete prevTweenByNode.tween._valuesEnd[property];\n          }\n        }\n        prevTweenByNode.normalisedProp = true\n        prevTweenByNode.propNormaliseRequired = false\n      }\n    }\n\n    if (node && InitialValues) {\n      if (!object || Object.keys(object).length === 0) {\n        object = this.object = NodeCache(node, InitialValues(node, _valuesEnd), this)\n      } else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object)\n      }\n    }\n    for (const property in _valuesEnd) {\n      let start = object && object[property] && deepCopy(object[property])\n      let end = _valuesEnd[property]\n      if (Plugins[property] && Plugins[property].init) {\n        Plugins[property].init.call(this, start, end, property, object)\n        if (start === undefined && _valuesStart[property]) {\n          start = _valuesStart[property]\n        }\n        if (Plugins[property].skipProcess) {\n          continue\n        }\n      }\n      if (\n        (typeof start === 'number' && isNaN(start)) ||\n        start === null ||\n        end === null ||\n        start === false ||\n        end === false ||\n        start === undefined ||\n        end === undefined ||\n        start === end\n      ) {\n        continue\n      }\n      if (Array.isArray(end) && !Array.isArray(start)) {\n        end.unshift(start)\n        for (let i = 0, len = end.length; i < len; i++) {\n          if (typeof end[i] === 'string') {\n            let arrayOfStrings = decomposeString(end[i])\n            arrayOfStrings.isString = true\n            end[i] = arrayOfStrings\n          }\n        }\n      }\n      _valuesStart[property] = start\n      if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\n        continue\n      }\n      decompose(property, object, _valuesStart, _valuesEnd)\n    }\n\n    if (Tween.Renderer && this.node && Tween.Renderer.init) {\n      Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd)\n      this.__render = true\n    }\n\n    return this\n  }\n\n  /**\n   * Start the tweening\n   * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\n   * @example tween.start()\n   * @memberof TWEEN.Tween\n   */\n  start (time) {\n    this._startTime = time !== undefined ? (typeof time === 'string' ? now() + parseFloat(time) : time) : now()\n    this._startTime += this._delayTime\n    this._initTime = this._prevTime = this._startTime\n\n    this._onStartCallbackFired = false\n    this._rendered = false\n    this._isPlaying = true\n\n    add(this)\n\n    return this\n  }\n\n  /**\n   * Stops the tween\n   * @example tween.stop()\n   * @memberof TWEEN.Tween\n   */\n  stop () {\n    let { _isPlaying, _isFinite, object, _startTime, _duration, _r, _yoyo, _reversed } = this\n\n    if (!_isPlaying) {\n      return this\n    }\n\n    let atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed\n\n    this._reversed = false\n\n    if (_yoyo && atStart) {\n      this.update(_startTime)\n    } else {\n      this.update(_startTime + _duration)\n    }\n    remove(this)\n\n    return this.emit(EVENT_STOP, object)\n  }\n\n  /**\n   * Set delay of tween\n   * @param {number} amount Sets tween delay / wait duration\n   * @example tween.delay(500)\n   * @memberof TWEEN.Tween\n   */\n  delay (amount) {\n    this._delayTime = typeof amount === 'function' ? amount(this._delayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Chained tweens\n   * @param {any} arguments Arguments list\n   * @example tween.chainedTweens(tween1, tween2)\n   * @memberof TWEEN.Tween\n   */\n  chainedTweens () {\n    this._chainedTweensCount = arguments.length\n    if (!this._chainedTweensCount) {\n      return this\n    }\n    for (let i = 0, len = this._chainedTweensCount; i < len; i++) {\n      this[CHAINED_TWEENS + i] = arguments[i]\n    }\n\n    return this\n  }\n\n  /**\n   * Sets how times tween is repeating\n   * @param {amount} amount the times of repeat\n   * @example tween.repeat(5)\n   * @memberof TWEEN.Tween\n   */\n  repeat (amount) {\n    this._repeat = !this._duration ? 0 : typeof amount === 'function' ? amount(this._repeat) : amount\n    this._r = this._repeat\n    this._isFinite = isFinite(amount)\n\n    return this\n  }\n\n  /**\n   * Set delay of each repeat alternate of tween\n   * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\n   * @example tween.reverseDelay(500)\n   * @memberof TWEEN.Tween\n   */\n  reverseDelay (amount) {\n    this._reverseDelayTime = typeof amount === 'function' ? amount(this._reverseDelayTime) : amount\n\n    return this\n  }\n\n  /**\n   * Set `yoyo` state (enables reverse in repeat)\n   * @param {boolean} state Enables alternate direction for repeat\n   * @param {Function=} _easingReverse Easing function in reverse direction\n   * @example tween.yoyo(true)\n   * @memberof TWEEN.Tween\n   */\n  yoyo (state, _easingReverse) {\n    this._yoyo = typeof state === 'function' ? state(this._yoyo) : state === null ? this._yoyo : state\n    if (!state) {\n      this._reversed = false\n    }\n    this._easingReverse = _easingReverse || null\n\n    return this\n  }\n\n  /**\n   * Set easing\n   * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\n   * @example tween.easing(Easing.Elastic.InOut)\n   * @memberof TWEEN.Tween\n   */\n  easing (_easingFunction) {\n    this._easingFunction = _easingFunction\n\n    return this\n  }\n\n  /**\n   * Set interpolation\n   * @param {Function} _interpolationFunction Interpolation function\n   * @example tween.interpolation(Interpolation.Bezier)\n   * @memberof TWEEN.Tween\n   */\n  interpolation (_interpolationFunction) {\n    if (typeof _interpolationFunction === 'function') {\n      this._interpolationFunction = _interpolationFunction\n    }\n\n    return this\n  }\n\n  /**\n   * Reassigns value for rare-case like Tween#restart or for Timeline\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  reassignValues (time) {\n    const { _valuesStart, object, _delayTime } = this\n\n    this._isPlaying = true\n    this._startTime = time !== undefined ? time : now()\n    this._startTime += _delayTime\n    this._reversed = false\n    add(this)\n\n    for (const property in _valuesStart) {\n      const start = _valuesStart[property]\n\n      object[property] = start\n    }\n\n    return this\n  }\n\n  /**\n   * Updates initial object to target value by given `time`\n   * @param {Time} time Current time\n   * @param {boolean=} preserve Prevents from removing tween from store\n   * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\n   * @example tween.update(100)\n   * @memberof TWEEN.Tween\n   */\n  update (time, preserve, forceTime) {\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _easingReverse,\n      _repeat,\n      _delayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _prevTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render,\n      _chainedTweensCount\n    } = this\n\n    let elapsed\n    let currentEasing\n    let property\n    let propCount = 0\n\n    if (!_duration) {\n      elapsed = 1\n      _repeat = 0\n    } else {\n      time = time !== undefined ? time : now()\n\n      let delta = time - _prevTime\n      this._prevTime = time\n      if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n        time -= delta - FRAME_MS\n      }\n\n      if (!_isPlaying || (time < _startTime && !forceTime)) {\n        return true\n      }\n\n      elapsed = (time - _startTime) / _duration\n      elapsed = elapsed > 1 ? 1 : elapsed\n      elapsed = _reversed ? 1 - elapsed : elapsed\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render()\n        this._rendered = true\n      }\n\n      this.emit(EVENT_START, object)\n\n      this._onStartCallbackFired = true\n    }\n\n    currentEasing = _reversed ? _easingReverse || _easingFunction : _easingFunction\n\n    if (!object) {\n      return true\n    }\n\n    for (property in _valuesEnd) {\n      const start = _valuesStart[property]\n      if ((start === undefined || start === null) && !(Plugins[property] && Plugins[property].update)) {\n        continue\n      }\n      const end = _valuesEnd[property]\n      const value = currentEasing[property]\n        ? currentEasing[property](elapsed)\n        : typeof currentEasing === 'function'\n          ? currentEasing(elapsed)\n          : defaultEasing(elapsed)\n      const _interpolationFunctionCall = _interpolationFunction[property]\n        ? _interpolationFunction[property]\n        : typeof _interpolationFunction === 'function'\n          ? _interpolationFunction\n          : Interpolation.Linear\n\n      if (typeof end === 'number') {\n        object[property] = start + (end - start) * value\n      } else if (Array.isArray(end) && !end.isString && (!Array.isArray(start) || start.isString)) {\n        object[property] = _interpolationFunctionCall(end, value, object[property])\n      } else if (end && end.update) {\n        end.update(value)\n      } else if (typeof end === 'function') {\n        object[property] = end(value)\n      } else if (typeof end === 'string' && typeof start === 'number') {\n        object[property] = start + parseFloat(end[0] + end.substr(2)) * value\n      } else {\n        recompose(property, object, _valuesStart, _valuesEnd, value, elapsed)\n      }\n      if (Plugins[property] && Plugins[property].update) {\n        Plugins[property].update.call(this, object[property], start, end, value, elapsed, property)\n      }\n      propCount++\n    }\n\n    if (!propCount) {\n      remove(this)\n      return false\n    }\n\n    if (__render && Tween.Renderer && Tween.Renderer.update) {\n      Tween.Renderer.update.call(this, object, elapsed)\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed, time)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat > 0 && _duration > 0) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n        } else {\n          for (property in _valuesEnd) {\n            let end = _valuesEnd[property]\n            if (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\n              _valuesStart[property] += parseFloat(end[0] + end.substr(2))\n            }\n          }\n        }\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object)\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time - _reverseDelayTime\n        } else {\n          this._startTime = time + _delayTime\n        }\n\n        return true\n      } else {\n        if (!preserve) {\n          this._isPlaying = false\n          remove(this)\n          _id--\n        }\n        this.emit(EVENT_COMPLETE, object)\n        this._repeat = this._r\n\n        if (_chainedTweensCount) {\n          for (let i = 0; i < _chainedTweensCount; i++) {\n            this[CHAINED_TWEENS + i].start(time + _duration)\n          }\n        }\n\n        return false\n      }\n    }\n\n    return true\n  }\n}\n\nexport default Tween\n","export default class PlaybackPosition {\n  constructor () {\n    this.totalTime = 0\n    this.labels = []\n    this.offsets = []\n  }\n  parseLabel (name, offset) {\n    const { offsets, labels } = this\n    let i = labels.indexOf(name)\n    if (typeof name === 'string' && name.indexOf('=') !== -1 && !offset && i === -1) {\n      const rty = name.substr(name.indexOf('=') - 1, 2)\n      const rt = name.split(rty)\n      offset = rt.length === 2 ? rty + rt[1] : null\n      name = rt[0]\n      i = labels.indexOf(name)\n    }\n    if (i !== -1 && name) {\n      let currOffset = offsets[i] || 0\n      if (typeof offset === 'number') {\n        currOffset = offset\n      } else if (typeof offset === 'string') {\n        if (offset.indexOf('=') !== -1) {\n          const type = offset.charAt(0)\n          offset = Number(offset.substr(2))\n          if (type === '+' || type === '-') {\n            currOffset += parseFloat(type + offset)\n          } else if (type === '*') {\n            currOffset *= offset\n          } else if (type === '/') {\n            currOffset /= offset\n          } else if (type === '%') {\n            currOffset *= offset / 100\n          }\n        }\n      }\n      return currOffset\n    }\n    return typeof offset === 'number' ? offset : 0\n  }\n  addLabel (name, offset) {\n    this.labels.push(name)\n    this.offsets.push(this.parseLabel(name, offset))\n    return this\n  }\n  setLabel (name, offset) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.offsets.splice(i, 1, this.parseLabel(name, offset))\n    }\n    return this\n  }\n  eraseLabel (name) {\n    const i = this.labels.indexOf(name)\n    if (i !== -1) {\n      this.labels.splice(i, 1)\n      this.offsets.splice(i, 1)\n    }\n    return this\n  }\n}\n","import { add, now, remove, isRunning, isLagSmoothing } from './core'\nimport PlaybackPosition from './PlaybackPosition'\nimport Tween from './Tween'\nimport {\n  EVENT_START,\n  EVENT_COMPLETE,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_RESTART,\n  EVENT_UPDATE,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS\n} from './constants'\nimport Selector from './selector'\n\nexport const shuffle = (a) => {\n  let j\n  let x\n  let i\n  for (i = a.length; i; i -= 1) {\n    j = Math.floor(Math.random() * i)\n    x = a[i - 1]\n    a[i - 1] = a[j]\n    a[j] = x\n  }\n  return a\n}\n\nlet _id = 0\n/**\n * Timeline main constructor.\n *\n * It works same as `Tween` instance, using `.repeat`, `.restart` or `etc` works like a `Tween`, so please see `Tween` class for methods\n * @constructor\n * @class\n * @namespace TWEEN.Timeline\n * @param {Object=} params Default params for new tweens\n * @example let tl = new Timeline({delay:200})\n * @extends Tween\n */\nclass Timeline extends Tween {\n  constructor (params) {\n    super()\n    this._duration = 0\n    this._startTime = params && params.startTime !== undefined ? params.startTime : now()\n    this._tweens = []\n    this.elapsed = 0\n    this._id = _id++\n    this._defaultParams = params\n    this.position = new PlaybackPosition()\n    this.position.addLabel('afterLast', this._duration)\n    this.position.addLabel('afterInit', this._startTime)\n    this._onStartCallbackFired = false\n\n    return this\n  }\n  mapTotal (fn) {\n    fn.call(this, this._tweens)\n    return this\n  }\n  timingOrder (fn) {\n    const timing = fn(this._tweens.map((t) => t._startTime))\n    this._tweens.map((tween, i) => {\n      tween._startTime = timing[i]\n    })\n    return this\n  }\n  getTiming (mode, nodes, params, offset = 0) {\n    if (mode === 'reverse') {\n      const { stagger } = params\n      const totalStagger = (stagger || 0) * (nodes.length - 1)\n      return nodes.map((node, i) => totalStagger - (stagger || 0) * i + offset)\n    } else if (mode === 'async') {\n      return nodes.map((node) => offset)\n    } else if (mode === 'sequence' || mode === 'delayed') {\n      let { stagger } = params\n      if (!stagger) {\n        stagger = (params.duration || 1000) / (nodes.length - 1)\n      }\n      return nodes.map((node, i) => stagger * i + offset)\n    } else if (mode === 'oneByOne') {\n      return nodes.map((node) => params.duration)\n    } else if (mode === 'shuffle') {\n      const { stagger } = params\n      return shuffle(nodes.map((node, i) => (stagger || 0) * i + offset))\n    } else {\n      const { stagger } = params\n      return nodes.map((node, i) => (stagger || 0) * i + offset)\n    }\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.fromTo(nodes, {x:0}, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  fromTo (nodes, from, to, params) {\n    nodes = Selector(nodes, true, true)\n    if (nodes && nodes.length) {\n      if (this._defaultParams) {\n        params = params ? { ...this._defaultParams, ...params } : this._defaultParams\n      }\n      const position = params.label\n      const offset =\n        typeof position === 'number'\n          ? position\n          : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\n      const mode = this.getTiming(params.mode, nodes, params, offset)\n      for (let i = 0, node, len = nodes.length; i < len; i++) {\n        node = nodes[i]\n        this.add(\n          Tween.fromTo(\n            node,\n            typeof from === 'function'\n              ? from(i, nodes.length)\n              : typeof from === 'object' && !!from\n                ? { ...from }\n                : null,\n            typeof to === 'function' ? to(i, nodes.length) : to,\n            typeof params === 'function' ? params(i, nodes.length) : params\n          ),\n          mode[i]\n        )\n      }\n    }\n    return this.start()\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example tl.from(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  from (nodes, from, params) {\n    return this.fromTo(nodes, from, null, params)\n  }\n\n  /**\n   * @param {Array<Element>} nodes DOM Elements Collection (converted to Array)\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example tl.to(nodes, {x:200}, {duration:1000, stagger:200})\n   * @memberof Timeline\n   * @static\n   */\n  to (nodes, to, params) {\n    return this.fromTo(nodes, null, to, params)\n  }\n\n  /**\n   * Add label to Timeline\n   * @param {string} name Label name\n   * @param {any} offset Label value, can be `number` and/or `string`\n   * @example tl.add('label1', 200)\n   * @memberof Timeline\n   */\n  addLabel (name, offset) {\n    this.position.addLabel(name, offset)\n    return this\n  }\n\n  map (fn) {\n    for (let i = 0, len = this._tweens.length; i < len; i++) {\n      const _tween = this._tweens[i]\n      fn(_tween, i)\n      this._duration = Math.max(this._duration, _tween._duration + _tween._startTime)\n    }\n    return this\n  }\n\n  /**\n   * Add tween to Timeline\n   * @param {Tween} tween Tween instance\n   * @param {position} position Can be label name, number or relative number to label\n   * @example tl.add(new Tween(node, {x:0}).to({x:200}, 200))\n   * @memberof Timeline\n   */\n  add (tween, position) {\n    if (Array.isArray(tween)) {\n      tween.map((_tween) => {\n        this.add(_tween, position)\n      })\n      return this\n    } else if (typeof tween === 'object' && !(tween instanceof Tween)) {\n      tween = new Tween(tween.from).to(tween.to, tween)\n    }\n\n    const { _defaultParams, _duration } = this\n\n    if (_defaultParams) {\n      for (const method in _defaultParams) {\n        if (typeof tween[method] === 'function') {\n          tween[method](_defaultParams[method])\n        }\n      }\n    }\n\n    const offset =\n      typeof position === 'number'\n        ? position\n        : this.position.parseLabel(typeof position !== 'undefined' ? position : 'afterLast', null)\n    tween._startTime = Math.max(this._startTime, tween._delayTime, offset)\n    tween._delayTime = offset\n    tween._isPlaying = true\n    this._duration = Math.max(_duration, Math.max(tween._startTime + tween._delayTime, tween._duration))\n    this._tweens.push(tween)\n    this.position.setLabel('afterLast', this._duration)\n    return this\n  }\n\n  restart () {\n    this._startTime += now()\n\n    add(this)\n\n    return this.emit(EVENT_RESTART)\n  }\n\n  easing (easing) {\n    return this.map((tween) => tween.easing(easing))\n  }\n\n  interpolation (interpolation) {\n    return this.map((tween) => tween.interpolation(interpolation))\n  }\n\n  update (time) {\n    const {\n      _tweens,\n      _duration,\n      _reverseDelayTime,\n      _startTime,\n      _reversed,\n      _yoyo,\n      _repeat,\n      _isFinite,\n      _isPlaying,\n      _prevTime,\n      _onStartCallbackFired\n    } = this\n\n    let elapsed\n\n    time = time !== undefined ? time : now()\n\n    let delta = time - _prevTime\n    this._prevTime = time\n    if (delta > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n      time -= delta - FRAME_MS\n    }\n\n    if (!_isPlaying || time < _startTime) {\n      return true\n    }\n\n    elapsed = (time - _startTime) / _duration\n    elapsed = elapsed > 1 ? 1 : elapsed\n    elapsed = _reversed ? 1 - elapsed : elapsed\n\n    this.elapsed = elapsed\n\n    if (!_onStartCallbackFired) {\n      this.emit(EVENT_START)\n      this._onStartCallbackFired = true\n    }\n\n    const timing = time - _startTime\n    const _timing = _reversed ? _duration - timing : timing\n\n    let i = 0\n    while (i < _tweens.length) {\n      _tweens[i].update(_timing)\n      i++\n    }\n\n    this.emit(EVENT_UPDATE, elapsed, timing)\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat) {\n        if (_isFinite) {\n          this._repeat--\n        }\n\n        this.emit(_reversed ? EVENT_REVERSE : EVENT_REPEAT)\n\n        if (_yoyo) {\n          this._reversed = !_reversed\n          this.timingOrder((timing) => timing.reverse())\n        }\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time + _reverseDelayTime\n        } else {\n          this._startTime = time\n        }\n\n        i = 0\n        while (i < _tweens.length) {\n          _tweens[i].reassignValues(time)\n          i++\n        }\n\n        return true\n      } else {\n        this.emit(EVENT_COMPLETE)\n        this._repeat = this._r\n\n        remove(this)\n        this._isPlaying = false\n\n        return false\n      }\n    }\n\n    return true\n  }\n\n  progress (value) {\n    return value !== undefined ? this.update(value * this._duration) : this.elapsed\n  }\n}\nexport default Timeline\n","import { decompose, recompose, decomposeString } from './constants'\n\n/**\n * Tween helper for plugins\n * @namespace TWEEN.Interpolator\n * @memberof TWEEN\n * @param {any} a - Initial position\n * @param {any} b - End position\n * @return {Function} Returns function that accepts number between `0-1`\n */\nconst Interpolator = (a, b) => {\n  let isArray = Array.isArray(a) && !a.isString\n  let origin = typeof a === 'string' ? a : isArray ? a.slice() : { ...a }\n  if (isArray) {\n    for (let i = 0, len = a.length; i < len; i++) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'object') {\n    for (let i in a) {\n      decompose(i, origin, a, b)\n    }\n  } else if (typeof a === 'string') {\n    a = decomposeString(a)\n    b = decomposeString(b)\n\n    let i = 1\n    while (i < a.length) {\n      if (a[i] === b[i] && typeof a[i - 1] === 'string') {\n        a.splice(i - 1, 2, a[i - 1] + a[i])\n        b.splice(i - 1, 2, b[i - 1] + b[i])\n      } else {\n        i++\n      }\n    }\n\n    a.isString = true\n    b.isString = true\n  }\n  return function (t) {\n    if (isArray) {\n      for (let i = 0, len = a.length; i < len; i++) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'object') {\n      for (let i in a) {\n        recompose(i, origin, a, b, t)\n      }\n    } else if (typeof origin === 'string') {\n      origin = recompose(0, 0, a, b, t, t, true)\n    }\n    return origin\n  }\n}\n\nexport default Interpolator\n"],"names":["root","self","window","global","this","exports","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","now","process","hrtime","undefined","versions","electron","time","performance","bind","offset","timing","navigationStart","Date","_tweens","isStarted","_autoPlay","_onRequestTick","_ticker","emptyFrame","powerModeThrottle","_tick","handleLag","onRequestTick","push","_requestTick","i","length","add","tween","indexOf","splice","update","onTick","FrameThrottle","frameCount","ToggleLagSmoothing","_state","getAll","autoPlay","state","removeAll","get","has","remove","preserve","isRunning","isLagSmoothing","Plugins","Easing","Linear","None","k","Quadratic","In","Math","pow","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","PI","sin","Exponential","Circular","sqrt","Elastic","Back","s","Bounce","x","y","Stepped","steps","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","EVENT_CALLBACK","EVENT_UPDATE","EVENT_COMPLETE","EVENT_START","EVENT_REPEAT","EVENT_REVERSE","EVENT_PAUSE","EVENT_PLAY","EVENT_RESTART","EVENT_STOP","EVENT_SEEK","STRING_PROP","NUM_REGEX","HEXC_REGEX","deepCopy","source","nodeType","Array","isArray","concat","target","prop","isNaNForST","v","isNaN","hexColor","hex2rgb","all","hex","r","g","b","color","parseInt","decomposeString","fromValue","replace","match","map","decompose","obj","from","to","stringBuffer","toValue","fromValue1","toValues","isString","toValue1","shift","prop2","RGB","RGBA","isRGBColor","recompose","t","originalT","STRING_BUFFER","len","isRelative","currentValue","parseFloat","substr","propRegExp","replaceBrace","propExtract","property","value","props","split","propsLastIndex","lastArr","lastObj","reduce","nested","index","nextProp","nextIsArray","SET_NESTED","nested2","nested3","prop3","Interpolation","m","f","floor","Utils","Bezier","Reset","n","pw","Bernstein","isBArray","p","idx","round","vCurr","ks","CatmullRom","p0","p1","isForceStringProp","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Store","node","object","ID","queueID","storeID","_startTime","propNormaliseRequired","selector","collection","allowRaw","document","querySelectorAll","querySelector","_id","defaultEasing","Tween","params","quickRender","render","_rendered","_onStartCallbackFired","fromTo","Selector","NodeCache","_valuesEnd","_valuesStart","_duration","_easingFunction","_easingReverse","_interpolationFunction","_initTime","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_pausedTime","_isFinite","_maxListener","_chainedTweensCount","_prevTime","count","event","callback","callbackName","callbackId","args","apply","arg1","arg2","arg3","arg4","emit","noDelay","reassignValues","keepPlaying","updateTime","pause","amount","properties","duration","InitialValues","prevTweenByNode","normalisedProp","Object","keys","start","end","init","call","skipProcess","unshift","arrayOfStrings","Renderer","__render","atStart","arguments","isFinite","_reverseDelayTime","forceTime","elapsed","currentEasing","propCount","delta","_interpolationFunctionCall","PlaybackPosition","totalTime","labels","offsets","name","rty","rt","currOffset","type","charAt","Number","parseLabel","shuffle","j","random","Timeline","startTime","_defaultParams","position","addLabel","mode","nodes","stagger","totalStagger","label","getTiming","_tween","max","method","setLabel","easing","interpolation","_timing","timingOrder","reverse","Interpolator","origin","slice"],"mappings":"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"}