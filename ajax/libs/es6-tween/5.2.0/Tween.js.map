{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/Interpolator.js"],"sourcesContent":["/* global global */\nexport let assign = ((source, ...args) => {\n    for (let i = 0, len = args.length; i < len; i++) {\n      const arg = args[i];\n      for (const p in arg) {\n        source[p] = arg[p];\n      }\n    }\n    return source;\n  });\nexport let create =\n  Object.create || ((source = {}) => ({ ...source }));\nexport let root =\n  typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined' ? global : this;\nexport let requestAnimationFrame =\n  root.requestAnimationFrame ||\n  ((fn) => root.setTimeout(fn, 16));\nexport let cancelAnimationFrame =\n  root.cancelAnimationFrame ||\n  ((id) => root.clearTimeout(id));\n","/* global process */\nimport { cancelAnimationFrame, requestAnimationFrame, root } from './shim';\n\n/**\n * Get browser/Node.js current time-stamp\n * @return Normalised current time-stamp in milliseconds\n * @memberof TWEEN\n * @example\n * TWEEN.now\n */\nconst now = (function() {\n  if (typeof process !== 'undefined' && process.hrtime !== undefined && (!process.versions || process.versions.electron === undefined)) {\n    return function() {\n      const time = process.hrtime();\n\n      // Convert [seconds, nanoseconds] to milliseconds.\n      return time[0] * 1000 + time[1] / 1000000;\n    };\n    // In a browser, use window.performance.now if it is available.\n  } else if (\n    root.performance !== undefined &&\n    root.performance.now !== undefined\n  ) {\n    // This must be bound, because directly assigning this function\n    // leads to an invocation exception in Chrome.\n    return root.performance.now.bind(root.performance);\n    // Use Date.now if it is available.\n  } else {\n    const offset =\n      root.performance &&\n      root.performance.timing &&\n      root.performance.timing.navigationStart\n        ? root.performance.timing.navigationStart\n        : Date.now();\n    return function() {\n      return Date.now() - offset;\n    };\n  }\n})();\n\n/**\n * Lightweight, effecient and modular ES6 version of tween.js\n * @copyright 2017 @dalisoft and es6-tween contributors\n * @license MIT\n * @namespace TWEEN\n * @example\n * // ES6\n * const {add, remove, isRunning, autoPlay} = TWEEN\n */\nconst _tweens = [];\nlet isStarted = false;\nlet _autoPlay = false;\nlet _tick;\nconst _ticker = requestAnimationFrame;\nconst _stopTicker = cancelAnimationFrame;\nlet emptyFrame = 0;\nlet powerModeThrottle = 120;\n\n/**\n * Adds tween to list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * let tween = new Tween({x:0})\n * tween.to({x:200}, 1000)\n * TWEEN.add(tween)\n */\nconst add = (tween) => {\n  let i = _tweens.indexOf(tween);\n\n  if (i > -1) {\n    _tweens.splice(i, 1);\n  }\n\n  _tweens.push(tween);\n\n  emptyFrame = 0;\n\n  if (_autoPlay && !isStarted) {\n    _tick = _ticker(update);\n    isStarted = true;\n  }\n};\n\n/**\n * Adds ticker like event\n * @param {Function} fn callback\n * @memberof TWEEN\n * @example\n * TWEEN.onTick(time => console.log(time))\n */\nconst onTick = (fn) => _tweens.push({ update: fn });\n\n/**\n * Sets after how much frames empty updating should stop\n * @param {number} [frameCount=120] count of frames that should stop after all tweens removed\n * @memberof TWEEN\n * @example\n * TWEEN.FrameThrottle(60)\n */\nconst FrameThrottle = (frameCount = 120) => {\n  powerModeThrottle = frameCount;\n};\n\n/**\n * @returns {Array<Tween>} List of tweens in Array\n * @memberof TWEEN\n * TWEEN.getAll() // list of tweens\n */\nconst getAll = () => _tweens;\n\n/**\n * Runs update loop automaticlly\n * @param {Boolean} state State of auto-run of update loop\n * @example TWEEN.autoPlay(true)\n * @memberof TWEEN\n */\nconst autoPlay = (state) => {\n  _autoPlay = state;\n};\n\n/**\n * Removes all tweens from list\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\n * @memberof TWEEN\n */\nconst removeAll = () => {\n  _tweens.length = 0;\n};\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Tween} Matched tween\n * @memberof TWEEN\n * @example\n * TWEEN.get(tween)\n */\nconst get = (tween) => {\n  for (let i = 0; i < _tweens.length; i++) {\n    if (tween === _tweens[i]) {\n      return _tweens[i];\n    }\n  }\n\n  return null;\n};\n\n/**\n * @param {Tween} tween Tween Instance to be matched\n * @return {Boolean} Status of Exists tween or not\n * @memberof TWEEN\n * @example\n * TWEEN.has(tween)\n */\nconst has = (tween) => {\n  return get(tween) !== null;\n};\n/**\n * Removes tween from list\n * @param {Tween} tween Tween instance\n * @memberof TWEEN\n * @example\n * TWEEN.remove(tween)\n */\nconst remove = (tween) => {\n  const i = _tweens.indexOf(tween);\n  if (i !== -1) {\n    _tweens.splice(i, 1);\n  }\n};\n\n/**\n * Updates global tweens by given time\n * @param {number=} time Timestamp\n * @param {Boolean=} preserve Prevents tween to be removed after finish\n * @memberof TWEEN\n * @example\n * TWEEN.update(500)\n */\n\nconst update = (time = now(), preserve) => {\n  if (_autoPlay && isStarted) {\n    _tick = _ticker(update);\n  }\n\n  if (!_tweens.length) {\n    emptyFrame++;\n  }\n\n  if (emptyFrame > powerModeThrottle) {\n    _stopTicker(_tick);\n    isStarted = false;\n    emptyFrame = 0;\n    return false;\n  }\n\n  let i = 0;\n  let tween;\n  while (i < _tweens.length) {\n    _tweens[i++].update(time, preserve);\n  }\n\n  return true;\n};\n\n/**\n * The state of ticker running\n * @return {Boolean} Status of running updates on all tweens\n * @memberof TWEEN\n * @example TWEEN.isRunning()\n */\nconst isRunning = () => isStarted;\n\n/**\n * The plugins store object\n * @namespace TWEEN.Plugins\n * @memberof TWEEN\n * @example\n * let num = Plugins.num = function (node, start, end) {\n * return t => start + (end - start) * t\n * }\n *\n * @static\n */\nconst Plugins = {};\n\nexport {\n  Plugins,\n  get,\n  has,\n  getAll,\n  removeAll,\n  remove,\n  add,\n  now,\n  update,\n  autoPlay,\n  onTick,\n  isRunning,\n};\n","/**\n * List of full easings\n * @namespace TWEEN.Easing\n * @example\n * import {Tween, Easing} from 'es6-tween'\n *\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\n */\nconst Easing = {\n  Linear: {\n    None(k) {\n      return k;\n    },\n  },\n\n  Quadratic: {\n    In(k) {\n      return k * k;\n    },\n\n    Out(k) {\n      return k * (2 - k);\n    },\n\n    InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k;\n      }\n\n      return -0.5 * (--k * (k - 2) - 1);\n    },\n  },\n\n  Cubic: {\n    In(k) {\n      return k * k * k;\n    },\n\n    Out(k) {\n      return --k * k * k + 1;\n    },\n\n    InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k + 2);\n    },\n  },\n\n  Quartic: {\n    In(k) {\n      return k * k * k * k;\n    },\n\n    Out(k) {\n      return 1 - --k * k * k * k;\n    },\n\n    InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k;\n      }\n\n      return -0.5 * ((k -= 2) * k * k * k - 2);\n    },\n  },\n\n  Quintic: {\n    In(k) {\n      return k * k * k * k * k;\n    },\n\n    Out(k) {\n      return --k * k * k * k * k + 1;\n    },\n\n    InOut(k) {\n      if ((k *= 2) < 1) {\n        return 0.5 * k * k * k * k * k;\n      }\n\n      return 0.5 * ((k -= 2) * k * k * k * k + 2);\n    },\n  },\n\n  Sinusoidal: {\n    In(k) {\n      return 1 - Math.cos(k * Math.PI / 2);\n    },\n\n    Out(k) {\n      return Math.sin(k * Math.PI / 2);\n    },\n\n    InOut(k) {\n      return 0.5 * (1 - Math.cos(Math.PI * k));\n    },\n  },\n\n  Exponential: {\n    In(k) {\n      return k === 0 ? 0 : Math.pow(1024, k - 1);\n    },\n\n    Out(k) {\n      return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n    },\n\n    InOut(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      if ((k *= 2) < 1) {\n        return 0.5 * Math.pow(1024, k - 1);\n      }\n\n      return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n    },\n  },\n\n  Circular: {\n    In(k) {\n      return 1 - Math.sqrt(1 - k * k);\n    },\n\n    Out(k) {\n      return Math.sqrt(1 - --k * k);\n    },\n\n    InOut(k) {\n      if ((k *= 2) < 1) {\n        return -0.5 * (Math.sqrt(1 - k * k) - 1);\n      }\n\n      return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n    },\n  },\n\n  Elastic: {\n    In(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n    },\n\n    Out(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n    },\n\n    InOut(k) {\n      if (k === 0) {\n        return 0;\n      }\n\n      if (k === 1) {\n        return 1;\n      }\n\n      k *= 2;\n\n      if (k < 1) {\n        return (\n          -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI)\n        );\n      }\n\n      return (\n        0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1\n      );\n    },\n  },\n\n  Back: {\n    In(k) {\n      const s = 1.70158;\n\n      return k * k * ((s + 1) * k - s);\n    },\n\n    Out(k) {\n      const s = 1.70158;\n\n      return --k * k * ((s + 1) * k + s) + 1;\n    },\n\n    InOut(k) {\n      const s = 1.70158 * 1.525;\n\n      if ((k *= 2) < 1) {\n        return 0.5 * (k * k * ((s + 1) * k - s));\n      }\n\n      return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n    },\n  },\n\n  Bounce: {\n    In(k) {\n      return 1 - Easing.Bounce.Out(1 - k);\n    },\n\n    Out(k) {\n      if (k < 1 / 2.75) {\n        return 7.5625 * k * k;\n      } else if (k < 2 / 2.75) {\n        return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n      } else if (k < 2.5 / 2.75) {\n        return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n      } else {\n        return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n      }\n    },\n\n    InOut(k) {\n      if (k < 0.5) {\n        return Easing.Bounce.In(k * 2) * 0.5;\n      }\n\n      return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n    }\n  },\n\n  Stepped: {\n    steps: steps => k => ((k * steps) | 0) / steps,\n  },\n};\n\nexport default Easing;\n","// Frame lag-fix constants\nexport const FRAME_MS = 50 / 3;\nexport const TOO_LONG_FRAME_MS = 250;\n\nexport const CHAINED_TWEENS = '_chainedTweens';\n\n// Event System\nexport const EVENT_CALLBACK = 'Callback';\nexport const EVENT_UPDATE = 'update';\nexport const EVENT_COMPLETE = 'complete';\nexport const EVENT_START = 'start';\nexport const EVENT_REPEAT = 'repeat';\nexport const EVENT_REVERSE = 'reverse';\nexport const EVENT_PAUSE = 'pause';\nexport const EVENT_PLAY = 'play';\nexport const EVENT_RESTART = 'restart';\nexport const EVENT_STOP = 'stop';\nexport const EVENT_SEEK = 'seek';\n\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP';\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#\\%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\nexport const HEXC_REGEX = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\n\n// Copies everything, duplicates, no shallow-copy\nexport function deepCopy(source) {\n  if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\n    return source;\n  } else if (Array.isArray(source)) {\n    return [].concat(source);\n  } else if (typeof source === 'object') {\n    let target = {};\n    for (let prop in source) {\n      target[prop] = deepCopy(source[prop]);\n    }\n    return target;\n  }\n  return source;\n}\n\nconst isNaNForST = v =>\n  isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' ';\n\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\nconst hex2rgb = (all, hex) => {\n\tlet r;\n\tlet g;\n\tlet b;\n\tif (hex.length === 3) {\n\t\tr = hex[0];\n\t\tg = hex[1];\n\t\tb = hex[2];\n\t\thex = r + r + g + g + b + b;\n\t}\n\tlet color = parseInt(hex, 16);\n\tr = color >> 16 & 255;\n\tg = color >> 8 & 255;\n\tb = color & 255;\n\treturn \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\n};\n\nexport function decomposeString(fromValue) {\n  return typeof fromValue !== 'string' ? fromValue : fromValue.replace(hexColor, hex2rgb).match(NUM_REGEX).map(v => (isNaNForST(v) ? v : +v));\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose(prop, obj, from, to, stringBuffer) {\n  const fromValue = from[prop];\n  const toValue = to[prop];\n\n  if (typeof fromValue === 'string' || typeof toValue === 'string') {\n    let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue);\n    let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue);\n\n\tlet i = 1;\n\twhile (i < fromValue1.length) {\n\t\tif (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n\t\t\tfromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i])\n\t\t\ttoValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i])\n\t\t} else {\n\t\t\ti++\n\t\t}\n\t}\n\n\ti = 0;\n\n\tif (fromValue1[0] === STRING_PROP) {\n\t\tfromValue1.shift()\n\t}\n\tif (toValue1[0] === STRING_PROP) {\n\t\ttoValue1.shift()\n\t}\n\n\tlet fromValue2 = {isString:true,length:fromValue1.length}\n\tlet toValue2 = {isString:true,length:toValue1.length}\n\n\twhile (i < fromValue2.length) {\n\t\tfromValue2[i] = fromValue1[i]\n\t\ttoValue2[i] = toValue1[i]\n\t\ti++\n\t}\n\n    from[prop] = fromValue2;\n    to[prop] = toValue2;\n    return true;\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (Array.isArray(fromValue)) {\n      return fromValue.map((v, i) =>\n        decompose(i, obj[prop], fromValue, toValue)\n      );\n    } else {\n      for (let prop2 in toValue) {\n        decompose(prop2, obj[prop], fromValue, toValue);\n      }\n    }\n    return true;\n  }\n  return false;\n}\n\n// Recompose value\nexport const DECIMAL = Math.pow(10, 4);\nexport const RGB = 'rgb(';\nexport const RGBA = 'rgba(';\n\nexport const isRGBColor = (v, i, r = RGB) =>\n  typeof v[i] === 'number' &&\n  (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r);\nexport function recompose(prop, obj, from, to, t, originalT, stringBuffer) {\n  const fromValue = stringBuffer ? from : from[prop];\n  const toValue = stringBuffer ? to : to[prop];\n  if (toValue === undefined) {\n    return fromValue;\n  }\n  if (\n    fromValue === undefined ||\n    typeof fromValue === 'string' ||\n    fromValue === toValue\n  ) {\n    return toValue;\n  } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n    if (!fromValue || !toValue) {\n      return obj[prop];\n    }\n    if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\n      let STRING_BUFFER = '';\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '=';\n        let currentValue =\n          typeof fromValue[i] !== 'number'\n            ? fromValue[i]\n            : (((isRelative\n                ? fromValue[i] +\n                  parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n                : fromValue[i] + (toValue[i] - fromValue[i]) * t) *\n                DECIMAL) |\n                0) /\n              DECIMAL;\n        if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n          currentValue |= 0;\n        }\n        STRING_BUFFER += currentValue;\n        if (isRelative && originalT === 1) {\n          fromValue[i] =\n            fromValue[i] +\n            parseFloat(toValue[i][0] + toValue[i].substr(2));\n        }\n      }\n\t  if (!stringBuffer) {\n      obj[prop] = STRING_BUFFER;\n\t  }\n      return STRING_BUFFER;\n    } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n      for (let i = 0, len = fromValue.length; i < len; i++) {\n        if (fromValue[i] === toValue[i]) {\n          continue;\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT);\n      }\n    } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n      for (let i in fromValue) {\n        if (fromValue[i] === toValue[i]) {\n          continue;\n        }\n        recompose(i, obj[prop], fromValue, toValue, t, originalT);\n      }\n    }\n  } else if (typeof fromValue === 'number') {\n    const isRelative = typeof toValue === 'string';\n    obj[prop] =\n      (((isRelative\n        ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n        : fromValue + (toValue - fromValue) * t) *\n        DECIMAL) |\n        0) /\n      DECIMAL;\n    if (isRelative && originalT === 1) {\n      from[prop] = obj[prop];\n    }\n  } else if (typeof toValue === 'function') {\n    obj[prop] = toValue(t);\n  }\n  return obj[prop];\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.\\[])/g;\nconst replaceBrace = /\\]/g;\nconst propExtract = function(obj, property) {\n  const value = obj[property];\n  const props = property.replace(replaceBrace, '').split(propRegExp);\n  const propsLastIndex = props.length - 1;\n  let lastArr = Array.isArray(obj);\n  let lastObj = typeof obj === 'object' && !lastArr;\n  if (lastObj) {\n    obj[property] = null;\n    delete obj[property];\n  } else if (lastArr) {\n    obj.splice(property, 1);\n  }\n  return props.reduce((nested, prop, index) => {\n    if (lastArr) {\n      if (prop !== '.' && prop !== '[') {\n        prop *= 1;\n      }\n    }\n    let nextProp = props[index + 1];\n    let nextIsArray = nextProp === '[';\n    if (prop === '.' || prop === '[') {\n      if (prop === '.') {\n        lastObj = true;\n        lastArr = false;\n      } else if (prop === '[') {\n        lastObj = false;\n        lastArr = true;\n      }\n      return nested;\n    } else if (nested[prop] === undefined) {\n      if (lastArr || lastObj) {\n        nested[prop] =\n          index === propsLastIndex\n            ? value\n            : lastArr || nextIsArray ? [] : lastObj ? {} : null;\n        lastObj = lastArr = false;\n        return nested[prop];\n      }\n    } else if (nested[prop] !== undefined) {\n      if (index === propsLastIndex) {\n        nested[prop] = value;\n      }\n      return nested[prop];\n    }\n    return nested;\n  }, obj);\n};\n\nexport const SET_NESTED = function(nested) {\n  if (typeof nested === 'object' && !!nested) {\n    for (let prop in nested) {\n      if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n        propExtract(nested, prop);\n      } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n        let nested2 = nested[prop];\n        for (let prop2 in nested2) {\n          if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n            propExtract(nested2, prop2);\n          } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n            let nested3 = nested2[prop2];\n            for (let prop3 in nested3) {\n              if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                propExtract(nested3, prop3);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return nested;\n};\n","import { isRGBColor, RGBA, recompose, STRING_PROP } from './constants';\n\n/**\n * List of full Interpolation\n * @namespace TWEEN.Interpolation\n * @example\n * import {Interpolation, Tween} from 'es6-tween'\n *\n * let bezier = Interpolation.Bezier\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof TWEEN\n */\nconst Interpolation = {\n  Linear(v, k, value) {\n    const m = v.length - 1;\n    const f = m * k;\n    const i = Math.floor(f);\n    const fn = Interpolation.Utils.Linear;\n    if (k < 0) {\n      return fn(v[0], v[1], f, value);\n    }\n    if (k > 1) {\n      return fn(v[m], v[m - 1], m - f, value);\n    }\n    return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value);\n  },\n\n  Bezier(v, k, value) {\n    let b = Interpolation.Utils.Reset(value);\n    let n = v.length - 1;\n    let pw = Math.pow;\n    let fn = Interpolation.Utils.Bernstein;\n\n    let isBArray = Array.isArray(b);\n\n    for (let i = 0; i <= n; i++) {\n      if (typeof b === 'number') {\n        b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i);\n      } else if (isBArray) {\n        for (let p = 0, len = b.length; p < len; p++) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i);\n          } else {\n            b[p] = v[i][p];\n          }\n        }\n      } else if (typeof b === 'object') {\n        for (let p in b) {\n          if (typeof b[p] === 'number') {\n            b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i);\n          } else {\n            b[p] = v[i][p];\n          }\n        }\n      } else if (typeof b === 'string') {\n        let STRING_BUFFER = '',\n          idx = Math.round(n * k),\n          pidx = idx - 1 < 0 ? 0 : idx - 1,\n          nidx = idx + 1 > n ? n : idx + 1,\n          vCurr = v[idx],\n          vPrev = v[pidx];\n        for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n          STRING_BUFFER += vCurr[ks];\n        }\n        return STRING_BUFFER;\n      }\n    }\n\n    return b;\n  },\n\n  CatmullRom(v, k, value) {\n    const m = v.length - 1;\n    let f = m * k;\n    let i = Math.floor(f);\n    const fn = Interpolation.Utils.CatmullRom;\n\n    if (v[0] === v[m]) {\n      if (k < 0) {\n        i = Math.floor((f = m * (1 + k)));\n      }\n\n      return fn(\n        v[(i - 1 + m) % m],\n        v[i],\n        v[(i + 1) % m],\n        v[(i + 2) % m],\n        f - i,\n        value\n      );\n    } else {\n      if (k < 0) {\n        return fn(v[1], v[1], v[0], v[0], -k, value);\n      }\n\n      if (k > 1) {\n        return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value);\n      }\n\n      return fn(\n        v[i ? i - 1 : 0],\n        v[i],\n        v[m < i + 1 ? m : i + 1],\n        v[m < i + 2 ? m : i + 2],\n        f - i,\n        value\n      );\n    }\n  },\n\n  Utils: {\n    Linear(p0, p1, t, v) {\n      if (typeof p0 === 'string') {\n        return p1;\n      } else if (typeof p0 === 'number') {\n        return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t;\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = '';\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i];\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0;\n              }\n              STRING_BUFFER += currentValue;\n            }\n            return STRING_BUFFER;\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p]);\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p]);\n          }\n        }\n        return v;\n      }\n    },\n\n    Reset(value) {\n      if (Array.isArray(value)) {\n        for (let i = 0, len = value.length; i < len; i++) {\n          value[i] = Interpolation.Utils.Reset(value[i]);\n        }\n        return value;\n      } else if (typeof value === 'object') {\n        for (let i in value) {\n          value[i] = Interpolation.Utils.Reset(value[i]);\n        }\n        return value;\n      } else if (typeof value === 'number') {\n        return 0;\n      }\n      return value;\n    },\n\n    Bernstein(n, i) {\n      const fc = Interpolation.Utils.Factorial;\n\n      return fc(n) / fc(i) / fc(n - i);\n    },\n\n    Factorial: (function() {\n      const a = [1];\n\n      return n => {\n        let s = 1;\n\n        if (a[n]) {\n          return a[n];\n        }\n\n        for (let i = n; i > 1; i--) {\n          s *= i;\n        }\n\n        a[n] = s;\n        return s;\n      };\n    })(),\n\n    CatmullRom(p0, p1, p2, p3, t, v) {\n      if (typeof p0 === 'string') {\n        return p1;\n      } else if (typeof p0 === 'number') {\n        const v0 = (p2 - p0) * 0.5;\n        const v1 = (p3 - p1) * 0.5;\n        const t2 = t * t;\n        const t3 = t * t2;\n\n        return (\n          (2 * p1 - 2 * p2 + v0 + v1) * t3 +\n          (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\n          v0 * t +\n          p1\n        );\n      } else if (typeof p0 === 'object') {\n        if (p0.length !== undefined) {\n          if (p0[0] === STRING_PROP) {\n            let STRING_BUFFER = '';\n            for (let i = 1, len = p0.length; i < len; i++) {\n              let currentValue =\n                typeof p0[i] === 'number'\n                  ? Interpolation.Utils.CatmullRom(\n                      p0[i],\n                      p1[i],\n                      p2[i],\n                      p3[i],\n                      t\n                    )\n                  : p3[i];\n              if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                currentValue |= 0;\n              }\n              STRING_BUFFER += currentValue;\n            }\n            return STRING_BUFFER;\n          }\n          for (let p = 0, len = v.length; p < len; p++) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            );\n          }\n        } else {\n          for (const p in v) {\n            v[p] = Interpolation.Utils.CatmullRom(\n              p0[p],\n              p1[p],\n              p2[p],\n              p3[p],\n              t,\n              v[p]\n            );\n          }\n        }\n        return v;\n      }\n    },\n  },\n};\n\nexport default Interpolation;\n","import { remove } from './core';\n\nexport const Store = {};\nexport default function(node, object, tween) {\n  if (!node || !node.nodeType) {\n    return object;\n  }\n  const ID = node.queueID || 'q_' + Date.now();\n  if (!node.queueID) {\n    node.queueID = ID;\n  }\n  const storeID = Store[ID];\n  if (storeID) {\n    if (\n      storeID.object === object &&\n      node === storeID.tween.node &&\n      tween._startTime === storeID.tween._startTime\n    ) {\n      remove(storeID.tween);\n    } else if (typeof object === 'object' && !!object && !!storeID.object) {\n      for (let prop in object) {\n        if (prop in storeID.object) {\n          if (tween._startTime === storeID.tween._startTime) {\n            delete storeID.object[prop];\n          } else {\n            storeID.propNormaliseRequired = true;\n          }\n        }\n      }\n\t  storeID.object = {...storeID.object, ...object}\n    }\n    return storeID.object;\n  }\n\n  if (typeof object === 'object' && !!object) {\n\tStore[ID] = { tween, object, propNormaliseRequired: false };\n\treturn Store[ID].object;\n  }\n\n  return object;\n}\n","export default function(selector, collection) {\n  if (collection) {\n    return !selector\n      ? null\n      : selector === window || selector === document\n        ? [selector]\n        : typeof selector === 'string'\n          ? !!document.querySelectorAll && document.querySelectorAll(selector)\n          : Array.isArray(selector)\n            ? selector\n            : selector.nodeType ? [selector] : [];\n  }\n  return !selector\n    ? null\n    : selector === window || selector === document\n      ? selector\n      : typeof selector === 'string'\n        ? !!document.querySelector && document.querySelector(selector)\n        : Array.isArray(selector)\n          ? selector[0]\n          : selector.nodeType ? selector : null;\n}\n","import { add, now, Plugins, remove } from './core';\nimport Easing from './Easing';\nimport Interpolation from './Interpolation';\nimport NodeCache, { Store } from './NodeCache';\nimport Selector from './selector';\nimport {\n  decompose,\n  decomposeString,\n  recompose,\n  deepCopy,\n  SET_NESTED,\n  STRING_PROP,\n  EVENT_CALLBACK,\n  CHAINED_TWEENS,\n  EVENT_UPDATE,\n  EVENT_COMPLETE,\n  EVENT_START,\n  EVENT_REPEAT,\n  EVENT_REVERSE,\n  EVENT_PAUSE,\n  EVENT_PLAY,\n  EVENT_RESTART,\n  EVENT_STOP,\n  EVENT_SEEK,\n  FRAME_MS,\n  TOO_LONG_FRAME_MS,\n  DECIMAL,\n} from './constants';\n\nlet _id = 0; // Unique ID\nconst defaultEasing = Easing.Linear.None;\n\n/**\n * Tween main constructor\n * @constructor\n * @class\n * @namespace TWEEN.Tween\n * @param {Object|Element} node Node Element or Tween initial object\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\n */\nclass Tween {\n  _chainedTweensCount = 0;\n  /**\n   * Easier way to call the Tween\n   * @param {Element} node DOM Element\n   * @param {object} object - Initial value\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static fromTo(node, object, to, params = {}) {\n    params.quickRender = params.quickRender ? params.quickRender : !to;\n    const tween = new Tween(node, object).to(to, params);\n    if (params.quickRender) {\n      tween.render().update(tween._startTime);\n      tween._rendered = false;\n      tween._onStartCallbackFired = false;\n    }\n    return tween;\n  }\n  /**\n   * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} to - Target value\n   * @param {object} params - Options of tweens\n   * @example Tween.to(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static to(node, to, params) {\n    return Tween.fromTo(node, null, to, params);\n  }\n  /**\n   * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n   * @param {Element} node DOM Element\n   * @param {object} from - Initial value\n   * @param {object} params - Options of tweens\n   * @example Tween.from(node, {x:200}, {duration:1000})\n   * @memberof TWEEN.Tween\n   * @static\n   */\n  static from(node, from, params) {\n    return Tween.fromTo(node, from, null, params);\n  }\n  constructor(node, object) {\n    this.id = _id++;\n    if (!!node && typeof node === 'object' && !object && !node.nodeType) {\n      object = this.object = node;\n      node = null;\n    } else if (\n      !!node &&\n      (node.nodeType || node.length || typeof node === 'string')\n    ) {\n      node = this.node = Selector(node);\n      object = this.object = NodeCache(node, object, this);\n    }\n    this._valuesEnd = null;\n    this._valuesStart = {};\n\n    this._duration = 1000;\n    this._easingFunction = defaultEasing;\n    this._easingReverse = defaultEasing;\n    this._interpolationFunction = Interpolation.Linear;\n\n    this._startTime = 0;\n    this._initTime = 0;\n    this._delayTime = 0;\n    this._repeat = 0;\n    this._r = 0;\n    this._isPlaying = false;\n    this._yoyo = false;\n    this._reversed = false;\n\n    this._onStartCallbackFired = false;\n    this._pausedTime = null;\n    this._isFinite = true;\n    this._maxListener = 15;\n    this._prevTime = null;\n\n    return this;\n  }\n\n  /**\n   * Sets max `event` listener's count to Events system\n   * @param {number} count - Event listener's count\n   * @memberof TWEEN.Tween\n   */\n  setMaxListener(count = 15) {\n    this._maxListener = count;\n    return this;\n  }\n\n  /**\n   * Adds `event` to Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  on(event, callback) {\n    const { _maxListener } = this;\n    const callbackName = event + EVENT_CALLBACK;\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i;\n      if (!this[callbackId]) {\n        this[callbackId] = callback;\n        break;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Adds `event` to Events system.\n   * Removes itself after fired once\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  once(event, callback) {\n    const { _maxListener } = this;\n    const callbackName = event + EVENT_CALLBACK;\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i;\n      if (!this[callbackId]) {\n        this[callbackId] = (...args) => {\n          callback.apply(this, args);\n          this[callbackId] = null;\n        };\n        break;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Removes `event` from Events system\n   * @param {string} event - Event listener name\n   * @param {Function} callback - Event listener callback\n   * @memberof TWEEN.Tween\n   */\n  off(event, callback) {\n    const { _maxListener } = this;\n    const callbackName = event + EVENT_CALLBACK;\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i;\n      if (this[callbackId] === callback) {\n        this[callbackId] = null;\n      }\n    }\n    return this;\n  }\n\n  /**\n   * Emits/Fired/Trigger `event` from Events system listeners\n   * @param {string} event - Event listener name\n   * @memberof TWEEN.Tween\n   */\n  emit(event, arg1, arg2, arg3, arg4) {\n    const { _maxListener } = this;\n    const callbackName = event + EVENT_CALLBACK;\n\n    if (!this[callbackName + 0]) {\n      return this;\n    }\n    for (let i = 0; i < _maxListener; i++) {\n      const callbackId = callbackName + i;\n      if (this[callbackId]) {\n        this[callbackId](arg1, arg2, arg3, arg4);\n      }\n    }\n    return this;\n  }\n\n  /**\n   * @return {boolean} State of playing of tween\n   * @example tween.isPlaying() // returns `true` if tween in progress\n   * @memberof TWEEN.Tween\n   */\n  isPlaying() {\n    return this._isPlaying;\n  }\n\n  /**\n   * @return {boolean} State of started of tween\n   * @example tween.isStarted() // returns `true` if tween in started\n   * @memberof TWEEN.Tween\n   */\n  isStarted() {\n    return this._onStartCallbackFired;\n  }\n\n  /**\n   * Reverses the tween state/direction\n   * @example tween.reverse()\n   * @param {boolean=} state Set state of current reverse\n   * @memberof TWEEN.Tween\n   */\n  reverse(state){\n    const { _reversed } = this;\n\n    this._reversed = state !== undefined ? state : !_reversed;\n\n    return this;\n  }\n\n  /**\n   * @return {boolean} State of reversed\n   * @example tween.reversed() // returns `true` if tween in reversed state\n   * @memberof TWEEN.Tween\n   */\n  reversed() {\n    return this._reversed;\n  }\n\n  /**\n   * Pauses tween\n   * @example tween.pause()\n   * @memberof TWEEN.Tween\n   */\n  pause() {\n    if (!this._isPlaying) {\n      return this;\n    }\n\n    this._isPlaying = false;\n\n    remove(this);\n    this._pausedTime = now();\n\n    return this.emit(EVENT_PAUSE, this.object);\n  }\n\n  /**\n   * Play/Resume the tween\n   * @example tween.play()\n   * @memberof TWEEN.Tween\n   */\n  play() {\n    if (this._isPlaying) {\n      return this;\n    }\n\n    this._isPlaying = true;\n\n    this._startTime += now() - this._pausedTime;\n    this._initTime = this._startTime;\n    add(this);\n    this._pausedTime = now();\n\n    return this.emit(EVENT_PLAY, this.object);\n  }\n\n  /**\n   * Restarts tween from initial value\n   * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\n   * @example tween.restart()\n   * @memberof TWEEN.Tween\n   */\n  restart(noDelay){\n    this._repeat = this._r;\n    this.reassignValues();\n\n    add(this);\n\n    return this.emit(EVENT_RESTART, this.object);\n  }\n\n  /**\n   * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\n   * @param {Time} time Tween update time\n   * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\n   * @example tween.seek(500)\n   * @memberof TWEEN.Tween\n   * @deprecated Not works as excepted, so we deprecated this method\n   */\n  seek(time, keepPlaying){\n    const {\n      _duration,\n      _repeat,\n      _initTime,\n      _startTime,\n      _delayTime,\n      _reversed,\n    } = this;\n\n    let updateTime = _initTime + time;\n    this._isPlaying = true;\n\n    if (updateTime < _startTime && _startTime >= _initTime) {\n      this._startTime -= _duration;\n      this._reversed = !_reversed;\n    }\n\n    this.update(time, false);\n\n    this.emit(EVENT_SEEK, time, this.object);\n\n    return keepPlaying ? this : this.pause();\n  }\n\n  /**\n   * Sets tween duration\n   * @param {number} amount Duration is milliseconds\n   * @example tween.duration(2000)\n   * @memberof TWEEN.Tween\n   */\n  duration(amount) {\n    this._duration =\n      typeof amount === 'function' ? amount(this._duration) : amount;\n\n    return this;\n  }\n\n  /**\n   * Sets target value and duration\n   * @param {object} properties Target value (to value)\n   * @param {number|Object=} [duration=1000] Duration of tween\n   * @example let tween = new Tween({x:0}).to({x:100}, 2000)\n   * @memberof TWEEN.Tween\n   */\n  to(properties, duration = 1000, maybeUsed){\n    this._valuesEnd = properties;\n\n    if (typeof duration === 'number' || typeof duration === 'function') {\n      this._duration =\n        typeof duration === 'function' ? duration(this._duration) : duration;\n    } else if (typeof duration === 'object') {\n      for (const prop in duration) {\n        if (typeof this[prop] === 'function') {\n          const [\n            arg1 = null,\n            arg2 = null,\n            arg3 = null,\n            arg4 = null,\n          ] = Array.isArray(duration[prop]) ? duration[prop] : [duration[prop]];\n          this[prop](arg1, arg2, arg3, arg4);\n        }\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Renders and computes value at first render\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  render() {\n    if (this._rendered) {\n      return this;\n    }\n    let {\n      _valuesStart,\n      _valuesEnd,\n      object,\n      node,\n      InitialValues,\n      _easingFunction,\n    } = this;\n\n    SET_NESTED(object);\n    SET_NESTED(_valuesEnd);\n\n    if (node && node.queueID && Store[node.queueID]) {\n      const prevTweenByNode = Store[node.queueID];\n      if (\n        prevTweenByNode.propNormaliseRequired &&\n        prevTweenByNode.tween !== this\n      ) {\n        for (const property in _valuesEnd) {\n          if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\n            //delete prevTweenByNode.tween._valuesEnd[property];\n          }\n        }\n        prevTweenByNode.normalisedProp = true;\n        prevTweenByNode.propNormaliseRequired = false;\n      }\n    }\n\n    if (node && InitialValues) {\n      if (!object || Object.keys(object).length === 0) {\n        object = this.object = NodeCache(\n          node,\n          InitialValues(node, _valuesEnd),\n          this\n        );\n      } else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\n        _valuesEnd = this._valuesEnd = InitialValues(node, object);\n      }\n    }\n    for (const property in _valuesEnd) {\n      let start = object && object[property] && deepCopy(object[property]);\n      let end = _valuesEnd[property];\n      if (Plugins[property] && Plugins[property].init) {\n        Plugins[property].init.call(this, start, end, property, object);\n        if (start === undefined && _valuesStart[property]) {\n          start = _valuesStart[property];\n        }\n        if (Plugins[property].skipProcess) {\n          continue;\n        }\n      }\n      if (\n        (typeof start === 'number' && isNaN(start)) ||\n        start === null ||\n        end === null ||\n        start === false ||\n        end === false ||\n        start === undefined ||\n        end === undefined ||\n        start === end\n      ) {\n        continue;\n      }\n      if (Array.isArray(end) && !Array.isArray(start)) {\n        end.unshift(start);\n        for (let i = 0, len = end.length; i < len; i++) {\n          if (typeof end[i] === 'string') {\n            let arrayOfStrings = decomposeString(end[i]);\n\t\t\tlet stringObject = {length: arrayOfStrings.length, isString: true}\n\t\t\tfor (let ii = 0, len2 = arrayOfStrings.length; ii < len2; ii++) {\n\t\t\t\tstringObject[ii] = arrayOfStrings[ii]\n\t\t\t}\n            end[i] = stringObject\n          }\n        }\n      }\n      _valuesStart[property] = start;\n\t  if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\n\t\t  continue\n\t  }\n      decompose(property, object, _valuesStart, _valuesEnd);\n    }\n\n    if (Tween.Renderer && this.node && Tween.Renderer.init) {\n      Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd);\n      this.__render = true;\n    }\n\n    return this;\n  }\n\n  /**\n   * Start the tweening\n   * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\n   * @example tween.start()\n   * @memberof TWEEN.Tween\n   */\n  start(time) {\n    this._startTime =\n      time !== undefined\n        ? typeof time === 'string' ? now() + parseFloat(time) : time\n        : now();\n    this._startTime += this._delayTime;\n    this._initTime = this._prevTime = this._startTime;\n\n    this._onStartCallbackFired = false;\n    this._rendered = false;\n    this._isPlaying = true;\n\n    add(this);\n\n    return this;\n  }\n\n  /**\n   * Stops the tween\n   * @example tween.stop()\n   * @memberof TWEEN.Tween\n   */\n  stop() {\n    let {\n      _isPlaying,\n      _isFinite,\n      object,\n      _startTime,\n      _delayTime,\n      _duration,\n      _r,\n      _yoyo,\n      _reversed,\n    } = this;\n\n    if (!_isPlaying) {\n      return this;\n    }\n\n    let atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed;\n\n    this._reversed = false;\n\n    if (_yoyo && atStart) {\n      this.update(_startTime);\n    } else {\n      this.update(_startTime + _duration);\n    }\n    remove(this);\n\n    return this.emit(EVENT_STOP, object);\n  }\n\n  /**\n   * Set delay of tween\n   * @param {number} amount Sets tween delay / wait duration\n   * @example tween.delay(500)\n   * @memberof TWEEN.Tween\n   */\n  delay(amount) {\n    this._delayTime =\n      typeof amount === 'function' ? amount(this._delayTime) : amount;\n\n    return this;\n  }\n\n  /**\n   * Chained tweens\n   * @param {any} arguments Arguments list\n   * @example tween.chainedTweens(tween1, tween2)\n   * @memberof TWEEN.Tween\n   */\n  chainedTweens() {\n    this._chainedTweensCount = arguments.length;\n    if (!this._chainedTweensCount) {\n      return this;\n    }\n    for (let i = 0, len = this._chainedTweensCount; i < len; i++) {\n      this[CHAINED_TWEENS + i] = arguments[i];\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets how times tween is repeating\n   * @param {amount} amount the times of repeat\n   * @example tween.repeat(5)\n   * @memberof TWEEN.Tween\n   */\n  repeat(amount) {\n    this._repeat = !this._duration\n      ? 0\n      : typeof amount === 'function' ? amount(this._repeat) : amount;\n    this._r = this._repeat;\n    this._isFinite = isFinite(amount);\n\n    return this;\n  }\n\n  /**\n   * Set delay of each repeat alternate of tween\n   * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\n   * @example tween.reverseDelay(500)\n   * @memberof TWEEN.Tween\n   */\n  reverseDelay(amount) {\n    this._reverseDelayTime =\n      typeof amount === 'function' ? amount(this._reverseDelayTime) : amount;\n\n    return this;\n  }\n\n  /**\n   * Set `yoyo` state (enables reverse in repeat)\n   * @param {boolean} state Enables alternate direction for repeat\n   * @param {Function=} _easingReverse Easing function in reverse direction\n   * @example tween.yoyo(true)\n   * @memberof TWEEN.Tween\n   */\n  yoyo(state, _easingReverse){\n    this._yoyo =\n      typeof state === 'function'\n        ? state(this._yoyo)\n        : state === null ? this._yoyo : state;\n    if (!state) {\n      this._reversed = false;\n    }\n    this._easingReverse = _easingReverse || null;\n\n    return this;\n  }\n\n  /**\n   * Set easing\n   * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\n   * @example tween.easing(Easing.Elastic.InOut)\n   * @memberof TWEEN.Tween\n   */\n  easing(_easingFunction) {\n    this._easingFunction = _easingFunction;\n\n    return this;\n  }\n\n  /**\n   * Set interpolation\n   * @param {Function} _interpolationFunction Interpolation function\n   * @example tween.interpolation(Interpolation.Bezier)\n   * @memberof TWEEN.Tween\n   */\n  interpolation(_interpolationFunction) {\n    if (typeof _interpolationFunction === 'function') {\n      this._interpolationFunction = _interpolationFunction;\n    }\n\n    return this;\n  }\n\n  /**\n   * Reassigns value for rare-case like Tween#restart or for Timeline\n   * @private\n   * @memberof TWEEN.Tween\n   */\n  reassignValues(time){\n    const { _valuesStart, object, _delayTime } = this;\n\n    this._isPlaying = true;\n    this._startTime = time !== undefined ? time : now();\n    this._startTime += _delayTime;\n    this._reversed = false;\n    add(this);\n\n    for (const property in _valuesStart) {\n      const start = _valuesStart[property];\n\n      object[property] = start;\n    }\n\n    return this;\n  }\n\n  /**\n   * Updates initial object to target value by given `time`\n   * @param {Time} time Current time\n   * @param {boolean=} preserve Prevents from removing tween from store\n   * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\n   * @example tween.update(100)\n   * @memberof TWEEN.Tween\n   */\n  update(time, preserve, forceTime){\n    let {\n      _onStartCallbackFired,\n      _easingFunction,\n      _interpolationFunction,\n      _easingReverse,\n      _repeat,\n      _delayTime,\n      _reverseDelayTime,\n      _yoyo,\n      _reversed,\n      _startTime,\n      _prevTime,\n      _duration,\n      _valuesStart,\n      _valuesEnd,\n      object,\n      _isFinite,\n      _isPlaying,\n      __render,\n      _chainedTweensCount,\n    } = this;\n\n    let elapsed;\n    let currentEasing;\n    let property;\n    let propCount = 0;\n\n    if (!_duration) {\n      elapsed = 1;\n\t  _repeat = 0;\n    } else {\n      time = time !== undefined ? time : now();\n\n      let delta = time - _prevTime;\n      this._prevTime = time;\n      if (delta > TOO_LONG_FRAME_MS) {\n        time -= delta - FRAME_MS;\n      }\n\n      if (!_isPlaying || (time < _startTime && !forceTime)) {\n        return true;\n      }\n\n      elapsed = (time - _startTime) / _duration;\n      elapsed = elapsed > 1 ? 1 : elapsed;\n      elapsed = _reversed ? 1 - elapsed : elapsed;\n    }\n\n    if (!_onStartCallbackFired) {\n      if (!this._rendered) {\n        this.render();\n        this._rendered = true;\n      }\n\n      this.emit(EVENT_START, object);\n\n      this._onStartCallbackFired = true;\n    }\n\n    currentEasing = _reversed\n      ? _easingReverse || _easingFunction\n      : _easingFunction;\n\n    if (!object) {\n      return true;\n    }\n\n    for (property in _valuesEnd) {\n      const start = _valuesStart[property];\n      if (\n        (start === undefined || start === null) &&\n        !(Plugins[property] && Plugins[property].update)\n      ) {\n        continue;\n      }\n      const end = _valuesEnd[property];\n      const value = currentEasing[property]\n        ? currentEasing[property](elapsed)\n        : typeof currentEasing === 'function'\n          ? currentEasing(elapsed)\n          : defaultEasing(elapsed);\n      const _interpolationFunctionCall = _interpolationFunction[property]\n        ? _interpolationFunction[property]\n        : typeof _interpolationFunction === 'function'\n          ? _interpolationFunction\n          : Interpolation.Linear;\n\n      if (typeof end === 'number') {\n        object[property] =\n          (((start + (end - start) * value) * DECIMAL) | 0) / DECIMAL;\n      } else if (Array.isArray(end) && !Array.isArray(start)) {\n        object[property] = _interpolationFunctionCall(\n          end,\n          value,\n          object[property]\n        );\n      } else if (end && end.update) {\n        end.update(value);\n      } else if (typeof end === 'function') {\n        object[property] = end(value);\n      } else if (typeof end === 'string' && typeof start === 'number') {\n\t\tobject[property] = start + parseFloat(end[0] + end.substr(2)) * value\n\t  } else {\n        recompose(property, object, _valuesStart, _valuesEnd, value, elapsed);\n      }\n      if (Plugins[property] && Plugins[property].update) {\n        Plugins[property].update.call(\n          this,\n          object[property],\n          start,\n          end,\n          value,\n          elapsed,\n\t\t  property\n        );\n      }\n      propCount++;\n    }\n\n    if (!propCount) {\n      remove(this);\n      return false;\n    }\n\n    if (__render && Tween.Renderer && Tween.Renderer.update) {\n      Tween.Renderer.update.call(this, object, elapsed);\n    }\n\n    this.emit(EVENT_UPDATE, object, elapsed, time);\n\n    if (elapsed === 1 || (_reversed && elapsed === 0)) {\n      if (_repeat > 0 && _duration > 0) {\n        if (_isFinite) {\n          this._repeat--;\n        }\n\n        if (_yoyo) {\n          this._reversed = !_reversed;\n        } else {\n\t\tfor (property in _valuesEnd) {\n\t\t\tlet end = _valuesEnd[property]\n\t\t\tif (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\n\t\t\t_valuesStart[property] += parseFloat(end[0] + end.substr(2))\n\t\t\t}\n\t\t}\n\t\t}\n\n        this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object);\n\n        if (_reversed && _reverseDelayTime) {\n          this._startTime = time - _reverseDelayTime;\n        } else {\n          this._startTime = time + _delayTime;\n        }\n\n        return true;\n      } else {\n        if (!preserve) {\n          this._isPlaying = false;\n          remove(this);\n          _id--;\n        }\n        this.emit(EVENT_COMPLETE, object);\n        this._repeat = this._r;\n\n        if (_chainedTweensCount) {\n          for (let i = 0; i < _chainedTweensCount; i++) {\n            this[CHAINED_TWEENS + i].start(time + _duration);\n          }\n        }\n\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n\nexport default Tween;\n","import { decompose, recompose, decomposeString, STRING_PROP } from './constants'\n\n/**\n * Tween helper for plugins\n * @namespace TWEEN.Interpolator\n * @memberof TWEEN\n * @param {any} a - Initial position\n * @param {any} b - End position\n * @return {Function} Returns function that accepts number between `0-1`\n */\nconst Interpolator = (a, b) => {\n\tlet isArray = Array.isArray(a);\n\tlet origin = typeof a === 'string' ? a : isArray ? a.slice() : {...a};\n\tif (isArray) {\n\t\tfor (let i = 0, len = a.length; i < len; i++) {\n\t\t\tdecompose(i, origin, a, b)\n\t\t}\n\t} else if (typeof a === 'object') {\n\t\tfor (let i in a) {\n\t\t\tdecompose(i, origin, a, b)\n\t\t}\n\t} else if (typeof a === 'string') {\n\t\ta = decomposeString(a)\n\t\tb = decomposeString(b)\n\n\t\tlet i = 1;\n\twhile (i < a.length) {\n\t\tif (a[i] === b[i] && typeof a[i - 1] === 'string') {\n\t\t\ta.splice(i - 1, 2, a[i - 1] + a[i])\n\t\t\tb.splice(i - 1, 2, b[i - 1] + b[i])\n\t\t} else {\n\t\t\ti++\n\t\t}\n\t}\n\n\tlet c = {isString:true,length:a.length}\n\tlet d = {isString:true,length:b.length}\n\n\twhile (i < c.length) {\n\t\tc[i] = a[i]\n\t\td[i] = b[i]\n\t\ti++\n\t}\n\t}\n\treturn function (t) {\n\t\tif (isArray) {\n\t\t\tfor (let i = 0, len = a.length; i < len; i++) {\n\t\t\t\trecompose(i, origin, a, b, t)\n\t\t\t}\n\t\t} else if (typeof origin === 'object') {\n\t\t\tfor (let i in a) {\n\t\t\t\trecompose(i, origin, a, b, t)\n\t\t\t}\n\t\t} else if (typeof origin === 'string') {\n\t\t\torigin = recompose(0, 0, a, b, t, t, true)\n\t\t}\n\t\treturn origin;\n\t}\n}\n\nexport default Interpolator"],"names":["root","window","global","this","requestAnimationFrame","fn","setTimeout","cancelAnimationFrame","id","clearTimeout","now","process","hrtime","undefined","versions","electron","time","performance","bind","offset","timing","navigationStart","Date","_tweens","isStarted","_autoPlay","_tick","_ticker","_stopTicker","emptyFrame","powerModeThrottle","add","tween","i","indexOf","splice","push","update","onTick","getAll","autoPlay","state","removeAll","length","get","has","remove","preserve","isRunning","Plugins","Easing","k","Math","cos","PI","sin","pow","sqrt","s","Bounce","Out","In","steps","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","EVENT_CALLBACK","EVENT_UPDATE","EVENT_COMPLETE","EVENT_START","EVENT_REPEAT","EVENT_REVERSE","EVENT_PAUSE","EVENT_PLAY","EVENT_RESTART","EVENT_STOP","EVENT_SEEK","STRING_PROP","NUM_REGEX","deepCopy","source","nodeType","Array","isArray","concat","target","prop","isNaNForST","isNaN","v","hexColor","hex2rgb","all","hex","r","g","b","color","parseInt","decomposeString","fromValue","replace","match","map","decompose","obj","from","to","stringBuffer","toValue","fromValue1","toValue1","shift","fromValue2","toValue2","prop2","DECIMAL","RGB","RGBA","isRGBColor","recompose","t","originalT","isString","STRING_BUFFER","len","isRelative","currentValue","parseFloat","substr","propRegExp","replaceBrace","propExtract","property","value","props","split","propsLastIndex","lastArr","lastObj","reduce","nested","index","nextProp","nextIsArray","SET_NESTED","nested2","nested3","prop3","Interpolation","m","f","floor","Utils","Linear","Reset","n","pw","Bernstein","isBArray","p","idx","round","pidx","nidx","vCurr","ks","CatmullRom","p0","p1","fc","Factorial","a","p2","p3","v0","v1","t2","t3","Store","node","object","ID","queueID","storeID","_startTime","propNormaliseRequired","selector","collection","document","querySelectorAll","querySelector","_id","defaultEasing","None","Tween","params","quickRender","render","_rendered","_onStartCallbackFired","fromTo","Selector","NodeCache","_valuesEnd","_valuesStart","_duration","_easingFunction","_easingReverse","_interpolationFunction","_initTime","_delayTime","_repeat","_r","_isPlaying","_yoyo","_reversed","_pausedTime","_isFinite","_maxListener","_prevTime","count","event","callback","callbackName","callbackId","arg1","arg2","arg3","arg4","emit","noDelay","reassignValues","keepPlaying","updateTime","pause","amount","properties","duration","InitialValues","prevTweenByNode","normalisedProp","Object","keys","start","end","init","call","skipProcess","unshift","arrayOfStrings","stringObject","ii","len2","Renderer","__render","atStart","_chainedTweensCount","arguments","isFinite","_reverseDelayTime","forceTime","elapsed","currentEasing","propCount","delta","_interpolationFunctionCall","Interpolator","origin","slice","c"],"mappings":"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"}