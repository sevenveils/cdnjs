L.Control.Layers.include({_loadScripts:function(e,a,t){if(!e||0===e.length)return a(t);var r,i=this,s=e.pop();if(void 0===(r=L.Control.Layers._script_cache[s])){r={url:s,wait:[]};var d=document.createElement("script");d.src=s,d.type="text/javascript",d.onload=function(){var e=0;for(e=0;e<r.wait.length;e++)r.wait[e]()},r.e=d,document.getElementsByTagName("head")[0].appendChild(d)}function n(){i._loadScripts(e,a,t)}r.wait.push(n),"completed"===r.e.readyState&&n(),L.Control.Layers._script_cache[s]=r},addLayerDef:function(e,a){void 0===this._layer_defs&&(this._layer_defs={}),this._layer_defs[e]=a},addLayerDefs:function(e){void 0===this._layer_defs&&(this._layer_defs={}),L.Util.extend(this._layer_defs,e)},loadLayer:function(e,a){var t=this,r=this._layer_defs[e];r.default=a,this._loadScripts(r.js.reverse(),function(e){t._loadLayer(e)},r)},_loadLayer:function(e){var a=e.init();e.default&&this._map&&this._map.addLayer(a),e.overlay?this.addOverlay(a,e.name):this.addBaseLayer(a,e.name)}}),L.Control.Layers._script_cache={};