/*! 
JClic.js version 2.0.1-beta.0 (2019-07-09)
An HTML5 player of JClic activities
http://projectestac.github.io/jclic.js
 
(c) 2000-2019 Catalan Educational Telematic Network (XTEC)

Licensed under the EUPL, Version 1.1 or -as soon they will be approved by
the European Commission- subsequent versions of the EUPL (the "Licence");
You may not use this work except in compliance with the Licence.

You may obtain a copy of the Licence at:
https://joinup.ec.europa.eu/software/page/eupl

Unless required by applicable law or agreed to in writing, software
distributed under the Licence is distributed on an "AS IS" basis, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
Licence for the specific language governing permissions and limitations
under the Licence.

For full license information of included components please see: jclic.components.LICENSE

WARNING: This is a compressed version of JClic.js. Full source code is freely available at:
http://projectestac.github.io/jclic.js
 */
!function(n){var i={};function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=206)}([function(t,e,n){function d(t,e,n){var i,r,o,s,a=t&d.F,c=t&d.G,u=t&d.P,l=t&d.B,h=c?g:t&d.S?g[e]||(g[e]={}):(g[e]||{})[w],f=c?v:v[e]||(v[e]={}),p=f[w]||(f[w]={});for(i in c&&(n=e),n)o=((r=!a&&h&&void 0!==h[i])?h:n)[i],s=l&&r?b(o,g):u&&"function"==typeof o?b(Function.call,o):o,h&&m(h,i,o,t&d.U),f[i]!=o&&y(f,i,s),u&&p[i]!=o&&(p[i]=o)}var g=n(5),v=n(25),y=n(16),m=n(17),b=n(26),w="prototype";g.core=v,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,t.exports=d},function(t,ln,e){(function(an){var cn;function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"use strict";"object"===un(an)&&"object"===un(an.exports)?an.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(x,t){"use strict";function g(t){return null!=t&&t===t.window}var e=[],S=x.document,i=Object.getPrototypeOf,a=e.slice,v=e.concat,c=e.push,r=e.indexOf,n={},o=n.toString,y=n.hasOwnProperty,s=y.toString,u=s.call(Object),m={},b=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},l={type:!0,src:!0,nonce:!0,noModule:!0};function w(t,e,n){var i,r,o=(n=n||S).createElement("script");if(o.text=t,e)for(i in l)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function k(t){return null==t?t+"":"object"===un(t)||"function"==typeof t?n[o.call(t)]||"object":un(t)}var C=function t(e,n){return new t.fn.init(e,n)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function f(t){var e=!!t&&"length"in t&&t.length,n=k(t);return!b(t)&&!g(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}C.fn=C.prototype={jquery:"3.4.1",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(n){return this.pushStack(C.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:e.sort,splice:e.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"===un(s)||b(s)||(s={}),a===c&&(s=this,a--);a<c;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||C.isPlainObject(n)?n:{},r=!1,s[e]=C.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},C.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==o.call(t))&&(!(e=i(t))||"function"==typeof(n=y.call(e,"constructor")&&e.constructor)&&s.call(n)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){w(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(f(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(f(Object(t))?C.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!=s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(f(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return v.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=e[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(n){function h(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function r(){A()}var t,p,w,o,s,d,f,g,k,c,u,A,x,a,S,v,l,y,m,C="sizzle"+1*new Date,b=n.document,E=0,i=0,O=ct(),P=ct(),T=ct(),_=ct(),I=function(t,e){return t===e&&(u=!0),0},R={}.hasOwnProperty,e=[],j=e.pop,B=e.push,M=e.push,D=e.slice,N=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",q="\\["+V+"*("+F+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+V+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(V+"+","g"),H=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g"),G=new RegExp("^"+V+"*,"+V+"*"),$=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),W=new RegExp(V+"|>"),J=new RegExp(z),Y=new RegExp("^"+F+"$"),Z={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,it=new RegExp("\\\\([\\da-f]{1,6}"+V+"?|("+V+")|.)","ig"),rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},st=wt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(e=D.call(b.childNodes),b.childNodes),e[b.childNodes.length].nodeType}catch(t){M={apply:e.length?function(t,e){B.apply(t,D.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(e,t,n,i){var r,o,s,a,c,u,l,h=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:b)!==x&&A(t),t=t||x,S)){if(11!==f&&(c=et.exec(e)))if(r=c[1]){if(9===f){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&m(t,s)&&s.id===r)return n.push(s),n}else{if(c[2])return M.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&p.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&!_[e+" "]&&(!v||!v.test(e))&&(1!==f||"object"!==t.nodeName.toLowerCase())){if(l=e,h=t,1===f&&W.test(e)){for((a=t.getAttribute("id"))?a=a.replace(rt,ot):t.setAttribute("id",a=C),o=(u=d(e)).length;o--;)u[o]="#"+a+" "+bt(u[o]);l=u.join(","),h=nt.test(e)&&yt(t.parentNode)||t}try{return M.apply(n,h.querySelectorAll(l)),n}catch(t){_(e,!0)}finally{a===C&&t.removeAttribute("id")}}}return g(e.replace(H,"$1"),t,n,i)}function ct(){var i=[];return function t(e,n){return i.push(e+" ")>w.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function ut(t){return t[C]=!0,t}function lt(t){var e=x.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function gt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&st(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function vt(s){return ut(function(o){return o=+o,ut(function(t,e){for(var n,i=s([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function yt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=at.support={},s=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!K.test(e||n&&n.nodeName||"HTML")},A=at.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:b;return i!==x&&9===i.nodeType&&i.documentElement&&(a=(x=i).documentElement,S=!s(x),b!==x&&(n=x.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",r,!1):n.attachEvent&&n.attachEvent("onunload",r)),p.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=lt(function(t){return t.appendChild(x.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=tt.test(x.getElementsByClassName),p.getById=lt(function(t){return a.appendChild(t).id=C,!x.getElementsByName||!x.getElementsByName(C).length}),p.getById?(w.filter.ID=function(t){var e=t.replace(it,h);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var n=e.getElementById(t);return n?[n]:[]}}):(w.filter.ID=function(t){var n=t.replace(it,h);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),w.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},l=[],v=[],(p.qsa=tt.test(x.querySelectorAll))&&(lt(function(t){a.appendChild(t).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+V+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+V+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+C+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+C+"+*").length||v.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=x.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+V+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=tt.test(y=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&lt(function(t){p.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),l.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),l=l.length&&new RegExp(l.join("|")),e=tt.test(a.compareDocumentPosition),m=e||tt.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===x||t.ownerDocument===b&&m(b,t)?-1:e===x||e.ownerDocument===b&&m(b,e)?1:c?N(c,t)-N(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===x?-1:e===x?1:r?-1:o?1:c?N(c,t)-N(c,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]===b?-1:a[i]===b?1:0}),x},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==x&&A(t),p.matchesSelector&&S&&!_[e+" "]&&(!l||!l.test(e))&&(!v||!v.test(e)))try{var n=y.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){_(e,!0)}return 0<at(e,x,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!==x&&A(t),m(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==x&&A(t);var n=w.attrHandle[e.toLowerCase()],i=n&&R.call(w.attrHandle,e.toLowerCase())?n(t,e,!S):void 0;return void 0!==i?i:p.attributes||!S?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(rt,ot)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],i=0,r=0;if(u=!p.detectDuplicates,c=!p.sortStable&&t.slice(0),t.sort(I),u){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return c=null,t},o=at.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(w=at.selectors={cacheLength:50,createPseudo:ut,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,h),t[3]=(t[3]||t[4]||t[5]||"").replace(it,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&J.test(n)&&(e=d(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=O[t+" "];return e||(e=new RegExp("(^|"+V+")"+t+"("+V+"|$)"))&&O(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(t){var e=at.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===r:"!="===i?e!==r:"^="===i?r&&0===e.indexOf(r):"*="===i?r&&-1<e.indexOf(r):"$="===i?r&&e.slice(-r.length)===r:"~="===i?-1<(" "+e.replace(U," ")+" ").indexOf(r):"|="===i&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(d,t,e,g,v){var y="nth"!==d.slice(0,3),m="last"!==d.slice(-4),b="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,s,a,c,u=y!=m?"nextSibling":"previousSibling",l=t.parentNode,h=b&&t.nodeName.toLowerCase(),f=!n&&!b,p=!1;if(l){if(y){for(;u;){for(s=t;s=s[u];)if(b?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;c=u="only"===d&&!c&&"nextSibling"}return!0}if(c=[m?l.firstChild:l.lastChild],m&&f){for(p=(a=(i=(r=(o=(s=l)[C]||(s[C]={}))[s.uniqueID]||(o[s.uniqueID]={}))[d]||[])[0]===E&&i[1])&&i[2],s=a&&l.childNodes[a];s=++a&&s&&s[u]||(p=a=0)||c.pop();)if(1===s.nodeType&&++p&&s===t){r[d]=[E,a,p];break}}else if(f&&(p=a=(i=(r=(o=(s=t)[C]||(s[C]={}))[s.uniqueID]||(o[s.uniqueID]={}))[d]||[])[0]===E&&i[1]),!1===p)for(;(s=++a&&s&&s[u]||(p=a=0)||c.pop())&&((b?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++p||(f&&((r=(o=s[C]||(s[C]={}))[s.uniqueID]||(o[s.uniqueID]={}))[d]=[E,p]),s!==t)););return(p-=v)===g||p%g==0&&0<=p/g}}},PSEUDO:function(t,o){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return s[C]?s(o):1<s.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,e){for(var n,i=s(t,o),r=i.length;r--;)t[n=N(t,i[r])]=!(e[n]=i[r])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ut(function(t){var i=[],r=[],a=f(t.replace(H,"$1"));return a[C]?ut(function(t,e,n,i){for(var r,o=a(t,null,i,[]),s=t.length;s--;)(r=o[s])&&(t[s]=!(e[s]=r))}):function(t,e,n){return i[0]=t,a(i,null,n,r),i[0]=null,!r.pop()}}),has:ut(function(e){return function(t){return 0<at(e,t).length}}),contains:ut(function(e){return e=e.replace(it,h),function(t){return-1<(t.textContent||o(t)).indexOf(e)}}),lang:ut(function(n){return Y.test(n||"")||at.error("unsupported lang: "+n),n=n.replace(it,h).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,n){return[n<0?n+e:n]}),even:vt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:vt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:vt(function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t}),gt:vt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})w.pseudos[t]=dt(t);function mt(){}function bt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function wt(a,t,e){var c=t.dir,u=t.next,l=u||c,h=e&&"parentNode"===l,f=i++;return t.first?function(t,e,n){for(;t=t[c];)if(1===t.nodeType||h)return a(t,e,n);return!1}:function(t,e,n){var i,r,o,s=[E,f];if(n){for(;t=t[c];)if((1===t.nodeType||h)&&a(t,e,n))return!0}else for(;t=t[c];)if(1===t.nodeType||h)if(r=(o=t[C]||(t[C]={}))[t.uniqueID]||(o[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[c]||t;else{if((i=r[l])&&i[0]===E&&i[1]===f)return s[2]=i[2];if((r[l]=s)[2]=a(t,e,n))return!0}return!1}}function kt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function At(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,u=null!=e;a<c;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function xt(p,d,g,v,y,t){return v&&!v[C]&&(v=xt(v)),y&&!y[C]&&(y=xt(y,t)),ut(function(t,e,n,i){var r,o,s,a=[],c=[],u=e.length,l=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(d||"*",n.nodeType?[n]:n,[]),h=!p||!t&&d?l:At(l,a,p,n,i),f=g?y||(t?p:u||v)?[]:e:h;if(g&&g(h,f,n,i),v)for(r=At(f,c),v(r,[],n,i),o=r.length;o--;)(s=r[o])&&(f[c[o]]=!(h[c[o]]=s));if(t){if(y||p){if(y){for(r=[],o=f.length;o--;)(s=f[o])&&r.push(h[o]=s);y(null,f=[],r,i)}for(o=f.length;o--;)(s=f[o])&&-1<(r=y?N(t,s):a[o])&&(t[r]=!(e[r]=s))}}else f=At(f===e?f.splice(u,f.length):f),y?y(null,e,f,i):M.apply(e,f)})}function St(t){for(var r,e,n,i=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,c=wt(function(t){return t===r},s,!0),u=wt(function(t){return-1<N(r,t)},s,!0),l=[function(t,e,n){var i=!o&&(n||e!==k)||((r=e).nodeType?c(t,e,n):u(t,e,n));return r=null,i}];a<i;a++)if(e=w.relative[t[a].type])l=[wt(kt(l),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[C]){for(n=++a;n<i&&!w.relative[t[n].type];n++);return xt(1<a&&kt(l),1<a&&bt(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(H,"$1"),e,a<n&&St(t.slice(a,n)),n<i&&St(t=t.slice(n)),n<i&&bt(t))}l.push(e)}return kt(l)}return mt.prototype=w.filters=w.pseudos,w.setFilters=new mt,d=at.tokenize=function(t,e){var n,i,r,o,s,a,c,u=P[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],c=w.preFilter;s;){for(o in n&&!(i=G.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=$.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),w.filter)!(i=Z[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?at.error(t):P(t,a).slice(0)},f=at.compile=function(t,e){var n,i=[],r=[],o=T[t+" "];if(!o){for(n=(e=e||d(t)).length;n--;)(o=St(e[n]))[C]?i.push(o):r.push(o);(o=T(t,function(v,y){function t(t,e,n,i,r){var o,s,a,c=0,u="0",l=t&&[],h=[],f=k,p=t||b&&w.find.TAG("*",r),d=E+=null==f?1:Math.random()||.1,g=p.length;for(r&&(k=e===x||e||r);u!==g&&null!=(o=p[u]);u++){if(b&&o){for(s=0,e||o.ownerDocument===x||(A(o),n=!S);a=v[s++];)if(a(o,e||x,n)){i.push(o);break}r&&(E=d)}m&&((o=!a&&o)&&c--,t&&l.push(o))}if(c+=u,m&&u!==c){for(s=0;a=y[s++];)a(l,h,e,n);if(t){if(0<c)for(;u--;)l[u]||h[u]||(h[u]=j.call(i));h=At(h)}M.apply(i,h),r&&!t&&0<h.length&&1<c+y.length&&at.uniqueSort(i)}return r&&(E=d,k=f),l}var m=0<y.length,b=0<v.length;return m?ut(t):t}(r,i))).selector=t}return o},g=at.select=function(t,e,n,i){var r,o,s,a,c,u="function"==typeof t&&t,l=!i&&d(t=u.selector||t);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===e.nodeType&&S&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(it,h),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=Z.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((c=w.find[a])&&(i=c(s.matches[0].replace(it,h),nt.test(o[0].type)&&yt(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&bt(o)))return M.apply(n,i),n;break}}return(u||f(t,l))(i,e,!S,n,!e||nt.test(t)&&yt(e.parentNode)||e),n},p.sortStable=C.split("").sort(I).join("")===C,p.detectDuplicates=!!u,A(),p.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(x.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ht(L,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),at}(x);C.find=p,C.expr=p.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=p.uniqueSort,C.text=p.getText,C.isXMLDoc=p.isXML,C.contains=p.contains,C.escapeSelector=p.escape;function d(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&C(t).is(n))break;i.push(t)}return i}function A(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var E=C.expr.match.needsContext;function O(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(t,n,i){return b(n)?C.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?C.grep(t,function(t){return t===n!==i}):"string"!=typeof n?C.grep(t,function(t){return-1<r.call(n,t)!==i}):C.filter(n,t,i)}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,r[e],n);return 1<i?C.uniqueSort(n):n},filter:function(t){return this.pushStack(T(this,t||[],!1))},not:function(t){return this.pushStack(T(this,t||[],!0))},is:function(t){return!!T(this,"string"==typeof t&&E.test(t)?C(t):t||[],!1).length}});var _,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||_,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):b(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:I.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),P.test(i[1])&&C.isPlainObject(e))for(i in e)b(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=S.getElementById(i[2]))&&(this[0]=r,this.length=1),this}).prototype=C.fn,_=C(S);var R=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&C(t);if(!E.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?r.call(C(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(t,e,n){return d(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(t,e,n){return d(t,"nextSibling",n)},prevUntil:function(t,e,n){return d(t,"previousSibling",n)},siblings:function(t){return A((t.parentNode||{}).firstChild,t)},children:function(t){return A(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(O(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(i,r){C.fn[i]=function(t,e){var n=C.map(this,r,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=C.filter(e,n)),1<this.length&&(j[i]||C.uniqueSort(n),R.test(i)&&n.reverse()),this.pushStack(n)}});var M=/[^\x20\t\r\n\f]+/g;function D(t){return t}function N(t){throw t}function L(t,e,n,i){var r;try{t&&b(r=t.promise)?r.call(t).done(e).fail(n):t&&b(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(i){i="string"==typeof i?function(t){var n={};return C.each(t.match(M)||[],function(t,e){n[e]=!0}),n}(i):C.extend({},i);function n(){for(o=o||i.once,e=r=!0;a.length;c=-1)for(t=a.shift();++c<s.length;)!1===s[c].apply(t[0],t[1])&&i.stopOnFalse&&(c=s.length,t=!1);i.memory||(t=!1),r=!1,o&&(s=t?[]:"")}var r,t,e,o,s=[],a=[],c=-1,u={add:function(){return s&&(t&&!r&&(c=s.length-1,a.push(t)),function n(t){C.each(t,function(t,e){b(e)?i.unique&&u.has(e)||s.push(e):e&&e.length&&"string"!==k(e)&&n(e)})}(arguments),t&&!r&&n()),this},remove:function(){return C.each(arguments,function(t,e){for(var n;-1<(n=C.inArray(e,s,n));)s.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<C.inArray(t,s):0<s.length},empty:function(){return s=s&&[],this},disable:function(){return o=a=[],s=t="",this},disabled:function(){return!s},lock:function(){return o=a=[],t||r||(s=t=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),r||n()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!e}};return u},C.extend({Deferred:function(t){var o=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var r=arguments;return C.Deferred(function(i){C.each(o,function(t,e){var n=b(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&b(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),r=null}).promise()},then:function(e,n,i){var c=0;function u(r,o,s,a){return function(){function t(){var t,e;if(!(r<c)){if((t=s.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"===un(t)||"function"==typeof t)&&t.then,b(e)?a?e.call(t,u(c,o,D,a),u(c,o,N,a)):(c++,e.call(t,u(c,o,D,a),u(c,o,N,a),u(c,o,D,o.notifyWith))):(s!==D&&(n=void 0,i=[t]),(a||o.resolveWith)(n,i))}}var n=this,i=arguments,e=a?t:function(){try{t()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,e.stackTrace),c<=r+1&&(s!==N&&(n=void 0,i=[t]),o.rejectWith(n,i))}};r?e():(C.Deferred.getStackHook&&(e.stackTrace=C.Deferred.getStackHook()),x.setTimeout(e))}}return C.Deferred(function(t){o[0][3].add(u(0,t,b(i)?i:D,t.notifyWith)),o[1][3].add(u(0,t,b(e)?e:D)),o[2][3].add(u(0,t,b(n)?n:N))}).promise()},promise:function(t){return null!=t?C.extend(t,s):s}},a={};return C.each(o,function(t,e){var n=e[2],i=e[5];s[e[1]]=n.add,i&&n.add(function(){r=i},o[3-t][2].disable,o[3-t][3].disable,o[0][2].lock,o[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){r[e]=this,o[e]=1<arguments.length?a.call(arguments):t,--n||s.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=a.call(arguments),s=C.Deferred();if(n<=1&&(L(t,s.done(e(i)).resolve,s.reject,!n),"pending"===s.state()||b(o[i]&&o[i].then)))return s.then();for(;i--;)L(o[i],e(i),s.reject);return s.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){x.console&&x.console.warn&&t&&V.test(t.name)&&x.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){x.setTimeout(function(){throw t})};var F=C.Deferred();function q(){S.removeEventListener("DOMContentLoaded",q),x.removeEventListener("load",q),C.ready()}C.fn.ready=function(t){return F.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0)!==t&&0<--C.readyWait||F.resolveWith(S,[C])}}),C.ready.then=F.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?x.setTimeout(C.ready):(S.addEventListener("DOMContentLoaded",q),x.addEventListener("load",q));function z(t,e,n,i,r,o,s){var a=0,c=t.length,u=null==n;if("object"===k(n))for(a in r=!0,n)z(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,b(i)||(s=!0),u&&(e=s?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(C(t),n)})),e))for(;a<c;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):c?e(t[0],n):o}var U=/^-ms-/,H=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function $(t){return t.replace(U,"ms-").replace(H,G)}function W(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function J(){this.expando=C.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},W(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[$(e)]=n;else for(i in e)r[$(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][$(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map($):(e=$(e))in i?[e]:e.match(M)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!C.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Y=new J,Z=new J,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function X(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:K.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return Z.hasData(t)||Y.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return Y.access(t,e,n)},_removeData:function(t,e){Y.remove(t,e)}}),C.fn.extend({data:function(n,t){var e,i,r,o=this[0],s=o&&o.attributes;if(void 0!==n)return"object"===un(n)?this.each(function(){Z.set(this,n)}):z(this,function(t){var e;if(o&&void 0===t)return void 0!==(e=Z.get(o,n))?e:void 0!==(e=X(o,n))?e:void 0;this.each(function(){Z.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=Z.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(i=s[e].name).indexOf("data-")&&(i=$(i.slice(5)),X(o,i,r[i]));Y.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),C.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Y.get(t,e),n&&(!i||Array.isArray(n)?i=Y.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),o=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){C.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Y.get(t,n)||Y.access(t,n,{empty:C.Callbacks("once memory").add(function(){Y.remove(t,[e+"queue",n])})})}}),C.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===n?this:this.each(function(){var t=C.queue(this,e,n);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(s,[s])}var i,r=1,o=C.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Y.get(s[a],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],it=S.documentElement,rt=function(t){return C.contains(t.ownerDocument,t)},ot={composed:!0};it.getRootNode&&(rt=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(ot)===t.ownerDocument});function st(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r}var at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===C.css(t,"display")};function ct(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,"")},c=a(),u=n&&n[3]||(C.cssNumber[e]?"":"px"),l=t.nodeType&&(C.cssNumber[e]||"px"!==u&&+c)&&et.exec(C.css(t,e));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;s--;)C.style(t,e,l+u),(1-o)*(1-(o=a()/c||.5))<=0&&(s=0),l/=o;l*=2,C.style(t,e,l+u),n=n||[]}return n&&(l=+l||+c||0,r=n[1]?l+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=l,i.end=r)),r}var ut={};function lt(t,e){for(var n,i,r,o,s,a,c,u=[],l=0,h=t.length;l<h;l++)(i=t[l]).style&&(n=i.style.display,e?("none"===n&&(u[l]=Y.get(i,"display")||null,u[l]||(i.style.display="")),""===i.style.display&&at(i)&&(u[l]=(c=s=o=void 0,s=(r=i).ownerDocument,a=r.nodeName,(c=ut[a])||(o=s.body.appendChild(s.createElement(a)),c=C.css(o,"display"),o.parentNode.removeChild(o),"none"===c&&(c="block"),ut[a]=c)))):"none"!==n&&(u[l]="none",Y.set(i,"display",n)));for(l=0;l<h;l++)null!=u[l]&&(t[l].style.display=u[l]);return t}C.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?C(this).show():C(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,ft=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&O(t,e)?C.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Y.set(t[n],"globalEval",!e||Y.get(e[n],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var yt,mt,bt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,s,a,c,u,l,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===k(o))C.merge(f,o.nodeType?[o]:o);else if(bt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(ft.exec(o)||["",""])[1].toLowerCase(),c=dt[a]||dt._default,s.innerHTML=c[1]+C.htmlPrefilter(o)+c[2],l=c[0];l--;)s=s.lastChild;C.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&-1<C.inArray(o,i))r&&r.push(o);else if(u=rt(o),s=gt(h.appendChild(o),"script"),u&&vt(s),n)for(l=0;o=s[l++];)pt.test(o.type||"")&&n.push(o);return h}yt=S.createDocumentFragment().appendChild(S.createElement("div")),(mt=S.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),yt.appendChild(mt),m.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var kt=/^key/,At=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xt=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ct(){return!1}function Et(t,e){return t===function(){try{return S.activeElement}catch(t){}}()==("focus"===e)}function Ot(t,e,n,i,r,o){var s,a;if("object"===un(e)){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Ot(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),t.each(function(){C.event.add(this,e,r,i,n)})}function Pt(t,r,o){o?(Y.set(t,r,!1),C.event.add(t,r,{namespace:!1,handler:function(t){var e,n,i=Y.get(this,r);if(1&t.isTrigger&&this[r]){if(i.length)(C.event.special[r]||{}).delegateType&&t.stopPropagation();else if(i=a.call(arguments),Y.set(this,r,i),e=o(this,r),this[r](),i!==(n=Y.get(this,r))||e?Y.set(this,r,!1):n={},i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n.value}else i.length&&(Y.set(this,r,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Y.get(t,r)&&C.event.add(t,r,St)}C.event={global:{},add:function(e,t,n,i,r){var o,s,a,c,u,l,h,f,p,d,g,v=Y.get(e);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(it,r),n.guid||(n.guid=C.guid++),(c=v.events)||(c=v.events={}),(s=v.handle)||(s=v.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(M)||[""]).length;u--;)p=g=(a=xt.exec(t[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=C.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=C.event.special[p]||{},l=C.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=c[p])||((f=c[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,d,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,l):f.push(l),C.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,c,u,l,h,f,p,d,g,v=Y.hasData(t)&&Y.get(t);if(v&&(c=v.events)){for(u=(e=(e||"").match(M)||[""]).length;u--;)if(p=g=(a=xt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=C.event.special[p]||{},f=c[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!r&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||i&&i!==l.selector&&("**"!==i||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,v.handle)||C.removeEvent(t,p,v.handle),delete c[p])}else for(p in c)C.event.remove(t,p+e[u],n,i,!0);C.isEmptyObject(c)&&Y.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=C.event.fix(t),c=new Array(arguments.length),u=(Y.get(this,"events")||{})[a.type]||[],l=C.event.special[a.type]||{};for(c[0]=a,e=1;e<arguments.length;e++)c[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(s=C.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,c))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],c=e.delegateCount,u=t.target;if(c&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<c;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?-1<C(r,this).index(u):C.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,c<e.length&&a.push({elem:u,handlers:e.slice(c)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:b(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ht.test(e.type)&&e.click&&O(e,"input")&&Pt(e,"click",St),!1},trigger:function(t){var e=this||t;return ht.test(e.type)&&e.click&&O(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return ht.test(e.type)&&e.click&&O(e,"input")&&Y.get(e,"click")||O(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&At.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(t,e){C.event.special[t]={setup:function(){return Pt(this,t,Et),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){C.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||C.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),C.fn.extend({on:function(t,e,n,i){return Ot(this,t,e,n,i)},one:function(t,e,n,i){return Ot(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!==un(t))return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each(function(){C.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var Tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,_t=/<script|<style|<link/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return O(t,"table")&&O(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Dt(t,e){var n,i,r,o,s,a,c,u;if(1===e.nodeType){if(Y.hasData(t)&&(o=Y.access(t),s=Y.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)C.event.add(e,r,u[r][n]);Z.hasData(t)&&(a=Z.access(t),c=C.extend({},a),Z.set(e,c))}}function Nt(n,i,r,o){i=v.apply([],i);var t,e,s,a,c,u,l=0,h=n.length,f=h-1,p=i[0],d=b(p);if(d||1<h&&"string"==typeof p&&!m.checkClone&&It.test(p))return n.each(function(t){var e=n.eq(t);d&&(i[0]=p.call(this,t,e.html())),Nt(e,i,r,o)});if(h&&(e=(t=wt(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(a=(s=C.map(gt(t,"script"),Bt)).length;l<h;l++)c=t,l!==f&&(c=C.clone(c,!0,!0),a&&C.merge(s,gt(c,"script"))),r.call(n[l],c,l);if(a)for(u=s[s.length-1].ownerDocument,C.map(s,Mt),l=0;l<a;l++)c=s[l],pt.test(c.type||"")&&!Y.access(c,"globalEval")&&C.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")}):w(c.textContent.replace(Rt,""),c,u))}return n}function Lt(t,e,n){for(var i,r=e?C.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(gt(i)),i.parentNode&&(n&&rt(i)&&vt(gt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t.replace(Tt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,c,u,l=t.cloneNode(!0),h=rt(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(s=gt(l),i=0,r=(o=gt(t)).length;i<r;i++)a=o[i],c=s[i],void 0,"input"===(u=c.nodeName.toLowerCase())&&ht.test(a.type)?c.checked=a.checked:"input"!==u&&"textarea"!==u||(c.defaultValue=a.defaultValue);if(e)if(n)for(o=o||gt(t),s=s||gt(l),i=0,r=o.length;i<r;i++)Dt(o[i],s[i]);else Dt(t,l);return 0<(s=gt(l,"script")).length&&vt(s,!h&&gt(t,"script")),l},cleanData:function(t){for(var e,n,i,r=C.event.special,o=0;void 0!==(n=t[o]);o++)if(W(n)){if(e=n[Y.expando]){if(e.events)for(i in e.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[Y.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return z(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return z(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!_t.test(t)&&!dt[(ft.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return Nt(this,arguments,function(t){var e=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(gt(this)),e&&e.replaceChild(t,this))},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){C.fn[t]=function(t){for(var e,n=[],i=C(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),C(i[o])[s](e),c.apply(n,e.get());return this.pushStack(n)}});var Vt,Ft,qt,zt,Ut,Ht,Gt,$t=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=x),e.getComputedStyle(t)},Jt=new RegExp(nt.join("|"),"i");function Yt(){if(Gt){Ht.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Gt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(Ht).appendChild(Gt);var t=x.getComputedStyle(Gt);Vt="1%"!==t.top,Ut=12===Zt(t.marginLeft),Gt.style.right="60%",zt=36===Zt(t.right),Ft=36===Zt(t.width),Gt.style.position="absolute",qt=12===Zt(Gt.offsetWidth/3),it.removeChild(Ht),Gt=null}}function Zt(t){return Math.round(parseFloat(t))}function Kt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Wt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||rt(t)||(s=C.style(t,e)),!m.pixelBoxStyles()&&$t.test(s)&&Jt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Qt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ht=S.createElement("div"),(Gt=S.createElement("div")).style&&(Gt.style.backgroundClip="content-box",Gt.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Gt.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return Yt(),Ft},pixelBoxStyles:function(){return Yt(),zt},pixelPosition:function(){return Yt(),Vt},reliableMarginLeft:function(){return Yt(),Ut},scrollboxSize:function(){return Yt(),qt}}));var Xt=["Webkit","Moz","ms"],te=S.createElement("div").style,ee={};function ne(t){var e=C.cssProps[t]||ee[t];return e||(t in te?t:ee[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in te)return t}(t)||t)}var ie=/^(none|table(?!-c[ea]).+)/,re=/^--/,oe={position:"absolute",visibility:"hidden",display:"block"},se={letterSpacing:"0",fontWeight:"400"};function ae(t,e,n){var i=et.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ce(t,e,n,i,r,o){var s="width"===e?1:0,a=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=C.css(t,n+nt[s],!0,r)),i?("content"===n&&(c-=C.css(t,"padding"+nt[s],!0,r)),"margin"!==n&&(c-=C.css(t,"border"+nt[s]+"Width",!0,r))):(c+=C.css(t,"padding"+nt[s],!0,r),"padding"!==n?c+=C.css(t,"border"+nt[s]+"Width",!0,r):a+=C.css(t,"border"+nt[s]+"Width",!0,r));return!i&&0<=o&&(c+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-c-a-.5))||0),c}function ue(t,e,n){var i=Wt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===C.css(t,"boxSizing",!1,i),o=r,s=Kt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if($t.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===C.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===C.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ce(t,e,n||(r?"border":"content"),o,i,s)+"px"}function le(t,e,n,i,r){return new le.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Kt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=$(e),c=re.test(e),u=t.style;if(c||(e=ne(a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=un(n))&&(r=et.exec(n))&&r[1]&&(n=ct(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=r&&r[3]||(C.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(c?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=$(e);return re.test(e)||(e=ne(a)),(s=C.cssHooks[e]||C.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Kt(t,e,i)),"normal"===r&&e in se&&(r=se[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),C.each(["height","width"],function(t,c){C.cssHooks[c]={get:function(t,e,n){if(e)return!ie.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ue(t,c,n):st(t,oe,function(){return ue(t,c,n)})},set:function(t,e,n){var i,r=Wt(t),o=!m.scrollboxSize()&&"absolute"===r.position,s=(o||n)&&"border-box"===C.css(t,"boxSizing",!1,r),a=n?ce(t,c,n,s,r):0;return s&&o&&(a-=Math.ceil(t["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(r[c])-ce(t,c,"border",!1,r)-.5)),a&&(i=et.exec(e))&&"px"!==(i[3]||"px")&&(t.style[c]=e,e=C.css(t,c)),ae(0,e,a)}}}),C.cssHooks.marginLeft=Qt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Kt(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(r,o){C.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+nt[e]+o]=i[e]||i[e-2]||i[0];return n}},"margin"!==r&&(C.cssHooks[r+o].set=ae)}),C.fn.extend({css:function(t,e){return z(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;s<r;s++)o[e[s]]=C.css(t,e[s],!1,i);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)},t,e,1<arguments.length)}}),((C.Tween=le).prototype={constructor:le,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=le.propHooks[this.prop];return t&&t.get?t.get(this):le.propHooks._default.get(this)},run:function(t){var e,n=le.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):le.propHooks._default.set(this),this}}).init.prototype=le.prototype,(le.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[ne(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=le.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=le.prototype.init,C.fx.step={};var he,fe,pe,de,ge=/^(?:toggle|show|hide)$/,ve=/queueHooks$/;function ye(){fe&&(!1===S.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(ye):x.setTimeout(ye,C.fx.interval),C.fx.tick())}function me(){return x.setTimeout(function(){he=void 0}),he=Date.now()}function be(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=nt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function we(t,e,n){for(var i,r=(ke.tweeners[e]||[]).concat(ke.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function ke(o,t,e){var n,s,i=0,r=ke.prefilters.length,a=C.Deferred().always(function(){delete c.elem}),c=function(){if(s)return!1;for(var t=he||me(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),i=0,r=u.tweens.length;i<r;i++)u.tweens[i].run(n);return a.notifyWith(o,[u,n,e]),n<1&&r?e:(r||a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u]),!1)},u=a.promise({elem:o,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},e),originalProperties:t,originalOptions:e,startTime:he||me(),duration:e.duration,tweens:[],createTween:function(t,e){var n=C.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(s)return this;for(s=!0;e<n;e++)u.tweens[e].run(1);return t?(a.notifyWith(o,[u,1,0]),a.resolveWith(o,[u,t])):a.rejectWith(o,[u,t]),this}}),l=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=$(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(l,u.opts.specialEasing);i<r;i++)if(n=ke.prefilters[i].call(u,o,l,u.opts))return b(n.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return C.map(l,we,u),b(u.opts.start)&&u.opts.start.call(o,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(c,{elem:o,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(ke,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ct(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=b(t)?(e=t,["*"]):t.match(M)).length;i<r;i++)n=t[i],ke.tweeners[n]=ke.tweeners[n]||[],ke.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,c,u,l,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&at(t),v=Y.get(t,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],ge.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||C.style(t,i)}if((c=!C.isEmptyObject(e))||!C.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=v&&v.display)&&(u=Y.get(t,"display")),"none"===(l=C.css(t,"display"))&&(u?l=u:(lt([t],!0),u=t.style.display||u,l=C.css(t,"display"),lt([t]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===C.css(t,"float")&&(c||(f.done(function(){d.display=u}),null==u&&(l=d.display,u="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),c=!1,p)c||(v?"hidden"in v&&(g=v.hidden):v=Y.access(t,"fxshow",{display:u}),o&&(v.hidden=!g),g&&lt([t],!0),f.done(function(){for(i in g||lt([t]),Y.remove(t,"fxshow"),p)C.style(t,i,p[i])})),c=we(g?v[i]:0,i,f),i in v||(v[i]=c.start,g&&(c.end=c.start,c.start=0))}],prefilter:function(t,e){e?ke.prefilters.unshift(t):ke.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"===un(t)?C.extend({},t):{complete:n||!n&&e||b(t)&&t,duration:t,easing:n&&e||e&&!b(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){b(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function r(){var t=ke(this,C.extend({},e),s);(o||Y.get(this,"finish"))&&t.stop(!0)}var o=C.isEmptyObject(e),s=C.speed(t,n,i);return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(r,t,o){function s(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=C.timers,i=Y.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&ve.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||C.dequeue(this,r)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Y.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],r=C.timers,o=n?n.length:0;for(e.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===s&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,i){var r=C.fn[i];C.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(be(i,!0),t,e,n)}}),C.each({slideDown:be("show"),slideUp:be("hide"),slideToggle:be("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){C.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(he=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),he=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){fe||(fe=!0,ye())},C.fx.stop=function(){fe=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,t){return i=C.fx&&C.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=x.setTimeout(t,i);e.stop=function(){x.clearTimeout(n)}})},pe=S.createElement("input"),de=S.createElement("select").appendChild(S.createElement("option")),pe.type="checkbox",m.checkOn=""!==pe.value,m.optSelected=de.selected,(pe=S.createElement("input")).value="t",pe.type="radio",m.radioValue="t"===pe.value;var Ae,xe=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return z(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?Ae:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&O(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(M);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),Ae={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var s=xe[e]||C.find.attr;xe[e]=function(t,e,n){var i,r,o=e.toLowerCase();return n||(r=xe[o],xe[o]=i,i=null!=s(t,e,n)?o:null,xe[o]=r),i}});var Se=/^(?:input|select|textarea|button)$/i,Ce=/^(?:a|area)$/i;function Ee(t){return(t.match(M)||[]).join(" ")}function Oe(t){return t.getAttribute&&t.getAttribute("class")||""}function Pe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(M)||[]}C.fn.extend({prop:function(t,e){return z(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,r=C.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,c=0;if(b(e))return this.each(function(t){C(this).addClass(e.call(this,t,Oe(this)))});if((t=Pe(e)).length)for(;n=this[c++];)if(r=Oe(n),i=1===n.nodeType&&" "+Ee(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=Ee(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,c=0;if(b(e))return this.each(function(t){C(this).removeClass(e.call(this,t,Oe(this)))});if(!arguments.length)return this.attr("class","");if((t=Pe(e)).length)for(;n=this[c++];)if(r=Oe(n),i=1===n.nodeType&&" "+Ee(r)+" "){for(s=0;o=t[s++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");r!==(a=Ee(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=un(r),s="string"===o||Array.isArray(r);return"boolean"==typeof e&&s?e?this.addClass(r):this.removeClass(r):b(r)?this.each(function(t){C(this).toggleClass(r.call(this,t,Oe(this),e),e)}):this.each(function(){var t,e,n,i;if(s)for(e=0,n=C(this),i=Pe(r);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!==o||((t=Oe(this))&&Y.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===r?"":Y.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+Ee(Oe(n))+" ").indexOf(e))return!0;return!1}});var Te=/\r/g;C.fn.extend({val:function(n){var i,t,r,e=this[0];return arguments.length?(r=b(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=r?n.call(this,t,C(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=C.map(e,function(t){return null==t?"":t+""})),(i=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,e,"value")||(this.value=e))})):e?(i=C.valHooks[e.type]||C.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(Te,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:Ee(C.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],c=s?o+1:r.length;for(i=o<0?c:s?o:0;i<c;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(e=C(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=C.makeArray(e),s=r.length;s--;)((i=r[s]).selected=-1<C.inArray(C.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<C.inArray(C(t).val(),e)}},m.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),m.focusin="onfocusin"in x;function _e(t){t.stopPropagation()}var Ie=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(t,e,n,i){var r,o,s,a,c,u,l,h,f=[n||S],p=y.call(t,"type")?t.type:t,d=y.call(t,"namespace")?t.namespace.split("."):[];if(o=h=s=n=n||S,3!==n.nodeType&&8!==n.nodeType&&!Ie.test(p+C.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),c=p.indexOf(":")<0&&"on"+p,(t=t[C.expando]?t:new C.Event(p,"object"===un(t)&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),l=C.event.special[p]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!g(n)){for(a=l.delegateType||p,Ie.test(a+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(n.ownerDocument||S)&&f.push(s.defaultView||s.parentWindow||x)}for(r=0;(o=f[r++])&&!t.isPropagationStopped();)h=o,t.type=1<r?a:l.bindType||p,(u=(Y.get(o,"events")||{})[t.type]&&Y.get(o,"handle"))&&u.apply(o,e),(u=c&&o[c])&&u.apply&&W(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=p,i||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(f.pop(),e)||!W(n)||c&&b(n[p])&&!g(n)&&((s=n[c])&&(n[c]=null),C.event.triggered=p,t.isPropagationStopped()&&h.addEventListener(p,_e),n[p](),t.isPropagationStopped()&&h.removeEventListener(p,_e),C.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(t,e,n){var i=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){C.event.simulate(i,t.target,C.event.fix(t))}C.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=Y.access(t,i);e||t.addEventListener(n,r,!0),Y.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Y.access(t,i)-1;e?Y.access(t,i,e):(t.removeEventListener(n,r,!0),Y.remove(t,i))}}});var Re=x.location,je=Date.now(),Be=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new x.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Me=/\[\]$/,De=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;function Ve(n,t,i,r){var e;if(Array.isArray(t))C.each(t,function(t,e){i||Me.test(n)?r(n,e):Ve(n+"["+("object"===un(e)&&null!=e?t:"")+"]",e,i,r)});else if(i||"object"!==k(t))r(n,t);else for(e in t)Ve(n+"["+e+"]",t[e],i,r)}C.param=function(t,e){function n(t,e){var n=b(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)}var i,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){n(this.name,this.value)});else for(i in t)Ve(i,t[i],e,n);return r.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Le.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:n.replace(De,"\r\n")}}).get()}});var Fe=/%20/g,qe=/#.*$/,ze=/([?&])_=[^&]*/,Ue=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:GET|HEAD)$/,Ge=/^\/\//,$e={},We={},Je="*/".concat("*"),Ye=S.createElement("a");function Ze(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(M)||[];if(b(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Ke(e,r,o,s){var a={},c=e===We;function u(t){var i;return a[t]=!0,C.each(e[t]||[],function(t,e){var n=e(r,o,s);return"string"!=typeof n||c||a[n]?c?!(i=n):void 0:(r.dataTypes.unshift(n),u(n),!1)}),i}return u(r.dataTypes[0])||!a["*"]&&u("*")}function Qe(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&C.extend(!0,t,i),t}Ye.href=Re.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Re.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Qe(Qe(t,C.ajaxSettings),e):Qe(C.ajaxSettings,t)},ajaxPrefilter:Ze($e),ajaxTransport:Ze(We),ajax:function(t,e){"object"===un(t)&&(e=t,t=void 0),e=e||{};var l,h,f,n,p,i,d,g,r,o,v=C.ajaxSetup({},e),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?C(y):C.event,b=C.Deferred(),w=C.Callbacks("once memory"),k=v.statusCode||{},s={},a={},c="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(d){if(!n)for(n={};e=Ue.exec(f);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return d?f:null},setRequestHeader:function(t,e){return null==d&&(t=a[t.toLowerCase()]=a[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==d&&(v.mimeType=t),this},statusCode:function(t){var e;if(t)if(d)A.always(t[A.status]);else for(e in t)k[e]=[k[e],t[e]];return this},abort:function(t){var e=t||c;return l&&l.abort(e),u(0,e),this}};if(b.promise(A),v.url=((t||v.url||Re.href)+"").replace(Ge,Re.protocol+"//"),v.type=e.method||e.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(M)||[""],null==v.crossDomain){i=S.createElement("a");try{i.href=v.url,i.href=i.href,v.crossDomain=Ye.protocol+"//"+Ye.host!=i.protocol+"//"+i.host}catch(t){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=C.param(v.data,v.traditional)),Ke($e,v,e,A),d)return A;for(r in(g=C.event&&v.global)&&0==C.active++&&C.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!He.test(v.type),h=v.url.replace(qe,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Fe,"+")):(o=v.url.slice(h.length),v.data&&(v.processData||"string"==typeof v.data)&&(h+=(Be.test(h)?"&":"?")+v.data,delete v.data),!1===v.cache&&(h=h.replace(ze,"$1"),o=(Be.test(h)?"&":"?")+"_="+je+++o),v.url=h+o),v.ifModified&&(C.lastModified[h]&&A.setRequestHeader("If-Modified-Since",C.lastModified[h]),C.etag[h]&&A.setRequestHeader("If-None-Match",C.etag[h])),(v.data&&v.hasContent&&!1!==v.contentType||e.contentType)&&A.setRequestHeader("Content-Type",v.contentType),A.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Je+"; q=0.01":""):v.accepts["*"]),v.headers)A.setRequestHeader(r,v.headers[r]);if(v.beforeSend&&(!1===v.beforeSend.call(y,A,v)||d))return A.abort();if(c="abort",w.add(v.complete),A.done(v.success),A.fail(v.error),l=Ke(We,v,e,A)){if(A.readyState=1,g&&m.trigger("ajaxSend",[A,v]),d)return A;v.async&&0<v.timeout&&(p=x.setTimeout(function(){A.abort("timeout")},v.timeout));try{d=!1,l.send(s,u)}catch(t){if(d)throw t;u(-1,t)}}else u(-1,"No Transport");function u(t,e,n,i){var r,o,s,a,c,u=e;d||(d=!0,p&&x.clearTimeout(p),l=void 0,f=i||"",A.readyState=0<t?4:0,r=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){c.unshift(r);break}if(c[0]in n)o=c[0];else{for(r in n){if(!c[0]||t.converters[r+" "+c[0]]){o=r;break}s=s||r}o=o||s}if(o)return o!==c[0]&&c.unshift(o),n[o]}(v,A,n)),a=function(t,e,n,i){var r,o,s,a,c,u={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(s=u[c+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[c+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],l.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}(v,a,A,r),r?(v.ifModified&&((c=A.getResponseHeader("Last-Modified"))&&(C.lastModified[h]=c),(c=A.getResponseHeader("etag"))&&(C.etag[h]=c)),204===t||"HEAD"===v.type?u="nocontent":304===t?u="notmodified":(u=a.state,o=a.data,r=!(s=a.error))):(s=u,!t&&u||(u="error",t<0&&(t=0))),A.status=t,A.statusText=(e||u)+"",r?b.resolveWith(y,[o,u,A]):b.rejectWith(y,[A,u,s]),A.statusCode(k),k=void 0,g&&m.trigger(r?"ajaxSuccess":"ajaxError",[A,v,r?o:s]),w.fireWith(y,[A,u]),g&&(m.trigger("ajaxComplete",[A,v]),--C.active||C.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,r){C[r]=function(t,e,n,i){return b(e)&&(i=i||n,n=e,e=void 0),C.ajax(C.extend({url:t,type:r,dataType:i,data:e,success:n},C.isPlainObject(t)&&t))}}),C._evalUrl=function(t,e){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e)}})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(b(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(t){C(this).wrapInner(n.call(this,t))}):this.each(function(){var t=C(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=b(e);return this.each(function(t){C(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(t){}};var Xe={0:200,1223:204},tn=C.ajaxSettings.xhr();m.cors=!!tn&&"withCredentials"in tn,m.ajax=tn=!!tn,C.ajaxTransport(function(r){var o,s;if(m.cors||tn&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Xe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),s=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&x.setTimeout(function(){o&&s()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){i=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}});var en,nn=[],rn=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=nn.pop()||C.expando+"_"+je++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,s=!1!==t.jsonp&&(rn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&rn.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=b(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(rn,"$1"+i):!1!==t.jsonp&&(t.url+=(Be.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||C.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=x[i],x[i]=function(){o=arguments},n.always(function(){void 0===r?C(x).removeProp(i):x[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,nn.push(i)),o&&b(r)&&r(o[0]),o=r=void 0}),"script"}),m.createHTMLDocument=((en=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===en.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(i)):e=S),o=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)));var i,r,o},C.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return-1<a&&(i=Ee(t.slice(a)),t=t.slice(0,a)),b(e)?(n=e,e=void 0):e&&"object"===un(e)&&(r="POST"),0<s.length&&C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,u=C.css(t,"position"),l=C(t),h={};"static"===u&&(t.style.position="relative"),a=l.offset(),o=C.css(t,"top"),c=C.css(t,"left"),r=("absolute"===u||"fixed"===u)&&-1<(o+c).indexOf("auto")?(s=(i=l.position()).top,i.left):(s=parseFloat(o)||0,parseFloat(c)||0),b(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):l.css(h)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),r.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-C.css(i,"marginTop",!0),left:e.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||it})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;C.fn[e]=function(t){return z(this,function(t,e,n){var i;if(g(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===n)return i?i[r]:t[e];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),C.each(["top","left"],function(t,n){C.cssHooks[n]=Qt(m.pixelPosition,function(t,e){if(e)return e=Kt(t,n),$t.test(e)?C(t).position()[n]+"px":e})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,o){C.fn[o]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return z(this,function(t,e,n){var i;return g(t)?0===o.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?C.css(t,e,r):C.style(t,e,n,r)},a,n?t:void 0,n)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){C.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),b(t))return i=a.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||C.guid++,r},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=O,C.isFunction=b,C.isWindow=g,C.camelCase=$,C.type=k,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(cn=function(){return C}.apply(ln,[]))||(an.exports=cn);var on=x.jQuery,sn=x.$;return C.noConflict=function(t){return x.$===C&&(x.$=sn),t&&x.jQuery===C&&(x.jQuery=on),C},t||(x.jQuery=x.$=C),C})}).call(this,e(170)(t))},function(t,e,n){var i,r;function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=[n(1),n(130),n(196),n(205),n(171),n(194),n(195),n(197)],void 0===(r=function(r,t,e,n,i,o,s,a){t=t||window.screenfull;function c(t){return"0".concat(t).slice(-2)}var f={pkg:{ClipboardJS:e,i18next:n,$:r,JSZip:i,JSZipUtils:o,ScriptJS:s,WebFont:a},getMsg:function(t){return t},LOG_LEVELS:["none","error","warn","info","debug","trace","all"],LOG_PRINT_LABELS:["     ","ERROR","WARN ","INFO ","DEBUG","TRACE","ALL  "],LOG_LEVEL:2,LOG_OPTIONS:{prefix:"JClic",timestamp:!0,popupOnErrors:!1,chainTo:null,pipeTo:null},init:function(t){return void 0!==(t=f.normalizeObject(t)).logLevel&&f.setLogLevel(t.logLevel),"function"==typeof t.chainLogTo&&(f.LOG_OPTIONS.chainTo=t.chainLogTo),"function"==typeof t.pipeLogTo&&(f.LOG_OPTIONS.pipeTo=t.pipeLogTo),t},setLogLevel:function(t){var e=f.LOG_LEVELS.indexOf(t);0<=e&&(f.LOG_LEVEL=e)},log:function(t,e){var n=f.LOG_LEVELS.indexOf(t),i=Array.prototype.slice.call(arguments);if(n<0||n<=f.LOG_LEVEL)if(f.LOG_OPTIONS.pipeTo)f.LOG_OPTIONS.pipeTo.apply(null,i);else{var r="".concat(f.LOG_OPTIONS.prefix||""," ").concat(f.LOG_PRINT_LABELS[n]," ").concat(f.LOG_OPTIONS.timestamp?f.getDateTime():""," ").concat(e);console[1===n?"error":2===n?"warn":"log"].apply(console,[r].concat(i.slice(2))),f.LOG_OPTIONS.chainTo&&f.LOG_OPTIONS.chainTo.apply(null,i)}},getBoolean:function(t,e){return"true"===t||"false"!==t&&(1<arguments.length&&void 0!==e&&e)},getVal:function(t,e){return""===t||null==t?1<arguments.length&&void 0!==e?e:null:t},getNumber:function(t,e){return Number(f.getVal(t,e))},getPercent:function(t){return"".concat(Math.round(100*t),"%")},getHMStime:function(t){var e=new Date(t),n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds();return"".concat(n?n+"h ":"").concat(n||i?c(i)+"'":"").concat(c(r),'"')},getDateTime:function(t){var e=0<arguments.length&&void 0!==t?t:new Date;return"".concat(e.getFullYear(),"/").concat(c(e.getMonth()+1),"/").concat(c(e.getDate())," ").concat(c(e.getHours()),":").concat(c(e.getMinutes()),":").concat(c(e.getSeconds()))},parseOldDate:function(t){var e=null;if(t){var n=t.trim().split("/");if(3===n.length){var i=parseInt(n[0])||0,r=parseInt(n[1])||0,o=parseInt(n[2])||0;if(12<i&&r<=12){var s=i;i=r,r=s}o<1980&&(o+=o<90?2e3:1900),r&&i&&o&&(e=new Date(Date.parse("".concat(i,"/").concat(r,"/").concat(o))))}}return e||new Date},cleanOldLanguageTag:function(t){if(t){if(!t.match(/^[a-z][a-z][a-z]?$/)){var e=t.match(/\(([a-z][a-z][a-z]?)\)/);t=2===e.length?e[1]:"--"}}else t="--";return t},FALSE:0,TRUE:1,DEFAULT:2,getTriState:function(t,e){var n=1<arguments.length&&void 0!==e?e:f.DEFAULT;return"true"===t?f.TRUE:"false"===t?f.FALSE:n},fillString:function(t,e){return Array(1<arguments.length&&void 0!==e?e:0).fill(t).join("")},isNullOrUndef:function(t){return null==t},isEquivalent:function(t,e){return null==t&&null==e||t===e},getXmlText:function(t){var n="";return r(t).children("p").each(function(t,e){n+="<p>".concat(e.textContent,"</p>")}),n},parseXmlNode:function(t,e){var i=1<arguments.length&&void 0!==e&&e,r={};t.attributes&&f.attrForEach(t.attributes,function(t,e){return r[t]=/^-?\d*$/.test(e)?Number(e):e});var o=[],n=Array.from(t.children||t.childNodes||[]),s=n.filter(function(t){return"p"===t.nodeName});if(0<s.length&&s.length===n.filter(function(t){return"#text"!==t.nodeName}).length){var a=s.map(function(t){return t.textContent}).join("\n");return t.attributes?(r.text=a,r):a}return n.forEach(function(t){if("#text"!==t.nodeName||i){var e=f.parseXmlNode(t,i);if(r[t.nodeName]||(r[t.nodeName]={},o.push(t.nodeName)),e.id)r[t.nodeName][e.id]=e;else{var n=Object.keys(r[t.nodeName]).length;r[t.nodeName][n]=e}}}),o.forEach(function(e){var t=Object.keys(r[e]);if(!t.find(function(t){return isNaN(t)}))if(1===t.length)r[e]=r[e][0];else{var n=[];t.forEach(function(t){return n.push(r[e][t])}),r[e]=n}}),0===n.length&&t.textContent&&(r.textContent=t.textContent),r},getXmlNodeText:function(t){var e=f.parseXmlNode(t);return"string"==typeof e?e:e.hasOwnProperty("text")?e.text:e.hasOwnProperty("textContent")?e.textContent:e},reduceTextsToStrings:function(i){i&&Object.keys(i).forEach(function(t){var e=i[t];if("object"===h(e)){var n=Object.keys(e);1===n.length&&"text"===n[0]?i[t]=e.text:i[t]=f.reduceTextsToStrings(e)}});return i},cssToString:function(n){return Object.keys(n).reduce(function(t,e){return"".concat(t).concat(e,":").concat(n[e],";")},"")},checkColor:function(t,e){var n=1<arguments.length&&void 0!==e?e:f.settings.BoxBase.BACK_COLOR;if(null==t&&(t=n),"#"===(t=t.replace("0x","#")).charAt(0)&&7<t.length){var i=f.fx(parseInt(t.substring(1,3),16)/255,2);t="rgba(".concat(parseInt(t.substring(3,5),16),",").concat(parseInt(t.substring(5,7),16),",").concat(parseInt(t.substring(7,9),16),",").concat(i,")")}return t},colorHasTransparency:function(t){if(f.startsWith(t,"rgba(")){var e=parseInt(t.substr(t.lastIndexOf(",")));return"number"==typeof e&&e<1}return!1},cloneObject:function(t){return r.extend(!0,Object.create(Object.getPrototypeOf(t)),t)},normalizeObject:function(t){var i={};return t&&r.each(t,function(t,e){var n;"string"==typeof e&&""!==(n=e.trim().toLowerCase())&&(e="true"===n||"false"!==n&&(isNaN(n)?e:Number(n))),i[t]=e}),i},getAttributes:function(o,t){var e=1<arguments.length&&void 0!==t?t:null,s={};return(e=e||Object.keys(o)).forEach(function(t){var e=l(t.split("|"),2),n=e[0],i=e[1];if(o.hasOwnProperty(n)&&void 0!==o[n]&&null!==o[n]&&o[n].toString()!==i){var r=f.getValue(o[n]);f.isEmpty(r)||(s[n]=r)}}),1===(e=Object.keys(s)).length&&"text"===e[0]&&(s=s.text),s},getValue:function(t){return t.getAttributes?t.getAttributes():t instanceof Array?t.map(function(t){return f.getValue(t)}):t instanceof Date?t.toISOString():t instanceof Object?f.getAttributes(t):t},isEmpty:function(t){var e=null==t;if(!e)switch(h(t)){case"object":e=0===Object.keys(t).length;break;case"string":e=0===t.length}return e},setAttr:function(a,c,t){return t.forEach(function(t){if(t.key){var e=t.key,n=t.fn,i=t.group,r=t.init,o=t.params;if(!f.isEmpty(c[e])){var s=c[e];a[e]="object"===i?Object.keys(s).reduce(function(t,e){return t[e]=f.buildObj(n,s[e],"key"===r?e:r,o),t},{}):"array"===i?s.map(function(t,e){return f.buildObj(n,t,"key"===r?e:r,o)}):f.buildObj(n,s,r,o)}}else f.isEmpty(c[t])||(a[t]=c[t])}),a},buildObj:function(t,e,n,i){var r,o=3<arguments.length&&void 0!==i?i:[];return t.factory?t.factory(e,n,o):(r=new t(n)).setAttributes.apply(r,[e].concat(u(o)))},isSeparator:function(t){return" .,;-|".includes(t)},roundTo:function(t,e){return Math.round(t/e)*e},fx:function(t,e){var n=1<arguments.length&&void 0!==e?e:4;return t.toFixed?Number(t.toFixed(n)):t},compareMultipleOptions:function(t,e,n,i){var r=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==i&&i;if(null===t||0===t.length||null===e||0===e.length)return!1;r||o||(t=t.toUpperCase()),t=t.trim(),o=o&&/\d/.test(t);var s=!0,a=!1,c=void 0;try{for(var u,l=e.split("|")[Symbol.iterator]();!(s=(u=l.next()).done);s=!0){var h=u.value;if(o){if(Number.parseFloat(t.replace(/,/,"."))===Number.parseFloat(h.replace(/,/,".")))return!0}else if(t===(r?h:h.toUpperCase()).trim())return!0}}catch(t){a=!0,c=t}finally{try{s||null==l.return||l.return()}finally{if(a)throw c}}return!1},endsWith:function(t,e,n){var i=0<arguments.length&&void 0!==t?t:"",r=1<arguments.length?e:void 0;return"string"==typeof i&&((2<arguments.length?n:void 0)?i.trim():i).endsWith(r)},startsWith:function(t,e,n){var i=0<arguments.length&&void 0!==t?t:"",r=1<arguments.length?e:void 0;return"string"==typeof i&&0===((2<arguments.length?n:void 0)?i.trim():i).indexOf(r)},nSlash:function(t){return t?t.replace(/\\/g,"/"):t},isURL:function(t){return/^(filesystem:)?(https?|file|data|ftps?):/i.test(t)},getBasePath:function(t){var e=t.lastIndexOf("/");return 0<=e?t.substring(0,e+1):""},getRelativePath:function(t,e){return e&&""!==e&&0===t.indexOf(e)?t.substr(e.length):t},getPath:function(t,e){return f.isURL(e)?e:t+e},getPathPromise:function(t,r,e){if(e){var n=f.getRelativePath(t+r,e.zipBasePath);if(e.files[n])return new Promise(function(i,t){e.file(n).async("base64").then(function(t){var e=r.toLowerCase().split(".").pop(),n=f.settings.MIME_TYPES[e]||"application/octet-stream";i("data:".concat(n,";base64,").concat(t))}).catch(t)})}return Promise.resolve(f.getPath(t,r))},$HTML:{doubleCell:function(t,e){return r("<tr/>").append(r("<td/>").html(t)).append(r("<td/>").html(e))},p:function(t){return r("<p/>").html(t)},td:function(t,e){return r("<td/>",e?{class:e}:null).html(t)},th:function(t,e){return r("<th/>",e?{class:e}:null).html(t)}},screenFullAllowed:function(){return t&&t.enabled},getSvg:function(t,e,n,i){return e&&(t=t.replace(/width=\"\d*\"/,'width="'.concat(e,'"'))),n&&(t=t.replace(/height=\"\d*\"/,'height="'.concat(n,'"'))),i&&(t=t.replace(/fill=\"[#A-Za-z0-9]*\"/,'fill="'.concat(i,'"'))),t},svgToURI:function(t,e,n,i){return"data:image/svg+xml;base64,"+btoa(f.getSvg(t,e,n,i))},toCssSize:function(t,e,n,i){var r=null==t?null:isNaN(t)?t:"".concat(t,"px");return e&&n&&(r||i)&&(e[n]=null!==r?r:i),r},getImgClipUrl:function(t,e){var n=document.createElement("canvas");n.width=e.dim.width,n.height=e.dim.height;var i=n.getContext("2d"),r="";try{i.drawImage(t,e.pos.x,e.pos.y,e.dim.width,e.dim.height,0,0,e.dim.width,e.dim.height),r=n.toDataURL()}catch(t){f.log("error",t)}return r},getRootHead:function(t){if(t){for(;t.parentElement;)t=t.parentElement;t instanceof HTMLElement&&(t=t.parentNode||t),t=t.head||t}return t||document.head},appendStyleAtHead:function(t,e){var n=f.getRootHead(e&&e.$topDiv?e.$topDiv[0]:null),i=document.createElement("style");return i.type="text/css",i.appendChild(document.createTextNode(t)),n.appendChild(i)},attrForEach:function(t,e){for(var n=0;n<t.length;n++)e(t[n].name,t[n].value)},findParentsWithChild:function(t,e,n){var i=2<arguments.length&&void 0!==n?n:[];return t[e]?i.push(t):Object.values(t).forEach(function(t){"object"===h(t)&&f.findParentsWithChild(t,e,i)}),i},settings:{AB:0,BA:1,AUB:2,BUA:3,LAYOUT_NAMES:["AB","BA","AUB","BUA"],DEFAULT_WIDTH:400,DEFAULT_HEIGHT:300,MINIMUM_WIDTH:40,MINIMUM_HEIGHT:40,DEFAULT_NAME:"---",DEFAULT_MARGIN:8,DEFAULT_SHUFFLES:31,DEFAULT_GRID_ELEMENT_SIZE:20,MIN_CELL_SIZE:10,DEFAULT_BG_COLOR:"#C0C0C0",ACTIONS:{ACTION_MATCH:"MATCH",ACTION_PLACE:"PLACE",ACTION_WRITE:"WRITE",ACTION_SELECT:"SELECT",ACTION_HELP:"HELP"},PREVIOUS:0,MAIN:1,END:2,END_ERROR:3,NUM_MSG:4,MSG_TYPE:["previous","initial","final","finalError"],RANDOM_CHARS:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM_COUNTERS:3,MAX_RECORD_LENGTH:20,BoxBase:{REDUCE_FONT_STEP:1,MIN_FONT_SIZE:8,STROKE:1,AC_MARGIN:6,BACK_COLOR:"#C0C0C0",TEXT_COLOR:"black",SHADOW_COLOR:"gray",INACTIVE_COLOR:"gray",ALTERNATIVE_COLOR:"gray",BORDER_COLOR:"black",BORDER_STROKE_WIDTH:.75,MARKER_STROKE_WIDTH:2.75},FILE_TYPES:{image:"gif,jpg,png,jpeg,bmp,ico,svg",audio:"wav,mp3,ogg,oga,au,aiff,flac",video:"avi,mov,mpeg,mp4,ogv,m4v,webm",font:"ttf,otf,eot,woff,woff2",midi:"mid,midi",anim:"swf",xml:"xml"},MIME_TYPES:{xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",svg:"image/svg+xml",ico:"image/x-icon",wav:"audio/wav",mp3:"audio/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogg:"audio/ogg",oga:"audio/ogg",ogv:"video/ogg",webm:"video/webm",au:"audio/basic",aiff:"audio/x-aiff",flac:"audio/flac",avi:"video/avi",mov:"video/quicktime",mpeg:"video/mpeg",ttf:"application/font-sfnt",otf:"application/font-sfnt",eot:" application/vnd.ms-fontobject",woff:"application/font-woff",woff2:"application/font-woff2",swf:"application/x-shockwave-flash",mid:"audio/midi",midi:"audio/midi"},COMPRESS_IMAGES:!0,VK:{LEFT:37,UP:38,RIGHT:39,DOWN:40},TOUCH_DEVICE:!1,LOAD_TIMEOUT:1e4,BEZIER_POINTS:4,CANVAS_HITREGIONS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.addHitRegion,CANVAS_HITREGIONS_FOCUS:"undefined"!=typeof CanvasRenderingContext2D&&"function"==typeof CanvasRenderingContext2D.prototype.drawFocusIfNeeded},getCaretCharacterOffsetWithin:function(t){var e,n=0,i=t.ownerDocument||t.document,r=i.defaultView||i.parentWindow;if(void 0!==r.getSelection){if(0<(e=r.getSelection()).rangeCount){var o=r.getSelection().getRangeAt(0),s=o.cloneRange();s.selectNodeContents(t),s.setEnd(o.endContainer,o.endOffset),n=s.toString().length}}else if((e=i.selection)&&"Control"!==e.type){var a=e.createRange(),c=i.body.createTextRange();c.moveToElementText(t),c.setEndPoint("EndToEnd",a),n=c.text.length}return n},getTextNodesIn:function(t){var e=[];if(3===t.nodeType)e.push(t);else for(var n=t.childNodes,i=0,r=n.length;i<r;++i)e.push.apply(e,f.getTextNodesIn(n[i]));return e},setSelectionRange:function(t,e,n){if(f.isNullOrUndef(n)&&(n=e),document.createRange&&window.getSelection){var i=document.createRange();i.selectNodeContents(t);for(var r,o,s=f.getTextNodesIn(t),a=!1,c=0,u=0;u<s.length;u++){if(r=c+(o=s[u]).length,!a&&c<=e&&(e<r||e===r&&u+1<=s.length)&&(i.setStart(o,e-c),a=!0),a&&n<=r){i.setEnd(o,n-c);break}c=r}var l=window.getSelection();l.removeAllRanges(),l.addRange(i)}else if(document.selection&&document.body.createTextRange){var h=document.body.createTextRange();h.moveToElementText(t),h.collapse(!0),h.moveEnd("character",n),h.moveStart("character",e),h.select()}}};return f}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function m(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function A(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}i=[n(1),n(2),n(197)],void 0===(r=function(a,h,n){var t=function(){function s(t,e,n,i,r){k(this,s),t&&(this.family=t),"number"==typeof e&&(this.size=e),n&&(this.bold=n),i&&(this.italic=i),r&&(this.variant=r),this._metrics={ascent:-1,descent:-1,height:-1}}return A(s,[{key:"setProperties",value:function(t){return t.attr("family")&&(this.family=t.attr("family")),t.attr("size")&&(this.size=Number(t.attr("size"))),t.attr("bold")&&(this.bold=h.getBoolean(t.attr("bold"))),t.attr("italic")&&(this.italic=h.getBoolean(t.attr("italic"))),t.attr("variant")&&(this.variant=t.attr("variant")),this}},{key:"getAttributes",value:function(){return h.getAttributes(this,["family|Arial","size|17","bold|0","italic|0","variant"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["family","size","bold","italic","variant"])}},{key:"setSize",value:function(t){return this.size!==(this.size=t)&&(this._metrics.height=-1),this}},{key:"zoom",value:function(t){return this.setSize(this.size+t)}},{key:"getHeight",value:function(){var e=this;if(this._metrics.height<0){var t=s.ALREADY_CALCULATED_FONTS.find(function(t){return t.equals(e)});t&&Object.assign(this._metrics,t._metrics),this._metrics.height<0&&(this._calcHeight(),0<this._metrics.height&&s.ALREADY_CALCULATED_FONTS.push(this))}return this._metrics.height}},{key:"toCss",value:function(t){return(t=t||{})["font-family"]=this.family,t["font-size"]="".concat(this.size,"px"),this.hasOwnProperty("bold")&&(t["font-weight"]=this.bold?"bold":"normal"),this.hasOwnProperty("italic")&&(t["font-style"]=this.italic?"italic":"normal"),this.hasOwnProperty("variant")&&(t["font-variant"]=this.variant),t}},{key:"cssFont",value:function(){return"".concat(this.italic?"italic ":"normal"," ").concat(""===this.variant?"normal":this.variant," ").concat(this.bold?"bold ":"normal"," ").concat(this.size,"pt ").concat(this.family)}},{key:"_calcHeight",value:function(){var t=a("<span/>").html("Hg").css(this.toCss()),e=a("<div/>").css({display:"inline-block",width:"1px",height:"0px"}),n=a("<div/>").append(t,e);a("body").append(n);try{e.css({verticalAlign:"baseline"}),this._metrics.ascent=e.offset().top-t.offset().top,e.css({verticalAlign:"bottom"}),this._metrics.height=e.offset().top-t.offset().top,this._metrics.descent=this._metrics.height-this._metrics.ascent}finally{n.remove()}return this}},{key:"equals",value:function(t){return this.family===t.family&&this.size===t.size&&this.bold===t.bold&&this.italic===t.italic&&this.variant===t.variant}}],[{key:"checkTree",value:function(t,e){var o=s.SUBSTITUTIONS;e&&e.ownFonts&&e.ownFonts.forEach(function(t){s.ALREADY_LOADED_FONTS.indexOf(t)<0&&n&&n.load&&(n.load({custom:{families:[t]}}),s.ALREADY_LOADED_FONTS.push(t),delete o[t.trim().toLowerCase()])}),e&&e.fontSubstitutions&&(o=a.extend(Object.create(o),e.fontSubstitutions)),t.jquery?t.find("style[family],font[family]").each(function(t,e){var n=a(e),i=n.attr("family").trim().toLowerCase();if(i in o){var r=o[i];""!==r&&(s.loadGoogleFont(r),n.attr("family",r))}}):h.findParentsWithChild(t,"family").forEach(function(t){if("string"==typeof t.family){var e=t.family;if(s.GOOGLEFONTS.includes(e))s.loadGoogleFont(e);else{var n=o[e.trim().toLowerCase()];n&&(s.loadGoogleFont(n),t.family=n)}}})}},{key:"loadGoogleFont",value:function(t){t&&!s.ALREADY_LOADED_FONTS.includes(t)&&n&&n.load&&(n.load({google:{families:[t]}}),s.ALREADY_LOADED_FONTS.push(t))}},{key:"loadGoogleFonts",value:function(t){t&&t.forEach&&t.forEach(function(t){return s.loadGoogleFont(t)})}}]),s}();t.ALREADY_CALCULATED_FONTS=[],t.ALREADY_LOADED_FONTS=[],t.SUBSTITUTIONS={abc:"Kalam","a.c.m.e. secret agent":"Permanent Marker","comic sans ms":"Patrick Hand",impact:"Oswald",massallera:"Vibur",memima:"Vibur",memima_n1:"Vibur",memima_n2:"Vibur","memimas-regularalternate":"Vibur",palmemim:"Vibur",zurichcalligraphic:"Felipa"},t.GOOGLEFONTS=["Kalam","Permanent Marker","Patrick Hand","Oswald","Vibur","Felipa"],Object.assign(t.prototype,{family:"Arial",size:17,bold:0,italic:0,variant:"",_metrics:{ascent:-1,descent:-1,height:-1}});var e=function(){function r(t,e,n,i){k(this,r),t&&(this.c1=t),e&&(this.c2=e),"number"==typeof n&&(this.angle=n%360),"number"==typeof i&&(this.cycles=i)}return A(r,[{key:"setProperties",value:function(t){return this.c1=h.checkColor(t.attr("source"),"black"),this.c2=h.checkColor(t.attr("dest"),"white"),this.angle=Number(t.attr("angle")||0)%360,this.cycles=Number(t.attr("cycles")||1),this}},{key:"getAttributes",value:function(){return h.getAttributes(this,["c1","c2","angle|0","cycles|1"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["c1","c2","angle","cycles"])}},{key:"getGradient",value:function(t,e){for(var n=e.getOppositeVertex(),i=t.createLinearGradient(e.pos.x,e.pos.y,n.x,n.y),r=1/Math.max(this.cycles,1),o=0;o<=this.cycles;o++)i.addColorStop(o*r,o%2?this.c1:this.c2);return i}},{key:"getCss",value:function(){for(var t="linear-gradient(".concat(this.angle+90,"deg, ").concat(this.c1,", ").concat(this.c2),e=1;e<this.cycles;e++)t="".concat(t,", ").concat(0<e%2?this.c1:this.c2);return"".concat(t,")")}},{key:"hasTransparency",value:function(){return h.colorHasTransparency(this.c1)||h.colorHasTransparency(this.c2)}}]),r}();Object.assign(e.prototype,{c1:"white",c2:"black",angle:0,cycles:1});var i=function(){function r(t,e,n,i){k(this,r),"number"==typeof t&&(this.lineWidth=t),e&&(this.lineCap=e),n&&(this.lineJoin=n),"number"==typeof i&&(this.miterLimit=i)}return A(r,[{key:"getAttributes",value:function(){return h.getAttributes(this,["lineWidth|1","lineCap|butt","lineJoin|miter","miterLimit|10"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["lineWidth","lineCap","lineJoin","miterLimit"])}},{key:"setStroke",value:function(t){return t.lineWidth=this.lineWidth,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.miterLimit=this.miterLimit,t}}]),r}();Object.assign(i.prototype,{lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10});var f=function(){function n(t,e){k(this,n),t instanceof n?(this.x=t.x,this.y=t.y):(this.x=t||0,this.y=e||0)}return A(n,[{key:"setProperties",value:function(t){return this.x=Number(t.attr("x")),this.y=Number(t.attr("y")),this}},{key:"getAttributes",value:function(){return h.getAttributes(this,["x","y"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["x","y"])}},{key:"moveBy",value:function(t){return this.x+=t.x||t.width||0,this.y+=t.y||t.height||0,this}},{key:"moveTo",value:function(t,e){return"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y),this}},{key:"multBy",value:function(t){return this.x*=t.x||t.width||0,this.y*=t.y||t.height||0,this}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2),Math.pow(this.y-t.y,2))}},{key:"clone",value:function(){return new n(this)}}]),n}();Object.assign(f.prototype,{x:0,y:0});var c=function(){function n(t,e){k(this,n),t instanceof f&&e instanceof f?(this.width=e.x-t.x,this.height=e.y-t.y):(this.width=t||0,this.height=e||0)}return A(n,[{key:"setProperties",value:function(t){return this.width=Number(t.attr("width")),this.height=Number(t.attr("height")),this}},{key:"getAttributes",value:function(){return h.getAttributes(this,["width","height"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["width","height"])}},{key:"equals",value:function(t){return this.width===t.width&&this.height===t.height}},{key:"multBy",value:function(t){return this.width*=t.x||t.width||0,this.height*=t.y||t.height||0,this}},{key:"setDimension",value:function(t,e){return t instanceof n&&(e=t.height,t=t.width),this.width=t,this.height=e,this}},{key:"getSurface",value:function(){return this.width*this.height}}]),n}();Object.assign(c.prototype,{width:0,height:0});var r=function(){function e(t){k(this,e),this.pos=t||new f}return A(e,[{key:"moveBy",value:function(t){return this.pos.moveBy(t),this}},{key:"moveTo",value:function(t){return this.pos.moveTo(t),this}},{key:"getBounds",value:function(){return new u(this.pos)}},{key:"equals",value:function(t){return this.pos.equals(t.pos)}},{key:"scaleBy",value:function(t){return this}},{key:"getShape",value:function(t){return this.clone().scaleBy(t.dim).moveBy(t.pos)}},{key:"contains",value:function(t){return!1}},{key:"intersects",value:function(t){return!1}},{key:"fill",value:function(t,e){return t.save(),e&&0<e.getSurface()&&(t.beginPath(),t.rect(e.pos.x,e.pos.y,e.dim.width,e.dim.height),t.clip()),this.preparePath(t),t.fill(),t.restore(),t}},{key:"stroke",value:function(t){return this.preparePath(t),t.stroke(),t}},{key:"preparePath",value:function(t){return t}},{key:"clip",value:function(t,e){return this.preparePath(t),t.clip(e||"nonzero"),t}},{key:"isRect",value:function(){return!1}},{key:"toString",value:function(){return"Shape enclosed in ".concat(this.getBounds().getCoords())}},{key:"setAttributes",value:function(t){return e.buildShape(t)}}],[{key:"buildShape",value:function(t){var e="rect"===t.type&&u||"ellipse"===t.type&&o||"path"===t.type&&s||null;if(e)return(new e).setAttributes(t);console.log("unknown shape!"),console.log(t)}}]),e}();Object.assign(r.prototype,function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({type:"shape",pos:new f},"type","shape"));var u=function(){function a(t,e,n,i){var r;k(this,a);var o=t,s=e;return t instanceof a?(s=new c(t.dim.width,t.dim.height),o=new f(t.pos.x,t.pos.y)):t instanceof f?(o=new f(t.x,t.y),e instanceof c&&(s=new c(e.width,e.height))):t instanceof Array?(o=new f(t[0],t[1]),s=new c(t[2]-t[0],t[3]-t[1])):"number"==typeof n&&"number"==typeof i&&(o=new f(t,e),s=new c(n,i)),(r=m(this,b(a).call(this,o))).dim=s instanceof c?s:s instanceof f?new c(s.x-r.pos.x,s.y-r.pos.y):new c,r.type="rect",r}return w(a,r),A(a,[{key:"getBounds",value:function(){return this}},{key:"setBounds",value:function(t){return t=t||new a,this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this}},{key:"equals",value:function(t){return t instanceof a&&this.pos.equals(t.pos)&&this.dim.equals(t.dim)}},{key:"clone",value:function(){return new a(this)}},{key:"scaleBy",value:function(t){return this.pos.multBy(t),this.dim.multBy(t),this}},{key:"grow",value:function(t,e){return this.pos.x-=t,this.pos.y-=e,this.dim.width+=2*t,this.dim.height+=2*e,this}},{key:"getOppositeVertex",value:function(){return new f(this.pos.x+this.dim.width,this.pos.y+this.dim.height)}},{key:"add",value:function(t){var e=this.getOppositeVertex(),n=t.getBounds().getOppositeVertex();return this.pos.moveTo(Math.min(this.pos.x,t.getBounds().pos.x),Math.min(this.pos.y,t.getBounds().pos.y)),this.dim.setDimension(Math.max(e.x,n.x)-this.pos.x,Math.max(e.y,n.y)-this.pos.y),this}},{key:"contains",value:function(t){var e=this.getOppositeVertex();return t.x>=this.pos.x&&t.x<=e.x&&t.y>=this.pos.y&&t.y<=e.y}},{key:"intersects",value:function(t){var e=this.pos,n=this.getOppositeVertex(),i=t.pos,r=t.getOppositeVertex();return r.x>=e.x&&i.x<=n.x&&r.y>=e.y&&i.y<=n.y}},{key:"preparePath",value:function(t){return t.beginPath(),t.rect(this.pos.x,this.pos.y,this.dim.width,this.dim.height),t}},{key:"getSurface",value:function(){return this.dim.getSurface()}},{key:"isEmpty",value:function(){return 0===this.getSurface()}},{key:"isRect",value:function(){return!0}},{key:"toString",value:function(){return"Rectangle ".concat(this.getCoords())}},{key:"getCoords",value:function(){return"[".concat(Math.round(this.pos.x),",").concat(Math.round(this.pos.y),",").concat(Math.round(this.pos.x+this.dim.width),",").concat(Math.round(this.pos.y+this.dim.height),"]")}},{key:"getAttributes",value:function(){return h.getAttributes(this,["type","pos","dim"])}},{key:"setAttributes",value:function(t){return h.setAttr(this,t,["type",{key:"pos",fn:f},{key:"dim",fn:c}])}}]),a}();Object.assign(u.prototype,{type:"rect",dim:new c});var o=function(){function s(t,e,n,i){return k(this,s),m(this,b(s).call(this,t,e,n,i))}return w(s,u),A(s,[{key:"preparePath",value:function(t){var e=.5522848*this.dim.width/2,n=.5522848*this.dim.height/2,i=this.pos.x+this.dim.width,r=this.pos.y+this.dim.height,o=this.pos.x+this.dim.width/2,s=this.pos.y+this.dim.height/2;return t.beginPath(),t.moveTo(this.pos.x,s),t.bezierCurveTo(this.pos.x,s-n,o-e,this.pos.y,o,this.pos.y),t.bezierCurveTo(o+e,this.pos.y,i,s-n,i,s),t.bezierCurveTo(i,s+n,o+e,r,o,r),t.bezierCurveTo(o-e,r,this.pos.x,s+n,this.pos.x,s),t.closePath(),t}},{key:"contains",value:function(t){var e=y(b(s.prototype),"contains",this).call(this,t);if(e){var n=this.dim.width/2,i=this.dim.height/2,r=this.pos.x+n,o=this.pos.y+i;e=Math.pow(t.x-r,2)/Math.pow(n,2)+Math.pow(t.y-o,2)/Math.pow(i,2)<=1}return e}},{key:"getSurface",value:function(){return Math.PI*this.dim.width/2*this.dim.height/2}},{key:"equals",value:function(t){return t instanceof s&&y(b(s.prototype),"equals",this).call(this,t)}},{key:"clone",value:function(){return new s(this.pos,this.dim)}},{key:"isRect",value:function(){return!1}},{key:"toString",value:function(){return"Ellipse enclosed in ".concat(this.getCoords())}}]),s}();Object.assign(o.prototype,{type:"ellipse"});var s=function(){function n(t){var e;return k(this,n),e=m(this,b(n).call(this)),t&&e.setStrokes(t),e}return w(n,r),A(n,[{key:"setStrokes",value:function(t){var e=this;return this.strokes=[],t.forEach(function(t){return e.strokes.push(new l(t.type||t.action,t.points||t.data))}),this.enclosing=new u,this.enclosingPoints=[],this.calcEnclosingRect(),this.pos=this.enclosing.pos,this}},{key:"clone",value:function(){return new n(this.strokes.map(function(t){return t.clone()}))}},{key:"addStroke",value:function(t){return this.strokes.push(t),this}},{key:"calcEnclosingRect",value:function(){var e=this;this.enclosingPoints=[];var n=new f;this.strokes.forEach(function(t){t.getEnclosingPoints(n).forEach(function(t){n=new f(t),e.enclosingPoints.push(n)})});var t=this.enclosingPoints.length;1<t&&this.enclosingPoints[0].equals(this.enclosingPoints[t-1])&&(this.enclosingPoints.pop(),t--);for(var i=new f(this.enclosingPoints[0]),r=new f(this.enclosingPoints[0]),o=1;o<t;o++){var s=this.enclosingPoints[o];i.x=Math.min(s.x,i.x),i.y=Math.min(s.y,i.y),r.x=Math.max(s.x,r.x),r.y=Math.max(s.y,r.y)}return this.enclosing.setBounds(new u(i,new c(i,r))),this.enclosing}},{key:"getBounds",value:function(){return this.enclosing}},{key:"moveBy",value:function(e){return this.strokes.forEach(function(t){return t.moveBy(e)}),this.enclosingPoints.forEach(function(t){return t.moveBy(e)}),this.enclosing.moveBy(e),this}},{key:"moveTo",value:function(t){return this.moveBy(new c(t.x-this.pos.x,t.y-this.pos.y))}},{key:"equals",value:function(t){return!1}},{key:"scaleBy",value:function(e){return this.strokes.forEach(function(t){return t.multBy(e)}),this.enclosingPoints.forEach(function(t){return t.multBy(e)}),this.enclosing.scaleBy(e),this}},{key:"contains",value:function(t){var e=this.enclosing.contains(t);if(e){for(var n=this.enclosingPoints.length,i=0,r=0,o=this.enclosingPoints[0],s=1;s<=n;s++){var a=this.enclosingPoints[s%n];t.y>Math.min(o.y,a.y)&&t.y<=Math.max(o.y,a.y)&&t.x<=Math.max(o.x,a.x)&&o.y!==a.y&&(i=(t.y-o.y)*(a.x-o.x)/(a.y-o.y)+o.x,(o.x===a.x||t.x<=i)&&r++),o=a}r%2==0&&(e=!1)}return e}},{key:"intersects",value:function(t){return this.enclosing.intersects(t)}},{key:"preparePath",value:function(e){return e.beginPath(),this.strokes.forEach(function(t){return t.stroke(e)}),e}},{key:"getAttributes",value:function(){return{type:this.type,strokes:this.strokes.map(function(t){return t.getAttributes()}).join("|")}}},{key:"setAttributes",value:function(t){var e=t.strokes.split("|").map(function(t){var e=v(t.split(":"),2),n=e[0],i=e[1];return new l(n,i?i.split(","):[])});return this.setStrokes(e)}}]),n}();Object.assign(s.prototype,{type:"path",strokes:[],enclosing:new u,enclosingPoints:[]});var l=function(){function l(t,e){if(k(this,l),this.type=t,e&&0<e.length)if(e[0]instanceof f)this.points=e.map(function(t){return new f(t)});else{this.points=[];for(var n=0;n<e.length;n+=2)this.points.push(new f(e[n],e[n+1]))}}return A(l,[{key:"clone",value:function(){return new l(this.type,this.points)}},{key:"moveBy",value:function(e){return this.points&&this.points.forEach(function(t){return t.moveBy(e)}),this}},{key:"multBy",value:function(e){return this.points&&this.points.forEach(function(t){return t.multBy(e)}),this}},{key:"stroke",value:function(t){switch(this.type){case"M":t.moveTo(this.points[0].x,this.points[0].y);break;case"L":t.lineTo(this.points[0].x,this.points[0].y);break;case"Q":t.quadraticCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y);break;case"B":t.bezierCurveTo(this.points[0].x,this.points[0].y,this.points[1].x,this.points[1].y,this.points[2].x,this.points[2].y);break;case"X":t.closePath()}return t}},{key:"getEnclosingPoints",value:function(t){var e=[];switch(this.type){case"M":case"L":e.push(this.points[0]);break;case"Q":(e=l.getQuadraticPoints(t,this.points[0],this.points[1])).push(this.points[1]);break;case"B":(e=l.getCubicPoints(t,this.points[0],this.points[1],this.points[2])).push(this.points[2])}return e}},{key:"getAttributes",value:function(){return"".concat(this.type,":").concat(this.points?this.points.map(function(t){return"".concat(h.fx(t.x),",").concat(h.fx(t.y))}).join(","):"")}}],[{key:"getQuadraticPoints",value:function(t,e,n,i){i=i||h.settings.BEZIER_POINTS;for(var r=[],o=new f,s=new f,a=0;a<i;a++){var c=(a+1)/(i+1);o.x=t.x+(e.x-t.x)*c,o.y=t.y-(t.y-e.y)*c,s.x=e.x+(n.x-e.x)*c,s.y=e.y+(n.y-e.y)*c,r.push(new f(o.x+(s.x-o.x)*c,o.y-(o.y-s.y)*c))}return r}},{key:"getCubicPoints",value:function(t,e,n,i,r){var o=[];r=r||h.settings.BEZIER_POINTS;for(var s=l.getQuadraticPoints(t,e,n,r),a=l.getQuadraticPoints(e,n,i,r),c=0;c<r;c++){var u=(c+1)/(r+1);o.push(new f(s[c].x+(a[c].x-s[c].x)*u,s[c].y-(s[0].y-a[0].y)*u))}return o}}]),l}();Object.assign(l.prototype,{type:"X",points:null});var p=function(){function n(t,e){k(this,n),this.name=t,this.actionPerformed=e,this._statusListeners=[]}return A(n,[{key:"actionPerformed",value:function(t,e){return this}},{key:"processEvent",value:function(t){return this.actionPerformed(this,t)}},{key:"addStatusListener",value:function(t){this._statusListeners.push(t)}},{key:"removeStatusListener",value:function(e){this._statusListeners=this._statusListeners.map(function(t){return t!==e})}},{key:"setEnabled",value:function(t){var e=this;return this.enabled=t,this._statusListeners.forEach(function(t){return t.call(e,e)}),this}}]),n}();Object.assign(p.prototype,{name:null,description:null,enabled:!1,_statusListeners:null});var d=function(){function i(t,e,n){k(this,i),this.actionPerformed=t,this.interval=e,this.setEnabled(!0===n)}return A(i,[{key:"actionPerformed",value:function(t){return this}},{key:"processTimer",value:function(t){return this.ticks++,this.repeats||this.stop(),this.actionPerformed.call(this)}},{key:"setEnabled",value:function(t,e){var n=this;if(e||(this.ticks=0),!t||null===this.timer)return t?this.timer=window.setInterval(function(){return n.processTimer(null)},this.interval):null!==this.timer&&(window.clearInterval(this.timer),this.timer=null),this}},{key:"isRunning",value:function(){return null!==this.timer}},{key:"start",value:function(t){return this.setEnabled(!0,t)}},{key:"stop",value:function(t){return this.setEnabled(!1,t)}}]),i}();Object.assign(d.prototype,{interval:0,ticks:0,timer:null,repeats:!0});var g=function(){function r(t,e,n,i){return k(this,r),m(this,b(r).call(this,t,e,n,i))}return w(r,u),A(r,[{key:"invalidate",value:function(t){return t?null===this.invalidatedRect?this.invalidatedRect=t.clone():this.invalidatedRect.add(t):this.invalidatedRect=null,this}},{key:"update",value:function(){return this.updateContent(this.invalidatedRect),this.invalidatedRect=null,this}},{key:"updateContent",value:function(t){return this}}]),r}();return Object.assign(g.prototype,{invalidatedRect:null}),{Font:t,Gradient:e,Stroke:i,Point:f,Dimension:c,Shape:r,Rectangle:u,Ellipse:o,Path:s,PathStroke:l,Action:p,Timer:d,Container:g}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){var i=n(75)("wks"),r=n(46),o=n(5).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,s,e){"use strict";var a=e(42),c=e(177),n=e(93),i=e(423),u=e(70);function r(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}s.newBlob=function(e,n){s.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var o={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var e=65536,n=s.getTypeOf(t),i=!0;if("uint8array"===n?i=o.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=o.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return o.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return o.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}s.applyFromCharCode=h;var p={};p.string={string:r,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,n.allocBuffer(t.length))}},p.array={string:h,array:r,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return n.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:r,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return n.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:r,nodebuffer:function(t){return n.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:r},s.transformTo=function(t,e){if(e=e||"",!t)return e;s.checkSupport(t);var n=s.getTypeOf(e);return p[n][t](e)},s.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&n.isBuffer(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},s.delay=function(t,e,n){i(function(){t.apply(n||null,e||[])})},s.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},s.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},s.prepareContent=function(n,t,i,r,o){return u.Promise.resolve(t).then(function(i){return a.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(e,n){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=s.getTypeOf(t);return e?("arraybuffer"===e?t=s.transformTo("uint8array",t):"string"===e&&(o?t=c.decode(t):i&&!0!==r&&(t=function(t){return l(t,a.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,n){t.exports=!n(6)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(4),r=n(136),o=n(29),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(31),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}i=[n(1),n(2),n(3),n(131),n(71),n(133),n(56),n(200),n(201),n(461),n(462)],void 0===(r=function(o,a,c,e,i,u,l,h,f,p,d){var g=a.settings,s="touchstart",t=function(){function s(t){w(this,s),this.project=t,this.eventSounds=new e(this.project.settings.eventSounds),this.messages={},this.abc={}}return k(s,[{key:"setProperties",value:function(t){var r=this;return a.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"name":e=a.nSlash(e);case"code":case"type":case"description":r[t]=e;break;case"class":r.className=e.replace(/^edu\.xtec\.jclic\.activities\./,"@");break;case"inverse":r.invAss=a.getBoolean(e,!1);break;case"autoJump":case"forceOkToAdvance":case"amongParagraphs":r[t]=a.getBoolean(e,!1)}}),t.children().each(function(t,e){var n=o(e);switch(e.nodeName){case"settings":a.attrForEach(n.get(0).attributes,function(t,e){switch(t){case"infoUrl":case"infoCmd":r[t]=e;break;case"margin":case"maxTime":case"maxActions":r[t]=Number(e);break;case"report":r.includeInReports=a.getBoolean(e,!1);break;case"countDownTime":case"countDownActions":case"reportActions":case"useOrder":case"dragCells":r[t]=a.getBoolean(e,!1)}}),n.children().each(function(t,e){var n=o(e);switch(e.nodeName){case"skin":r.skinFileName=n.attr("file");break;case"helpWindow":r.helpMsg=a.getXmlText(r),r.showSolution=a.getBoolean(n.attr("showSolution"),!1),r.helpWindow=null!==r.helpMsg||r.showSolution;break;case"container":r.bgColor=a.checkColor(n.attr("bgColor"),a.settings.BoxBase.BACK_COLOR),n.children().each(function(t,e){var n=o(e);switch(e.nodeName){case"image":r.bgImageFile=n.attr("name"),r.tiledBgImg=a.getBoolean(n.attr("tiled"),!1);break;case"counters":r.bTimeCounter=a.getBoolean(n.attr("time"),!0),r.bActionsCounter=a.getBoolean(n.attr("actions"),!0),r.bScoreCounter=a.getBoolean(n.attr("score"),!0);break;case"gradient":r.bgGradient=(new c.Gradient).setProperties(n)}});break;case"window":r.activityBgColor=a.checkColor(n.attr("bgColor"),g.DEFAULT_BG_COLOR),r.transparentBg=a.getBoolean(n.attr("transparent"),!1),r.border=a.getBoolean(n.attr("border"),!1),n.children().each(function(t,e){var n=o(e);switch(e.nodeName){case"gradient":r.activityBgGradient=(new c.Gradient).setProperties(n);break;case"position":r.absolutePosition=(new c.Point).setProperties(n),r.absolutePositioned=!0;break;case"size":r.windowSize=(new c.Dimension).setProperties(n)}});break;case"eventSounds":r.eventSounds.setProperties(n)}});break;case"messages":n.children("cell").each(function(t,e){var n=r.readMessage(o(e));r.messages[n.type]=n});break;case"automation":r.acp=h.getProvider(n,r.project),r.acp&&(r.numericContent=r.acp.numericContent);break;case"cells":var i=(new u).setProperties(n,r.project.mediaBag);r.abc[i.id]=i;break;case"scramble":r.shuffles=Number(n.attr("times")),r.shuffleA=a.getBoolean(n.attr("primary")),r.shuffleB=a.getBoolean(n.attr("secondary"));break;case"layout":a.attrForEach(n.get(0).attributes,function(t,e){switch(t){case"position":r.boxGridPos=e;break;case"wildTransparent":case"upperCase":case"checkCase":r[t]=a.getBoolean(e)}});break;case"menuElement":r.menuElements.push({caption:n.attr("caption")||"",icon:n.attr("icon")||null,projectPath:n.attr("path")||null,sequence:n.attr("sequence")||null,description:n.attr("description")||""});break;case"textGrid":r.tgc=(new f).setProperties(n);break;case"clues":r.clues=[],r.clueItems=[],n.children("clue").each(function(t,e){r.clueItems[t]=Number(o(e).attr("id")),r.clues[t]=e.textContent});break;case"checkButton":r.checkButtonText=e.textContent||"check";break;case"prevScreen":r.prevScreen=!0,r.prevScreenMaxTime=n.attr("maxTime")||-1,n.children().each(function(t,e){switch(e.nodeName){case"style":r.prevScreenStyle=(new l).setProperties(o(e));break;case"p":null===r.prevScreenText&&(r.prevScreenText=""),r.prevScreenText+="<p>".concat(e.textContent,"</p>")}});break;case"evaluator":r.ev=p.getEvaluator(n);break;case"document":r.document=(new d).setProperties(n,r.project.mediaBag)}}),this}},{key:"readMessage",value:function(t){var e=(new i).setProperties(t,this.project.mediaBag);return e.type=t.attr("type"),a.isNullOrUndef(e.style)&&(e.style=new l(null)),e}},{key:"getAttributes",value:function(){return a.getAttributes(this,["name","className","code","type","description","invAss","numericContent","autoJump","forceOkToAdvance","amongParagraphs","infoUrl","infoCmd","margin|".concat(g.DEFAULT_MARGIN),"maxTime","maxActions","includeInReports|true","reportActions|false","countDownTime","countDownActions","useOrder","dragCells","skinFileName","showSolution|false","helpMsg","bgColor|".concat(g.DEFAULT_BG_COLOR),"bgImageFile","tiledBgImg","bTimeCounter|true","bActionsCounter|true","bScoreCounter|true","activityBgColor|".concat(g.DEFAULT_BG_COLOR),"transparentBg|false","border|true","shuffleA","shuffleB","shuffles","boxGridPos","wildTransparent","upperCase","checkCase","checkButtonText","prevScreen","prevScreenMaxTime","prevScreenText","bgGradient","activityBgGradient","absolutePosition","windowSize","eventSounds","messages","acp","abc","menuElements","tgc","clues","clueItems","prevScreenStyle","ev","document"])}},{key:"setAttributes",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:this.project.mediaBag;return a.setAttr(this,t,["name","className","code","type","description","invAss","numericContent","autoJump","forceOkToAdvance","amongParagraphs","infoUrl","infoCmd","margin","maxTime","maxActions","includeInReports","reportActions","countDownTime","countDownActions","useOrder","dragCells","skinFileName","showSolution","helpMsg","bgColor","bgImageFile","tiledBgImg","bTimeCounter","bActionsCounter","bScoreCounter","activityBgColor","transparentBg","border","shuffleA","shuffleB","shuffles","boxGridPos","wildTransparent","upperCase","checkCase","checkButtonText","prevScreen","prevScreenMaxTime","prevScreenText",{key:"bgGradient",fn:c.Gradient},{key:"activityBgGradient",fn:c.Gradient},{key:"absolutePosition",fn:c.Point},{key:"windowSize",fn:c.Dimension},{key:"messages",fn:i,group:"object",init:"key",params:[n]},{key:"abc",fn:u,group:"object",init:"key",params:[n]},{key:"acp",fn:h,params:[n]},"menuElements",{key:"tgc",fn:f},"clues","clueItems",{key:"prevScreenStyle",fn:l},{key:"ev",fn:p},{key:"document",fn:d,params:[n]}]),t.eventSounds&&this.eventSounds.setAttributes(t.eventSounds),this.absolutePosition&&(this.absolutePositioned=!0),this}},{key:"initAutoContentProvider",value:function(){null!==this.acp&&this.acp.init()}},{key:"prepareMedia",value:function(n){return this.eventSounds.realize(n,this.project.mediaBag),o.each(this.messages,function(t,e){null!==e&&e.prepareMedia(n)}),o.each(this.abc,function(t,e){null!==e&&e.prepareMedia(n)}),!0}},{key:"helpSolutionAllowed",value:function(){return!1}},{key:"helpWindowAllowed",value:function(){return this.helpWindow&&(this.helpSolutionAllowed()&&this.showSolution||null!==this.helpMsg)}},{key:"getMinNumActions",value:function(){return 0}},{key:"mustPauseSequence",value:function(){return 0!==this.getMinNumActions()}},{key:"canReinit",value:function(){return!0}},{key:"hasInfo",value:function(){return null!==this.infoUrl&&0<this.infoUrl.length||null!==this.infoCmd&&0<this.infoCmd.length}},{key:"hasRandom",value:function(){return!1}},{key:"shuffleAlways",value:function(){return!1}},{key:"needsKeyboard",value:function(){return!1}},{key:"end",value:function(){this.eventSounds.close(),this.clear()}},{key:"clear",value:function(){}},{key:"getWindowSize",value:function(){return new c.Dimension(this.windowSize)}},{key:"setWindowSize",value:function(t){this.windowSize=new c.Dimension(t)}},{key:"getActivityPanel",value:function(t){return new this.constructor.Panel(this,t)}}],[{key:"getActivity",value:function(t,e){var n=null,i=t.jquery&&!0;if(t&&e){var r=i?(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.activities\./,"@"):t.className,o=s.CLASSES[r];o?(n=new o(e),i?n.setProperties(t):n.setAttributes(t)):a.log("error","Unknown activity class: ".concat(r))}return n}}]),s}();t.CLASSES={"@panels.Menu":t},Object.assign(t.prototype,{project:null,name:g.DEFAULT_NAME,className:null,code:null,type:null,description:null,margin:g.DEFAULT_MARGIN,bgColor:g.DEFAULT_BG_COLOR,bgGradient:null,tiledBgImg:!1,bgImageFile:null,border:!0,absolutePositioned:!1,absolutePosition:null,includeInReports:!0,reportActions:!1,helpWindow:!1,showSolution:!1,helpMsg:"",eventSounds:null,useOrder:!1,dragCells:!1,skinFileName:null,maxTime:0,countDownTime:!1,maxActions:0,countDownActions:!1,infoUrl:null,infoCmd:null,messages:null,windowSize:new c.Dimension(g.DEFAULT_WIDTH,g.DEFAULT_HEIGHT),transparentBg:!1,activityBgColor:g.DEFAULT_BG_COLOR,activityBgGradient:null,bTimeCounter:!0,bScoreCounter:!0,bActionsCounter:!0,acp:null,abc:null,tgc:null,document:null,boxGridPos:"AB",shuffles:g.DEFAULT_SHUFFLES,shuffleA:!0,shuffleB:!0,invAss:!1,menuElements:null,numericContent:!1});var n=function(){function r(t,e,n){var i;return w(this,r),(i=v(this,m(r).call(this))).act=t,i.ps=e,i.minimumSize=new c.Dimension(100,100),i.preferredSize=new c.Dimension(500,400),i.$div=n||o("<div/>",{class:"JClicActivity","aria-label":e.getMsg("Activity panel")}),i.accessibleCanvas=a.settings.CANVAS_HITREGIONS,i.act.initAutoContentProvider(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(r,c.Container),k(r,[{key:"setBounds",value:function(t){this.pos.x=t.pos.x,this.pos.y=t.pos.y,this.dim.width=t.dim.width,this.dim.height=t.dim.height,this.invalidate(t),this.$div.css({position:"relative",left:t.pos.x,top:t.pos.y,width:t.dim.width,height:t.dim.height})}},{key:"buildVisualComponents",value:function(){if(this.playing=!1,this.skin=null,this.act.skinFileName&&0<this.act.skinFileName.length&&this.act.skinFileName!==this.act.project.settings.skinFileName&&(this.skin=this.act.project.mediaBag.getSkinElement(this.act.skinFileName,this.ps)),this.bgImage=null,this.act.bgImageFile&&0<this.act.bgImageFile.length){var t=this.act.project.mediaBag.getElement(this.act.bgImageFile,!0);t&&(this.bgImage=t.data)}this.backgroundColor=this.act.activityBgColor,this.act.transparentBg&&(this.backgroundTransparent=!0),this.act.border&&(this.border=!0);var e={display:"block","background-color":this.backgroundTransparent?"transparent":this.backgroundColor};this.border&&(e["box-shadow"]="0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12)",e["border-radius"]="2px",e.color="#272727"),this.act.activityBgGradient&&(e["background-image"]=this.act.activityBgGradient.getCss()),this.$div.css(e)}},{key:"updateContent",value:function(t){return y(m(r.prototype),"updateContent",this).call(this,t)}},{key:"playEvent",value:function(t){this.act.eventSounds.play(t)}},{key:"initActivity",value:function(){this.playing&&(this.playing=!1,this.ps.reportEndActivity(this.act,this.solved)),this.solved=!1,this.ps.reportNewActivity(this.act,0),this.attachEvents(),this.enableCounters()}},{key:"startActivity",value:function(){this.playing=!0}},{key:"activityReady",value:function(){}},{key:"showHelp",value:function(){}},{key:"setDimension",value:function(t){return new c.Dimension(Math.min(t.width,this.act.windowSize.width),Math.min(t.height,this.act.windowSize.height))}},{key:"attachEvents",value:function(){var e=this;this.events.forEach(function(t){return e.attachEvent(e.$div,t)}),g.TOUCH_DEVICE||-1!==o.inArray(s,this.events)||this.attachEvent(this.$div,s)}},{key:"attachEvent",value:function(e,t){var n=this;e.on(t,this,function(t){if(t.type!==s||(g.TOUCH_DEVICE||(g.TOUCH_DEVICE=!0),-1!==o.inArray(s,n.events)))return t.data.processEvent.call(t.data,t);e.off(s)})}},{key:"processEvent",value:function(t){return!1}},{key:"fitTo",value:function(t,e){var n=this,i=new c.Point;this.act.absolutePositioned&&null!==this.act.absolutePosition&&(i.x=Math.max(0,this.act.absolutePosition.x+t.pos.x),i.y=Math.max(0,this.act.absolutePosition.y+t.pos.y),t.dim.width-=this.act.absolutePosition.x,t.dim.height-=this.act.absolutePosition.y);var r=this.setDimension(new c.Dimension(Math.max(2*this.act.margin+a.settings.MINIMUM_WIDTH,t.dim.width),Math.max(2*this.act.margin+a.settings.MINIMUM_HEIGHT,t.dim.height)));this.act.absolutePositioned||i.moveTo(Math.max(0,t.pos.x+(t.dim.width-r.width)/2),Math.max(0,t.pos.y+(t.dim.height-r.height)/2)),i.x+r.width>e.dim.width&&(i.x=Math.max(0,e.dim.width-r.width)),i.y+r.height>e.dim.height&&(i.y=Math.max(0,e.dim.height-r.height)),this.setBounds(new c.Rectangle(i.x,i.y,r.width,r.height)),window.setTimeout(function(){return n.buildAccessibleComponents()},0)}},{key:"buildAccessibleComponents",value:function(){this.accessibleCanvas&&this.$canvas&&0<this.$canvas.children().length&&(this.$canvas.get(-1).getContext("2d").clearHitRegions(),this.$canvas.empty())}},{key:"forceFinishActivity",value:function(){}},{key:"finishActivity",value:function(t){this.playing=!1,this.solved=t,null!==this.bc&&this.bc.end(),t?this.setAndPlayMsg("final","finishedOk"):this.setAndPlayMsg("finalError","finishedError"),this.ps.activityFinished(this.solved),this.ps.reportEndActivity(this.act,this.solved)}},{key:"setAndPlayMsg",value:function(t,e){var n=this.act.messages[t]||null;this.ps.setMsg(n),null!==n&&null!==n.mediaContent||this.playEvent(e)}},{key:"end",value:function(){this.forceFinishActivity(),this.playing&&(null!==this.bc&&this.bc.end(),this.ps.reportEndActivity(this.act,this.solved),this.playing=!1,this.solved=!1),this.clear()}},{key:"clear",value:function(){}},{key:"enableCounters",value:function(t,e,n){void 0===t&&(t=this.act.bTimeCounter),void 0===e&&(e=this.act.bScoreCounter),void 0===n&&(n=this.act.bActionsCounter),this.ps.setCounterEnabled("time",t),this.act.countDownTime&&this.ps.setCountDown("time",this.act.maxTime),this.ps.setCounterEnabled("score",e),this.ps.setCounterEnabled("actions",n),this.act.countDownActions&&this.ps.setCountDown("actions",this.act.maxActions)}},{key:"shuffle",value:function(t,e,n){function i(){var e=r<o?r:o;t.forEach(function(t){t&&t.shuffleCells(e,n)}),o-=r}for(var r=this.act.shuffles,o=r;0<o;)i()}}]),r}();return Object.assign(n.prototype,{act:null,$div:null,$canvas:null,accessibleCanvas:!1,skin:null,$animatedBg:null,$animatedBgB:null,solved:!1,bgImage:null,playing:!1,firstRun:!0,currentItem:0,bc:null,ps:null,minimumSize:null,preferredSize:null,events:["click"],backgroundColor:null,backgroundTransparent:!1,border:null}),t.Panel=n,t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(30);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(11),r=n(45);t.exports=n(10)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(5),s=n(16),a=n(19),c=n(46)("src"),i="toString",r=Function[i],u=(""+r).split(i);n(25).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,i){var r="function"==typeof n;r&&(a(n,"name")||s(n,"name",e)),t[e]!==n&&(r&&(a(n,c)||s(n,c,t[e]?""+t[e]:u.join(String(e)))),t===o?t[e]=n:i?t[e]?t[e]=n:s(t,e,n):(delete t[e],s(t,e,n)))})(Function.prototype,i,function(){return"function"==typeof this&&this[c]||r.call(this)})},function(t,e,n){function i(t,e,n,i){var r=String(s(t)),o="<"+e;return""!==n&&(o+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"}var r=n(0),o=n(6),s=n(30),a=/"/g;t.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(66),r=n(30);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(67),r=n(45),o=n(20),s=n(29),a=n(19),c=n(136),u=Object.getOwnPropertyDescriptor;e.f=n(10)?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(19),r=n(14),o=n(99)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(96),n(3),n(2)],void 0===(r=function(t,e,x,n){var i=function(){function h(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(i=a(this,p(h).call(this,t,e,n))).preferredBounds=new x.Rectangle,i.cells=[],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(h,[{key:"getPreferredSize",value:function(){return this.preferredBounds.dim}},{key:"getMinimumSize",value:function(){var t=this.getPreferredSize();return new x.Dimension(Math.max(n.settings.MIN_CELL_SIZE,t.width),Math.max(n.settings.MIN_CELL_SIZE,t.height))}},{key:"getScaledSize",value:function(t){var e=this.getPreferredSize();return new x.Dimension(Math.round(t*e.width),Math.round(t*e.height))}},{key:"addBox",value:function(t){this.cells.push(t),t.setParent(this),1===this.cells.length?x.Rectangle.prototype.setBounds.call(this,t):this.add(t),this.preferredBounds.setBounds(this.getBounds())}},{key:"boxIndex",value:function(t){return null===t?-1:this.cells.indexOf(t)}},{key:"getBox",value:function(t){return t<0||t>=this.cells.length?null:this.cells[t]}},{key:"getBackgroundBox",value:function(){return this.backgroundBox}},{key:"setBackgroundBox",value:function(t){null!==(this.backgroundBox=t)&&(t.setParent(this),t.isBackground=!0),x.Rectangle.prototype.add.call(this,t),this.preferredBounds.setBounds(this.getBounds())}},{key:"recalcSize",value:function(){var e=this.backgroundBox?new x.Rectangle(this.backgroundBox.pos,this.backgroundBox.dim):null;this.cells.forEach(function(t){e?e.add(t):e=new x.Rectangle(t.pos,t.dim)}),e=e||new x.Rectangle(this.pos.x,this.pos.y,0,0),this.preferredBounds.setRect(e),this.x=e.pos.x,this.y=e.pos.y,this.dim.width=e.dim.width,this.dim.height=e.dim.height}},{key:"getNumCells",value:function(){return this.cells.length}},{key:"setCellAttr",value:function(e,n){this.cells.forEach(function(t){return t[e]=n}),this.backgroundBox&&(this.backgroundBox[e]=n)}},{key:"setBorder",value:function(e){this.cells.forEach(function(t){return t.setBorder(e)})}},{key:"setVisible",value:function(e){this.cells.forEach(function(t){return t.setVisible(e)})}},{key:"setAlternative",value:function(e){f(p(h.prototype),"setAlternative",this).call(this,e),this.cells.forEach(function(t){return t.setAlternative(e)})}},{key:"setBounds",value:function(t,e,n,i){var r=this;if("number"==typeof t&&(t=new x.Rectangle(t,e,n,i)),0<t.getSurface()&&!t.equals(this)){var o=t.dim.width/this.dim.width,s=t.dim.height/this.dim.height,a=t.pos.x-this.pos.x,c=t.pos.y-this.pos.y;if(this.cells.forEach(function(t){var e=new x.Point(t.pos.x-r.pos.x,t.pos.y-r.pos.y);t.setBounds(a+r.pos.x+o*e.x,c+r.pos.y+s*e.y,o*t.dim.width,s*t.dim.height)}),null!==this.backgroundBox){var u=this.backgroundBox,l=new x.Point(u.pos.x-this.pos.x,u.pos.y-this.pos.y);u.setBounds(a+this.pos.x+o*l.x,c+this.pos.y+s*l.y,o*u.dim.width,s*u.dim.height)}}f(p(h.prototype),"setBounds",this).call(this,t)}},{key:"update",value:function(e,n){return!(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())&&(!(n&&!this.intersects(n))&&(null!==this.backgroundBox&&this.backgroundBox.update(e,n),this.cells.forEach(function(t){t.isMarked()||t.update(e,n)}),this.cells.forEach(function(t){t.isMarked()&&t.update(e,n)}),!0))}},{key:"findBox",value:function(t){for(var e=null,n=this.cells.length-1;0<=n;n--){var i=this.getBox(n);if(i.isVisible()&&i.contains(t)){e=i;break}}return e}},{key:"countInactiveCells",value:function(){return this.cells.reduce(function(t,e){return e.isInactive()?++t:t},0)}}],[{key:"layoutSingle",value:function(t,e,n){if(!e)return t;var i=e.getPreferredSize(),r=e.getMinimumSize(),o=t;o.width-=2*n,o.height-=2*n,(r.width>o.width||r.height>o.height)&&(o=r);var s=i.width>o.width?o.width/i.width:1;return s*i.height>o.height&&(s=o.height/i.height),i=e.getScaledSize(s),e.setBounds(n,n,i.width,i.height),i.width+=2*n,i.height+=2*n,i}},{key:"layoutDouble",value:function(t,e,n,i,r){var o=!1,s=1,a=1;switch(i){case"AB":case"BA":s=2,a=1,o=!0;break;case"AUB":case"BUA":s=1,o=!(a=2)}var c=e.getBounds(),u=n.getBounds(),l=e.getPreferredSize(),h=n.getPreferredSize(),f=new x.Dimension(o?l.width+h.width:Math.max(l.width,h.width),o?Math.max(l.height,h.height):l.height+h.height),p=e.getMinimumSize(),d=n.getMinimumSize(),g=new x.Dimension(o?p.width+d.width:Math.max(p.width,d.width),o?Math.max(p.height,d.height):p.height+d.height),v=t;v.width-=(1+s)*r,v.height-=(1+a)*r,(g.width>v.width||g.height>v.height)&&v.setDimension(g);var y=f.width>v.width?v.width/f.width:1;y*f.height>v.height&&(y=v.height/f.height),l=e.getScaledSize(y);var m=(h=n.getScaledSize(y)).width>l.width?(h.width-l.width)/2:0,b=l.width>h.width?(l.width-h.width)/2:0,w=h.height>l.height?(h.height-l.height)/2:0,k=l.height>h.height?(l.height-h.height)/2:0;switch(i){case"AB":e.setBounds(r,r+w,l.width,l.height),n.setBounds(2*r+l.width,r+k,h.width,h.height);break;case"BA":n.setBounds(r,r+k,h.width,h.height),e.setBounds(2*r+h.width,r+w,l.width,l.height);break;case"AUB":e.setBounds(r+m,r,l.width,l.height),n.setBounds(r+b,2*r+l.height,h.width,h.height);break;case"BUA":n.setBounds(r+b,r,h.width,h.height),e.setBounds(r+m,2*r+h.height,l.width,l.height);break;default:e.setBounds(Math.round(r+y*c.pos.x),Math.round(r+y*c.pos.y),l.width,l.height),n.setBounds(Math.round(r+y*u.pos.x),Math.round(r+y*u.pos.y),l.width,l.height)}var A=new x.Rectangle(e.getBounds());return A.add(n.getBounds()),f.width=A.dim.width+2*r,f.height=A.dim.height+2*r,f}}]),h}();return Object.assign(i.prototype,{cells:[],preferredBounds:new x.Rectangle,backgroundBox:null}),i}.apply(e,i))||(t.exports=r)},function(t,e){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(t,e,n){var o=n(15);t.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){"use strict";var i=n(6);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){var r=n(0),o=n(25),s=n(6);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},function(t,e,n){var b=n(26),w=n(66),k=n(14),A=n(12),i=n(116);t.exports=function(h,t){var f=1==h,p=2==h,d=3==h,g=4==h,v=6==h,y=5==h||v,m=t||i;return function(t,e,n){for(var i,r,o=k(t),s=w(o),a=b(e,n,3),c=A(s.length),u=0,l=f?m(t,c):p?m(t,0):void 0;u<c;u++)if((y||u in s)&&(r=a(i=s[u],u,o),h))if(f)l[u]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return u;case 2:l.push(i)}else if(g)return!1;return v?-1:d||g?g:l}}},function(t,e,n){var i,r;function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(130),n(196),n(2),n(3)],void 0===(r=function(l,r,h,f,i){r=r||window.screenfull;var t=function(){function u(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?d(t):e}(this,g(u).call(this))).ps=t,null!==n&&(e.name=n),e.options=i,e.options.skinId&&(e.skinId=e.options.skinId),!u.registerStyleSheet(e.skinId,t)){var r=e._getStyleSheets("default"),o=e._getStyleSheets("twoThirds");0<o.length&&(r+=" @media (max-width:".concat(e.twoThirdsMedia.width,"px),(max-height:").concat(e.twoThirdsMedia.height,"px){").concat(o,"}"));var s=e._getStyleSheets("half");0<s.length&&(r+=" @media (max-width:".concat(e.halfMedia.width,"px),(max-height:").concat(e.halfMedia.height,"px){").concat(s,"}")),f.appendStyleAtHead(r.replace(/\.ID/g,".".concat(e.skinId)),t)}var a="";e.$div=l("<div/>",{class:e.skinId}),e.$playerCnt=l("<div/>",{class:"JClicPlayerCnt"}),e.$progress=l("<progress/>",{class:"progressBar"}).css({display:"none"}),e.$waitPanel=l("<div/>").css({display:"none","background-color":"rgba(255, 255, 255, .60)","z-index":99}).append(l("<div/>",{class:"waitPanel"}).css({display:"flex","flex-direction":"column"}).append(l("<div/>",{class:"animImgBox"}).append(l(e.waitImgBig),l(e.waitImgSmall))).append(e.$progress)),e.$playerCnt.append(e.$waitPanel),e.buttons=f.cloneObject(u.prototype.buttons),e.counters=f.cloneObject(u.prototype.counters),e.msgArea=f.cloneObject(u.prototype.msgArea),e.$dlgOverlay=l("<div/>",{class:"dlgOverlay"}).css({"z-index":98,position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"none","background-color":"rgba(30,30,30,0.7)"}).on("click",function(){return e._isModalDlg||e._closeDlg(!0),!1});var c=l("<div/>",{class:"dlgDiv",role:"dialog","aria-labelledby":t.getUniqueId("ReportsLb"),"aria-describedby":t.getUniqueId("ReportsCnt")}).css({display:"inline-block",position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}).on("click",function(){return!1});return e.$dlgMainPanel=l("<div/>",{class:"dlgMainPanel",id:t.getUniqueId("ReportsCnt")}),e.$dlgBottomPanel=l("<div/>",{class:"dlgBottomPanel",role:"navigation"}),e.$div.append(e.$playerCnt,e.$dlgOverlay.append(c.append(e.$dlgMainPanel,e.$dlgBottomPanel))),a=t.getMsg("JClic logo"),e.$infoHead=l("<div/>",{class:"infoHead"}).append(l("<div/>",{class:"headTitle unselectableText"}).append(l(e.appLogo,{"aria-label":a}).css({width:"1.5em",height:"1.5em","vertical-align":"bottom"}).dblclick(function(){f.setLogLevel("all"),f.log("trace",'Log level set to "trace"')})).append(l("<span/>").html("JClic.js"))).append(l("<p/>").css({"margin-top":0,"margin-left":"3.5em"}).append(l("<a/>",{href:"http://clic.xtec.cat/repo/index.html?page=info"}).html("http://clic.xtec.cat")).append(l("<br>")).append(l("<span/>").html(t.getMsg("Version")+" "+e.ps.JClicVersion))),e.$reportsPanel=l("<div/>",{class:"reportsPanel",role:"document"}),a=t.getMsg("Copy data to clipboard"),e.$copyBtn=l("<button/>",{title:a,"aria-label":a}).append(l(e.copyIcon).css({width:"26px",height:"26px"})).on("click",function(){h.copy({"text/plain":"===> ".concat(t.getMsg("The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor")," <==="),"text/html":e.$reportsPanel.html()}),e.$copyBtn.parent().append(l("<div/>",{class:"smallPopup"}).html(t.getMsg("The data has been copied to clipboard")).fadeIn().delay(3e3).fadeOut(function(){l(this).remove()}))}),a=t.getMsg("Close"),e.$closeDlgBtn=l("<button/>",{title:a,"aria-label":a}).append(l(e.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return e._closeDlg(!0)}),a=t.getMsg("OK"),e.$okDlgBtn=l("<button/>",{title:a,"aria-label":a}).append(l(e.okDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return e._closeDlg(!0)}),a=t.getMsg("Cancel"),e.$cancelDlgBtn=l("<button/>",{title:a,"aria-label":a}).append(l(e.closeDialogIcon).css({width:"26px",height:"26px"})).on("click",function(){return e._closeDlg(!1)}),u.skinStack.push(d(e)),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,i.Container),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(u,[{key:"_getStyleSheets",value:function(t){return"default"===(0<arguments.length&&void 0!==t?t:"default")?this.basicCSS+this.waitAnimCSS+this.reportsCSS:""}},{key:"attach",value:function(t){this.detach(),null!==t&&null!==t.skin&&t.skin.detach(),this.player=t,this.$playerCnt.prepend(t.$div),this.setSkinSizes(),t.$mainContainer.append(this.$div)}},{key:"setSkinSizes",value:function(t){var e={},n=this.player.$topDiv.height(),i=this.player.fullScreenChecked?"inherit":null;void 0===t&&(t=r&&r.enabled&&r.isFullscreen),f.toCssSize(t?"100vw":this.ps.options.minWidth,e,"min-width",i),f.toCssSize(t?"100vh":this.ps.options.minHeight,e,"min-height",i),f.toCssSize(t?"100vw":this.ps.options.maxWidth,e,"max-width",i),f.toCssSize(t?"100vh":this.ps.options.maxHeight,e,"max-height",i),f.toCssSize(t?"100vw":this.ps.options.width,e,"width","100%"),f.toCssSize(t?"100vh":this.ps.options.height,e,"height",0<n?"100%":"100vh"),this.$div.css(e)}},{key:"detach",value:function(){null!==this.player&&(this.player.$div.remove(),this.$div.detach(),this.player=null)}},{key:"updateContent",value:function(t){if(this.$msgBoxDivCanvas){var e=this.$msgBoxDivCanvas.get(-1).getContext("2d");e.clearRect(0,0,e.canvas.clientWidth,e.canvas.clientHeight),this.msgBox.update(e,t)}return s(g(u.prototype),"updateContent",this).call(this)}},{key:"resetAllCounters",value:function(n){l.each(this.counters,function(t,e){null!==e&&(e.value=0,e.countDown=0,e.enabled=n,e.refreshDisplay())})}},{key:"setWaitCursor",value:function(t){if(void 0===t)this.$waitPanel&&this.$waitPanel.css({display:0<this.waitCursorCount?"initial":"none"});else{switch(t){case!0:this.waitCursorCount++;break;case!1:--this.waitCursorCount<0&&(this.waitCursorCount=0);break;case"reset":this.waitCursorCount=0}this.setWaitCursor()}}},{key:"setProgress",value:function(t,e){this.$progress&&((this.currentProgress=t)<0?this.$progress.css({display:"none"}):(e&&(this.maxProgress=e,this.$progress.attr("max",e).css({display:"initial"})),this.$progress.attr("value",t)),f.log("trace","Progress: ".concat(this.currentProgress,"/").concat(this.maxProgress)))}},{key:"incProgress",value:function(t){0<=this.currentProgress&&this.setProgress(this.currentProgress+(t||1))}},{key:"showHelp",value:function(t){}},{key:"showDlg",value:function(t,i){var r=this;return new Promise(function(e,n){r._dlgOkValue="ok",r._dlgCancelValue="cancelled",r._isModalDlg=t,r.$dlgMainPanel.children().detach(),r.$dlgBottomPanel.children().detach(),i.main&&r.$dlgMainPanel.append(i.main),i.bottom&&r.$dlgBottomPanel.append(i.bottom),r._closeDlg=function(t){t&&e?e(r._dlgOkValue):!t&&n&&n(r._dlgCancelValue),r.$dlgOverlay.css({display:"none"}),r.enableMainButtons(!0),r._closeDlg=u.prototype._closeDlg},r.enableMainButtons(!1),r.$dlgOverlay.css({display:"initial"})})}},{key:"enableMainButtons",value:function(t){this.$playerCnt.find("button").attr("tabindex",t?"0":"-1")}},{key:"_closeDlg",value:function(){}},{key:"showReports",value:function(t){return this.$reportsPanel.html(this.$printReport(t)),this.showDlg(!1,{main:[this.$infoHead,this.$reportsPanel],bottom:[this.$copyBtn,this.$closeDlgBtn]})}},{key:"$printReport",value:function(t){var r=this,e=[];if(t){var o=f.$HTML,n=t.getData(),i=new Date(n.started);e.push(l("<div/>",{class:"subTitle",id:this.ps.getUniqueId("ReportsLb")}).html(this.ps.getMsg("Current results")));var s=l("<table/>",{class:"JCGlobalResults"});s.append(o.doubleCell(this.ps.getMsg("Session started:"),"".concat(i.toLocaleDateString()," ").concat(i.toLocaleTimeString())),o.doubleCell(this.ps.getMsg("Reports system:"),"".concat(this.ps.getMsg(n.descriptionKey)," ").concat(n.descriptionDetail))),n.userId?s.append(o.doubleCell(this.ps.getMsg("User:"),n.userId)):n.user&&s.append(o.doubleCell(this.ps.getMsg("User:"),n.user)),0<n.sequences?(1<n.sessions.length&&s.append(o.doubleCell(this.ps.getMsg("Projects:"),n.sessions.length)),s.append(o.doubleCell(this.ps.getMsg("Sequences:"),n.sequences),o.doubleCell(this.ps.getMsg("Activities done:"),n.activitiesDone),o.doubleCell(this.ps.getMsg("Activities played at least once:"),"".concat(n.playedOnce,"/").concat(n.reportable," (").concat(f.getPercent(n.ratioPlayed/100),")"))),0<n.activitiesDone&&(s.append(o.doubleCell(this.ps.getMsg("Activities solved:"),"".concat(n.activitiesSolved," (").concat(f.getPercent(n.ratioSolved/100),")"))),0<n.actScore&&s.append(o.doubleCell(this.ps.getMsg("Partial score:"),"".concat(f.getPercent(n.partialScore/100)," ").concat(this.ps.getMsg("(out of played activities)"))),o.doubleCell(this.ps.getMsg("Global score:"),"".concat(f.getPercent(n.globalScore/100)," ").concat(this.ps.getMsg("(out of all project activities)")))),s.append(o.doubleCell(this.ps.getMsg("Total time in activities:"),f.getHMStime(1e3*n.time)),o.doubleCell(this.ps.getMsg("Actions done:"),n.actions))),e.push(s),n.sessions.forEach(function(t){if(0<t.sequences.length){var i=l("<table/>",{class:"JCDetailed"});e.push(l("<p/>").html(1<n.sessions.length?"".concat(r.ps.getMsg("Project")," ").concat(t.projectName):"")),i.append(l("<thead/>").append(l("<tr/>").append(o.th(r.ps.getMsg("sequence")),o.th(r.ps.getMsg("activity")),o.th(r.ps.getMsg("OK")),o.th(r.ps.getMsg("actions")),o.th(r.ps.getMsg("score")),o.th(r.ps.getMsg("time"))))),t.sequences.forEach(function(t){var n=l("<tr/>").append(l("<td/>",{rowspan:t.activities.length}).html(t.sequence));t.activities.forEach(function(t){if(t.closed)n.append(o.td(t.name)),n.append(t.solved?o.td(r.ps.getMsg("YES"),"ok"):o.td(r.ps.getMsg("NO"),"no")),n.append(o.td(t.actions)),n.append(o.td(f.getPercent(t.precision/100))),n.append(o.td(f.getHMStime(1e3*t.time)));else{n.append(o.td(t.name,"incomplete"));for(var e=0;e<4;e++)n.append(o.td("-","incomplete"))}i.append(n),n=l("<tr/>")})}),i.append(l("<tr/>").append(o.td(r.ps.getMsg("Total:")),o.td("".concat(t.played," (").concat(f.getPercent(t.ratioPlayed/100),")")),o.td("".concat(t.solved," (").concat(f.getPercent(t.ratioSolved/100),")")),o.td(t.actions),o.td(f.getPercent(t.score/100)),o.td(f.getHMStime(1e3*t.time)))),e.push(i)}},this)):e.push(l("<p/>").html(this.ps.getMsg("No activities done!")))}return e}},{key:"enableCounter",value:function(t,e){this.counters[t]&&this.counters[t].setEnabled(e)}},{key:"doLayout",value:function(){var n=this;this.player.doLayout(),this.$msgBoxDiv&&window.setTimeout(function(){n.$msgBoxDivCanvas&&n.$msgBoxDivCanvas.remove();var t=n.$msgBoxDiv.outerWidth(),e=n.$msgBoxDiv.outerHeight();null!==n.$msgBoxDivCanvas&&n.msgBox.dim.widht===t&&n.msgBox.dim.height===e||(n.$msgBoxDivCanvas=l('<canvas width="'.concat(t,'" height="').concat(e,'"/>')),n.msgBox.setBounds(new i.Rectangle(0,0,t+1,e)),n.msgBox.buildAccessibleElement(n.$msgBoxDivCanvas,n.$msgBoxDiv)),n.$msgBoxDiv.append(n.$msgBoxDivCanvas),n.updateContent()},0)}},{key:"fit",value:function(){return this.doLayout(),new i.Dimension(this.$div.width(),this.$div.height())}},{key:"setScreenFull",value:function(t){if(r&&r.enabled&&(!0===t&&!r.isFullscreen||!1===t&&!r.isFullScreen||!0!==t&&!1!==t)){var e=r.isFullscreen;r.toggle(this.player.$mainContainer.get(-1)),this.player.fullScreenChecked=!0,this.setSkinSizes(!e)}}},{key:"actionStatusChanged",value:function(t){t.name&&this.buttons[t.name]&&this.setEnabled(this.buttons[t.name],t.enabled)}},{key:"setEnabled",value:function(t,e){t&&e?t.removeAttr("disabled"):t&&t.attr("disabled",!0)}},{key:"equals",value:function(t){return t&&this.name===t.name&&this.ps===t.ps}},{key:"getMsgBox",value:function(){return null}}],[{key:"registerStyleSheet",value:function(t,e){var n=!1,i=f.getRootHead(e);i.__JClicID||(i.__JClicID="SK".concat(u.lastId++));var r=u.rootStyles[i.__JClicID];return r||(r=[],u.rootStyles[i.__JClicID]=r),r.indexOf(t)<0?(f.log("trace",'Stylesheet "'.concat(t,'" has been registered for root node labeled as "').concat(i.__JClicID,'"')),r.push(t)):n=!0,n}},{key:"getSkin",value:function(t,e,n){var i=0<arguments.length&&void 0!==t?t:"default",r=1<arguments.length?e:void 0,o=2<arguments.length&&void 0!==n?n:{};if("@"===(i=i||"default").charAt(0,1)&&".xml"===i.substr(-4)&&(i=i.substr(1,i.length-5)),i&&r){var s=u.skinStack.find(function(t){return t.name===i&&t.ps===r});if(s)return s}var a=u.CLASSES[i];if(!a){var c=r.project.mediaBag.getElement(i,!1);c&&c.data&&((o=Object.assign({},o,c.data)).skinId="JClic-".concat(i.replace(".xml",""))),a=!r.zip&&"edu.xtec.jclic.skins.BasicSkin"===o.class&&o.image&&r.project.mediaBag.getElement(o.image,!1)&&r.project.mediaBag.getElement(o.image,!1).data?u.CLASSES.custom:(f.log("warn","Unknown skin class: ".concat(i)),u.CLASSES.default)}return new a(r,i,o)}}]),u}();return t.skinStack=[],t.rootStyles={},t.lastId=1,t.CLASSES={},Object.assign(t.prototype,{skinId:"JClicBasicSkin",$div:null,$playerCnt:null,name:"default",options:{},$waitPanel:null,$progress:null,currentProgress:-1,maxProgress:0,msgBox:null,$msgBoxDiv:null,$msgBoxDivCanvas:null,$dlgOverlay:null,$dlgMainPanel:null,$dlgBottomPanel:null,$infoHead:null,$copyBtn:null,$closeDlgBtn:null,$okDlgBtn:null,$cancelDlgBtn:null,_dlgOkValue:null,_dlgCancelValue:null,_isModalDlg:!1,$reportsPanel:null,buttons:{prev:null,next:null,return:null,reset:null,info:null,help:null,audio:null,about:null,fullscreen:null,close:null},counters:{actions:null,score:null,time:null},msgArea:{main:null,aux:null,mem:null},player:null,ps:null,waitCursorCount:0,basicCSS:".ID {width:100%; background-color:#3F51B5; display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.ID .JClicPlayerCnt {background-color:lightblue; margin:18px; -webkit-flex-grow:1; flex-grow:1; position:relative;}.ID .JClicPlayerCnt > div {position:absolute; width:100%; height:100%;}.ID button:not(.StockBtn) {background:transparent; padding:0; border:none;}.ID .unselectableText {-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select: none;}.ID .progressBar {width: 250px}",waitAnimCSS:".ID .waitPanel {display:-webkit-flex; display:flex; width:100%; height:100%; -webkit-justify-content:center; justify-content:center; -webkit-align-items:center; align-items:center;}.ID .animImgBox {position:relative; width:300px; height:300px; max-width:80%; max-height:80%;}.ID .animImgBox svg {position:absolute; width:100%; height:100%; animation-iteration-count:infinite; animation-timing-function:linear;}.ID #waitImgBig {animation-duration:0.8s; animation-name:rotate-right;}@keyframes rotate-right {from {transform:rotate(0);} to {transform:rotate(1turn);}}.ID #waitImgSmall {animation-duration:0.6s; animation-name:rotate-left;}@keyframes rotate-left {from {transform:rotate(0);} to {transform:rotate(-1turn);}}",waitImgBig:'<svg id="waitImgBig" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5" d="m 65.99,40.19 c -0.42,5.33 7.80,4.94 8.11,0.20 C 74.50,34.37 66.35,8.59 42.92,7.98 15.90,7.29 9.96,29.50 9.94,39.41 15.33,-1.66 68.61,7.048 65.99,40.19 Z" /></svg>',waitImgSmall:'<svg id="waitImgSmall" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg"><path fill="#3F51B5"d="m 57.00,39.43 c -0.28,-3.53 5.16,-3.27 5.37,-0.13 0.26,3.99 -5.13,21.04 -20.63,21.44 C 23.85,61.19 19.93,46.50 19.92,39.94 23.48,67.11 58.73,61.35 57.00,39.43 Z"/></svg>',reportsCSS:".ID .dlgDiv {background-color:#efefef; color:#757575; font-family:Roboto,sans-serif; font-size:10pt; line-height:normal;}.ID .dlgDiv a,a:visited,a:active,a:hover {text-decoration:none; color:inherit;}.ID .dlgMainPanel {padding:1em 2em; max-height:calc(100vh - 8em); max-width:calc(100vw - 2em); min-width:20em; overflow:auto;}.ID .dlgMainPanel .headTitle {font-size:2.5em; font-weight:bold; margin:auto;}.ID .dlgMainPanel .subTitle {font-size:1.4em; font-weight:bold; margin-bottom:0.5em;}.ID .dlgMainPanel p {font-size:1.1em; margin-bottom:0.5em;}.ID .dlgMainPanel table {table-layout:fixed; width:40em; margin:0.5em 0 1.7em 0; border-collapse:collapse;}.ID .dlgMainPanel select {min-width:20em; font-size:1.2em; font-family:Roboto,sans-serif; color:#757575;}.ID .dlgMainPanel input {margin-left:1em; font-size:1.2em; font-family:Roboto,sans-serif; border-color:lightgray;}.ID .infoHead {padding:1em 0em 0.5em;}.ID .JCGlobalResults td {padding:0.4em; border-bottom:1px solid #b6b6b6;}.ID .JCGlobalResults td:first-child {font-weight:600; width:14em;}.ID .JCDetailed td,th {border-bottom:1px solid #b6b6b6; padding:0.3em 0.4em; vertical-align:top; text-align:center; overflow:hidden; text-overflow:ellipsis;}.ID .JCDetailed thead {font-weight:600;}.ID .JCDetailed th:first-child {width:7em;}.ID .JCDetailed th:nth-last-child(4) {width:4em;}.ID .JCDetailed th:nth-last-child(-n+3) {width:4.1em; text-align:right;}.ID .JCDetailed td:nth-last-child(-n+3) {text-align:right;}.ID .JCDetailed .ok {color:#4bae4f; font-weight:600;}.ID .JCDetailed .no {color:#f34235; font-weight:600;}.ID .JCDetailed tr:last-child {font-weight:bold;}.ID .JCDetailed .incomplete {font-style:italic;}.ID .dlgBottomPanel {height:3.5em; background-color:white; padding:0.5em; font-weight:bold; text-align:right; border-top:1px solid #eee; position:relative;}.ID .dlgBottomPanel .smallPopup {background-color:#222; color:#ddd; padding:0.5em; font-size:0.9em; position:absolute; right:6em; top:1em;}.ID .dlgBottomPanel button {display:inline-block; padding:10px; cursor:pointer; line-height:0;}.ID .dlgBottomPanel button:hover {background-color:#eee; border-radius:80px;}.ID .dlgBottomPanel button:active {background-color:#b3e5fc;}",closeDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',okDialogIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',copyIcon:'<svg fill="#757575" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',appLogo:'<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><g transform="matrix(.02081 0 0-.02081 5 62.33)"><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1999 519 3 11 999-266 999-266z" fill="none" stroke="#9d6329" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/><path d="m1263 1297l270 1003 996-267-267-990c-427-1583-2420-1046-1998 519 3 11 999-266 999-266" fill="#f89c0e"/><path d="m357 2850l1000-268-267-992-1000 266 267 994z" fill="none" stroke="#86882b" stroke-linejoin="round" stroke-linecap="round" stroke-width="180" stroke-miterlimit="3.864"/>\n<path d="m357 2850l1000-268-267-992-1000 266 267 994" fill="#d9e70c"/>\n</g></svg>',halfMedia:{width:376,height:282},twoThirdsMedia:{width:420,height:315}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(486),n(72),n(3),n(2)],void 0===(r=function(t,e,v,y,n){var i=function(){function g(t,e,n,i,r,o,s,a){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),(c=function(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?w(t):e}(this,b(g).call(this,t,e,n))).nCols=a.nCols,c.nRows=a.nRows;for(var u=new y.Rectangle(new y.Point(i,r),new y.Dimension(Math.round(o/c.nCols)*c.nCols,Math.round(s/c.nRows)*c.nRows)),l=0;l<a.nCells;l++){var h=a.getShape(l,u),f=new v(w(c),e,n,l,h.getBounds());a.rectangularShapes||f.setShape(h),c.addActiveBox(f)}if(a.hasRemainder){var p=a.getRemainderShape(u),d=new v(w(c),e,n,0,p.getBounds());d.setShape(p),c.setBackgroundBox(d)}return c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(g,e),function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(g,[{key:"getMinimumSize",value:function(){return new y.Dimension(n.settings.MIN_CELL_SIZE*this.nCols,n.settings.MIN_CELL_SIZE*this.nRows)}},{key:"getScaledSize",value:function(t){return new y.Dimension(n.roundTo(t*this.preferredBounds.dim.width,this.nCols),n.roundTo(t*this.preferredBounds.dim.height,this.nRows))}},{key:"getCoord",value:function(t){return new y.Point(t.idLoc%this.nCols,Math.floor(t.idLoc/this.nCols))}},{key:"getCoordDist",value:function(t,e){var n=this.getCoord(t),i=this.getCoord(e);return new y.Point(i.x-n.x,i.y-n.y)}}],[{key:"createEmptyGrid",value:function(t,e,n,i,r,o,s){var a=r?new g(t,e,s||r.style,n,i,r.getTotalWidth(),r.getTotalHeight(),o||r.getShaper()):null;return a&&a.setBorder(r.border),a}}]),g}();return Object.assign(i.prototype,{nCols:1,nRows:1}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if(n(10)){var y=n(40),m=n(5),b=n(6),w=n(0),k=n(86),r=n(122),d=n(26),A=n(52),o=n(45),x=n(16),s=n(54),a=n(31),S=n(12),C=n(162),c=n(48),u=n(29),l=n(19),E=n(68),O=n(7),g=n(14),v=n(113),P=n(49),T=n(22),_=n(50).f,I=n(115),h=n(46),f=n(8),p=n(33),R=n(76),j=n(83),B=n(118),M=n(60),D=n(80),N=n(51),L=n(117),V=n(152),F=n(11),q=n(21),z=F.f,U=q.f,H=m.RangeError,G=m.TypeError,$=m.Uint8Array,W="ArrayBuffer",J="Shared"+W,Y="BYTES_PER_ELEMENT",Z="prototype",K=Array[Z],Q=r.ArrayBuffer,X=r.DataView,tt=p(0),et=p(2),nt=p(3),it=p(4),rt=p(5),ot=p(6),st=R(!0),at=R(!1),ct=B.values,ut=B.keys,lt=B.entries,ht=K.lastIndexOf,ft=K.reduce,pt=K.reduceRight,dt=K.join,gt=K.sort,vt=K.slice,yt=K.toString,mt=K.toLocaleString,bt=f("iterator"),wt=f("toStringTag"),kt=h("typed_constructor"),At=h("def_constructor"),xt=k.CONSTR,St=k.TYPED,Ct=k.VIEW,Et="Wrong length!",Ot=p(1,function(t,e){return Rt(j(t,t[At]),e)}),Pt=b(function(){return 1===new $(new Uint16Array([1]).buffer)[0]}),Tt=!!$&&!!$[Z].set&&b(function(){new $(1).set({})}),_t=function(t,e){var n=a(t);if(n<0||n%e)throw H("Wrong offset!");return n},It=function(t){if(O(t)&&St in t)return t;throw G(t+" is not a typed array!")},Rt=function(t,e){if(!(O(t)&&kt in t))throw G("It is not a typed array constructor!");return new t(e)},jt=function(t,e){return Bt(j(t,t[At]),e)},Bt=function(t,e){for(var n=0,i=e.length,r=Rt(t,i);n<i;)r[n]=e[n++];return r},Mt=function(t,e,n){z(t,e,{get:function(){return this._d[n]}})},Dt=function(t,e,n){var i,r,o,s,a,c,u=g(t),l=arguments.length,h=1<l?e:void 0,f=void 0!==h,p=I(u);if(null!=p&&!v(p)){for(c=p.call(u),o=[],i=0;!(a=c.next()).done;i++)o.push(a.value);u=o}for(f&&2<l&&(h=d(h,n,2)),i=0,r=S(u.length),s=Rt(this,r);i<r;i++)s[i]=f?h(u[i],i):u[i];return s},Nt=function(){for(var t=0,e=arguments.length,n=Rt(this,e);t<e;)n[t]=arguments[t++];return n},Lt=!!$&&b(function(){mt.call(new $(1))}),Vt=function(){return mt.apply(Lt?vt.call(It(this)):It(this),arguments)},Ft={copyWithin:function(t,e,n){return V.call(It(this),t,e,2<arguments.length?n:void 0)},every:function(t,e){return it(It(this),t,1<arguments.length?e:void 0)},fill:function(t){return L.apply(It(this),arguments)},filter:function(t,e){return jt(this,et(It(this),t,1<arguments.length?e:void 0))},find:function(t,e){return rt(It(this),t,1<arguments.length?e:void 0)},findIndex:function(t,e){return ot(It(this),t,1<arguments.length?e:void 0)},forEach:function(t,e){tt(It(this),t,1<arguments.length?e:void 0)},indexOf:function(t,e){return at(It(this),t,1<arguments.length?e:void 0)},includes:function(t,e){return st(It(this),t,1<arguments.length?e:void 0)},join:function(t){return dt.apply(It(this),arguments)},lastIndexOf:function(t){return ht.apply(It(this),arguments)},map:function(t,e){return Ot(It(this),t,1<arguments.length?e:void 0)},reduce:function(t){return ft.apply(It(this),arguments)},reduceRight:function(t){return pt.apply(It(this),arguments)},reverse:function(){for(var t,e=It(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t,e){return nt(It(this),t,1<arguments.length?e:void 0)},sort:function(t){return gt.call(It(this),t)},subarray:function(t,e){var n=It(this),i=n.length,r=c(t,i);return new(j(n,n[At]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,S((void 0===e?i:c(e,i))-r))}},qt=function(t,e){return jt(this,vt.call(It(this),t,e))},zt=function(t,e){It(this);var n=_t(e,1),i=this.length,r=g(t),o=S(r.length),s=0;if(i<o+n)throw H(Et);for(;s<o;)this[n+s]=r[s++]},Ut={entries:function(){return lt.call(It(this))},keys:function(){return ut.call(It(this))},values:function(){return ct.call(It(this))}},Ht=function(t,e){return O(t)&&t[St]&&"symbol"!=i(e)&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Ht(t,e=u(e,!0))?o(2,t[e]):U(t,e)},$t=function(t,e,n){return!(Ht(t,e=u(e,!0))&&O(n)&&l(n,"value"))||l(n,"get")||l(n,"set")||n.configurable||l(n,"writable")&&!n.writable||l(n,"enumerable")&&!n.enumerable?z(t,e,n):(t[e]=n.value,t)};xt||(q.f=Gt,F.f=$t),w(w.S+w.F*!xt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:$t}),b(function(){yt.call({})})&&(yt=mt=function(){return dt.call(this)});var Wt=s({},Ft);s(Wt,Ut),x(Wt,bt,Ut.values),s(Wt,{slice:qt,set:zt,constructor:function(){},toString:yt,toLocaleString:Vt}),Mt(Wt,"buffer","b"),Mt(Wt,"byteOffset","o"),Mt(Wt,"byteLength","l"),Mt(Wt,"length","e"),z(Wt,wt,{get:function(){return this[St]}}),t.exports=function(t,h,e,r){function f(t,e){z(t,e,{get:function(){return function(t,e){var n=t._d;return n.v[i](e*h+n.o,Pt)}(this,e)},set:function(t){return function(t,e,n){var i=t._d;r&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),i.v[o](e*h+i.o,n,Pt)}(this,e,t)},enumerable:!0})}var p=t+((r=!!r)?"Clamped":"")+"Array",i="get"+t,o="set"+t,d=m[p],s=d||{},n=d&&T(d),a=!d||!k.ABV,c={},u=d&&d[Z];a?(d=e(function(t,e,n,i){A(t,d,p,"_d");var r,o,s,a,c=0,u=0;if(O(e)){if(!(e instanceof Q||(a=E(e))==W||a==J))return St in e?Bt(d,e):Dt.call(d,e);r=e,u=_t(n,h);var l=e.byteLength;if(void 0===i){if(l%h)throw H(Et);if((o=l-u)<0)throw H(Et)}else if(l<(o=S(i)*h)+u)throw H(Et);s=o/h}else s=C(e),r=new Q(o=s*h);for(x(t,"_d",{b:r,o:u,l:o,e:s,v:new X(r)});c<s;)f(t,c++)}),u=d[Z]=P(Wt),x(u,"constructor",d)):b(function(){d(1)})&&b(function(){new d(-1)})&&D(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=e(function(t,e,n,i){var r;return A(t,d,p),O(e)?e instanceof Q||(r=E(e))==W||r==J?void 0!==i?new s(e,_t(n,h),i):void 0!==n?new s(e,_t(n,h)):new s(e):St in e?Bt(d,e):Dt.call(d,e):new s(C(e))}),tt(n!==Function.prototype?_(s).concat(_(n)):_(s),function(t){t in d||x(d,t,s[t])}),d[Z]=u,y||(u.constructor=d));var l=u[bt],g=!!l&&("values"==l.name||null==l.name),v=Ut.values;x(d,kt,!0),x(u,St,p),x(u,Ct,!0),x(u,At,d),(r?new d(1)[wt]==p:wt in u)||z(u,wt,{get:function(){return p}}),c[p]=d,w(w.G+w.W+w.F*(d!=s),c),w(w.S,p,{BYTES_PER_ELEMENT:h}),w(w.S+w.F*b(function(){s.of.call(d,1)}),p,{from:Dt,of:Nt}),Y in u||x(u,Y,h),w(w.P,p,Ft),N(p),w(w.P+w.F*Tt,p,{set:zt}),w(w.P+w.F*!g,p,Ut),y||u.toString==yt||(u.toString=yt),w(w.P+w.F*b(function(){new d(1).slice()}),p,{slice:qt}),w(w.P+w.F*(b(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!b(function(){u.toLocaleString.call([1,2])})),p,{toLocaleString:Vt}),M[p]=g?l:v,y||g||x(u,bt,v)}}else t.exports=function(){}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){var i=c.get(t);if(!i){if(!n)return;c.set(t,i=new o)}var r=i.get(e);if(!r){if(!n)return;i.set(e,r=new o)}return r}var o=n(157),s=n(0),a=n(75)("metadata"),c=a.store||(a.store=new(n(160)));t.exports={store:c,map:r,has:function(t,e,n){var i=r(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=r(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){r(n,i,!0).set(t,e)},keys:function(t,e){var n=r(t,e,!1),i=[];return n&&n.forEach(function(t,e){i.push(e)}),i},key:function(t){return void 0===t||"symbol"==i(t)?t:String(t)},exp:function(t){s(s.S,"Reflect",t)}}},function(t,N,L){"use strict";(function(t){var i=L(412),o=L(413),s=L(172);function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,n);if("number"!=typeof t)return r(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}function r(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=l(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!h.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|p(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(h.isBuffer(e)){var n=0|f(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if("Buffer"===e.type&&s(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e){var n=e.length<0?0:0|f(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function p(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(t).length;default:if(i)return B(t).length;e=(""+e).toLowerCase(),i=!0}}function d(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function g(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=h.from(e,i)),h.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var o,s=1,a=t.length,c=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=s=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(a<n+c&&(n=a-c),o=n;0<=o;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?r<(i=Number(i))&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function m(t,e,n,i){return D(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function w(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,c,u=t[r],l=null,h=239<u?4:223<u?3:191<u?2:1;if(r+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[r+1]))&&127<(c=(31&u)<<6|63&o)&&(l=c);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&2047<(c=(15&u)<<12|(63&o)<<6|63&s)&&(c<55296||57343<c)&&(l=c);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)&&c<1114112&&(l=c)}null===l?(l=65533,h=1):65535<l&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|1023&l),i.push(l),r+=h}return function(t){var e=t.length;if(e<=k)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=k));return n}(i)}N.Buffer=h,N.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},N.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),N.kMaxLength=n(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,n){return r(null,t,e,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},h.allocUnsafe=function(t){return u(null,t)},h.allocUnsafeSlow=function(t){return u(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var n;if(void 0===e)for(n=e=0;n<t.length;++n)e+=t[n].length;var i=h.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var o=t[n];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,r),r+=o.length}return i},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):function(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return S(this,e,n);case"utf8":case"utf-8":return w(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return b(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=N.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,i,r){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=e)return 0;if(r<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(i,r),u=t.slice(e,n),l=0;l<a;++l)if(c[l]!==u[l]){o=c[l],s=u[l];break}return o<s?-1:s<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},h.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,s,a,c,u,l,h,f,p,d=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return f=e,p=n,D(B(t,(h=this).length-f),h,f,p);case"ascii":return m(this,t,e,n);case"latin1":case"binary":return m(this,t,e,n);case"base64":return c=this,u=e,l=n,D(M(t),c,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=e,a=n,D(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(t,(o=this).length-s),o,s,a);default:if(d)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),d=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function A(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function x(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function S(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||i<n)&&(n=i);for(var r="",o=e;o<n;++o)r+=j(t[o]);return r}function C(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function E(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,n,i,r,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function P(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function T(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function _(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,i,r){return r||_(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function R(t,e,n,i,r){return r||_(t,0,n,8),o.write(t,e,n,i,52,8),n+8}h.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=h.prototype;else{var r=e-t;n=new h(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},h.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},h.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var i=this[t+--e],r=1;0<e&&(r*=256);)i+=this[t+--e]*r;return i},h.prototype.readUInt8=function(t,e){return e||E(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||E(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||E(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||E(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||E(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},h.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||E(t,e,this.length);for(var i=e,r=1,o=this[t+--i];0<i&&(r*=256);)o+=this[t+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||E(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||E(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(t,e){e||E(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(t,e){return e||E(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||E(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||E(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||E(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||E(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||E(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||O(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||O(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;0<=--r&&(o*=256);)this[e+r]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):T(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);O(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;0<=--o&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):T(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||O(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):T(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;0<=r;--r)t[r+e]=this[r+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},h.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(o=e;o<n;++o)this[o]=t;else{var s=h.isBuffer(t)?t:B(new h(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var e=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(e-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function M(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(e,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function D(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,L(44))},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){c(t,o,{value:{i:"O"+ ++u,w:{}}})}var o=n(46)("meta"),s=n(7),a=n(19),c=n(11).f,u=0,l=Object.isExtensible||function(){return!0},h=!n(6)(function(){return l(Object.preventExtensions({}))}),f=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!s(t))return"symbol"==i(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,o)){if(!l(t))return"F";if(!e)return"E";r(t)}return t[o].i},getWeak:function(t,e){if(!a(t,o)){if(!l(t))return!0;if(!e)return!1;r(t)}return t[o].w},onFreeze:function(t){return h&&f.NEED&&l(t)&&!a(t,o)&&r(t),t}}},function(t,e){t.exports=!1},function(t,e,n){var i=n(8)("unscopables"),r=Array.prototype;null==r[i]&&n(16)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,i,r){"use strict";(function(t){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var e=new ArrayBuffer(0);try{i.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(e),i.blob=0===n.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!r(173).Readable}catch(t){i.nodestream=!1}}).call(this,r(38).Buffer)},function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e,n,i=Array.prototype.slice.call(arguments,1);i.length;){var r=i.shift();if(r){if("object"!==s(r))throw new TypeError(r+"must be non-object");for(var o in r)e=r,n=o,Object.prototype.hasOwnProperty.call(e,n)&&(t[o]=r[o])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),e=r=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,o))},e.setTyped(i)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(138),r=n(100);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(31),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,i){function r(){}var o=i(4),s=i(139),a=i(100),c=i(99)("IE_PROTO"),u="prototype",l=function(){var t,e=i(97)("iframe"),n=a.length;for(e.style.display="none",i(101).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l[u][a[n]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(r[u]=o(t),n=new r,r[u]=null,n[c]=t):n=l(),void 0===e?n:s(n,e)}},function(t,e,n){var i=n(138),r=n(100).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(5),r=n(11),o=n(10),s=n(8)("species");t.exports=function(t){var e=i[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var f=n(26),p=n(150),d=n(113),g=n(4),v=n(12),y=n(115),m={},b={};(e=t.exports=function(t,e,n,i,r){var o,s,a,c,u=r?function(){return t}:y(t),l=f(n,i,e?2:1),h=0;if("function"!=typeof u)throw TypeError(t+" is not iterable!");if(d(u)){for(o=v(t.length);h<o;h++)if((c=e?l(g(s=t[h])[0],s[1]):l(t[h]))===m||c===b)return c}else for(a=u.call(t);!(s=a.next()).done;)if((c=p(a,l,s.value,e))===m||c===b)return c}).BREAK=m,e.RETURN=b},function(t,e,n){var r=n(17);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){"use strict";var i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var r=n(123),o=n(69);o.inherits=n(63);var s=n(174),a=n(124);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r(p,this)}function p(t){t.end()}},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2),n(3)],void 0===(r=function(r,v,y){var m=v.settings.BoxBase,t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t||null}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"setProperties",value:function(t){var i=this;return v.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"shadow":case"transparent":i[t]=v.getBoolean(e,!1);break;case"margin":i[t]=Number(e);break;case"borderStroke":i.borderStroke=new y.Stroke(Number(e));break;case"markerStroke":i.markerStroke=new y.Stroke(Number(e))}}),t.children().each(function(t,e){var n=r(e);switch(e.nodeName){case"font":i.font=(new y.Font).setProperties(n);break;case"gradient":i.bgGradient=(new y.Gradient).setProperties(n);break;case"color":i.textColor=v.checkColor(n.attr("foreground"),i.textColor),i.backColor=v.checkColor(n.attr("background"),i.backColor),i.shadowColor=v.checkColor(n.attr("shadow"),i.shadowColor),i.inactiveColor=v.checkColor(n.attr("inactive"),i.inactiveColor),i.alternativeColor=v.checkColor(n.attr("alternative"),i.alternativeColor),i.borderColor=v.checkColor(n.attr("border"),i.borderColor)}}),this}},{key:"getAttributes",value:function(){return v.getAttributes(this,["shadow","transparent","margin","borderStroke","markerStroke","font","bgGradient","textColor|".concat(e.prototype.textColor),"backColor|".concat(e.prototype.backColor),"shadowColor|".concat(e.prototype.shadowColor),"inactiveColor|".concat(e.prototype.inactiveColor),"alternativeColor|".concat(e.prototype.alternativeColor),"borderColor|".concat(e.prototype.borderColor)])}},{key:"setAttributes",value:function(t){return v.setAttr(this,t,["shadow","transparent","margin",{key:"borderStroke",fn:y.Stroke},{key:"markerStroke",fn:y.Stroke},{key:"font",fn:y.Font},{key:"bgGradient",fn:y.Gradient},"textColor","backColor","shadowColor","inactiveColor","alternativeColor","borderColor"])}},{key:"get",value:function(t){return this.hasOwnProperty(t)||null===this.parent?this[t]:this.parent.get(t)}},{key:"set",value:function(t,e){return this[t]=e,this}},{key:"getOwn",value:function(t){return this.hasOwnProperty(t)?this[t]:null!==this.parent?this.parent.getOwn(t):("object"===o(this[t])?this[t]=v.cloneObject(e.prototype[t]):this[t]=e.prototype[t],this[t])}},{key:"getCSS",value:function(t,e,n,i){var r=this.get("font");(t=r.toCss(t)).color=n?this.get("backColor"):i?this.get("alternativeColor"):this.get("textColor");var o=this.get("transparent");t["background-color"]=o?"transparent":e?this.get("inactiveColor"):n?this.get("textColor"):this.get("backColor");var s=this.get("bgGradient");if(s&&!o&&(t["background-image"]=s.getCss()),1===this.shadow){var a=Math.max(1,Math.round(r.size/10)),c=this.get("shadowColor");t["text-shadow"]="".concat(a,"px ").concat(a,"px 3px ").concat(c)}return t}},{key:"prepareText",value:function(t,e,n,i){var r=[],o=this.get("font"),s=o.getHeight(),a=0,c=e.trim().split("\n");t.font=o.cssFont();for(var u=0;u<c.length;u++){var l=c[u].trim(),h=t.measureText(l).width;if(n<h){for(var f=0,p=0,d=0;d<l.length;d++)if(v.isSeparator(l[d])){var g=t.measureText(l.substr(0,d).trim()).width;if(n<g)break;f=d,p=g}if(0<f)c.splice(u+1,0,l.substr(f+1).trim()),l=c[u]=l.substr(0,f).trim(),h=p;else if(o.size>m.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,e,n,i)}if(r.push({text:l,size:new y.Dimension(h,s)}),i<(a+=s)&&o.size>m.MIN_FONT_SIZE)return this.getOwn("font").zoom(-1),this.prepareText(t,e,n,i)}return r}}]),e}();return Object.assign(t.prototype,{parent:null,default:m,font:new y.Font,dynFontSize:0,resetFontCounter:0,backColor:m.BACK_COLOR,bgGradient:null,textColor:m.TEXT_COLOR,shadowColor:m.SHADOW_COLOR,borderColor:m.BORDER_COLOR,inactiveColor:m.INACTIVE_COLOR,alternativeColor:m.ALTERNATIVE_COLOR,shadow:!1,transparent:!1,dontFill:!1,textMargin:m.AC_MARGIN,borderStroke:new y.Stroke(m.BORDER_STROKE_WIDTH),markerStroke:new y.Stroke(m.MARKER_STROKE_WIDTH)}),t.prototype.defaultBoxBase=new t,t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(3)],void 0===(r=function(r){var t=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.parent=t,this.ctx=e,this.dim=new r.Dimension(e.canvas.width,e.canvas.height),this.origin=new r.Point,this.dest=new r.Point,this.relativePos=new r.Point}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(n,[{key:"moveBy",value:function(t,e){this.moveTo(r.Point(this.dest.x+t,this.dest.y+e))}},{key:"moveTo",value:function(t,e){if(this.active&&(e||!this.dest.equals(t))){this.bgRect&&(this.bgImg?this.ctx.putImageData(this.bgImg,0,0,this.bgRect.pos.x,this.bgRect.pos.y,this.bgRect.dim.width,this.bgRect.dim.height):this.parent&&this.parent.updateContent()),this.dest.moveTo(t);var n=new r.Point(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y);this.bgRect=new r.Rectangle(n,this.bx?this.bx.dim:new r.Dimension);var i=new r.Point(t.x-this.relativePos.x,t.y-this.relativePos.y);this.bgRect.add(new r.Rectangle(i,this.bx?this.bx.dim:new r.Dimension)),this.bgRect.grow(10,10),null!==this.bx?(this.bx.moveTo(new r.Point(t.x-this.relativePos.x,t.y-this.relativePos.y)),this.bx.setTemporaryHidden(!1),this.bx.update(this.ctx,null),this.bx.setTemporaryHidden(!0)):(this.drawLine(),this.linePainted=!0)}}},{key:"begin",value:function(t,e){this.active&&this.end(),this.origin.moveTo(t),this.dest.moveTo(t),this.linePainted=!1,this.active=!0,e&&(this.bx=e,this.relativePos.moveTo(t.x-e.pos.x,t.y-e.pos.y),this.bx.setFocused(!0),this.bx.setTemporaryHidden(!0),this.linePainted=!1,this.parent.invalidate().update());try{this.bgImg=this.ctx.getImageData(0,0,this.dim.width,this.dim.height)}catch(t){this.bgImg=null}this.bgRect=null,e&&this.moveTo(t,!0)}},{key:"end",value:function(){this.active&&(this.active=!1,this.linePainted=!1,this.bgRect=null,this.bgImg=null,this.bx&&(this.bx.setFocused(!1),this.bx.moveTo(this.origin.x-this.relativePos.x,this.origin.y-this.relativePos.y),this.bx.setTemporaryHidden(!1),this.bx=null,this.relativePos.moveTo(0,0)),this.ctx.clearRect(0,0,this.dim.width,this.dim.height),this.parent.invalidate().update())}},{key:"drawLine",value:function(){if(this.compositeOp!==i?(this.ctx.strokeStyle=this.xorColor,this.ctx.globalCompositeOperation=this.compositeOp):this.ctx.strokeStyle=this.lineColor,this.ctx.lineWidth=this.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.origin.x,this.origin.y),this.ctx.lineTo(this.dest.x,this.dest.y),this.ctx.stroke(),this.arrow){var t=Math.atan2(this.origin.x-this.dest.x,this.dest.x-this.origin.x),e=new r.Point(this.dest.x-this.arrowLength*Math.cos(t+this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(t+this.arrowAngle));this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke(),e.moveTo(this.dest.x-this.arrowLength*Math.cos(t-this.arrowAngle),this.dest.y+this.arrowLength*Math.sin(t-this.arrowAngle)),this.ctx.beginPath(),this.ctx.moveTo(this.dest.x,this.dest.y),this.ctx.lineTo(e.x,e.y),this.ctx.stroke()}this.compositeOp!==i&&(this.ctx.globalCompositeOperation=i)}}]),n}(),i="source-over";return Object.assign(t.prototype,{bgImg:null,bgRect:null,origin:null,dest:null,arrow:!1,active:!1,linePainted:!1,arrowLength:10,arrowAngle:Math.PI/6,lineColor:"black",xorColor:"white",compositeOp:"difference",DEFAULT_COMPOSITE_OP:i,relativePos:null,bx:null,ctx:null,dim:null,parent:null,lineWidth:1.5}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(11).f,r=n(19),o=n(8)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){function i(t,e,n){var i={},r=a(function(){return!!c[t]()||"âÂ"!="âÂ"[t]()}),o=i[t]=r?e(h):c[t];n&&(i[n]=o),s(s.P+s.F*r,"String",i)}var s=n(0),r=n(30),a=n(6),c=n(103),o="["+c+"]",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),h=i.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=i},function(t,e){t.exports={}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,o,e){"use strict";for(var a=e(9),c=e(42),n=e(93),i=e(23),u=new Array(256),r=0;r<256;r++)u[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;u[254]=u[254]=1;function s(){i.call(this,"utf-8 decode"),this.leftOver=null}function l(){i.call(this,"utf-8 encode")}o.utf8encode=function(t){return c.nodebuffer?n.newBufferFrom(t,"utf-8"):function(t){var e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=c.uint8array?new Uint8Array(a):new Array(a),r=o=0;o<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e}(t)},o.utf8decode=function(t){return c.nodebuffer?a.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,r,o=t.length,s=new Array(2*o);for(e=n=0;e<o;)if((i=t[e++])<128)s[n++]=i;else if(4<(r=u[i]))s[n++]=65533,e+=r-1;else{for(i&=2===r?31:3===r?15:7;1<r&&e<o;)i=i<<6|63&t[e++],r--;1<r?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),a.applyFromCharCode(s)}(t=a.transformTo(c.uint8array?"uint8array":"array",t))},a.inherits(s,i),s.prototype.processChunk=function(t){var e=a.transformTo(c.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}(e),r=e;i!==e.length&&(c.uint8array?(r=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(r=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:o.utf8decode(r),meta:t.meta})},s.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=s,a.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:o.utf8encode(t.data),meta:t.meta})},o.Utf8EncodeWorker=l},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2),n(3)],void 0===(r=function(n,o,c){var t=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.reset(t,e)}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(r,[{key:"reset",value:function(t,e){this.nCols=t,this.nRows=e,this.nCells=e*t,this.initiated=!1,this.shapeData=[];for(var n=0;n<this.nCells;n++)this.shapeData[n]=new c.Shape}},{key:"setProperties",value:function(t){var i=this;return o.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"class":i.className=e;break;case"cols":i.nCols=Number(e);break;case"rows":i.nRows=Number(e);break;case"baseWidthFactor":case"toothHeightFactor":case"scaleX":case"scaleY":i[t]=Number(e);break;case"randomLines":case"showEnclosure":i[t]=o.getBoolean(e,!0)}}),t.children("enclosing:first").each(function(t,e){n(e).children("shape:first").each(function(t,e){var n=r.readShapeData(e,i.scaleX,i.scaleY);i.enclosing=n,i.showEnclosure=!0,i.hasRemainder=!0})}),t.children("shape").each(function(t,e){i.shapeData[t]=r.readShapeData(e,i.scaleX,i.scaleY)}),0<this.shapeData.length&&(this.nCells=this.shapeData.length),this}},{key:"getAttributes",value:function(){var e=["className","nCols","nRows","baseWidthFactor","toothHeightFactor","scaleX","scaleY","randomLines"];return this.customShapes&&["showEnclosure","hasRemainder","enclosing","shapeData"].forEach(function(t){return e.push(t)}),o.getAttributes(this,e)}},{key:"buildShapes",value:function(){}},{key:"getShape",value:function(t,e){return this.initiated||this.buildShapes(),t>=this.nCells||null===this.shapeData[t]?null:this.shapeData[t].getShape(e)}},{key:"getShapeData",value:function(t){return 0<=t&&t<this.shapeData.length?this.shapeData[t]:null}},{key:"getEnclosingShapeData",value:function(){return new c.Rectangle(0,0,1,1)}},{key:"getRemainderShape",value:function(t){if(!this.hasRemainder)return null;this.initiated||this.buildShapes();for(var e=this.getEnclosingShapeData(),n=e?e.getShape(t):new c.Rectangle,i=0;i<this.nCells;i++)this.shapeData[i]&&n.add(this.shapeData[i].getShape(t),!1);return n}}],[{key:"getShaper",value:function(t,e,n){var i=r.CLASSES[(t||"").replace(/^edu\.xtec\.jclic\.shapers\./,"@")];return i||o.log("error","Unknown shaper: ".concat(t)),i?new i(e,n):null}},{key:"readShapeData",value:function(t,r,o){var s=[],a=null;return n.each(t.textContent.split("|"),function(t,e){var n=e.split(":"),i=1<n.length?n[1].split(","):null;switch(i=i&&i.map(function(t,e){return t/(e%2?o:r)}),n[0]){case"rectangle":a=new c.Rectangle(i[0],i[1],i[2],i[3]);break;case"ellipse":a=new c.Ellipse(i[0],i[1],i[2],i[3]);break;default:s.push(new c.PathStroke(n[0],i))}}),!a&&0<s.length?new c.Path(s):a}},{key:"factory",value:function(t){var e=r.getShaper(t.className,t.nCols,t.nRows);return o.setAttr(e,t,["className","nCols","nRows","baseWidthFactor","toothHeightFactor","scaleX","scaleY","randomLines","showEnclosure","hasRemainder",{key:"enclosing",fn:c.Shape},{key:"shapeData",fn:c.Shape,group:"array"}]),e.nCells=e.shapeData.length||e.nCols*e.nRows,e}}]),r}();return t.CLASSES={},Object.assign(t.prototype,{className:"Shaper",nCols:0,nRows:0,nCells:0,shapeData:null,initiated:!1,baseWidthFactor:1/3,toothHeightFactor:1/6,randomLines:!1,scaleX:1,scaleY:1,enclosing:null,showEnclosure:!1,rectangularShapes:!1,hasRemainder:!1,customShapes:!1}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(130),n(3),n(34),n(72),n(202),n(2)],void 0===(r=function(u,l,h,f,p,d,g){l=l||window.screenfull;var t=function(){function c(n){var i,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i=v(this,y(c).call(this,n,t,e));var r="";if(h.Font.loadGoogleFonts(i.cssFonts),i.$ctrlCnt=u("<div/>",{class:"JClicCtrlCnt unselectableText",role:"navigation"}),i.$div.append(i.$ctrlCnt),r=n.getMsg("Previous activity"),i.buttons.prev=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u(g.getSvg(i.prevIcon,i.iconWidth,i.iconHeight,i.iconFill))).on("click",function(t){i.ps&&i.ps.actions.prev.processEvent(t)}),i.$ctrlCnt.append(i.buttons.prev),i.msgBox=new p,i.msgBox.role="message",i.$msgBoxDiv=u("<div/>",{class:"JClicMsgBox"}).click(function(){return i.msgBox.playMedia(n),!1}),i.$ctrlCnt.append(i.$msgBoxDiv),r=n.getMsg("Next activity"),i.buttons.next=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u(g.getSvg(i.nextIcon,i.iconWidth,i.iconHeight,i.iconFill))).on("click",function(t){i.ps&&i.ps.actions.next.processEvent(t)}),i.$ctrlCnt.append(i.buttons.next),!1!==i.ps.options.counters&&!1!==e.counters){r=n.getMsg("Reports");var o=u("<button/>",{class:"JClicCountCnt","aria-label":r}).on("click",function(t){i.ps&&i.ps.actions.reports.processEvent(t)});u.each(f.prototype.counters,function(t,e){r=n.getMsg(t),i.counters[t]=new d(t,u("<div/>",{class:"JClicCounter",title:r,"aria-label":r}).css({"background-image":"url(".concat(g.svgToURI(i[t+"Icon"],i.counterIconWidth,i.counterIconHeight,i.counterIconFill),")"),color:i.counterIconFill}).html("000").appendTo(o))}),i.$ctrlCnt.append(o)}if(!0!==i.ps.options.info&&!0!==e.info||(r=n.getMsg("Information"),i.buttons.info=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u(g.getSvg(i.infoIcon,i.iconWidth,i.iconHeight,i.iconFill))).on("click",function(t){i.ps&&i.ps.actions.info.processEvent(t)}),i.$ctrlCnt.append(i.buttons.info)),!0!==i.ps.options.reportsBtn&&!0!==e.reportsBtn||(r=n.getMsg("Reports"),i.buttons.about=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u(g.getSvg(i.reportsIcon,i.iconWidth,i.iconHeight,i.iconFill))).on("click",function(t){i.ps&&i.ps.actions.reports.processEvent(t)}),i.$ctrlCnt.append(i.buttons.about)),l&&l.enabled&&(r=n.getMsg("Toggle full screen"),i.buttons.fullscreen=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u("<img/>",{src:g.svgToURI(i.fullScreenIcon,i.iconWidth,i.iconHeight,i.iconFill)})).on("click",function(){i.setScreenFull(null)}),i.$ctrlCnt.append(i.buttons.fullscreen)),"function"==typeof i.ps.options.closeFn){r=n.getMsg("Close");var s=i.ps.options.closeFn;i.buttons.close=u("<button/>",{class:"JClicBtn",title:r,"aria-label":r}).append(u(g.getSvg(i.closeIcon,i.iconWidth,i.iconHeight,i.iconFill))).on("click",function(){g.log("info","Closing the player"),s()}),i.$ctrlCnt.append(i.buttons.close)}var a=null;return u.each(i.buttons,function(t,e){!e||"function"==typeof e[0].focus&&"function"==typeof e[0].blur||(null===a&&(a=function(){return g.log("error",'"blur" and "focus" not defined for SVG objects in Explorer/Edge')}),e[0].focus=e[0].blur=a)}),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(c,f),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(c,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return"".concat(a(y(c.prototype),"_getStyleSheets",this).call(this,e)).concat("default"===e?this.mainCSS:"half"===e?this.mainCSSHalf:"twoThirds"===e?this.mainCSSTwoThirds:"")}},{key:"doLayout",value:function(){a(y(c.prototype),"doLayout",this).call(this),this.buttons.fullscreen&&(this.buttons.fullscreen.find("img").get(-1).src=g.svgToURI(this[l.isFullscreen?"fullScreenExitIcon":"fullScreenIcon"],this.iconWidth,this.iconHeight,this.iconFill))}},{key:"getMsgBox",value:function(){return this.msgBox}},{key:"enableMainButtons",value:function(t){this.$ctrlCnt.find(".JClicBtn,.JClicCountCnt").attr("tabindex",t?"0":"-1")}}]),c}();return Object.assign(t.prototype,{skinId:"JClicDefaultSkin",$ctrlCnt:null,margin:18,msgBoxHeight:60,countersWidth:60,countersHeight:20,mainCSS:".ID .JClicCtrlCnt {margin:0 9px 18px 9px; display:-webkit-flex; display:flex; -webkit-flex-direction:row; flex-direction:row; -webkit-align-items:center; align-items:center;}.ID .JClicCountCnt {display:-webkit-flex; display:flex; -webkit-flex-direction:column; flex-direction:column;}.ID .JClicMsgBox {height:60px; -webkit-flex-grow:1; flex-grow:1; background-color:lightblue;}.ID .JClicBtn {cursor:pointer; line-height:0;}.ID .JClicBtn:disabled {cursor:inherit; opacity:0.3;}.ID .JClicCounter {width:40px; height:20px; padding-left:20px; color:white; cursor:pointer; font-family:Roboto,Sans-serif; font-size:18px; text-align:center; background-repeat:no-repeat; background-position:left}",mainCSSHalf:".ID .JClicPlayerCnt {margin:9px;}.ID .JClicCtrlCnt {margin:0 4px 9px 4px;}.ID .JClicCtrlCnt button svg,img {width:18px; height:18px;}.ID .JClicMsgBox {height:30px;}.ID .JClicCounter {width:20px; height:10px; margin-left:-15px; transform:scale(0.5);}",mainCSSTwoThirds:".ID .JClicPlayerCnt {margin:12px;}.ID .JClicCtrlCnt {margin: 0 6px 12px 6px;}.ID .JClicCtrlCnt button svg,img {width:24px; height:24px;}.ID .JClicMsgBox {height:40px;}.ID .JClicCounter {width:27px; height:13px; margin-left:-10px; transform:scale(0.666);}",cssFonts:["Roboto"],iconWidth:36,iconHeight:36,iconFill:"#FFFFFF",prevIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>',nextIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>',fullScreenIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg>',fullScreenExitIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',closeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>',infoIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z"/></svg>',reportsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="36" height="36" xmlns="http://www.w3.org/2000/svg"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>',counterIconWidth:18,counterIconHeight:18,counterIconFill:"#FFFFFF",timeIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/><path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>',scoreIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',actionsIcon:'<svg fill="#FFFFFF" viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4z"/></svg>'}),f.CLASSES.default=t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(27),o=n(8)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,i,e){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return Object.prototype.toString.call(t)}i.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},i.isBoolean=function(t){return"boolean"==typeof t},i.isNull=function(t){return null===t},i.isNullOrUndefined=function(t){return null==t},i.isNumber=function(t){return"number"==typeof t},i.isString=function(t){return"string"==typeof t},i.isSymbol=function(t){return"symbol"===e(t)},i.isUndefined=function(t){return void 0===t},i.isRegExp=function(t){return"[object RegExp]"===n(t)},i.isObject=function(t){return"object"===e(t)&&null!==t},i.isDate=function(t){return"[object Date]"===n(t)},i.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},i.isFunction=function(t){return"function"==typeof t},i.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===e(t)||void 0===t},i.isBuffer=t.isBuffer}).call(this,e(38).Buffer)},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(424),t.exports={Promise:i}},function(t,e,n){var i,r;function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}i=[n(1),n(3),n(2),n(56),n(94)],void 0===(r=function(r,n,o,s,a){var i=function(){function n(t,e){c(this,n),t&&(this.h=t),e&&(this.v=e)}return u(n,[{key:"getAttributes",value:function(){return o.getAttributes(this,["h|center","v|center"])}},{key:"setAttributes",value:function(t){return o.setAttr(this,t,["h","v"])}}]),n}();Object.assign(i.prototype,{h:"center",v:"center"});var t=function(){function e(t){c(this,e),void 0!==t&&(this.id=t),this.imgAlign=new i,this.txtAlign=new i}return u(e,[{key:"setProperties",value:function(t,e){var i=this;return o.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"id":case"item":i[t]=Number(e);break;case"width":case"height":null===i.dimension&&(i.dimension=new n.Dimension(0,0)),i.dimension[t]=Number(e);break;case"txtAlign":case"imgAlign":i[t]=i.readAlign(e);break;case"hAlign":i.txtAlign=i.readAlign(e+",center"),i.imgAlign=i.readAlign(e+",center");break;case"border":case"avoidOverlapping":i[t]=o.getBoolean(e);break;case"image":i.image=o.nSlash(e)}}),t.children().each(function(t,e){var n=r(e);switch(e.nodeName){case"style":i.style=new s(null).setProperties(n);break;case"media":i.mediaContent=(new a).setProperties(n);break;case"p":null===i.text?i.text="":i.text+="\n",i.text+=e.textContent}}),e&&this.realizeContent(e),this}},{key:"getAttributes",value:function(){return o.getAttributes(this,["id","item","dimension","border","avoidOverlapping","image","text","objectType","txtAlign","imgAlign","style","mediaContent"])}},{key:"setAttributes",value:function(t,e){return"string"==typeof t?this.text=t:o.setAttr(this,t,["id","item","border","avoidOverlapping","image","text","objectType",{key:"dimension",fn:n.Dimension},{key:"txAlign",fn:i},{key:"imgAlign",fn:i},{key:"style",fn:s},{key:"mediaContent",fn:a}]),e&&this.realizeContent(e),this}},{key:"readAlign",value:function(t){var e=new i;if(t){var n=t.split(",");e.h=n[0].replace("middle","center"),e.v=n[1].replace("middle","center")}return e}},{key:"isEmpty",value:function(){return null===this.text&&null===this.img}},{key:"isEquivalent",value:function(t,e){if(t===this)return!0;var n=!1;return null!==t&&(n=this.isEmpty()&&t.isEmpty()?this.id===t.id:(null===this.text?null===t.text:e?this.text===t.text:this.text.toLocaleLowerCase()===t.text.toLocaleLowerCase())&&(null===this.mediaContent?null===t.mediaContent:this.mediaContent.isEquivalent(t.mediaContent))&&this.img===t.img&&(null===this.imgClip?null===t.imgClip:this.imgClip.equals(t.imgClip))),n}},{key:"setTextContent",value:function(t){null!==t?(this.text=t,this.checkHtmlText()):(this.text=null,this.innerHtmlText=null)}},{key:"checkHtmlText",value:function(){if(this.innerHtmlText=null,o.startsWith(this.text,"<html>",!0)){var t=this.text.trim(),e=t.toLocaleLowerCase();if(-1===e.indexOf("<body")){var n=e.indexOf("</html>");0<=n&&(this.innerHtmlText=t.substr(6,n))}}}},{key:"setImgContent",value:function(t,e,n){this.img=t,this.image=null,this.imgClip=e,n&&(this.animatedGifFile=n)}},{key:"prepareMedia",value:function(t){!this.amp&&this.mediaContent&&"PLAY_VIDEO"===this.mediaContent.type&&(this.amp=t.getActiveMediaPlayer(this.mediaContent),this.amp.realize())}},{key:"realizeContent",value:function(t){var e=this;null!==this.image&&0<this.image.length&&(this.mbe=t.getElement(this.image,!0),this.mbe&&this.mbe.build(function(){e.img=e.mbe.data,e.animatedGifFile=e.mbe.animated?e.mbe.getFullPath():null})),null!==this.mediaContent&&(null!==this.image||null!==this.text&&0!==this.text.length||(this.img=this.mediaContent.getIcon(),this.animatedGifFile=null)),this.checkHtmlText(t)}},{key:"getDescription",value:function(){var t=this.text&&0<this.text.length?this.text:"";return this.image&&(t="".concat(t).concat(0<t.length?" ":"").concat(o.getMsg("image")," ").concat(this.image)),this.imgClip&&(t="".concat(t).concat(0<t.length?" ":"").concat(this.imgClip.toString())),this.mediaContent&&(t="".concat(t).concat(0<t.length?" ":"").concat(this.mediaContent.getDescription())),t}},{key:"toString",value:function(){var t=this.text&&0<this.text.length?this.text:"";return this.image&&(t="".concat(t).concat(0<t.length?" ":"").concat(o.getMsg("image")," ").concat(this.image)),this.imgClip&&(t="".concat(t).concat(0<t.length?" ":"").concat(o.getMsg("image fragment"))),t}}]),e}();return Object.assign(t.prototype,{style:null,dimension:null,border:null,text:null,image:null,imgClip:null,mediaContent:null,imgAlign:null,txtAlign:null,avoidOverlapping:!1,id:-1,item:-1,img:null,animatedGifFile:null,innerHtmlText:null,amp:null,mbe:null}),t.EMPTY_CONTENT=new t,t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(96),n(71),n(133),n(3),n(2)],void 0===(r=function(l,t,e,r,D,N){var n=function(){function c(t,e,n,i,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(o=a(this,h(c).call(this,t,e,n))).clear(),"number"==typeof i&&(o.idLoc=i,o.idAss=0,o.idOrder=0),r&&o.setBounds(r),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(c,t),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(c,[{key:"getCurrentContent",value:function(){return this.isAlternative()?this.altContent:this.content}},{key:"getContent",value:function(){return this.content||this.setContent(new e),this.content}},{key:"clear",value:function(){this.content=null,this.altContent=null,this.idOrder=-1,this.setInactive(!0),this.hasHostedComponent||this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(""),this.tmpTrans&&(this.tmpTrans=!1),this.invalidate()}},{key:"isEquivalent",value:function(t,e){return null!==t&&null!==this.content&&this.content.isEquivalent(t.content,e)}},{key:"isCurrentContentEquivalent",value:function(t,e){return null!==t&&null!==this.getCurrentContent()&&this.getCurrentContent().isEquivalent(t.getCurrentContent(),e)}},{key:"exchangeLocation",value:function(t){var e=new D.Point(this.pos),n=this.idLoc;this.moveTo(t.pos),t.moveTo(e),this.idLoc=t.idLoc,t.idLoc=n}},{key:"copyContent",value:function(t){this.idOrder=t.idOrder,this.idAss=t.idAss,this.content=t.content,this.altContent=t.altContent,this.content&&(this.content.style&&this.setBoxBase(this.content.style),null!==this.content.border&&t.hasBorder()!==this.content.border&&this.setBorder(this.content.border)),this.setInactive(t.isInactive()),this.setInverted(t.isInverted()),this.setAlternative(t.isAlternative()),this.setHostedComponent(t.getHostedComponent()),this.hasHostedComponent=t.hasHostedComponent,this.setHostedMediaPlayer(t.hostedMediaPlayer),this.hostedMediaPlayer&&this.hostedMediaPlayer.setVisualComponentVisible(!this.isInactive()&&this.isVisible()),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"exchangeContent",value:function(t){var e=new c(this.getParent(),this.getContainerX(),this.boxBase);e.copyContent(this),this.copyContent(t),t.copyContent(e)}},{key:"setTextContent",value:function(t){t=t||"",this.content||(this.content=new e),this.content.text=t,this.content.mediaContent=null,this.content.img=null,this.setHostedComponent(null),this.setInactive(!1),this.checkHostedComponent(),this.setHostedMediaPlayer(null),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"setDefaultIdAss",value:function(){this.idAss=null===this.content?-1:this.content.id}},{key:"isAtPlace",value:function(){return this.idOrder===this.idLoc}},{key:"setContent",value:function(t,e){if(t instanceof r){if(e<0&&(e=this.idOrder),e>=t.getNumCells())return;t.style!==this.boxBase&&this.setBoxBase(t.style),t=t.getActiveBoxContent(e)}if(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.content=t){if(t.animatedGifFile&&!this.specialShape){var n="url(".concat(t.animatedGifFile,")"),i=l("<span/>").css({"background-image":n,"background-position":"center","background-repeat":"no-repeat"});i.data("background-image",n),null!==t.imgClip&&i.css({"background-origin":"border-box","background-position":"".concat(-t.imgClip.pos.x,"px ").concat(-t.imgClip.pos.y,"px")}),this.setHostedComponent(i)}t.style!==this.boxBase&&this.setBoxBase(t.style),t.innerHtmlText&&this.setHostedComponent(l("<div/>").html(t.innerHtmlText)),t.hasOwnProperty("border")&&this.hasBorder()!==t.border&&this.setBorder(t.border),this.setInactive(!1),t.amp&&this.setHostedMediaPlayer(t.amp),this.checkHostedComponent(),this.checkAutoStartMedia()}else this.clear();this.invalidate(),this.$accessibleElement&&this.$accessibleElement.html(this.toString())}},{key:"setAltContent",value:function(t,e){t instanceof r&&(e<0&&(e=this.idOrder),t=t.getActiveBoxContent(e)),this.altContent=t,this.checkHostedComponent(),this.isAlternative()&&this.hostedMediaPlayer&&this.setHostedMediaPlayer(null),this.$accessibleElement&&(this.$accessibleElement.html(this.toString()),this.$accessibleElement.prop("disabled",!0))}},{key:"setCurrentContent",value:function(t){this.isAlternative()?this.setAltContent(t):this.setContent(t),this.invalidate()}},{key:"switchToAlt",value:function(){return!(this.isAlternative()||!this.altContent||this.altContent.isEmpty())&&(this.setHostedComponent(null),this.setHostedMediaPlayer(null),this.setAlternative(!0),this.tmpTrans=!1,this.checkHostedComponent(),this.checkAutoStartMedia(),this.$accessibleElement&&this.$accessibleElement.html(this.toString()),!0)}},{key:"checkHostedComponent",value:function(){if(!this.hasHostedComponent){var t=this.getCurrentContent(),e=this.getBoxBaseResolve();!this.isInactive()&&t&&t.innerHtmlText&&(e.getCSS()["text-align"]=t.txtAlign.h.replace("middle","center"))}}},{key:"checkAutoStartMedia",value:function(){var t=this.getContent();t&&t.mediaContent&&t.mediaContent.autoStart&&t.amp&&t.amp.playNow(this)}},{key:"updateContent",value:function(t,e){var n=this.getCurrentContent(),i=this.getBoxBaseResolve();if(this.isInactive()||!n||this.dim.width<2||this.dim.height<2)return!0;if(e&&!this.intersects(e))return!1;var r=null;if(n.img&&!this.tmpTrans)try{if(n.imgClip){var o=n.imgClip.getBounds(),s=n.img;if(!n.imgClip.isRect()){var a=document.createElement("canvas");a.width=o.pos.x+o.dim.width,a.height=o.pos.y+o.dim.height;var c=a.getContext("2d");n.imgClip.clip(c),c.drawImage(n.img,0,0),s=a}t.drawImage(s,Math.max(0,o.pos.x),Math.max(0,o.pos.y),Math.min(s.width,o.dim.width),Math.min(s.height,o.dim.height),this.pos.x,this.pos.y,this.dim.width,this.dim.height)}else{var u=n.img.naturalWidth||this.dim.width,l=n.img.naturalHeight||this.dim.height,h=!1,f=1;N.settings.COMPRESS_IMAGES&&0<this.dim.width&&0<this.dim.height&&(u>this.dim.width||l>this.dim.height)&&(u*=f=Math.min(this.dim.width/u,this.dim.height/l),l*=f,h=!0);var p="left"===n.imgAlign.h?0:"right"===n.imgAlign.h?this.dim.width-u:(this.dim.width-u)/2,d="top"===n.imgAlign.v?0:"bottom"===n.imgAlign.v?this.dim.height-l:(this.dim.height-l)/2;h?t.drawImage(n.img,this.pos.x+p,this.pos.y+d,u,l):t.drawImage(n.img,this.pos.x+p,this.pos.y+d),n.avoidOverlapping&&n.text&&(r=new D.Rectangle(Math.max(0,p),Math.max(0,d),Math.min(this.dim.width,u),Math.min(this.dim.height,l)))}}catch(t){N.log("warn",'Unable to draw image "'.concat(n.image,'": ').concat(t.message))}if(n.text&&0<n.text.length){var g=this.pos.x,v=this.pos.y,y=this.dim.width,m=this.dim.height;if(r){for(var b=[0,r.pos.x,r.pos.x+r.dim.width,y],w=[0,r.pos.y,r.pos.y+r.dim.height,m],k=[new D.Rectangle(b[0],w[0],b[3],w[1]),new D.Rectangle(b[0],w[2],b[3],w[3]-w[2]),new D.Rectangle(b[0],w[0],b[1],w[3]),new D.Rectangle(b[2],w[0],b[3]-b[2],w[3])],A=k[0],x=A.dim.width*A.dim.height,S=1;S<k.length;S++){var C=k[S].dim.width*k[S].dim.height;if(x-1<C){if(Math.abs(C-x)<=1){var E=!1;switch(S){case 1:E="bottom"===n.txtAlign.v;break;case 2:E="left"===n.txtAlign.h;break;case 3:E="right"===n.txtAlign.h}if(!E)continue}x=C,A=k[S]}}g+=A.pos.x,v+=A.pos.y,y=A.dim.width,m=A.dim.height}var O=Math.max(5,y-2*i.textMargin),P=Math.max(5,m-2*i.textMargin),T=i.prepareText(t,n.text,O,P);t.font=i.font.cssFont(),t.textBaseline="hanging";for(var _=i.font.getHeight(),I=_*T.length,R=v+i.textMargin+("top"===n.txtAlign.v?0:"bottom"===n.txtAlign.v?P-I:(P-I)/2),j=0;j<T.length;j++,R+=_){var B=g+i.textMargin+("left"===n.txtAlign.h?0:"right"===n.txtAlign.h?O-T[j].size.width:(O-T[j].size.width)/2);if(i.shadow){var M=Math.max(1,i.font.size/10);t.fillStyle=i.shadowColor,t.fillText(T[j].text,B+M,R+M)}t.fillStyle=this.isInverted()?i.backColor:this.isAlternative()?i.alternativeColor:i.textColor,t.fillText(T[j].text,B,R)}}return!0}},{key:"getDescription",value:function(){return this.content?this.content.getDescription():""}},{key:"toString",value:function(){return("cell"!==this.role?N.getMsg(this.role):"")+(this.getCurrentContent()||"-").toString()}},{key:"playMedia",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:null,i=this.getCurrentContent();return!(!i||!i.mediaContent)&&(N.log("debug","Playing: ".concat(i.mediaContent.toString())),t.playMedia(i.mediaContent,this,n),!0)}},{key:"setHostedMediaPlayer",value:function(t){var e=this.hostedMediaPlayer;this.hostedMediaPlayer=t,e&&e!==t&&e.linkTo(null),t&&t.linkTo(this)}},{key:"setBounds",value:function(t,e,n,i){"number"==typeof t&&(t=new D.Rectangle(t,e,n,i)),this.equals(t)||(u(h(c.prototype),"setBounds",this).call(this,t),this.hostedMediaPlayer&&this.hostedMediaPlayer.checkVisualComponentBounds(this))}},{key:"setHostedComponentBounds",value:function(t){if(this.$hostedComponent){u(h(c.prototype),"setHostedComponentBounds",this).call(this,t);var e=this.getCurrentContent();if(t&&e&&e.animatedGifFile&&e.img){var n=e.img,i=Math.max(n.naturalWidth,this.dim.width),r=Math.max(n.naturalHeight,this.dim.height),o=1,s="";if(e.imgClip){var a=e.imgClip.getBounds();(this.dim.width<a.dim.width||this.dim.height<a.dim.height)&&(o=Math.min(this.dim.width/a.dim.width,this.dim.height/a.dim.height),s="".concat(i*o,"px ").concat(r*o,"px")),this.$hostedComponent.css({"background-position":"".concat(-e.imgClip.pos.x*o,"px ").concat(-e.imgClip.pos.y*o,"px"),"background-size":s})}else(this.dim.width<i||this.dim.height<r)&&(o=Math.min(this.dim.width/i,this.dim.height/r),s="".concat(i*o,"px ").concat(r*o,"px")),this.$hostedComponent.css({"background-size":s})}}}},{key:"buildAccessibleElement",value:function(r,o,t,s){var a=this;if(N.settings.CANVAS_HITREGIONS){this.$accessibleElement&&this.$accessibleElement.remove();var e=r.get(-1);if(0<e.width&&0<e.height){var n=Math.round(1e5*Math.random()),i=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement=l("<button/>",{tabindex:i?-1:0,id:"AE".concat(n),disabled:i}).html(this.toString()).click(function(t){if(t.originalEvent&&(0!==t.originalEvent.pageX||0!==t.originalEvent.pageY))return!0;N.log("debug","Click on accessible element: ".concat(a.toString()));var e=l.Event(s||"click"),n=a.getBounds(),i=r.offset();return e.pageX=i.left+n.pos.x+n.dim.width/2,e.pageY=i.top+n.pos.y+n.dim.height/2,o.trigger(e),!1}),(t||r).append(this.$accessibleElement);var c=this.$accessibleElement.get(-1);try{var u=e.getContext("2d");this.shape.preparePath(u),u.addHitRegion({id:"REG".concat(n),control:c}),N.settings.CANVAS_HITREGIONS_FOCUS&&u.drawFocusIfNeeded(c)}catch(t){N.log("error","Unable to build accessible element for canvas in: ".concat(this.toString()," (").concat(t,")"))}}}return this.$accessibleElement}}],[{key:"createCell",value:function(t,e){if(e&&e.dimension){var n=new c,i=l('<canvas width="'+e.dimension.width+'" height="'+e.dimension.height+'"/>'),r=new D.Rectangle(0,0,e.dimension.width,e.dimension.height);return n.container=new D.Container,n.container.$div=t,n.setContent(e),n.setBounds(r),t.append(i),n.update(i.get(-1).getContext("2d"),r),n}}}]),c}();return Object.assign(n.prototype,{idOrder:-1,idLoc:-1,idAss:-1,pos0:null,content:null,altContent:null,hasHostedComponent:!1,hostedMediaPlayer:null,isBackground:!1}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(64),n(3)],void 0===(r=function(t,e,r){var n=function(){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,c(n).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"buildShapes",value:function(){for(var t=1/this.nCols,e=1/this.nRows,n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.shapeData[n*this.nCols+i]=new r.Rectangle(new r.Point(i*t,n*e),new r.Dimension(t,e));this.initiated=!0}}]),n}();return Object.assign(n.prototype,{rectangularShapes:!0}),e.CLASSES["@Rectangular"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(3),n(72),n(56)],void 0===(r=function(f,t,e,p,i){var n=function(){function e(t){return a(this,e),l(this,h(e).call(this,t))}return d(e,t),u(e,[{key:"getMinNumActions",value:function(){return this.document?this.document.numTargets:0}}]),e}();Object.assign(n.prototype,{ev:null,checkButtonText:null,prevScreen:!1,prevScreenText:null,prevScreenStyle:null,prevScreenMaxTime:-1});var r=function(){function r(t,e,n){var i;return a(this,r),(i=l(this,h(r).call(this,t,e,n))).targets=[],i}return d(r,t.Panel),u(r,[{key:"setDocContent",value:function(t,c){var u=this;t.empty().css(c.style.default.css).css({display:"flex","flex-direction":"column"});var e=f("<div/>").css({"flex-grow":1,overflow:"auto"}),n=f("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(c.style.default.css),l=null,h=[];return c.p.forEach(function(t){var s=f("<p/>").css({margin:0}),a=!0;if(t.style?(l=c.style[t.style].css,s.css(l)):l=null,t.Alignment){var e=Number(t.Alignment);s.css({"text-align":1===e?"center":2===e?"right":"left"})}t.elements.forEach(function(t){var e=f("<span/>");switch(t.objectType){case"text":t.attr?(e.html(t.text),t.attr.style&&e.css(c.style[t.attr.style].css),t.attr.css&&e.css(t.attr.css),s.append(e)):s.append(t.text);break;case"cell":var n=p.createCell(e.css({position:"relative"}),t);e.css({display:"inline-block","vertical-align":"middle"}),t.mediaContent&&e.on("click",function(t){return t.preventDefault(),u.ps.stopMedia(1),n.playMedia(u.ps),!1}),s.append(e);break;case"target":if(u.showingPrevScreen){e.text(t.text),s.append(e);break}var i=t,r=null;if("no_info"!==i.infoMode&&i.popupContent){r=f("<span/>").css({position:"absolute","padding-top":"2pt",display:"none"});var o=p.createCell(r,i.popupContent);i.popupContent.mediaContent&&r.on("click",function(t){return t.preventDefault(),u.ps.stopMedia(1),o?o.playMedia(u.ps):i.popupContent.mediaContent&&u.ps.playMedia(i.popupContent.mediaContent),!1}),i.$popup=r,h.push({p:s,span:r,box:o})}e=u.$createTargetElement(i,e),i.num=u.targets.length,i.pos=i.num,u.targets.push(i),e&&(e.css(c.style.default.css),l&&e.css(l),u.targetsMarked?i.attr?(i.attr.style||(i.attr.style="target"),e.css(c.style[i.attr.style].css),i.attr.css&&e.css(i.attr.css)):c.style.target&&e.css(c.style.target.css):i.targetStatus="HIDDEN",null!==r&&"onDemand"===i.infoMode&&e.keydown(function(t){t.key===i.popupKey?(t.preventDefault(),u.showPopup(r,i.popupMaxTime,i.popupDelay)):"Escape"===t.key&&(t.preventDefault(),u.showPopup(null))})),r&&e?i.isList?s.append(e).append(r):s.append(r).append(e):e&&s.append(e),i.$p=s}a=!1}),a&&s.html("&nbsp;"),n.append(s)}),t.append(e.append(n)),this.act.checkButtonText&&!this.showingPrevScreen&&(this.$checkButton=f("<button/>",{class:"StockBtn"}).html(this.act.checkButtonText).css({width:"100%","flex-shrink":0}).on("click",function(){return u.evaluatePanel()}),t.append(this.$checkButton)),h.forEach(function(t){return t.span.css({"margin-top":t.p.css("font-size")})}),this.act.ev&&this.act.ev.init(this.act.project.settings.locales),t}},{key:"$createTargetElement",value:function(t,e){return e.text(t.text),t.$span=e}},{key:"initActivity",value:function(){this.act.prevScreen?this.preInitActivity():this.startActivity()}},{key:"startActivity",value:function(){s(h(r.prototype),"initActivity",this).call(this),this.setAndPlayMsg("initial","start"),this.setDocContent(this.$div,this.act.document),this.playing=!0}},{key:"preInitActivity",value:function(){var t=this;if(this.act.prevScreen){function e(){return t.showingPrevScreen=!1,t.$div.unbind("click"),t.prevScreenTimer&&(clearTimeout(t.prevScreenTimer),t.prevScreenTimer=null),t.startActivity(),!0}if(this.showingPrevScreen=!0,this.$div.empty(),this.act.prevScreenText){this.act.prevScreenStyle||(this.act.prevScreenStyle=new i),this.$div.css(this.act.prevScreenStyle.getCSS()).css("overflow","auto");var n=f("<div/>",{class:"JClicTextDocument"}).css({padding:4}).css(this.act.prevScreenStyle.getCSS()).append(this.act.prevScreenText);this.$div.append(n)}else this.setDocContent(this.$div,this.act.document);this.enableCounters(!0,!1,!1),this.ps.setCounterValue("time",0),this.ps.setMsg(this.act.messages.previous),0<this.act.prevScreenMaxTime&&(this.ps.setCountDown("time",this.act.prevScreenMaxTime),this.prevScreenTimer=setTimeout(e,1e3*this.act.prevScreenMaxTime)),this.$div.on("click",e),this.ps.playMsg()}}},{key:"evaluatePanel",value:function(){return this.finishActivity(!0),!0}},{key:"finishActivity",value:function(t){this.$checkButton&&this.$checkButton.prop("disabled",!0),this.targets.forEach(function(t){t.$comboList&&t.$comboList.attr("disabled",!0)}),this.showPopup(null),s(h(r.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){return this.playing}},{key:"showPopup",value:function(t,e,n){var i=this;this.$currentPopup&&(this.$currentPopup.css({display:"none"}),this.$currentPopup=null,this.currentPopupTimer&&(window.clearTimeout(this.currentPopupTimer),this.currentPopupTimer=0)),this.popupWaitTimer&&(window.clearTimeout(this.popupWaitTimer),this.popupWaitTimer=0),n?this.popupWaitTimer=window.setTimeout(function(){i.showPopup(t,e)},1e3*n):t&&(t.css({display:""}),t.click(),this.$currentPopup=t,e&&(this.currentPopupTimer=window.setTimeout(function(){t.css({display:"none"}),i.$currentPopup===t&&(i.$currentPopup=null,i.currentPopupTimer=0)},1e3*e)))}}]),r}();return Object.assign(r.prototype,{targets:null,targetsMarked:!0,$checkButton:null,prevScreenTimer:null,$currentPopup:null,currentPopupTimer:0,popupWaitTimer:0}),n.Panel=r,n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(25),r=n(5),o="__core-js_shared__",s=r[o]||(r[o]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(40)?"pure":"global",copyright:"Â© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var c=n(20),u=n(12),l=n(48);t.exports=function(a){return function(t,e,n){var i,r=c(t),o=u(r.length),s=l(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(27);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(7),r=n(27),o=n(8)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var o=n(8)("iterator"),s=!1;try{var i=[7][o]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(4);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var a=n(16),c=n(17),u=n(6),l=n(30),h=n(8);t.exports=function(e,t,n){var i=h(e),r=n(l,i,""[e]),o=r[0],s=r[1];u(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})&&(c(String.prototype,e,o),a(RegExp.prototype,i,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)}))}},function(t,e,n){var r=n(4),o=n(15),s=n(8)("species");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||null==(n=r(i)[s])?e:o(n)}},function(t,e,n){var i=n(5).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var y=n(5),m=n(0),b=n(17),w=n(54),k=n(39),A=n(53),x=n(52),S=n(7),C=n(6),E=n(80),O=n(58),P=n(104);t.exports=function(i,t,e,n,r,o){function s(t){var n=l[t];b(l,t,"delete"==t?function(t){return!(o&&!S(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!S(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!S(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var a=y[i],c=a,u=r?"set":"add",l=c&&c.prototype,h={};if("function"==typeof c&&(o||l.forEach&&!C(function(){(new c).entries().next()}))){var f=new c,p=f[u](o?{}:-0,1)!=f,d=C(function(){f.has(1)}),g=E(function(t){new c(t)}),v=!o&&C(function(){for(var t=new c,e=5;e--;)t[u](e,e);return!t.has(-0)});g||(((c=t(function(t,e){x(t,c,i);var n=P(new a,t,c);return null!=e&&A(e,r,n[u],n),n})).prototype=l).constructor=c),(d||v)&&(s("delete"),s("has"),r&&s("get")),(v||p)&&s(u),o&&l.clear&&delete l.clear}else c=n.getConstructor(t,i,r,u),w(c.prototype,e),k.NEED=!0;return O(c,i),h[i]=c,m(m.G+m.W+m.F*(c!=a),h),o||n.setStrong(c,i,r),c}},function(t,e,n){for(var i,r=n(5),o=n(16),s=n(46),a=s("typed_array"),c=s("view"),u=!(!r.ArrayBuffer||!r.DataView),l=u,h=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<9;)(i=r[f[h++]])?(o(i.prototype,a,!0),o(i.prototype,c,!0)):l=!1;t.exports={ABV:u,CONSTR:l,TYPED:a,VIEW:c}},function(t,e,n){"use strict";t.exports=n(40)||!n(6)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(5)[t]})},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(0),c=n(15),u=n(26),l=n(53);t.exports=function(t){i(i.S,t,{from:function(t,e,n){var i,r,o,s,a=e;return c(this),(i=void 0!==a)&&c(a),null==t?new this:(r=[],i?(o=0,s=u(a,n,2),l(t,!1,function(t){r.push(s(t,o++))})):l(t,!1,r.push,r),new this(r))}})}},function(t,e,n){t.exports=i;var l=n(91).EventEmitter;function i(){l.call(this)}n(63)(i,l),i.Readable=n(414),i.Writable=n(419),i.Duplex=n(420),i.Transform=n(421),i.PassThrough=n(422),(i.Stream=i).prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",a));var o=!1;function s(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(t){if(u(),0===l.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",i),e.removeListener("drain",r),n.removeListener("end",s),n.removeListener("close",a),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},function(t,e,n){"use strict";function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i,r="object"===("undefined"==typeof Reflect?"undefined":c(Reflect))?Reflect:null,l=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}((t.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+c(n));if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),0<(r=u(t))&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,function(t){console&&console.warn&&console.warn(t)}(a)}return t}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,l(this.listener,this.target,t))}.bind(i);return r.listener=n,i.wrapFn=r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):g(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(0<e.length&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=r[t];if(void 0===a)return!1;if("function"==typeof a)l(a,this,e);else{var c=a.length,u=g(a,c);for(n=0;n<c;++n)l(u[n],this,e)}return!0},s.prototype.on=s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+c(e));return this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+c(e));return this.prependListener(t,f(this,t,e)),this},s.prototype.off=s.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+c(e));if(void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;0<=o;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},s.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;0<=i;i--)this.removeListener(t,e[i]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++h<e;)c&&c[h].run();h=-1,e=u.length}c=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function g(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";(function(n){t.exports={isNode:void 0!==n,newBufferFrom:function(t,e){if(n.from&&n.from!==Uint8Array.from)return n.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new n(t,e)},allocBuffer:function(t){if(n.alloc)return n.alloc(t);var e=new n(t);return e.fill(0),e},isBuffer:function(t){return n.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(38).Buffer)},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(3),n(2)],void 0===(r=function(t,i,r){var o=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.type=t,e&&(this.file=e)}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"setProperties",value:function(t){var n=this;return r.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"type":n.type=e;break;case"file":n.file=r.nSlash(e);break;case"params":n.externalParam=r.nSlash(e);break;case"pFrom":n.absLocationFrom=e;break;case"buffer":n.recBuffer=Number(e);break;case"level":case"from":case"to":case"length":n[t]=Number(e);break;case"px":case"py":null===n.absLocation&&(n.absLocation=new i.Point(0,0)),"px"===t?n.absLocation.x=Number(e):n.absLocation.y=Number(e);break;case"stretch":case"free":case"catchMouseEvents":case"loop":case"autostart":n[t]=r.getBoolean(e)}}),this}},{key:"getAttributes",value:function(){return r.getAttributes(this,["type","file","externalParam","absLocation","absLocationFrom","recBuffer","level|1","from","to","length","stretch","free","catchMouseEvents","loop","autostart"])}},{key:"setAttributes",value:function(t){return r.setAttr(this,t,["type","file","externalParam",{key:"absLocation",fn:i.Point},"absLocationFrom","recBuffer","level","from","to","length","stretch","free","catchMouseEvents","loop","autostart"])}},{key:"isEquivalent",value:function(t){return this.type===t.type&&(this.file===t.file||null!==this.file&&null!==t.file&&this.file.toLocaleLowerCase()===t.file.toLocaleLowerCase())&&this.from===t.from&&this.to===t.to&&this.recBuffer===t.recBuffer}},{key:"getDescription",value:function(){var t="".concat(this.type);return this.file?t="".concat(t," ").concat(this.file).concat(0<=this.from?" from:".concat(this.from):"").concat(0<=this.to?" to:".concat(this.to):""):this.externalParam&&(t="".concat(t," ").concat(this.externalParam)),t}},{key:"toString",value:function(){return"".concat(this.type).concat(this.file||"")}},{key:"getIcon",value:function(){var t=null;switch(this.type){case"PLAY_AUDIO":case"PLAY_RECORDED_AUDIO":t="audio";break;case"RECORD_AUDIO":t="mic";break;case"PLAY_VIDEO":t="movie";break;case"PLAY_MIDI":t="music";break;case"URL":t="url";break;default:t="default"}return t?n.ICONS[t]:null}}]),n}();Object.assign(o.prototype,{type:"UNKNOWN",level:1,file:null,externalParam:null,from:-1,to:-1,length:3,recBuffer:0,stretch:!1,free:!1,absLocation:null,absLocationFrom:null,catchMouseEvents:!1,loop:!1,autoStart:!1});return o.ICONS={},t.each({default:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0yOC44IDEyTDI4IDhIMTB2MzRoNFYyOGgxMS4ybC44IDRoMTRWMTJ6Ij48L3BhdGg+PC9zdmc+Cg==",audio:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0zIDl2Nmg0bDUgNVY0TDcgOUgzem0xMy41IDNjMC0xLjc3LTEuMDItMy4yOS0yLjUtNC4wM3Y4LjA1YzEuNDgtLjczIDIuNS0yLjI1IDIuNS00LjAyek0xNCAzLjIzdjIuMDZjMi44OS44NiA1IDMuNTQgNSA2Ljcxcy0yLjExIDUuODUtNSA2LjcxdjIuMDZjNC4wMS0uOTEgNy00LjQ5IDctOC43N3MtMi45OS03Ljg2LTctOC43N3oiPjwvcGF0aD48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIj48L3BhdGg+PC9zdmc+Cg==",movie:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xOCA0bDIgNGgtM2wtMi00aC0ybDIgNGgtM2wtMi00SDhsMiA0SDdMNSA0SDRjLTEuMSAwLTEuOTkuOS0xLjk5IDJMMiAxOGMwIDEuMS45IDIgMiAyaDE2YzEuMSAwIDItLjkgMi0yVjRoLTR6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",mic:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0xMiAxNGMxLjY2IDAgMi45OS0xLjM0IDIuOTktM0wxNSA1YzAtMS42Ni0xLjM0LTMtMy0zUzkgMy4zNCA5IDV2NmMwIDEuNjYgMS4zNCAzIDMgM3ptNS4zLTNjMCAzLTIuNTQgNS4xLTUuMyA1LjFTNi43IDE0IDYuNyAxMUg1YzAgMy40MSAyLjcyIDYuMjMgNiA2LjcyVjIxaDJ2LTMuMjhjMy4yOC0uNDggNi0zLjMgNi02LjcyaC0xLjd6Ij48L3BhdGg+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSI+PC9wYXRoPjwvc3ZnPgo=",music:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgM3YxMC41NWMtLjU5LS4zNC0xLjI3LS41NS0yLS41NS0yLjIxIDAtNCAxLjc5LTQgNHMxLjc5IDQgNCA0IDQtMS43OSA0LTRWN2g0VjNoLTZ6Ij48L3BhdGg+PC9zdmc+Cg==",url:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiMwMDAwMDAiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjQ4IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptLTEgMTcuOTNjLTMuOTUtLjQ5LTctMy44NS03LTcuOTMgMC0uNjIuMDgtMS4yMS4yMS0xLjc5TDkgMTV2MWMwIDEuMS45IDIgMiAydjEuOTN6bTYuOS0yLjU0Yy0uMjYtLjgxLTEtMS4zOS0xLjktMS4zOWgtMXYtM2MwLS41NS0uNDUtMS0xLTFIOHYtMmgyYy41NSAwIDEtLjQ1IDEtMVY3aDJjMS4xIDAgMi0uOSAyLTJ2LS40MWMyLjkzIDEuMTkgNSA0LjA2IDUgNy40MSAwIDIuMDgtLjggMy45Ny0yLjEgNS4zOXoiPjwvcGF0aD48L3N2Zz4K"},function(t,e){var n=new Image;n.src=e,o.ICONS[t]=n}),o}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(2)],void 0===(r=function(i){var t=function(){function n(t,e){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.action=t,o(e)){case"string":this.sequence=e;break;case"number":this.actNum=e}}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"setProperties",value:function(t){return this.id=t.attr("id"),this.action=t.attr("action")||"JUMP",t.attr("tag")&&(this.sequence=i.nSlash(t.attr("tag"))),t.attr("project")&&(this.projectPath=i.nSlash(t.attr("project"))),this}},{key:"getAttributes",value:function(){return i.getAttributes(this,["id","action","actNum","sequence","projectPath"])}},{key:"setAttributes",value:function(e){var n=this;return["id","action","actNum","sequence","projectPath"].forEach(function(t){i.isEmpty(e[t])||(n[t]=e[t])}),this}}]),n}();return Object.assign(t.prototype,{id:null,action:null,actNum:-1,sequence:null,projectPath:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(3),n(56)],void 0===(r=function(t,s,e){var n=function(){function o(t,e,n){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(i=function(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?u(t):e}(this,h(o).call(this))).container=e,i.parent=t,i.boxBase=n,i.shape=u(i),i.specialShape=!1,i.visible=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(o,s.Rectangle),function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(o,[{key:"setParent",value:function(t){this.parent=t}},{key:"getParent",value:function(){return this.parent}},{key:"end",value:function(){}},{key:"setContainer",value:function(t){this.container=t,this.$hostedComponent&&this.container&&this.container.$div&&(this.$hostedComponent.detach(),this.container.$div.append(this.$hostedComponent))}},{key:"getContainerX",value:function(){return this.container}},{key:"getContainerResolve",value:function(){for(var t=this;null===t.container&&null!==t.parent;)t=t.parent;return t.container}},{key:"invalidate",value:function(t){var e=this.getContainerResolve();e&&e.invalidate(t)}},{key:"setBoxBase",value:function(t){this.boxBase=t,this.invalidate()}},{key:"getBoxBaseResolve",value:function(){for(var t=this;!t.boxBase&&t.parent;)t=t.parent;return t.boxBase||e.prototype.defaultBoxBase}},{key:"setShape",value:function(t){this.shape=t,this.specialShape=!0,this.invalidate(),l(h(o.prototype),"setBounds",this).call(this,t.getBounds()),this.invalidate()}},{key:"getShape",value:function(){return this.shape}},{key:"contains",value:function(t){return this.shape===this?l(h(o.prototype),"contains",this).call(this,t):this.shape.contains(t)}},{key:"setBounds",value:function(t,e,n,i){if("number"==typeof t&&(t=new s.Rectangle(t,e,n,i)),!this.equals(t)){var r=!this.dim.equals(t.dim);return this.specialShape?(r&&(this.shape.scaleBy(new s.Dimension(t.dim.width/this.dim.width,t.dim.height/this.dim.height)),this.setShape(this.shape)),this.pos.equals(t.pos)||this.shape.moveTo(t.pos),this.setShape(this.shape)):l(h(o.prototype),"setBounds",this).call(this,t),this.$hostedComponent&&this.setHostedComponentBounds(r),this}}},{key:"moveTo",value:function(t,e){"number"==typeof t&&(t=new s.Point(t,e)),this.setBounds(new s.Rectangle(this).moveTo(t))}},{key:"moveBy",value:function(t,e){this.setBounds(new s.Rectangle(this).moveBy(t,e))}},{key:"setSize",value:function(t,e){this.setBounds(new s.Rectangle(this.pos,new s.Dimension(t,e)))}},{key:"hasBorder",value:function(){return this.border}},{key:"setBorder",value:function(t){t||this.invalidate(),(this.border=t)&&this.invalidate()}},{key:"isVisible",value:function(){return this.visible}},{key:"setVisible",value:function(t){this.visible=t,this.setHostedComponentVisible(),this.invalidate()}},{key:"setHostedComponentVisible",value:function(){this.$hostedComponent&&this.$hostedComponent.css("visibility",this.visible?"visible":"hidden")}},{key:"isTemporaryHidden",value:function(){return this.temporaryHidden}},{key:"setTemporaryHidden",value:function(t){this.temporaryHidden=t}},{key:"isInactive",value:function(){return this.inactive}},{key:"setInactive",value:function(t){if(this.inactive=t,this.$hostedComponent)this.setHostedComponentColors(),this.setHostedComponentVisible();else{if(this.$accessibleElement){var e=this.isInactive()&&!this.accessibleAlwaysActive;this.$accessibleElement.prop({disabled:e,tabindex:e?-1:0})}this.invalidate()}}},{key:"isInverted",value:function(){return this.inverted}},{key:"setInverted",value:function(t){this.inverted=t,this.$hostedComponent?this.setHostedComponentColors():this.invalidate()}},{key:"isMarked",value:function(){return this.marked}},{key:"setMarked",value:function(t){t||this.invalidate(),this.marked=t,this.$hostedComponent?(this.setHostedComponentColors(),this.setHostedComponentBorder()):t&&this.invalidate()}},{key:"isFocused",value:function(){return this.focused}},{key:"setFocused",value:function(t){t||this.invalidate(),(this.focused=t)&&this.invalidate(),this.$hostedComponent&&this.$hostedComponent.css("z-index",this.focused?20:2)}},{key:"isAlternative",value:function(){return this.alternative}},{key:"setAlternative",value:function(t){this.alternative=t,this.invalidate()}},{key:"update",value:function(t,e){if(this.isEmpty()||!this.isVisible()||this.isTemporaryHidden())return!1;if(e&&!this.shape.intersects(e))return!1;var n=this.getBoxBaseResolve();return n.transparent||n.dontFill||this.tmpTrans||(n.bgGradient&&!n.bgGradient.hasTransparency()||(t.fillStyle=this.inactive?n.inactiveColor:this.inverted?n.textColor:n.backColor,this.shape.fill(t,e)),n.bgGradient&&(t.fillStyle=n.bgGradient.getGradient(t,this.shape.getBounds()),this.shape.fill(t,e)),t.fillStyle="black"),this.$hostedComponent||this.updateContent(t,e),this.drawBorder(t),!0}},{key:"updateContent",value:function(t,e){}},{key:"drawBorder",value:function(t){if(this.border||this.marked){var e=this.getBoxBaseResolve();t.strokeStyle=e.borderColor,e[this.marked?"markerStroke":"borderStroke"].setStroke(t),this.marked&&(t.globalCompositeOperation="xor"),this.shape.stroke(t),this.marked&&(t.globalCompositeOperation="source-over"),t.strokeStyle="black",s.Stroke.prototype.setStroke(t)}}},{key:"getBorderBounds",value:function(){var t=new s.Rectangle(this.getBounds());if(this.border||this.marked){var e=this.getBoxBaseResolve()[this.marked?"markerStroke":"borderStroke"].lineWidth;t.moveBy(-e/2,-e/2),t.dim.width+=e,t.dim.height+=e}return t}},{key:"setHostedComponent",value:function(t){this.$hostedComponent&&this.$hostedComponent.detach(),this.$hostedComponent=t,this.$hostedComponent&&(this.setContainer(this.container),this.setHostedComponentColors(),this.setHostedComponentBorder(),this.setHostedComponentBounds(!0),this.setHostedComponentVisible(),this.setFocused(this.focused))}},{key:"getHostedComponent",value:function(){return this.$hostedComponent}},{key:"setHostedComponentColors",value:function(){if(this.$hostedComponent){var t=this.getBoxBaseResolve().getCSS(null,this.inactive,this.inverted,this.alternative);this.$hostedComponent.data("background-image")&&t["background-image"]&&(t["background-image"]="".concat(this.$hostedComponent.data("background-image"),",").concat(t["background-image"])),this.$hostedComponent.css(t)}}},{key:"setHostedComponentBorder",value:function(){if(this.$hostedComponent&&(this.border||this.marked)){var t=this.getBoxBaseResolve();this.$hostedComponent.css({"border-width":"".concat(t.get(this.marked?"markerStroke":"borderStroke").lineWidth,"px"),"border-style":"solid","border-color":t.get("borderColor")})}}},{key:"setHostedComponentBounds",value:function(t){if(this.$hostedComponent){var e=this.getBounds(),n=this.border||this.marked?this.getBoxBaseResolve().get(this.marked?"markerStroke":"borderStroke").lineWidth:0;this.$hostedComponent.css({position:"absolute",width:e.dim.width-2*n+"px",height:e.dim.height-2*n+"px",top:e.pos.y+"px",left:e.pos.x+"px"})}}}]),o}();return Object.assign(n.prototype,{parent:null,container:null,boxBase:null,border:!1,shape:null,specialShape:!1,visible:!0,temporaryHidden:!1,tmpTrans:!1,inactive:!1,inverted:!1,alternative:!1,marked:!1,focused:!1,accessibleText:"",role:"cell",$accessibleElement:null,accessibleAlwaysActive:!1,$hostedComponent:null}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i=n(7),r=n(5).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(5),r=n(25),o=n(40),s=n(137),a=n(11).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e,n){var i=n(75)("keys"),r=n(46);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(5).document;t.exports=i&&i.documentElement},function(t,e,r){function o(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=r(7),i=r(4);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=r(26)(Function.call,r(21).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff"},function(t,e,n){var o=n(7),s=n(102).set;t.exports=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&o(i)&&s&&s(t,i),t}},function(t,e,n){"use strict";var r=n(31),o=n(30);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){var c=n(31),u=n(30);t.exports=function(a){return function(t,e){var n,i,r=String(u(t)),o=c(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";function b(){return this}var w=n(40),k=n(0),A=n(17),x=n(16),S=n(60),C=n(110),E=n(58),O=n(22),P=n(8)("iterator"),T=!([].keys&&"next"in[].keys()),_="values";t.exports=function(t,e,n,i,r,o,s){C(n,e,i);function a(t){if(!T&&t in d)return d[t];switch(t){case"keys":case _:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var c,u,l,h=e+" Iterator",f=r==_,p=!1,d=t.prototype,g=d[P]||d["@@iterator"]||r&&d[r],v=g||a(r),y=r?f?a("entries"):v:void 0,m="Array"==e&&d.entries||g;if(m&&(l=O(m.call(new t)))!==Object.prototype&&l.next&&(E(l,h,!0),w||"function"==typeof l[P]||x(l,P,b)),f&&g&&g.name!==_&&(p=!0,v=function(){return g.call(this)}),w&&!s||!T&&!p&&d[P]||x(d,P,v),S[e]=v,S[h]=b,r)if(c={values:f?v:a(_),keys:o?v:a("keys"),entries:y},s)for(u in c)u in d||A(d,u,c[u]);else k(k.P+k.F*(T||p),e,c);return c}},function(t,e,n){"use strict";var i=n(49),r=n(45),o=n(58),s={};n(16)(s,n(8)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(79),r=n(30);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(8)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){var i=n(60),r=n(8)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(11),r=n(45);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(68),r=n(8)("iterator"),o=n(60);t.exports=n(25).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(299);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var u=n(14),l=n(48),h=n(12);t.exports=function(t,e,n){for(var i=u(this),r=h(i.length),o=arguments.length,s=l(1<o?e:void 0,r),a=2<o?n:void 0,c=void 0===a?r:l(a,r);s<c;)i[s++]=t;return i}},function(t,e,n){"use strict";var i=n(41),r=n(153),o=n(60),s=n(20);t.exports=n(109)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){function i(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}}function r(t){i.call(t.data)}var o,s,a,c=n(26),u=n(143),l=n(101),h=n(97),f=n(5),p=f.process,d=f.setImmediate,g=f.clearImmediate,v=f.MessageChannel,y=f.Dispatch,m=0,b={},w="onreadystatechange";d&&g||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++m]=function(){u("function"==typeof t?t:Function(t),e)},o(m),m},g=function(t){delete b[t]},"process"==n(27)(p)?o=function(t){p.nextTick(c(i,t,1))}:y&&y.now?o=function(t){y.now(c(i,t,1))}:v?(a=(s=new v).port2,s.port1.onmessage=r,o=c(a.postMessage,a,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(o=function(t){f.postMessage(t+"","*")},f.addEventListener("message",r,!1)):o=w in h("script")?function(t){l.appendChild(h("script"))[w]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(c(i,t,1),0)}),t.exports={set:d,clear:g}},function(t,e,n){var a=n(5),c=n(119).set,u=a.MutationObserver||a.WebKitMutationObserver,l=a.process,h=a.Promise,f="process"==n(27)(l);t.exports=function(){function t(){var t,e;for(f&&(t=l.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,r;if(f)r=function(){l.nextTick(t)};else if(!u||a.navigator&&a.navigator.standalone)if(h&&h.resolve){var e=h.resolve(void 0);r=function(){e.then(t)}}else r=function(){c.call(a,t)};else{var o=!0,s=document.createTextNode("");new u(t).observe(s,{characterData:!0}),r=function(){s.data=o=!o}}return function(t){var e={fn:t,next:void 0};i&&(i.next=e),n||(n=e,r()),i=e}}},function(t,e,n){"use strict";var r=n(15);function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var i=n(5),r=n(10),o=n(40),s=n(86),a=n(16),c=n(54),u=n(6),l=n(52),h=n(31),f=n(12),p=n(162),d=n(50).f,g=n(11).f,v=n(117),y=n(58),m="ArrayBuffer",b="DataView",w="prototype",k="Wrong index!",A=i[m],x=i[b],S=i.Math,C=i.RangeError,E=i.Infinity,O=A,P=S.abs,T=S.pow,_=S.floor,I=S.log,R=S.LN2,j="byteLength",B="byteOffset",M=r?"_b":"buffer",D=r?"_l":j,N=r?"_o":B;function L(t,e,n){var i,r,o,s=new Array(n),a=8*n-e-1,c=(1<<a)-1,u=c>>1,l=23===e?T(2,-24)-T(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for((t=P(t))!=t||t===E?(r=t!=t?1:0,i=c):(i=_(I(t)/R),t*(o=T(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+u?l/o:l*T(2,1-u))*o&&(i++,o/=2),c<=i+u?(r=0,i=c):1<=i+u?(r=(t*o-1)*T(2,e),i+=u):(r=t*T(2,u-1)*T(2,e),i=0));8<=e;s[h++]=255&r,r/=256,e-=8);for(i=i<<e|r,a+=e;0<a;s[h++]=255&i,i/=256,a-=8);return s[--h]|=128*f,s}function V(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,s=o>>1,a=r-7,c=n-1,u=t[c--],l=127&u;for(u>>=7;0<a;l=256*l+t[c],c--,a-=8);for(i=l&(1<<-a)-1,l>>=-a,a+=e;0<a;i=256*i+t[c],c--,a-=8);if(0===l)l=1-s;else{if(l===o)return i?NaN:u?-E:E;i+=T(2,e),l-=s}return(u?-1:1)*i*T(2,l-e)}function F(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function q(t){return[255&t]}function z(t){return[255&t,t>>8&255]}function U(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return L(t,52,8)}function G(t){return L(t,23,4)}function $(t,e,n){g(t[w],e,{get:function(){return this[n]}})}function W(t,e,n,i){var r=p(+n);if(r+e>t[D])throw C(k);var o=t[M]._b,s=r+t[N],a=o.slice(s,s+e);return i?a:a.reverse()}function J(t,e,n,i,r,o){var s=p(+n);if(s+e>t[D])throw C(k);for(var a=t[M]._b,c=s+t[N],u=i(+r),l=0;l<e;l++)a[c+l]=u[o?l:e-l-1]}if(s.ABV){if(!u(function(){A(1)})||!u(function(){new A(-1)})||u(function(){return new A,new A(1.5),new A(NaN),A.name!=m})){for(var Y,Z=(A=function(t){return l(this,A),new O(p(t))})[w]=O[w],K=d(O),Q=0;K.length>Q;)(Y=K[Q++])in A||a(A,Y,O[Y]);o||(Z.constructor=A)}var X=new x(new A(2)),tt=x[w].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||c(x[w],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else A=function(t){l(this,A,m);var e=p(t);this._b=v.call(new Array(e),0),this[D]=e},x=function(t,e,n){l(this,x,b),l(t,A,b);var i=t[D],r=h(e);if(r<0||i<r)throw C("Wrong offset!");if(i<r+(n=void 0===n?i-r:f(n)))throw C("Wrong length!");this[M]=t,this[N]=r,this[D]=n},r&&($(A,j,"_l"),$(x,"buffer","_b"),$(x,j,"_l"),$(x,B,"_o")),c(x[w],{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t,e){var n=W(this,2,t,e);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t,e){var n=W(this,2,t,e);return n[1]<<8|n[0]},getInt32:function(t,e){return F(W(this,4,t,e))},getUint32:function(t,e){return F(W(this,4,t,e))>>>0},getFloat32:function(t,e){return V(W(this,4,t,e),23,4)},getFloat64:function(t,e){return V(W(this,8,t,e),52,8)},setInt8:function(t,e){J(this,1,t,q,e)},setUint8:function(t,e){J(this,1,t,q,e)},setInt16:function(t,e,n){J(this,2,t,z,e,n)},setUint16:function(t,e,n){J(this,2,t,z,e,n)},setInt32:function(t,e,n){J(this,4,t,U,e,n)},setUint32:function(t,e,n){J(this,4,t,U,e,n)},setFloat32:function(t,e,n){J(this,4,t,G,e,n)},setFloat64:function(t,e,n){J(this,8,t,H,e,n)}});y(A,m),y(x,b),a(x[w],s.VIEW,!0),e[m]=A,e[b]=x},function(t,e,n){"use strict";(function(a){!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports=function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,n)});case 4:return a.nextTick(function(){t.call(null,e,n,i)});default:for(r=new Array(s-1),o=0;o<r.length;)r[o++]=arguments[o];return a.nextTick(function(){t.apply(null,r)})}}:t.exports=a.nextTick}).call(this,n(92))},function(w,t,k){"use strict";(function(t,e){w.exports=f;var s=k(123),a=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:s,c=k(38).Buffer;f.WritableState=h;var n=k(69);n.inherits=k(63);var i,r={deprecate:k(417)};!function(){try{i=k(90)}catch(t){}finally{i=i||k(91).EventEmitter}}();var o;c=k(38).Buffer;function u(){}function l(t,e,n){this.chunk=t,this.encoding=e,this.callback=n,this.next=null}function h(t,e){o=o||k(55),t=t||{},this.objectMode=!!t.objectMode,e instanceof o&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var r=(this.finished=!1)===t.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?s(r,i):r(i);t._writableState.errorEmitted=!0,t.emit("error",i)}(t,n,i,e,r);else{var o=v(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||g(t,n),i?a(d,t,n,o,r):d(t,n,o,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this),this.corkedRequestsFree.next=new b(this)}function f(t){if(o=o||k(55),!(this instanceof f||this instanceof o))return new f(t);this._writableState=new h(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),i.call(this)}function p(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function d(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),m(t,e)}function g(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var s=0;n;)n=(r[s]=n).next,s+=1;p(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,e.corkedRequestsFree=o.next,o.next=null}else{for(;n;){var a=n.chunk,c=n.encoding,u=n.callback;if(p(t,e,!1,e.objectMode?1:a.length,a,c,u),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function v(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function y(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function m(t,e){var n=v(e);return n&&(0===e.pendingcb?(y(t,e),e.finished=!0,t.emit("finish")):y(t,e)),n}function b(i){var r=this;this.next=null,this.entry=null,this.finish=function(t){var e=r.entry;for(r.entry=null;e;){var n=e.callback;i.pendingcb--,n(t),e=e.next}i.corkedRequestsFree?i.corkedRequestsFree.next=r:i.corkedRequestsFree=r}}n.inherits(f,i),h.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(h.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(t,e,n){var i=this._writableState,r=!1;return"function"==typeof e&&(n=e,e=null),e=c.isBuffer(t)?"buffer":e||i.defaultEncoding,"function"!=typeof n&&(n=u),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),s(e,n)}(this,n):function(t,e,n,i){var r=!0;if(!c.isBuffer(n)&&"string"!=typeof n&&null!=n&&!e.objectMode){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),s(i,o),r=!1}return r}(this,i,t,n)&&(i.pendingcb++,r=function(t,e,n,i,r){n=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=new c(e,n));return e}(e,n,i),c.isBuffer(n)&&(i="buffer");var o=e.objectMode?1:n.length;e.length+=o;var s=e.length<e.highWaterMark;s||(e.needDrain=!0);if(e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new l(n,i,r),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,o,n,i,r);return s}(this,i,t,e,n)),r},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||g(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t},f.prototype._write=function(t,e,n){n(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,m(t,e),n&&(e.finished?s(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)}}).call(this,k(92),k(125).setImmediate)},function(t,r,o){(function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new i(n.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},o(416),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,o(44))},function(t,e,n){"use strict";t.exports=s;var i=n(55),r=n(69);function o(n){this.afterTransform=function(t,e){return function(t,e,n){var i=t._transformState;i.transforming=!1;var r=i.writecb;if(!r)return t.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,(i.writecb=null)!=n&&t.push(n);r(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}(n,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState=new o(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,i=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}r.inherits=n(63),r.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("not implemented")},s.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},function(t,e,n){"use strict";var i=n(70),r=n(180),o=n(181),s=n(182);o=n(181);function a(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=a},function(t,e,n){"use strict";var i=n(9);var a=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var r=a,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var r=a,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(n,t,e){!function(){"use strict";var o="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=n.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,s=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=e.length,r={};n<i;n++)if((t=e[n])&&t[1]in o){for(n=0;n<t.length;n++)r[e[0][n]]=t[n];return r}return!1}(),i={change:s.fullscreenchange,error:s.fullscreenerror},e={request:function(i){return new Promise(function(t){var e=s.requestFullscreen,n=function(){this.off("change",n),t()}.bind(this);i=i||o.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?i[e]():i[e](r?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",n)}.bind(this))},exit:function(){return new Promise(function(t){if(this.isFullscreen){var e=function(){this.off("change",e),t()}.bind(this);o[s.exitFullscreen](),this.on("change",e)}else t()}.bind(this))},toggle:function(t){return this.isFullscreen?this.exit():this.request(t)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){var n=i[t];n&&o.addEventListener(n,e,!1)},off:function(t,e){var n=i[t];n&&o.removeEventListener(n,e,!1)},raw:s};s?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(o[s.fullscreenElement])}},element:{enumerable:!0,get:function(){return o[s.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(o[s.fullscreenEnabled])}}}),t?(n.exports=e,n.exports.default=e):window.screenfull=e):t?n.exports=!1:window.screenfull=!1}()},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(452),n(2)],void 0===(r=function(r,o,n){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.elements=Object.assign({},this.elements,t.elements),this.enabled=t.enabled)}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"setProperties",value:function(t){var i=this;return this.enabled=n.getTriState(t.attr("enabled"),this.enabled),t.children().each(function(t,e){var n=e.getAttribute("id");i.elements[n]=new o(n),i.elements[n].setProperties(r(e))}),this}},{key:"getAttributes",value:function(){return n.getAttributes(this,["enabled|".concat(n.DEFAULT),"elements"])}},{key:"setAttributes",value:function(t){return n.setAttr(this,t,["enabled",{key:"elements",fn:o,group:"object"}])}},{key:"realize",value:function(n,i){r.each(this.elements,function(t,e){return e.realize(n,i)})}},{key:"play",value:function(t){if(this.globalEnabled&&this.enabled){var e=this.elements[t];e&&e.enabled&&e.play()}}}]),e}();return t.MEDIA={start:"data:audio/mp3;base64,//NAxAARGk5RdUEQANIEZEBAPGPyIAAYAKMY/6EaQn8hP+c/yEb//kITU7oc9Cf6nPnPoT/8nQhCKEEEnDizkAwM8ThYH1Bj/EAYEhyUGghyivv7fn0vtsLdYI0CiTQE+aaqfH3BW37/80LEFhl6nvZfj1ACplLtsfx19gOQfBp7iHeEWRj8WxiLLI6khikjEI9IvsePycfERCSpPJ9s95IbO1O/tRX70XQiOGX+n+hmeb+aMirKxN/IibInf//G3K9PVym7NoL/W2usCkcMT5T/80DEDBcivuJd0lADkXMLoGxcA7ENhPlAY8LMK280iLkhQq80ojkRQCwz/rEsTjjTlMPMu3RWZ2c3dmONON0NVDzDzDzP79Y9PFg9v//oqi4hHyp+7HGl2b///I8VcYAAls9qrCT1Mv/zQsQKFsrCvlzLRNa/FN/jd/HUrGLUa8tKonzDK8+t55alG5sbKYilBExD8Id1ugmp+eKIdSplGpaoxNZiznEU/J9KJmUsqBzPVjJ/+Aif//71QCdv+gE7f//6gICqPAAci1sbgH8/G//zQMQKFfF2qb9ZaAKU9PlY3uHFsAqAXfgZvyyhtTM2fC1zH/8+tFlslODFHjTHsClFqSTfprRCxdzMcppQ8yHsbbEkzpoLvZFBnWt1GBa/+8se/+SPdQe//FIIsAAAba7YbC65AQAf//NCxA0XMh6xv5OIAEIz0mVENAJ0DbwIQjpGYFNAvTSI1ePBuh+MwYk+xib0DA/K5YQadIk+o0Z0UyLmiv+h5bMD1Ro3/3/TSUggmu/+v/7KNL03CcLAh//5dpCqkltAAAqFFpldqAHI//NAxAwXGl7aXYxoABm/nTyF8EwhIPY/DSOKUIQ2WXUzAlFDQXzyRCXBUNUk33XoqQNhyeltWFUL6CKTImv7/vSZNZw0MP6v/v2oFQ5EUR7/1SVyb//E7FkIn9f9NXWQAg47vXRBbzv/80LEChbaYs5f2IAC9rPHK1z/yygqmvwSoaAGvNLr9jCagdVUGyxOpVqpp79lJPf9ZNEttWXTUvf/9azMUgOcZrZPMThF00d7//v///9SnpUlpJJJJJFeLhp3///yKi4QAHWdrdQE07P/80DEChTJvrI+Ro6Oalhjl3DYQyyMpMHHcIbTFNlqYvp6GKBJBYZ89G+PKyt/Q4oCbx9z9b//80CTA+F3zTlSqOz6G0PoVCIItC3/CnwN/xZAvcr/99VSIAEKz7+UABhWz01LyctXJv/zQsQRE5nOvl4WFHISWA9Ybn87+VaIKzA0kk7n33/KHo6qv1QKoNjMTHtX//ocaRCuGg2MP8jbueS9WIWU3NPcenOEv/CbcsVAKiIkATNv/9QAb60qFitrzbcZQ+ixX7169gCfAOpwHf/zQMQeE+Fasl4T0HJRrdobjyh8XBKr80WAqJQaiQPhY7vmJ4///ppkOhOaLMDbgVOwVdYt0SgqM/4hBQO+qglKQAFQM0aPnrrVvpRJLyCYt2amWVGBpcJrSl6ypI4hgoMQk5Di+Yv3//NCxCkP+IpANGYehC+92dkrPJ/1a+z+3/r/sL/6f+6G7BotKqkVeDWsJLMDPP8pf2a4///Jf+VgHuRkfn85h7MIeAY9RE3ZM3IRTyUaGvCJpep52lDPb0nCY5xRqRkEWzDKgw+8Ftdp//NAxEUS42YhgAhHHAG9ZCQjo0VONppYbQStB6qWUv5f591O8bze0/3y//62eUqnWzSn9vNsnOBzK8TN6urr6bcxGukbeqNZjuyIMO5FREnqzI6SVZVcahzgpCwMa561B4M8zjedy6v/80LEVBI7ViYoCEsdN5b7kv/+Rsub5P/X6yz0/JdhcZdZl+/hII/xFYdTSmc0ck3O0055fkc2R+ZgsyZsEagnMwRqkK1xle//6iZh/ITJmiF/yEKT4QyEKEP8hMQl/mNYxv+hn/lKZyn/80DEZxEbPiWICEc9StmmMZW0r1KXR/qYxnX0UpWMZAxQFqoapnCiQwqxihWDAQEBAQEKE6mZGZGTTMiMjTWZHa/aZkZlTRGXojIzL///////8yP85/5k1lspGrWRyNWCggYME4kGJf/zQsR9EkNiDAAARN1MNUkqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/zQMSQDcslQAoAR1mqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",click:"data:audio/mp3;base64,//NAxAASsyJgIUEQAY///gX8///yfyHO/8hCEafoRp3nPQgAAEUAABBCEIT//QhCKQhNGyEIQhCNITU5//OQhCN7f/yEZQAAIynOc5CEIhGnABGY/4gAIQZ4h4h4d3Z2Z9Jba5XWhWP/80LEEBhJOxcfiUAC9BEda+oiKFQsViiMpvHFC98pLjySjUNeKoYxMpwIT21HmHlEhx83A9K5vDAuZUQxzq7nJPgEVWKQZ1Iu5oJH3UpGObWV/MfAgLC4Z/yhP/ULKnqHd/syOQenhOL/80DEChZpZs7rzBgAT3bBWub0T/xNtn9nY5bvQdCA0TvnpXNC7EJ3iRPtebJ//7xK4IAqIii2AKbfkBAJxATDLN7wiUGv6VANBNjqQwGCayGoaBAJaNC79/z5wP2IuJbfZsNFgBVo7P/zQsQLF0lGxvRJhlQVDyEmYldHXJGadquTRs6aYmq9VY1hqqt6xmqts2zGTvGNrl+u1IMBHREJREbkpaFQkFRoa2FYSDvBp6DwSf1lgFqfkQ0JcRCYlKxKg0eEw8sKqgaEogGBH3EZpv/zQMQJEyEudaoIBoAf+HV2UBjoOsP2/IwrkezQ1Y4e2wVxgxlVAqDQUSRUBRU6LrBY1lvxEdUBWBIOnZWOCrvlVnTsltWNOqPP4seUBcKgKpW44m3GkHLjaBS4ohHZdTGi6FXXVo6+//NCxBcNYAYyWAhEAJ3U+j3uXdl1z1Du30fCySCGablvUTrhwggLTomAAmrWsmWY9ym89ZcvlwX/zf+a95ZLwXOar/LNrJ60LUl25Hs58yKRWIjSbt9DCIs0UtF/TOlm2cyNTpKysuCB//NAxD0Rw1YliAhHPdmd9nYYQOsGCgAfmqIAXlnhbNZeUBQvyL/y6NlP/r1LLlEiSPL/7lE9SirM5zxZEwCseMDL330yrtl8/8jJs6mt5dTloYsvNSGbmTkYQhpVpRpCG1yr9YSfr1b/80LEURFLZiWQCEc8v/rLXPzys+Z9z8v+H9qyCMpGLn3bla9qtcxYZXk9cbOUjb8t0q2ytz79ImM1R0ht3QdWK11myihIpt8SZBRAlbWq3CDpDKWUte/VHgJDH6k+lsqSPbRj+pHWWrL/80DEZxKjYh2ICIfhxIKhMBeLPjgKlFRIKjCxIKjCukkFAKCSCxFtgTAQFIkisqIg2EngUVFg8FQCQUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsR3EnAF9kgARgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVQ==",actionOk:"data:audio/mp3;base64,//NAxAAT+gKmPUFoAI81KAANYQZECuQAASjAD820006kC+buYDgGEGEKIcsCYAUQYA6JeI2JmS5wcY5yXL6b1IJpp6kG////9X+h/oaaaadAvpvBA5/9QIDQQOQ+cbQllsQQAKTggvn/80LECxdCcupdjFACwA8cFoNFZuosRJUe3E48kEhWIRueePjSdR4T9XMQ4SwB/BZ1GQNAtHHOPzOFryImV2zlb//rZV/6MYp56IY00sPgvi5vp1NN///3Q4ZlSUVV6wAAHLn//b/+Bv3/80DEChbo7s5fmGgA8cDgPEdPslrmVdkwdsV66+p2vZktFECYbF0sxMc6XTyGfU7omIDWqTLdIdocopcSHkqkN/1OLnGEiTI5lQIHz6F//h8+Aw////SWn6Ai////RQCALJttttthGP/zQsQJFgLXBl+PUAJpUBpuDr/a/Bn7vbuBpTSaJu9C26HLGnV05pymMa+52rjwoQl9HX5xkseQEWn/zR+C+CGcTN1IQsr/O/6N///////zyotv//Ulb+WNu/4a/G/DAGASAsBQ86QpAv/zQMQNFyqWqFWaUACorGJ3w70JwQXdB1Iw8FBR6w8BkLlXmCwSQKbRFEDGyFEFw/LiWNeT8eOSG/++3///5oEpv5wrF/RmoYsz////+yuLZ55GT//yosfyqj5gugANMBv///+Bt0Bw//NCxAsWul7hv49QAIAcsuZ3XnIKHgXVwYS+wjbgGuEvA8WjfAsaQmNk2QkZh5517ceH7uZegsm5y///0VTDzzDz09dev/6IIMKcL8i/5CSjE3/oqRMBZpmk7R/RgAAbjwkkcZrZNKRG//NAxAwW4j6pudpoAwwbDspelxARGBQ5l21KTHGz7RkyVSuLZ5l3/S9SQ1CutfuvPzIvF4HUFzRXNkiXJVH+pv//mvMTVRJGyT6S29LRao2Wqj///UbLJxLHVPBVD9SWyADnc5p6REf/80LECxb6Uoxe3A7SY0MyGLYtINLEx4dXVEEvywRGZ7pcZEtrkjRpam6yOArCCRZNX/W3WOoGKq04z/0I/nt/UCYZf6GfovMahvTn21oZ7KnY4oNhuRFQuLsBID8cKC5qSQAC9j29EzH/80DECxNZYoT+xuAyRLbuBA8WRBNAN0Eq+mboAV7G62xjgCvi7cM0Ov1kOELDyoy/75RGdB8iaMZJ//S9SaPWe8oonsV4o5NO40K5FG2xNQZo78WcFOwcZjQQYvlIW6mGkh0f0ZiOBv/zQsQYE8jiVBDfVogDF7hUFzGQhTgpeTFkKEeXlL8syjVHZ03ZCDR2nSxR7Pq7np3LRaHB9adBZ07r018kdy3tjTX1KiSqekjtoMGlaAKNEYCZkOHzpZziA0FmwmEDZhMwfvxGWFAY3P/zQMQkE5DaRAjW1ohECprRK1TRrKRtJsNpyJrNfLvndF7g+gSnAyt351B5obyX8r/u//////rqgBmlYGs01hNdBQpEQyNoHhEMuUtgytPS01oLy0hu6NVNabzryYxwzfIqvKPaRFls//NCxDAQ+FYw8gjSKH7tHbMxfJlUtVpIB16SI0SEXBsf68/+/L//zfLll/nmj7F/1pcpZ/+Z3Ur5Eq5WpbM9MfPljxeb9Lamv/nXIuOSkVXJVRmzRxLpVUlMiBhOahamKCgmCgSwVXHX//NAxEgRU1YcAABGvSNI0Nzzp5SNpUj5aE3ZUqAvIkhEnnq1D3/yxFqrceAgEVIho8WKlhKVGBUJHjzvOh0JndVbtdYykkFQmdDoaDqCIaLKTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqr/80LEXRFYBf5ICEYAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqo=",actionError:"data:audio/mp3;base64,//M4xAAUuVJUAUgYARcXFz4DgFAeKHAeChiIie7u+iaIibgYuAYGcTz3OIhf/Xd38v+J6J7u+gGBiw8P8PDw8PDHRw8/+O6GADo/h78BEQz8HAHh5+v+A4A6H/8AAEfIiZmZBXlicwVCsWj1//M4xAwYWvL/H4goAHY5EADTzSBEDUpfz/OhTMPGC+NAMWAgfAcAgHFSjhZD1PCRAUQFBjMUxMhGGuOVyndnXzvlH2dGLp+jbHsUykMTTFkX/+ror2841v+k//+MIOdv/GUVmvrpkGSqAYta//M4xAkXMsLmN89oAg/iwxc/bCcqY374+ZYv8ms1WUWQHQlTUFCJgbIjvMcd6K1m71G+ttB9Pt32bR6OptTZxtV0l/ov20P3b9/1/1f0dSCkh7FjKTdSRbQKiRLyBKFroXi7uP0CAvGOAWNk//M4xAsXwr7a/mPUwS+O1HXtgEWD0qvqiuk8xOG4QoqkAU5eFUIMYl8WHoK3Hcq2dx5p5fTjLvlFtLucF2SuaciHhslc4JhNnm5XU2pCS6c3n6+3/9GyFsk+xwWUQmSTumm7e5ggAEWsUBor//M4xAsXCrLXHntO7NUoPTkrtfAzt+Vmc1QDhdvOk4mMiMaxzG9AERpgbNKfJVp0/lfOvjfl9SWj5XpoXfIYVep7R0WTaUAGDj1IkMHy1Oyrfnfq2e37/22fJduLdKpFmVawABglJaFVG03L//M4xA0XurK+5HnLTJeQXpCP4L6DAO1L6jOnPOCx/wVBu4nAIHEgOCbXJbP5R/74hGiwND1iw7BYtTsqM6viJ1aoa14o/kdXwsdo2K6nxravl7al1/t+rUDz4J+IDtW7bbVAX+3gDwiUL8lI//M4xA0Xgq7qVnoO+zaBvGmHeGt1WGsEPh7RWPKQT82FEhiWLGeUlRHjRERFE6UUhhATy9J5Lcv+PM+axpVIkaHDqqvi+yUHdjW3sp2vTv+rav9F/Kt+Lm9QJFdnwrvt7SXHLLMAFKoGoNaO//M4xA4UurLyXkDFT5XYo5iQ9ckoWFh61037WowPpb5NVRWlrUmVVqxmNV/b6q+xuJVfY1VVXfDHvnL7TGOFMb6ifdZf0etaP//lZH6FbyuK5MUAYWLKUvoamjS5tZpdNnrWz2ASUXdsckcS//M4xBoUcVJ4IisMydfHkiAUZzmoyajzSOzOf1T9qlFq+ORkFFeC//HxXOxf/PKPG/CNxYO4+WKbl+Lv4VBQU6KKhP/K/+vK3+WXVv/9SobSZ1b/lb9SshjN9S/Upahjf/LMahjv6qx/DpAR//M4xCcS40IEABDN5DMaqqrVVVjWLGPjH7GpWZ/7dqr47Eq/7HQds4duAxGfzkjUTpoLSIv///qn///YxTAwQIGhyP/u7O/3P2eqNZ2k4so4sp2NFAYhnZ2couBNTEFNRTMuOTkuNVVVVVVV//M4xDoKqz1wDACNy1VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",finishedOk:"data:audio/mp3;base64,//NAxAAQiXIEAUIQAPnfO/OdyAYGehP/U5Gqd+c/8785zoBi3QhCMpCVP+SpwM6AYGODH/8TvB+sPiMP5cMCcPygIAg7/lAff4IAgcBCD6ofD4diQbC0WaISi0SB3EAzA8WZgeALXg3/80LEGBoDGyZfglACgsRODRuWFcnMLm+eQEhRVQz5IePy5Icm/2Yn5GLY58hG3/J0JyAkq54WhVHosmkTmr//OYkIx+aejta5yObVf////fbcgJP/8oP//L/+w6tzSgKyRVuaO6jleQb/80DEDBdLJs4/2FABfMefV3NU1/Pu+MiMj5TGccdZM7mtR9poqDaj269WQ7clU5//OzTSgSRYFoL8eoeaaxhw+u9lq/9jn/NY7/3VPohqW+///////5ELQ+cqSm8F1QfSAHmkZP3Rz//zQsQJFgHCul9ZUACtuzlS2auXefrUxQUkTU+etjYpBz++SrehymLQlDIbPScu+uppsoFMTf/5uSiO7kpKKo1ONQ6/NbKkDv8iJj3OE/xEHRQl1Hv//4UPLBeWtoFTaaAttttstQEAgP/zQMQNF1PXDl+BUAJQhUAPuz0DJsKELcVBuf+NDz79ceCoSE/meeYSBfk6fQt91kZOYYxE3/+2YwtnyQxn////0JHMY+w/H5OSN/////zDGf5+p7///////kjSQxXTFGTyENw7gapG//NCxAoVUeLUAYKYABCegFrFga4BpxsoJJHKbdSSNc9rTRNTiRTtofSWUkUt1o19fWkoiIJAGaRYixFlM4yQ2FK7pDOlX6q0Ty0TFQNc910f521f//sEw5VqWAAa0xN/4IJysXXPUXWj//NAxBAYQc7CX9RQAD7L1moNjonkAxWFww4nWd9JCeciFDR6QsKgKiayKccZU7pWdi9jnzTd7C9HzWNZFE6VNY70udouzEPUInt/WdLG0YKntR5SDn/rBWjQpBIJjCnEADG403RAjmT/80LEChYx1rpfU2gCXkzXRRXSZBTHSfAUM4JVGmSJvr92ZalqJzOtY1C+n3qXd7ojHpJVph9KfTv2QF00S62UsnjyUkk+pbH0Uf+akuloBUN9eziVT/Kbf//1pSuJ/YIvIGDjaERizGT/80DEDRciBtzLgWgAnyaG0C1lwTMAJBpi0QiX27oskt/p2pJGx1aanoWQ9R1FMw1JVmtN1vSNE2ZKcL4kwhTIv+7hPkVpum9/54qQNoCB5od9Wc/WVZltv//9olVqRkBpkMgFbWp6pf/zQsQLFGGq0jfYOAJYZ33eO8O4ay/WUDUrPXKa0BSIWhEPEua1Jvfvd1CxL/0T7nGsppoSEjjaf6tN1ZTTR0SRqRO/+K/Ou/9CwVOnmrcSdMqBpY56yFdrrd+BUSsXF/De07+HriXkC//zQMQVEyIO7l9IOAINDw83zXmx47coMuc54Km6W6HL5VI1dHUoFS9CrJ/FZBL1apo8Bec67a3b/1JDQt4iEv/niXtWlQKNhcSXFrNXq9RoxmJPGjO8N0UWAZDR6hQZVGYs4HkcGtuz//NCxCMcqvMKX4VQAp6GEjERDVO0nICRTDDitdHYkPnkRhZTDzS5o/yvFTPc9GLCuTkX7OXt7fseehISK578TUFArC8lNQ06n//2Gg/Jy48bb9TWcmmH//93/Fyy29rQUkjgEwC74QXH//NAxAwTWb76X8xoAtGYil8Sf13FyrazOOzs66VgJUPYvJbKXWr+myS2SrPPf1KWiiiyOpLSWjRTZFlalf//omqn///Bl/gqd4NSP1sCtUboQAq2KfAZcuompqTyWlosplpidkw4Y4D/80LEGRRiJrZdUqAAgAJMBywG+KiSmxrWtlKfMj6SV386x0gTt/1OtvvS0CizI+umWkl/XUbP1ESayKkktX93dfzztT61SAEkgBQEjccjkciAYAa39zxcaPCYCFY9Q550fgIUwErGSDn/80DEIxwS+tZfhWgDSkw83gvvZTK1Iko2tI9rLpf1mZ+b1tMy4Nm06mXyUQY9ZLXyQUJTs9RmYhzjd0y+bppJEj+8v/+81fqQYzTN1ppIW/////+pA0UgaXaVuC5FVLzhMlMyKAyi3P/zQsQNF/I62AGBiABLhOwsg1FMBUmAa4LK0kU0GslRZGmpJb+3on0EzNJjN/Rt+6CJfdTUtj6KkvV+iRcjyBCdC2XzhNFUvstzFYtImJ1Ff9ZRIj59h0HQICe1It//pYprEApJJFaBDP/zQMQJFHJu5l/GaALvVEYd0Zlq2t/CXLznyPVFYKIeRsUnRSrZNn/r6CnqdQ5i8i3q1bKfpGtS0UV2JMeKP6knf2Nf0VaLGLbf//rR0WRKyF4MhrBplw9IE232uwC4QyFzCiYsW86d//NCxBIT0nLqXgpUxo9sRW7llTyJzaqvmIaPi3VgsG/mt9ykwfCQIU3OOY04ehw7/ppOC+OfQ45TbwRmsdOf9V//3NEgtEX//4aVAAFRFv32vuC0ePWVlkuksMhlhMTeSZcTTa6TL1tX//NAxB4T0m7aXgNUnlF5nDuaJdERvfmX6mCXNcKxO/V1USAU/9yGy3Aqp/1gZFJn/1f/82RAAwvUf/9n/4aVAAEIF91+vwCeBTp6TCmP9INghMQii720i+pAnlzzrUX1IHQtju2swb//80LEKRQCbtJeAJqGnOo/ai6SKYMAWbN+pyk9BZgJk//uSoi1brV+z//mZmmHNKZ13/4fAAEADstllgF/v972towZ0QXK8AA+PC5cN0PRTdbHW9k5M9zgqso/zibfk+1ZC/skJF/61jz/80DENROyfrpeA9qODemqMKr/rUHwRS1Nq9SKD//rZIcRZmT//kUEALSZ3D//6vAmzqOlAm8FwxbwFiX8VRMT/DEsPCqRbOw8Q1mIxxtBkkSi3qAOVm6F2/FRWYSyB/bF4bP/YoK6TP/zQsRBE7JuiRpulMRYCzO1V/Bgm+3///oVNQABURf9/bgBP/8U9MW42GQb/AyP4bURvzzGIYvAhJL0x3ooCTlFLZYWlmfqPt+PdVErEQz3RZKDyTFf60vWSP/2GMeX/qsr/+oxmB0RAP/zQMROEzJqxl4CWpcBmBvv9vwBTX/L98zdfopM4GlbpJtgUn1eHHhe8yxjmqcdp+upQEuTdtU3X9x6VTAMv2qIoiG/VYg/GN7/nhJgfH2Qf0qSKab/9STkueh1IDkmklAH5fflAZLq//NCxFwT8m7CXgPall7BM4igvw7JyAbmlbrY2Zmc95UkokD/dw4U/VNjZq2TcStZukKgZTDVrng8v/mRTZa8Yre35WIl+v9boo3/1pprJU2wFQAyBI5tJABr9/77Z/CdRCLoRWqEYrN6//NAxGgUEnKcfgPaq4nSU+eNbpg1JSTemhOK12Eir1L/WdGRPphACdmzWMj7GIgg/nV/2MkNzYiH1f+MUXviFwhf5ESNESoACMgKy22UAf/oZWmPclPEoiClH5cGwN0IZce9FABAWFr/80LEchQJ8p2+BhqSJMm0Y97b+IcHG7exHP1o1ozptGFJY96zeDFv2jvm5WapBNLZ6npCx39f9//xJxaUAGauYYNH0NxP49ytAzAugiwASDuCaDUpRXKKAro0F7oKjNigqK2bCimismz/80DEfRPCbrJeUYsW2bJs07zhUJE83J52vOGiuPNiokv/+//8tONhddJC82Fk8VX//+//+L/+X8vgX38/zyBLzXnwocMyMyN5mLPJsiIzhs/AZfSMyzTJX/zT7ykZlXbe+/dxn2i68f/zQsSJFBiqZBYAXknZ3GPTCDzzqqXjKRMJwaRC8G6IQU2nG4n4GGmXKsyZrv9S/Pz0LNbNUKz3/+L//YfmT5sn3CfNUKp/vzCv+a/PzXF+sMhBLEGQyJlrOq0Ao4kKJILAayo7MqEZp//zQMSUEvNmFAAIzcjp0sip/9jKz0mW6zFUj/RP6r+xkUjlR2Mj/dbbIrGRyodjWKh2MrGEVYys5TKUSGhweBQ8NIQysZWMrlRxEYLh0SRVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//NCxKMQi2IeUAhHXVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NAxLwR22HQAAgKnVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",finishedError:"data:audio/mp3;base64,/+MgxAAT5BX8AUEoAP///mNkc/////1Oc/6noc/9f///85/0O///r/kI2jf+pCf/Of/6HP/znOc7znPkIQgfFzvIRjhwOChCEIQOB8Ph853yHOc/zvEA4AAAAABF/UgSPmQKhhYBw4f/4yLECxVpXpgBmYgAKgCEXoz6Bj24G4gxlPDKhgAUoFxwtiGufjWFsGbKgF+Fh4noT/8i5uaFcZgLm1i2k0Mbam8ZAiwbYX0nExHIEEx2FBBP9J3S5vA6wAAltAA+pUwHS9e7B4EtiwD/4yDEERexdr1fz2ABlQrFTFPgXqqjQRzMFqGEeDUkEbrrMjtB+lU/tcuj+umyBDN1q/2GlFesgKLdHTqWo7RktruiRwdRlfa8J/BPRN+XHtgb0Y/AzC/2cZdiQgBuTa69W4S8bMAAXP/jIsQNF0k6wVZ5xSYzp4BvjV+T2Udd8R2+On01SiRpX5PGv6QjYpD1nBt8VZ0skMc9QHq1CpqJlnhoqVPKPHZYGqnIypEyWPAo8SPz0OhX//QJmyvHu/o8qM/6CtXSAhKu34FZMGcPy//jIMQLFcmeyX5pRy5R0BZEoNVh/FruKTVBRcR5rUTQpGyFqJx7CzcOcPjqoGcWJjOrcdzfsGXZAsFs2WdUKwcLiEIhWFB7w0GpuTa0XaMGgcqzrQsz/+kNKkIAFLvgP/OonDe+4DCL/+MixA4XgpK9XsKG9sYelKU8J/UGwRrm0l9/tjMjWMAOthrqK45iONNBfxi+hbllz+raE/If6Y91Y8jnb49Kxn0WeTT6ihhKnGOj8LGIiWQHuOogUc/66H/hHf+ZgAISpdgBncq6Fj3n/+MgxAwWYfa9fnqHEiCLPLVweu/9CIz6wGZbXVpry1Kg57ZhtwxXKh82K2giB2guGug/OyF9W1JuQftstdzJ1LPcEKLR5hTreUz/iBxskEVBY+CqAyCgQoz+yuNqlTn/4AmceACjmEH/4yLEDROBjtGfTFACEdnXxxr0lwp2+ghopgB4IjWCiAiL1Fns+pLqPWoKx2ncfG0InzW1JerftHxMpxQ801HHziUMvQeK6+SzxEliW+qFqaEByyhgQELpGQIgqtQ3JzIWch4kp17kEgX/4yDEGxrBdpwBmcgA2HbmH2R4LIKeMtsKwjCc/PT00y9l+qMGDIckAycFqvMfuJz7iPxLEzFQo5sngfD9d/3Lh+njFJYublz8Q5Rf////T2+4Yc+Lz9NurVqf9g+AKTd3AE4qU1E2vP/jIsQLFHFG1N/MMAKBuH8oS/ikp9KqlSqkwegTJgTLjeYlyndKcQSsCSPJJQRk9HC1Mj+l42THqWrK1khp0NFfwKks86SKw6IipGbLX60JBY92Jgpy/gAfjbqATePy62LBPlndI3QLQ//jIMQVEzHK0D5ITaKR7RryvYmOsx1fbM6V2JJnbpavk1iJiS8JPqV6qgWaY6uxhvzoBzN51ktGpofVlW2syZxMO0b3qgp3fgAeIb4DIseOluSeSAlQn7hrzAjZSZuJ1hX4vsT7jPQ//+MixCMTSZ7MPlmQ9/X6VzdY3edjF975aHZclh+kp0dpLevY334aVbI8HpNcncwNu/n4iv+WjdUp78AD9ctNSZuODC31N8HTqGeWmtBbEAMsHqNC8I2hSomoRqXy9S0ceUx3G2Xy1HlX/+MgxDETia7EHnnS35XKZuzIM1elCplWUbSZUyasFtQGBXZtvjOkd7fyKgXdgAP2BBZD9S9RP5NG79jO2pTIwZr7J8G1gzEtzOp2ieBOgOaBuVOqMyrSjT9MjQyjbxO0deP52eZM5EX/4yLEPRPR9rgeeccSHPRatU3MJQt+RHNLSiTFR+5aqgXbiAQBNtgMw1oA6FmGT6BBFIiJwdNzPHg4GwWjwaEZMdZCYHjSgwh4y0x3apZUmcmPvrb6vn+zvD/t5itoX1ejvi2HXytG9Pf/4yDESRRRirQZT1gDn6MGwmcJJfWqPBUiBf4SQhy0VHhgDRhoxv1ZsAhtWpzFYcHZOFihgb4zFC60dOmrlmXJiSomyBZ2YpiZigYKoIYAIGkiMAiwM8MMgCyIACjNhTPqzAnwKNMoKP/jIsRSJSlqhAma0AChCECX2WopEOPhhoiCKtdUFCCgKJA0W01lY2TxupC5HD8td2jhciVYlirC37fwM/kcmq9jHKMSipK977GKSz039KNFCnN8BxNkyKQ7PaifSU06ZWbLXIRrxeNesv/jIMQZFAk6zD/MMAKWQS5DeCUx/Y3lI4WvyH8L5+c/sB9iWul3X4R9zz7SwOgUyMBtTkhABBIUn1CLs///////9YC1KgVL/IbU4pxAdm9RCY22Fl3QDjRdhcbGgh/GwR2i7lo1CmY0/+MixCMT0ZasGMPKX2VNy3/JfvZB7an/a3fEB8Ky4hh6gJUlR8Y0bs8ZsysdHzOS5lQSpSjDL8SjagVdQAPkgaNhAzDy0U7Ny7ewjcdcD9uihn7LI+uRtxwzNFzBvzo+Dh1KUoG4nLxM/+MgxC8TQaK0HnnHLvdpTPyNVqWq8ps87Xc4tp+84odaBg0EhAGhAEm9SAVb+0XZfMCMzNKdBLCfWT9Cl5ZjyQd6VlAraiTVvTti91RulyZBkwXuoV3YXmOkKVn5U0rzPNMp1ltR6t7/4yLEPRQ5lqwYw1ETceczuhocBflPuWRyT5NPfTibxXsKc3HAHohRMAuHFwWYsiboQoSDQaBHij2BTtI1iU2jto6ycFqsuHDPAswsJlcSaDHBypOCRwT6zM81yPX/lTY4KIGgWSGQ4+n/4yDESBLppsg+SYaW///sUgodAxFs3LEahGcMIGORNKMFqJMRseA8gjpVF3QapN5RoQOoQ0DWBwiRkkW4R+n8dpREBICTA00IFzMpEJUo25plEqklOrq6VWSDH6/u3crqCEL0P4bJIP/jIsRXE9ECWADD0lknZeEGlVUAgUCFiDzDzCj4WjRpT2WWWUGKhkz4qKC1QsK/ioqLN9ISFhURmfWKi3//////////QDIVFBIHgZFaTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqv/jIMRjEaCVZAp5hlCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"},Object.assign(t.prototype,{elements:{start:new o("start",t.MEDIA.start),click:new o("click",t.MEDIA.click),actionOk:new o("actionOk",t.MEDIA.actionOk),actionError:new o("actionError",t.MEDIA.actionError),finishedOk:new o("finishedOk",t.MEDIA.finishedOk),finishedError:new o("finishedError",t.MEDIA.finishedError)},enabled:n.DEFAULT,globalEnabled:!0}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(453),n(454),n(457),n(13),n(2),n(3)],void 0===(r=function(a,e,n,i,r,c,u){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=new e(this),this.activitySequence=new n(this),this._activities={},this.mediaBag=new i(this)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"setProperties",value:function(t,e,n,i){var r=this;e&&((this.path=e).file?this.basePath=e:this.basePath=c.getBasePath(e)),this.zip=n,this.name=t.attr("name"),this.version=t.attr("version"),void 0!==t.attr("type")&&""!==t.attr("type")&&(this.type=t.attr("type")),void 0!==t.attr("code")&&""!==t.attr("code")&&(this.code=t.attr("code")),this.settings.setProperties(t.children("settings")),this.activitySequence.setProperties(t.children("sequence")),this.mediaBag.setProperties(t.children("mediaBag")),this.reportableActs=0,this._activities={};var o=t.children("activities").children("activity"),s=this.mediaBag.getElementsOfType("font");return 0<s.length&&(i.ownFonts=(i.ownFonts||[]).concat(s)),u.Font.checkTree(o,i),o.each(function(t,e){var n=a(e);"true"===(r._activities[c.nSlash(n.attr("name"))]=n).children("settings").attr("report")&&r.reportableActs++}),this}},{key:"getAttributes",value:function(){var n=this,t=Object.keys(this._activities);return this.activities={},t.forEach(function(t){var e=n._activities[t];n.activities[t]=e.jquery?r.getActivity(e,n):e}),c.getAttributes(this,["name","version","type","code","settings","activitySequence","activities","mediaBag"])}},{key:"getJSON",value:function(t){var e=0<arguments.length&&void 0!==t?t:0;return JSON.stringify(this.getAttributes(),function(t,e){return e.toFixed?Number(e.toFixed(4)):e},e)}},{key:"setAttributes",value:function(t,e,n,i){var r=this;e&&((this.path=e).file?this.basePath=e:this.basePath=c.getBasePath(e)),this.zip=n,this.name=t.name,this.version=t.version,t.type&&(this.type=t.type),t.code&&(this.code=t.code),this.settings.setAttributes(t.settings),this.activitySequence.setAttributes(t.activitySequence),this.mediaBag.setAttributes(t.mediaBag),this.reportableActs=0,this._activities=t.activities;var o=this.mediaBag.getElementsOfType("font");return 0<o.length&&(i.ownFonts=(i.ownFonts||[]).concat(o)),u.Font.checkTree(this._activities,i),this.reportableActs=Object.keys(this._activities).filter(function(t){return r._activities[t].includeInReports}).length,this}},{key:"getActivity",value:function(t){return r.getActivity(this._activities[c.nSlash(t)],this)}},{key:"realize",value:function(t){null===this.skin&&null!==this.settings.skinFileName&&0<this.settings.skinFileName.length&&(this.skin=this.mediaBag.getSkinElement(this.settings.skinFileName,t)),this.settings.eventSounds.realize(t,this.mediaBag),this.mediaBag.buildAll("font",null,t)}},{key:"end",value:function(){}}]),t}();return Object.assign(t.prototype,{name:"unknown",version:"0.1.3",type:null,code:null,settings:null,activitySequence:null,_activities:null,reportableActs:0,mediaBag:null,skin:null,basePath:"",path:null,zip:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(56),n(71),n(64),n(3),n(2)],void 0===(r=function(l,h,f,p,s,d){var t=function(){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t&&(this.id=t),this.cells=[],this.ncw=Math.max(1,e),this.nch=Math.max(1,n)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(i,[{key:"setProperties",value:function(t,s){var a=this,n=!1;if(d.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"id":a.id=e;break;case"image":a.image=d.nSlash(e);break;case"rows":a.nch=Number(e);break;case"columns":n=!0;case"cols":a.ncw=Number(e);break;case"cellWidth":a.w=Number(e);break;case"cellHeight":a.h=Number(e);break;case"border":a.border=d.getBoolean(e)}}),n){var e=this.ncw;this.ncw=this.nch,this.nch=e}t.children().each(function(t,e){var n=l(e);switch(e.nodeName){case"style":a.style=new h(null).setProperties(n);break;case"shaper":var i=n.attr("class"),r=Math.max(1,n.attr("cols")),o=Math.max(1,n.attr("rows"));a.shaper=p.getShaper(i,r,o),a.shaper.setProperties(n);break;case"ids":a.ids=e.textContent,a.ids.split(" ").forEach(function(t,e){a.cells[e]=new f(Number(t))});break;case"cell":a.cells.push((new f).setProperties(n,s))}});var i=this.cells.length;if(0===i&&this.shaper&&0<this.shaper.nCells&&(this.initiallyEmptyCells=!0,i=this.shaper.nCells,this.getActiveBoxContent(i-1)),0<i){for(var r=!0,o=0;o<i;o++){var c=this.getActiveBoxContent(o);if(-1!==c.id||-1!==c.item||!c.isEmpty()){r=!1;break}}if(r)for(var u=0;u<i;u++)this.getActiveBoxContent(u).id=u}return this.style&&this.cells.forEach(function(t){t.style&&(t.style.parent=a.style)}),this}},{key:"getAttributes",value:function(){var t=["id","image","ncw","nch","w","h","border","style","shaper"];return this.initiallyEmptyCells||t.push(this.ids?"ids":"cells"),d.getAttributes(this,t)}},{key:"setAttributes",value:function(t,e){var n=this;d.setAttr(this,t,["id","image","ncw","nch","w","h","border",{key:"style",fn:h},{key:"shaper",fn:p},"ids",{key:"cells",fn:f,group:"array",params:[e]}]);var i=this.cells.length;if(0===i&&this.shaper&&0<this.shaper.nCells&&(this.initiallyEmptyCells=!0,i=this.shaper.nCells,this.getActiveBoxContent(i-1),this.ids&&this.ids.split(" ").forEach(function(t,e){n.getActiveBoxContent(e).id=Number(t)})),0<i){for(var r=!0,o=0;o<i;o++){var s=this.getActiveBoxContent(o);if(-1!==s.id||-1!==s.item||!s.isEmpty()){r=!1;break}}if(r)for(var a=0;a<i;a++)this.getActiveBoxContent(a).id=a}return this.style&&this.cells.forEach(function(t){t.style&&(t.style.parent=n.style)}),e&&this.cells.forEach(function(t){return t.realizeContent(e)}),this}},{key:"prepareMedia",value:function(e){this.cells.forEach(function(t){return t.prepareMedia(e)})}},{key:"getTotalWidth",value:function(){return this.w*this.ncw}},{key:"getTotalHeight",value:function(){return this.h*this.nch}},{key:"getNumCells",value:function(){return this.cells.length}},{key:"isEmpty",value:function(){return 0===this.cells.length}},{key:"getShaper",value:function(){return null===this.shaper&&(this.shaper=p.getShaper("@Rectangular",this.ncw,this.nch)),this.shaper}},{key:"getBoxBase",value:function(){return null===this.style&&(this.style=new h),this.style}},{key:"addActiveBoxContent",value:function(t){this.cells.push(t),0!==this.ncw&&0!==this.nch||(this.ncw=this.nch=1)}},{key:"getActiveBoxContent",value:function(t){if(t>=this.cells.length)for(var e=this.cells.length;e<=t;e++)this.cells.push(new f);return this.cells[t]}},{key:"getActiveBoxContentWith",value:function(e,n){return this.cells.find(function(t){return t.id===e&&t.item===n})}},{key:"setImgContent",value:function(t,e,n){e&&this.setShaper(e),"@Holes"===this.shaper.className&&(this.shaper.hasRemainder=!0),this.ncw=this.shaper.nCols,this.nch=this.shaper.nRows;var i=t.elements[this.image];t&&this.image&&i&&i.ready?(this.img=i.data,i.animated&&(this.animatedGifFile=i.getFullPath()),this.w=this.img.width/this.ncw,this.h=this.img.height/this.nch,n&&(this.w=Math.round(this.w),this.h=Math.round(this.h))):(this.img=null,this.w=Math.max(this.w,10),this.h=Math.max(this.h,10));for(var r=new s.Rectangle(0,0,this.w*this.ncw,this.h*this.nch),o=0;o<this.shaper.nCells;o++)this.getActiveBoxContent(o).setImgContent(this.img,this.shaper.getShape(o,r),this.animatedGifFile);this.shaper.hasRemainder&&(this.backgroundContent=new f,this.backgroundContent.setImgContent(this.img,this.shaper.getRemainderShape(r)))}},{key:"setTextContent",value:function(t,e,n){this.ncw=Math.max(1,e),this.nch=Math.max(1,n);for(var i=this.ncw*this.nch,r=0;r<i;r++)this.getActiveBoxContent(r).setTextContent(r>=t.length||null===t[r]?"":t[r])}},{key:"setIds",value:function(t){for(var e=0;e<t.length&&e<this.cells.length;e++)this.getActiveBoxContent(e).id=t[e]}},{key:"setCellsAttribute",value:function(e,n){this.cells.forEach(function(t){return t[e]=n})}},{key:"avoidAllIdsNull",value:function(n){this.cells.every(function(t){return-1===t.id})&&(n=Math.max(1,n),this.cells.forEach(function(t,e){t.id=e%n}))}}]),i}();return Object.assign(t.prototype,{id:"primary",image:null,img:null,animatedGifFile:null,ncw:1,nch:1,w:d.settings.DEFAULT_GRID_ELEMENT_SIZE,h:d.settings.DEFAULT_GRID_ELEMENT_SIZE,border:!0,style:null,shaper:null,backgroundContent:null,cells:null,defaultIdValue:-1,ids:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}i=[n(1),n(463),n(467),n(468),n(2)],void 0===(r=function(c,e,u,n,r){var t=function(){function i(t){s(this,i),this.ps=t,this.sessions=[],this.started=new Date,this.initiated=!1,this.info=new o(this)}return a(i,[{key:"getInfo",value:function(){return this.info.recalc()}},{key:"getProperty",value:function(t,e){return e}},{key:"getBooleanProperty",value:function(t,e){var n=this.getProperty(t,!0===e?"true":"false");return null===t?e:"true"===n}},{key:"getGroups",value:function(){return Promise.reject("No groups defined!")}},{key:"getUsers",value:function(t){return Promise.reject("No users defined in "+t)}},{key:"getUserData",value:function(t){return Promise.reject("Unknown user!")}},{key:"getGroupData",value:function(t){return Promise.reject("Unknown group!")}},{key:"userBased",value:function(){return null===this.bUserBased&&(this.bUserBased=this.getBooleanProperty("USER_TABLES",!1)),this.bUserBased}},{key:"promptForNewGroup",value:function(){return Promise.reject("Remote creation of groups not yet implemented!")}},{key:"promptForNewUser",value:function(){return Promise.reject("Remote creation of users not yet implemented!")}},{key:"promptGroupId",value:function(){var o=this;return new Promise(function(i,r){o.userBased()?o.getGroups().then(function(t){if(!t||t.length<1)r("No groups defined!");else{var e=0,n=c("<select/>").attr({size:Math.max(3,Math.min(15,t.length))});t.forEach(function(t){return n.append(c("<option/>").attr({value:t.id}).text(t.name))}),n.change(function(t){e=t.target.selectedIndex}),o.ps.skin.showDlg(!0,{main:[c("<h2/>",{class:"subtitle"}).html(o.ps.getMsg("Select group:")),n],bottom:[o.ps.skin.$okDlgBtn,o.ps.skin.$cancelDlgBtn]}).then(function(){i(t[e].id)}).catch(r)}}).catch(r):r("This system does not manage users!")})}},{key:"promptUserId",value:function(e){var a=this;return new Promise(function(r,o){if(null===a.userId||e)if(a.userBased()){var s=c("<input/>",{type:"password",size:8,maxlength:64});if(a.getBooleanProperty("SHOW_USER_LIST",!0))a.promptGroupId().then(function(i){a.getUsers(i).then(function(t){if(!t||t.length<1)o("Group "+i+" has no users!");else{var e=-1,n=c("<select/>").attr({size:Math.max(3,Math.min(15,t.length))});t.forEach(function(t){return n.append(c("<option/>").attr({value:t.id}).text(t.name))}),n.change(function(t){e=t.target.selectedIndex}),a.ps.skin.showDlg(!0,{main:[c("<h2/>",{class:"subtitle"}).html(a.ps.getMsg("Select user:")),n,c("<h2/>",{class:"subtitle"}).html(a.ps.getMsg("Password:")).append(s)],bottom:[a.ps.skin.$okDlgBtn,a.ps.skin.$cancelDlgBtn]}).then(function(){0<=e?t[e].pwd&&u.Decrypt(t[e].pwd)!==s.val()?(window.alert(a.ps.getMsg("Incorrect password")),o("Incorrect password")):(a.userId=t[e].id,r(a.userId)):o("No user has been selected")}).catch(o)}}).catch(o)}).catch(o);else{var t=c("<input/>",{type:"text",size:8,maxlength:64});a.ps.skin.showDlg(!0,{main:[c("<div/>").css({"text-align":"right"}).append(c("<h2/>",{class:"subtitle"}).html(a.ps.getMsg("User:")).append(t)).append(c("<h2/>",{class:"subtitle"}).html(a.ps.getMsg("Password:")).append(s))],bottom:[a.ps.skin.$okDlgBtn,a.ps.skin.$cancelDlgBtn]}).then(function(){a.getUserData(t.val()).then(function(t){t.pwd&&u.Decrypt(t.pwd)!==s.val()?(window.alert(a.ps.getMsg("Incorrect password")),o("Incorrect password")):(a.userId=t.id,r(a.userId))}).catch(o)}).catch(o)}}else o("This system does not manage users!");else r(a.userId)})}},{key:"getData",value:function(){this.info.recalc();var e={started:this.started.toISOString(),descriptionKey:this.descriptionKey,descriptionDetail:this.descriptionDetail,projects:this.info.numSessions,sequences:this.info.numSequences,activitiesDone:this.info.nActivities,playedOnce:this.info.nActPlayed,reportable:this.info.reportableActs,ratioPlayed:Math.round(100*this.info.ratioPlayed),activitiesSolved:this.info.nActSolved,ratioSolved:Math.round(100*this.info.ratioSolved),actScore:this.info.nActScore,partialScore:Math.round(100*this.info.partialScore),globalScore:Math.round(100*this.info.globalScore),time:Math.round(this.info.tTime/10)/100,actions:this.info.nActions,sessions:[]};return this.userId?e.userId=this.userId:this.SCORM&&(e.user=this.SCORM.studentName+(""===this.SCORM.studentId?"":" (".concat(this.SCORM.studentId,")"))),this.sessions.forEach(function(t){0<t.getInfo().numSequences&&e.sessions.push(t.getData(!1,!1))}),e}},{key:"init",value:function(t){return t=t||this.ps.options,this.userId=r.getVal(t.user),this.sessionKey=r.getVal(t.key),this.sessionContext=r.getVal(t.context),this.groupCodeFilter=r.getVal(t.groupCodeFilter),this.userCodeFilter=r.getVal(t.userCodeFilter),!1!==t.SCORM&&(this.SCORM=n.getSCORM(this),null!==this.SCORM&&this.descriptionKey===i.prototype.descriptionKey&&(this.descriptionKey=this.SCORM.getScormType())),this.initiated=!0,r.log("debug","Basic Reporter initialized"),Promise.resolve(!0)}},{key:"end",value:function(){return r.log("debug","Basic Reporter ending"),this.endSession(),Promise.resolve(!0)}},{key:"endSequence",value:function(){this.currentSession&&(this.currentSession.endSequence(),this.info.valid=!1)}},{key:"endSession",value:function(){this.endSequence(),this.currentSession=null}},{key:"newGroup",value:function(t){throw"No database!"}},{key:"newUser",value:function(t){throw"No database!"}},{key:"newSession",value:function(t){this.endSession(),this.currentSession=new e(t),this.sessions.push(this.currentSession),this.info.valid=!1}},{key:"newSequence",value:function(t){this.currentSession&&(this.currentSession.newSequence(t),this.info.valid=!1,this.SCORM&&this.SCORM.commitInfo())}},{key:"newActivity",value:function(t){this.currentSession&&(this.currentSession.newActivity(t),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentSession&&(this.currentSession.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentSession&&(this.currentSession.newAction(t,e,n,i),this.info.valid=!1)}},{key:"getCurrentSequenceInfo",value:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceInfo()}},{key:"getCurrentSequenceTag",value:function(){return null===this.currentSession?null:this.currentSession.getCurrentSequenceTag()}}],[{key:"getReporter",value:function(t,e){var n=null;return null===t&&(t="Reporter",e.options.hasOwnProperty("reporter")&&(t=e.options.reporter)),i.CLASSES.hasOwnProperty(t)?n=new i.CLASSES[t](e):r.log("error","Unknown reporter class: %s",t),n}}]),i}();Object.assign(t.prototype,{info:null,ps:null,SCORM:null,userId:null,sessionKey:null,sessionContext:null,groupCodeFilter:null,userCodeFilter:null,descriptionKey:"Results are not currently being saved",descriptionDetail:"",started:null,sessions:[],currentSession:null,initiated:!1,bUserBased:null,MAX_USERID_PROMPT_ATTEMPTS:3});var o=function(){function e(t){s(this,e),this.rep=t}return a(e,[{key:"clear",value:function(){this.numSessions=this.numSequences=this.nActivities=this.reportableActs=this.nActSolved=this.nActPlayed=this.nActScore=this.nActions=this.ratioSolved=this.ratioPlayed=this.tScore=this.tTime=this.partialScore=this.globalScore=0,this.valid=!1}},{key:"recalc",value:function(){var n=this;return this.valid||(this.clear(),this.rep.sessions.forEach(function(t){var e=t.getInfo();n.reportableActs+=e.sReg.reportableActs,0<e.numSequences&&(n.numSessions++,n.numSequences+=e.numSequences,0<e.nActivities&&(n.nActivities+=e.nActivities,n.nActPlayed+=e.sReg.actNames.length,n.nActSolved+=e.nActSolved,n.nActions+=e.nActions,0<e.nActScore&&(n.tScore+=e.tScore*e.nActScore,n.nActScore+=e.nActScore),n.tTime+=e.tTime))}),0<this.nActivities&&(this.ratioSolved=this.nActSolved/this.nActivities,0<this.reportableActs&&(this.ratioPlayed=this.nActPlayed/this.reportableActs),this.partialScore=this.tScore/(100*this.nActScore),this.globalScore=this.partialScore*this.ratioPlayed),this.valid=!0),this}}]),e}();return Object.assign(o.prototype,{rep:null,valid:!1,numSessions:0,numSequences:0,nActivities:0,reportableActs:0,nActSolved:0,nActPlayed:0,nActScore:0,nActions:0,ratioSolved:0,ratioPlayed:0,tScore:0,partialScore:0,tTime:0,globalScore:0}),t.Info=o,t.CLASSES={Reporter:t},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(64),n(3)],void 0===(r=function(t,e,f){var n=function(){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,c(n).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"buildShapes",value:function(){for(var t=[],e=[],n=0;n<=this.nRows;n++)t[n]=[],e[n]=[];for(var i=0;i<this.nRows;i++)for(var r=0;r<this.nCols;r++)t[i][r]=0===i?0:1+(this.randomLines?Math.round(9*Math.random()):i+r)%2,e[i][r]=0===r?0:1+(this.randomLines?Math.round(9*Math.random()):r+i+1)%2,r===this.nCols-1&&(e[i][r+1]=0),i===this.nRows-1&&(t[i+1][r]=0);for(var o=1/this.nCols,s=1/this.nRows,a=0;a<this.nRows;a++)for(var c=0;c<this.nCols;c++){var u=o*c,l=s*a,h=new f.Path([new f.PathStroke("M",[u,l])]);this.hLine(h,t[a][c],0+u,0+l,o,s,!1),this.vLine(h,e[a][c+1],u+o,0+l,o,s,!1),this.hLine(h,t[a+1][c],u+o,l+s,o,s,!0),this.vLine(h,e[a][c],0+u,l+s,o,s,!0),h.addStroke(new f.PathStroke("X")),h.calcEnclosingRect(),this.shapeData[a*this.nCols+c]=h}this.initiated=!0}},{key:"hLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n+r*a,i]));else{var u=n+(r-r*this.baseWidthFactor)/2*a,l=r*this.baseWidthFactor*a;t.addStroke(new f.PathStroke("L",[u,i]));var h=o*this.toothHeightFactor*c;t.addStroke(new f.PathStroke("L",[u,i+h])),t.addStroke(new f.PathStroke("L",[u+l,i+h])),t.addStroke(new f.PathStroke("L",[u+l,i])),t.addStroke(new f.PathStroke("L",[n+r*a,i]))}}},{key:"vLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n,i+o*a]));else{var u=i+(o-o*this.baseWidthFactor)/2*a,l=o*this.baseWidthFactor*a;t.addStroke(new f.PathStroke("L",[n,u]));var h=r*this.toothHeightFactor*c;t.addStroke(new f.PathStroke("L",[n+h,u])),t.addStroke(new f.PathStroke("L",[n+h,u+l])),t.addStroke(new f.PathStroke("L",[n,u+l])),t.addStroke(new f.PathStroke("L",[n,i+o*a]))}}}]),n}();return e.CLASSES["@JigSaw"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){t.exports=!n(10)&&!n(6)(function(){return 7!=Object.defineProperty(n(97)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(8)},function(t,e,n){var s=n(19),a=n(20),c=n(76)(!1),u=n(99)("IE_PROTO");t.exports=function(t,e){var n,i=a(t),r=0,o=[];for(n in i)n!=u&&s(i,n)&&o.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~c(o,n)||o.push(n));return o}},function(t,e,n){var s=n(11),a=n(4),c=n(47);t.exports=n(10)?Object.defineProperties:function(t,e){a(t);for(var n,i=c(e),r=i.length,o=0;o<r;)s.f(t,n=i[o++],e[n]);return t}},function(t,e,n){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(20),o=n(50).f,s={}.toString,a="object"==("undefined"==typeof window?"undefined":i(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){"use strict";var f=n(47),p=n(77),d=n(67),g=n(14),v=n(66),r=Object.assign;t.exports=!r||n(6)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=g(t),i=arguments.length,r=1,o=p.f,s=d.f;r<i;)for(var a,c=v(arguments[r++]),u=o?f(c).concat(o(c)):f(c),l=u.length,h=0;h<l;)s.call(c,a=u[h++])&&(n[a]=c[a]);return n}:r},function(t,e,n){"use strict";var o=n(15),s=n(7),a=n(143),c=[].slice,u={};t.exports=Function.bind||function(e){function n(){var t=r.concat(c.call(arguments));return this instanceof n?function(t,e,n){if(!(e in u)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";u[e]=Function("F,a","return new F("+i.join(",")+")")}return u[e](t,n)}(i,t.length,t):a(i,t,e)}var i=o(this),r=c.call(arguments,1);return s(i.prototype)&&(n.prototype=i.prototype),n}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(5).parseInt,r=n(59).trim,o=n(103),s=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(s.test(n)?16:10))}:i},function(t,e,n){var i=n(5).parseFloat,r=n(59).trim;t.exports=1/i(n(103)+"-0")!=-1/0?function(t){var e=r(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(27);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(7),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var o=n(106),i=Math.pow,s=i(2,-52),a=i(2,-23),c=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),r=o(t);return i<u?r*function(t){return t+1/s-1/s}(i/u/a)*u*a:c<(n=(e=(1+a/s)*i)-(e-i))||n!=n?r*(1/0):r*n}},function(t,e,n){var o=n(4);t.exports=function(e,t,n,i){try{return i?t(o(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&o(r.call(e)),t}}},function(t,e,n){var l=n(15),h=n(14),f=n(66),p=n(12);t.exports=function(t,e,n,i,r){l(e);var o=h(t),s=f(o),a=p(o.length),c=r?a-1:0,u=r?-1:1;if(n<2)for(;;){if(c in s){i=s[c],c+=u;break}if(c+=u,r?c<0:a<=c)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=c:c<a;c+=u)c in s&&(i=e(i,s[c],c,o));return i}},function(t,e,n){"use strict";var l=n(14),h=n(48),f=n(12);t.exports=[].copyWithin||function(t,e,n){var i=l(this),r=f(i.length),o=h(t,r),s=h(e,r),a=2<arguments.length?n:void 0,c=Math.min((void 0===a?r:h(a,r))-s,r-o),u=1;for(s<o&&o<s+c&&(u=-1,s+=c-1,o+=c-1);0<c--;)s in i?i[o]=i[s]:delete i[o],o+=u,s+=u;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){n(10)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(81)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(4),r=n(7),o=n(121);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(158),r=n(61);t.exports=n(85)("Map",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{get:function(t){var e=i.getEntry(r(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";function s(t,e){var n,i=d(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var a=n(11).f,c=n(49),u=n(54),l=n(26),h=n(52),f=n(53),i=n(109),r=n(153),o=n(51),p=n(10),d=n(39).fastKey,g=n(61),v=p?"_s":"size";t.exports={getConstructor:function(t,o,n,i){var r=t(function(t,e){h(t,r,o,"_i"),t._t=o,t._i=c(null),t._f=void 0,t._l=void 0,t[v]=0,null!=e&&f(e,n,t[i],t)});return u(r.prototype,{clear:function(){for(var t=g(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var e=g(this,o),n=s(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[v]--}return!!n},forEach:function(t,e){g(this,o);for(var n,i=l(t,1<arguments.length?e:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!s(g(this,o),t)}}),p&&a(r.prototype,"size",{get:function(){return g(this,o)[v]}}),r},def:function(t,e,n){var i,r,o=s(t,e);return o?o.v=n:(t._l=o={i:r=d(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[v]++,"F"!==r&&(t._i[r]=o)),t},getEntry:s,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=g(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},e?"entries":"values",!e,!0),o(n)}}},function(t,e,n){"use strict";var i=n(158),r=n(61);t.exports=n(85)("Set",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";function i(e){return function(t){return e(this,0<arguments.length?t:void 0)}}var o,r=n(33)(0),s=n(17),a=n(39),c=n(141),u=n(161),l=n(7),h=n(6),f=n(61),p="WeakMap",d=a.getWeak,g=Object.isExtensible,v=u.ufstore,y={},m={get:function(t){if(l(t)){var e=d(t);return!0===e?v(f(this,p)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(f(this,p),t,e)}},b=t.exports=n(85)(p,i,m,u,!0,!0);h(function(){return 7!=(new b).set((Object.freeze||Object)(y),7).get(y)})&&(c((o=u.getConstructor(i,p)).prototype,m),a.NEED=!0,r(["delete","has","get","set"],function(i){var t=b.prototype,r=t[i];s(t,i,function(t,e){if(!l(t)||g(t))return r.call(this,t,e);this._f||(this._f=new o);var n=this._f[i](t,e);return"set"==i?this:n})}))},function(t,e,n){"use strict";function s(t){return t._l||(t._l=new y)}function i(t,e){return d(t.a,function(t){return t[0]===e})}var a=n(54),c=n(39).getWeak,r=n(4),u=n(7),l=n(52),h=n(53),o=n(33),f=n(19),p=n(61),d=o(5),g=o(6),v=0,y=function(){this.a=[]};y.prototype={get:function(t){var e=i(this,t);if(e)return e[1]},has:function(t){return!!i(this,t)},set:function(t,e){var n=i(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=g(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,i,r){var o=t(function(t,e){l(t,o,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&h(e,i,t[r],t)});return a(o.prototype,{delete:function(t){if(!u(t))return!1;var e=c(t);return!0===e?s(p(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=c(t);return!0===e?s(p(this,n)).has(t):e&&f(e,this._i)}}),o},def:function(t,e,n){var i=c(r(e),!0);return!0===i?s(t).set(e,n):i[t._i]=n,t},ufstore:s}},function(t,e,n){var i=n(31),r=n(12);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(50),r=n(77),o=n(4),s=n(5).Reflect;t.exports=s&&s.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var d=n(78),g=n(7),v=n(12),y=n(26),m=n(8)("isConcatSpreadable");t.exports=function t(e,n,i,r,o,s,a,c){for(var u,l,h=o,f=0,p=!!a&&y(a,c,3);f<r;){if(f in i){if(u=p?p(i[f],f,n):i[f],l=!1,g(u)&&(l=void 0!==(l=u[m])?!!l:d(u)),l&&0<s)h=t(e,n,u,v(u.length),h,s-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=u}h++}f++}return h}},function(t,e,n){var l=n(12),h=n(105),f=n(30);t.exports=function(t,e,n,i){var r=String(f(t)),o=r.length,s=void 0===n?" ":String(n),a=l(e);if(a<=o||""==s)return r;var c=a-o,u=h.call(s,Math.ceil(c/s.length));return u.length>c&&(u=u.slice(0,c)),i?u+r:r+u}},function(t,e,n){var c=n(47),u=n(20),l=n(67).f;t.exports=function(a){return function(t){for(var e,n=u(t),i=c(n),r=i.length,o=0,s=[];o<r;)l.call(n,e=i[o++])&&s.push(a?[e,n[e]]:n[e]);return s}}},function(t,e,n){var i=n(68),r=n(168);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(53);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=n(411)).loadAsync=n(442),i.support=n(42),i.defaults=n(179),i.version="3.2.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(70),t.exports=i},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(90)},function(C,t,E){"use strict";(function(g){C.exports=i;var v=E(123),y=E(172),f=E(38).Buffer;i.ReadableState=n;function m(t,e){return t.listeners(e).length}var r;E(91);!function(){try{r=E(90)}catch(t){}finally{r=r||E(91).EventEmitter}}();f=E(38).Buffer;var t=E(69);t.inherits=E(63);var o,s,e=E(415),b=void 0;function n(t,e){s=s||E(55),t=t||{},this.objectMode=!!t.objectMode,e instanceof s&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o=o||E(175).StringDecoder,this.decoder=new o(t.encoding),this.encoding=t.encoding)}function i(t){if(s=s||E(55),!(this instanceof i))return new i(t);this._readableState=new n(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),r.call(this)}function a(t,e,n,i,r){var o=function(t,e){var n=null;f.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(e,n);if(o)t.emit("error",o);else if(null===n)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,l(t)}(t,e);else if(e.objectMode||n&&0<n.length)if(e.ended&&!r){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&r){s=new Error("stream.unshift() after end event");t.emit("error",s)}else{var a;!e.decoder||r||i||(n=e.decoder.write(n),a=!e.objectMode&&0===n.length),r||(e.reading=!1),a||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&l(t))),function(t,e){e.readingMore||(e.readingMore=!0,v(p,t,e))}(t,e)}else r||(e.reading=!1);return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(e)}b=e&&e.debuglog?e.debuglog("stream"):function(){},t.inherits(i,r),i.prototype.push=function(t,e){var n=this._readableState;return n.objectMode||"string"!=typeof t||(e=e||n.defaultEncoding)!==n.encoding&&(t=new f(t,e),e=""),a(this,n,t,e,!1)},i.prototype.unshift=function(t){return a(this,this._readableState,t,"",!0)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(t){return o=o||E(175).StringDecoder,this._readableState.decoder=new o(t),this._readableState.encoding=t,this};var c=8388608;function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=function(t){return c<=t?t=c:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function l(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(b("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?v(h,t):h(t))}function h(t){b("emit readable"),t.emit("readable"),k(t)}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(b("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function d(t){b("readable nexttick read 0"),t.read(0)}function w(t,e){e.reading||(b("resume read 0"),t.read(0)),e.resumeScheduled=!1,t.emit("resume"),k(t),e.flowing&&!e.reading&&t.read(0)}function k(t){var e=t._readableState;if(b("flow",e.flowing),e.flowing)do{var n=t.read()}while(null!==n&&e.flowing)}function A(t,e){var n,i=e.buffer,r=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!t||r<=t)n=o?i.join(""):1===i.length?i[0]:f.concat(i,r),i.length=0;else{if(t<i[0].length)n=(l=i[0]).slice(0,t),i[0]=l.slice(t);else if(t===i[0].length)n=i.shift();else{n=o?"":new f(t);for(var a=0,c=0,u=i.length;c<u&&a<t;c++){var l=i[0],h=Math.min(t-a,l.length);o?n+=l.slice(0,h):l.copy(n,a,0,h),h<l.length?i[0]=l.slice(h):i.shift(),a+=h}}}return n}function x(t){var e=t._readableState;if(0<e.length)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,v(S,e,t))}function S(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}i.prototype.read=function(t){b("read",t);var e=this._readableState,n=t;if(("number"!=typeof t||0<t)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return b("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?x(this):l(this),null;if(0===(t=u(t,e))&&e.ended)return 0===e.length&&x(this),null;var i,r=e.needReadable;return b("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&b("length less than watermark",r=!0),(e.ended||e.reading)&&b("reading or ended",r=!1),r&&(b("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e)),null===(i=0<t?A(t,e):null)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&x(this),null!==i&&this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,b("pipe count=%d opts=%j",i.pipesCount,t);var r=(!t||!1!==t.end)&&e!==g.stdout&&e!==g.stderr?s:u;function o(t){b("onunpipe"),t===n&&u()}function s(){b("onend"),e.end()}i.endEmitted?v(r):n.once("end",r),e.on("unpipe",o);var a=function(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m(e,"data")&&(t.flowing=!0,k(e))}}(n);e.on("drain",a);var c=!1;function u(){b("cleanup"),e.removeListener("close",f),e.removeListener("finish",p),e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",u),n.removeListener("data",l),c=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||a()}function l(t){b("ondata"),!1===e.write(t)&&(1!==i.pipesCount||i.pipes[0]!==e||1!==n.listenerCount("data")||c||(b("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++),n.pause())}function h(t){b("onerror",t),d(),e.removeListener("error",h),0===m(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",p),d()}function p(){b("onfinish"),e.removeListener("close",f),d()}function d(){b("unpipe"),n.unpipe(e)}return n.on("data",l),e._events&&e._events.error?y(e._events.error)?e._events.error.unshift(h):e._events.error=[h,e._events.error]:e.on("error",h),e.once("close",f),e.once("finish",p),e.emit("pipe",n),i.flowing||(b("pipe resume"),n.resume()),e},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var r=0;r<i;r++)n[r].emit("unpipe",this);return this}var o=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},i.prototype.addListener=i.prototype.on=function(t,e){var n=r.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&!this._readableState.endEmitted){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&l(this):v(d,this))}return n},i.prototype.resume=function(){var t=this._readableState;return t.flowing||(b("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,v(w,t,e))}(this,t)),this},i.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var n=this._readableState,i=!1,r=this;for(var t in e.on("end",function(){if(b("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),e.on("data",function(t){b("wrapped data"),n.decoder&&(t=n.decoder.write(t)),n.objectMode&&null==t||(n.objectMode||t&&t.length)&&(r.push(t)||(i=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));return function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n)}(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){b("wrapped _read",t),i&&(i=!1,e.resume())},r},i._fromList=A}).call(this,E(92))},function(t,e,n){"use strict";var i=n(418).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=l,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"ï¿½";if(1<t.lastNeed&&1<e.length){if(128!=(192&e[1]))return t.lastNeed=1,"ï¿½";if(2<t.lastNeed&&2<e.length&&128!=(192&e[2]))return t.lastNeed=2,"ï¿½"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(55296<=i&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0==n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}(e.StringDecoder=o).prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(0<=r)return 0<r&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if(0<=(r=s(e[i])))return 0<r&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if(0<=(r=s(e[i])))return 0<r&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var i=n(126),r=n(69);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(63),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var p=n(9),h=n(42),d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,i,r,o,s,a,c=[],u=0,l=t.length,h=l,f="string"!==p.getTypeOf(t);u<t.length;)h=l-u,i=f?(e=t[u++],n=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),n=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),r=e>>2,o=(3&e)<<4|n>>4,s=1<h?(15&n)<<2|i>>6:64,a=2<h?63&i:64,c.push(d.charAt(r)+d.charAt(o)+d.charAt(s)+d.charAt(a));return c.join("")},e.decode=function(t){var e,n,i,r,o,s,a=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,l=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===d.charAt(64)&&l--,t.charAt(t.length-2)===d.charAt(64)&&l--,l%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=h.uint8array?new Uint8Array(0|l):new Array(0|l);a<t.length;)e=d.indexOf(t.charAt(a++))<<2|(r=d.indexOf(t.charAt(a++)))>>4,n=(15&r)<<4|(o=d.indexOf(t.charAt(a++)))>>2,i=(3&o)<<6|(s=d.indexOf(t.charAt(a++))),u[c++]=e,64!==o&&(u[c++]=n),64!==s&&(u[c++]=i);return u}},function(a,t,h){"use strict";(function(c){var u=h(9),r=h(426),o=h(23),l=h(177),t=h(42),e=h(70),n=null;if(t.nodestream)try{n=h(427)}catch(t){}function i(t,a){return new e.Promise(function(e,n){var i=[],r=t._internalType,o=t._outputType,s=t._mimeType;t.on("data",function(t,e){i.push(t),a&&a(e)}).on("error",function(t){i=[],n(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return u.newBlob(u.transformTo("arraybuffer",e),n);case"base64":return l.encode(e);default:return u.transformTo(t,e)}}(o,function(t,e){var n,i=0,r=null,o=0;for(n=0;n<e.length;n++)o+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(o),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return c.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(r,i),s);e(t)}catch(t){n(t)}i=[]}).resume()})}function s(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,u.checkSupport(i),this._worker=t.pipe(new r(i)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}s.prototype={accumulate:function(t){return i(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){u.delay(e,arguments,n)}),this},resume:function(){return u.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(u.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new n(this,{objectMode:"nodebuffer"!==this._outputType},t)}},a.exports=s}).call(this,h(38).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";var i=n(9),r=n(23);function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(23);function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,n){"use strict";var i=n(23),r=n(128);function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(9).inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,n){"use strict";var i=n(23);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(430)},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(r=r+e[i++]|0)|0,--s;);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var a=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var r=a,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var c=n(43),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var u=new c.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,c.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}u[254]=u[254]=1,e.string2buf=function(t){var e,n,i,r,o,s=t.length,a=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new c.Buf8(a),r=o=0;o<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new c.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,s=e||t.length,a=new Array(2*s);for(n=i=0;n<s;)if((r=t[n++])<128)a[i++]=r;else if(4<(o=u[r]))a[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&t[n++],o--;1<o?a[i++]=65533:r<65536?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return l(a,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";var i=n(9),r=n(42),o=n(191),s=n(444),a=n(445),c=n(193);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new c(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e,n){"use strict";var i=n(192);function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(9).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(9);function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";var i=n(191);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var a={};function i(){try{return new window.XMLHttpRequest}catch(t){}}a._getBinaryFromXHR=function(t){return t.response||t.responseText};var c="undefined"!=typeof window&&window.ActiveXObject?function(){return i()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:i;a.getBinaryContent=function(e,n){var t,i,r,o;"function"==typeof(n=n||{})?(o=n,n={}):"function"==typeof n.callback&&(o=n.callback),o||"undefined"==typeof Promise?(i=function(t){o(null,t)},r=function(t){o(t,null)}):t=new Promise(function(t,e){i=t,r=e});try{var s=c();s.open("GET",e,!0),"responseType"in s&&(s.responseType="arraybuffer"),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.onreadystatechange=function(t){if(4===s.readyState)if(200===s.status||0===s.status)try{i(a._getBinaryFromXHR(s))}catch(t){r(new Error(t))}else r(new Error("Ajax error for "+e+" : "+this.status+" "+this.statusText))},n.progress&&(s.onprogress=function(t){n.progress({path:e,originalEvent:t,percent:t.loaded/t.total*100,loaded:t.loaded,total:t.total})}),s.send()}catch(t){r(new Error(t),null)}return t},t.exports=a},function(t,e,n){var i,r,o;o=function(){var u,r,o=document,s=o.getElementsByTagName("head")[0],a=!1,l="push",c="readyState",h="onreadystatechange",f={},p={},d={},g={};function v(t,e){for(var n=0,i=t.length;n<i;++n)if(!e(t[n]))return a;return 1}function y(t,e){v(t,function(t){return e(t),1})}function m(t,e,n){t=t[l]?t:[t];var i=e&&e.call,r=i?e:n,o=i?t.join(""):e,s=t.length;function a(t){return t.call?t():f[t]}function c(){if(!--s)for(var t in f[o]=1,r&&r(),d)v(t.split("|"),a)&&!y(d[t],a)&&(d[t]=[])}return setTimeout(function(){y(t,function t(e,n){return null===e?c():(n||/^https?:\/\//.test(e)||!u||(e=-1===e.indexOf(".js")?u+e+".js":u+e),g[e]?(o&&(p[o]=1),2==g[e]?c():setTimeout(function(){t(e,!0)},0)):(g[e]=1,o&&(p[o]=1),void b(e,c)))})},0),m}function b(t,e){var n,i=o.createElement("script");i.onload=i.onerror=i[h]=function(){i[c]&&!/^c|loade/.test(i[c])||n||(i.onload=i[h]=null,n=1,g[t]=2,e())},i.async=1,i.src=r?t+(-1===t.indexOf("?")?"?":"&")+r:t,s.insertBefore(i,s.lastChild)}return m.get=b,m.order=function(n,i,r){!function t(e){e=n.shift(),n.length?m(e,t):m(e,i,r)}()},m.path=function(t){u=t},m.urlArgs=function(t){r=t},m.ready=function(t,e,n){t=t[l]?t:[t];var i,r=[];return!y(t,function(t){f[t]||r[l](t)})&&v(t,function(t){return f[t]})?e():(i=t.join("|"),d[i]=d[i]||[],d[i][l](e),n&&n(r)),m},m.done=function(t){m([null],t)},m},t.exports?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},function(p,t,e){(function(h){function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}p.exports=function(){if("undefined"==typeof document||!document.addEventListener)return null;var t={};return t.copy=function(){var r=!1,o=null,s=!1;function a(){r=!1,o=null,s&&window.getSelection().removeAllRanges(),s=!1}return document.addEventListener("copy",function(t){if(r){for(var e in o)t.clipboardData.setData(e,o[e]);t.preventDefault()}}),function(t){return new Promise(function(n,i){r=!0,"string"==typeof t?o={"text/plain":t}:t instanceof Node?o={"text/html":(new XMLSerializer).serializeToString(t)}:t instanceof Object?o=t:i("Invalid data type. Must be string, DOM node, or an object mapping MIME types to strings."),function t(e){try{if(document.execCommand("copy"))a(),n();else{if(e)throw a(),new Error("Unable to copy. Perhaps it's not available in your browser?");!function(){var t=document.getSelection();if(!document.queryCommandEnabled("copy")&&t.isCollapsed){var e=document.createRange();e.selectNodeContents(document.body),t.removeAllRanges(),t.addRange(e),s=!0}}(),t(!0)}}catch(t){a(),i(t)}}(!1)})}}(),t.paste=function(){var i,r,o=!1;return document.addEventListener("paste",function(t){if(o){o=!1,t.preventDefault();var e=i;i=null,e(t.clipboardData.getData(r))}}),function(n){return new Promise(function(t,e){o=!0,i=t,r=n||"text/plain";try{document.execCommand("paste")||(o=!1,e(new Error("Unable to paste. Pasting only works in Internet Explorer at the moment.")))}catch(t){o=!1,e(new Error(t))}})}}(),"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData&&(function(t){function n(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=f(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,n(i,this),n(r,this))}function s(n){var i=this;return null===this._state?void this._deferreds.push(n):void e(function(){var t=i._state?n.onFulfilled:n.onRejected;if(null!==t){var e;try{e=t(i._value)}catch(t){return void n.reject(t)}n.resolve(e)}else(i._state?n.resolve:n.reject)(i._value)})}function i(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==f(t)||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void u(n(e,t),n(i,this),n(r,this))}this._state=!0,this._value=t,a.call(this)}catch(t){r.call(this,t)}}function r(t){this._state=!1,this._value=t,a.call(this)}function a(){for(var t=0,e=this._deferreds.length;t<e;t++)s.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function u(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(t){if(i)return;i=!0,n(t)}}var e=o.immediateFn||"function"==typeof h&&h||function(t){setTimeout(t,1)},l=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(n,i){var r=this;return new o(function(t,e){s.call(r,new c(n,i,t,e))})},o.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&l(arguments[0])?arguments[0]:arguments);return new o(function(i,r){function o(e,t){try{if(t&&("object"==f(t)||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){o(e,t)},r)}a[e]=t,0==--s&&i(a)}catch(t){r(t)}}if(0===a.length)return i([]);for(var s=a.length,t=0;t<a.length;t++)o(t,a[t])})},o.resolve=function(e){return e&&"object"==f(e)&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(r){return new o(function(t,e){for(var n=0,i=r.length;n<i;n++)r[n].then(t,e)})},p.exports?p.exports=o:t.Promise||(t.Promise=o)}(this),t.copy=function(r){return new Promise(function(t,e){if("string"!=typeof r&&!("text/plain"in r))throw new Error("You must provide a text/plain type.");var n="string"==typeof r?r:r["text/plain"],i=window.clipboardData.setData("Text",n);i?t():e(new Error("Copying was rejected."))})},t.paste=function(){return new Promise(function(t,e){var n=window.clipboardData.getData("Text");n?t(n):e(new Error("Pasting was rejected."))})}),t}()}).call(this,e(125).setImmediate)},function(et,nt,it){var rt;!function(){function i(t,e,n){return t.call.apply(t.bind,arguments)}function r(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function d(t,e,n){return(d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:r).apply(null,arguments)}var s=Date.now||function(){return+new Date};function e(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var a=!!window.FontFace;function c(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function u(t,e,n){(t=(t=t.c.getElementsByTagName(e)[0])||document.documentElement).insertBefore(n,t.lastChild)}function n(t){t.parentNode&&t.parentNode.removeChild(t)}function g(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<i.length;s+=1)if(e[r]===i[s]){o=!0;break}o||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(o=!1,s=0;s<n.length;s+=1)if(i[r]===n[s]){o=!0;break}o||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function o(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function l(t,e,n){function i(){s&&r&&(s(o),s=null)}e=c(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,o=null,s=n||null;a?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),i()}):setTimeout(function(){r=!0,i()},0),u(t,"head",e)}function h(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var o=c(t,"script",{src:e}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&r.removeChild(o))},r.appendChild(o),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},i||5e3),o}return null}function f(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,y(t)}}function v(t,e){t.c=e,y(t)}function y(t){0==t.a&&t.c&&(t.c(),t.c=null)}function m(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function w(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function k(t){return t.a+t.f}function A(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function x(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new m("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function S(t){if(t.g){var e=o(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),g(t.f,n,i)}C(t,"inactive")}function C(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,k(n)):t.h[e]())}function E(){this.c={}}function O(t,e){this.c=t,this.f=e,this.a=c(this.c,"span",{"aria-hidden":"true"},this.f)}function P(t){u(t.c,"body",t.a)}function T(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+w(t.c)+";font-style:"+A(t)+";font-weight:"+t.f+"00;"}function _(t,e,n,i,r,o){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=o||void 0}function I(t,e,n,i,r,o,s){this.v=t,this.B=e,this.c=n,this.a=i,this.s=s||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new O(this.c,this.s),this.h=new O(this.c,this.s),this.j=new O(this.c,this.s),this.m=new O(this.c,this.s),t=T(t=new b(this.a.c+",serif",k(this.a))),this.g.a.style.cssText=t,t=T(t=new b(this.a.c+",sans-serif",k(this.a))),this.h.a.style.cssText=t,t=T(t=new b("serif",k(this.a))),this.j.a.style.cssText=t,t=T(t=new b("sans-serif",k(this.a))),this.m.a.style.cssText=t,P(this.g),P(this.h),P(this.j),P(this.m)}m.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},_.prototype.start=function(){var i=this.c.o.document,r=this,o=s(),t=new Promise(function(n,t){!function e(){s()-o>=r.f?t():i.fonts.load(function(t){return A(t)+" "+t.f+"00 300px "+w(t.c)}(r.a),r.h).then(function(t){1<=t.length?n():setTimeout(e,25)},function(){t()})}()}),n=null,e=new Promise(function(t,e){n=setTimeout(e,r.f)});Promise.race([e,t]).then(function(){n&&(clearTimeout(n),n=null),r.g(r.a)},function(){r.j(r.a)})};var R={D:"serif",C:"sans-serif"},j=null;function B(){if(null===j){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);j=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return j}function M(t,e,n){for(var i in R)if(R.hasOwnProperty(i)&&e===t.f[R[i]]&&n===t.f[R[i]])return!0;return!1}function D(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=B()&&M(t,n,i)),e?s()-t.A>=t.w?B()&&M(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?N(t,t.v):N(t,t.B):function(t){setTimeout(d(function(){D(this)},t),50)}(t):N(t,t.v)}function N(t,e){setTimeout(d(function(){n(this.g.a),n(this.h.a),n(this.j.a),n(this.m.a),e(this.a)},t),0)}function L(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}I.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),D(this)};var V=null;function F(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&g(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),C(t,"active")):S(t.a))}function t(t){this.j=t,this.a=new E,this.h=0,this.f=this.g=!0}function q(t,e){this.c=t,this.a=e}function z(t,e){this.c=t,this.a=e}function U(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}L.prototype.g=function(t){var e=this.a;e.g&&g(e.f,[e.a.c("wf",t.c,k(t).toString(),"active")],[e.a.c("wf",t.c,k(t).toString(),"loading"),e.a.c("wf",t.c,k(t).toString(),"inactive")]),C(e,"fontactive",t),this.m=!0,F(this)},L.prototype.h=function(t){var e=this.a;if(e.g){var n=o(e.f,e.a.c("wf",t.c,k(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,k(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,k(t).toString(),"inactive")),g(e.f,i,r)}C(e,"fontinactive",t),F(this)},t.prototype.load=function(t){this.c=new e(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(r,t,e){var n=[],i=e.timeout;!function(t){t.g&&g(t.f,[t.a.c("wf","loading")]),C(t,"loading")}(t);n=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var o=t.c[i];o&&r.push(o(e[i],n))}return r}(r.a,e,r.c);var o=new L(r.c,t,i);for(r.h=n.length,t=0,e=n.length;t<e;t++)n[t].load(function(t,e,n){var i,u,l,h,f,p;u=o,l=t,h=e,f=n,p=0==--(i=r).h,(i.f||i.g)&&setTimeout(function(){var t=f||null,e=h||{};if(0===l.length&&p)S(u.a);else{u.f+=l.length,p&&(u.j=p);var n,i=[];for(n=0;n<l.length;n++){var r=l[n],o=e[r.c],s=u.a,a=r;if(s.g&&g(s.f,[s.a.c("wf",a.c,k(a).toString(),"loading")]),C(s,"fontloading",a),(s=null)===V)if(window.FontFace){var a=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),c=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=a?42<parseInt(a[1],10):!c}else V=!1;s=V?new _(d(u.g,u),d(u.h,u),u.c,r,u.s,o):new I(d(u.g,u),d(u.h,u),u.c,r,u.s,t,o),i.push(s)}for(n=0;n<i.length;n++)i[n].start()}},0)})}(this,new x(this.c,t),t)},q.prototype.load=function(s){var e=this,a=e.a.projectId,t=e.a.version;if(a){var c=e.c.o;h(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+a+".js"+(t?"?v="+t:""),function(t){t?s([]):(c["__MonotypeConfiguration__"+a]=function(){return e.a},function t(){if(c["__mti_fntLst"+a]){var e,n=c["__mti_fntLst"+a](),i=[];if(n)for(var r=0;r<n.length;r++){var o=n[r].fontfamily;null!=n[r].fontStyle&&null!=n[r].fontWeight?(e=n[r].fontStyle+n[r].fontWeight,i.push(new b(o,e))):i.push(new b(o))}s(i)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+a}else s([])},z.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new f;for(e=0,n=i.length;e<n;e++)l(this.c,i[e],p(s));var a=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var c=i[1].split(","),u=0;u<c.length;u+=1)a.push(new b(i[0],c[u]));else a.push(new b(i[0]));v(s,function(){t(a,o)})};function H(t){this.f=t,this.a=[],this.c={}}var G={latin:"BESbswy","latin-ext":"Ã§Ã¶Ã¼ÄÅ",cyrillic:"Ð¹ÑÐ",greek:"Î±Î²Î£",khmer:"ááá",Hanuman:"ááá"},$={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},W={i:"i",italic:"i",n:"n",normal:"n"},J=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Y(t,e){this.c=t,this.a=e}var Z={Arimo:!0,Cousine:!0,Tinos:!0};function K(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t,this.f=e,this.a=[]}Y.prototype.load=function(t){var e=new f,n=this.c,i=new U(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}(i,r);var o=new H(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),o=["n4"];if(2<=i.length){var s;if(s=[],a=i[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var l;if((l=a[u]).match(/^[\w-]+$/))if(null==(f=J.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":W[l],null==(f=f[1])||""==f)f="4";else var h=$[f],f=h||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&s.push(l)}0<s.length&&(o=s),3==i.length&&(s=[],0<(i=(i=i[2])?i.split(","):s).length&&(i=G[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=G[r])&&(t.c[r]=i),i=0;i<o.length;i+=1)t.a.push(new b(r,o[i]))}}(o),l(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),p(e)),v(e,function(){t(o.a,o.c,Z)})},K.prototype.load=function(s){var t=this.a.id,a=this.c.o;t?h(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)s([]);else if(a.Typekit&&a.Typekit.config&&a.Typekit.config.fn){t=a.Typekit.config.fn;for(var e=[],n=0;n<t.length;n+=2)for(var i=t[n],r=t[n+1],o=0;o<r.length;o++)e.push(new b(i,r[o]));try{a.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}s(e)}},2e3):s([])},Q.prototype.load=function(u){var t=this.f.id,e=this.c.o,l=this;t?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[t]=function(t,e){for(var n=0,i=e.fonts.length;n<i;++n){var r=e.fonts[n];l.a.push(new b(r.name,(o="font-weight:"+r.weight+";font-style:"+r.style,c=a=s=void 0,s=4,a="n",c=null,o&&((c=o.match(/(normal|oblique|italic)/i))&&c[1]&&(a=c[1].substr(0,1).toLowerCase()),(c=o.match(/([1-9]00|normal|bold)/i))&&c[1]&&(/bold/i.test(c[1])?s=7:/[1-9]00/.test(c[1])&&(s=parseInt(c[1].substr(0,1),10)))),a+s)))}var o,s,a,c;u(l.a)},h(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+t+".js",function(t){t&&u([])})):u([])};var X=new t(window);X.a.c.custom=function(t,e){return new z(e,t)},X.a.c.fontdeck=function(t,e){return new Q(e,t)},X.a.c.monotype=function(t,e){return new q(e,t)},X.a.c.typekit=function(t,e){return new K(e,t)},X.a.c.google=function(t,e){return new Y(e,t)};var tt={load:d(X.load,X)};void 0===(rt=function(){return tt}.call(nt,it,nt,et))||(et.exports=rt)}()},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(451)],void 0===(r=function(r,o){var t=function(){function i(t,e,n){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.mc=t,this.ps=n,t.type){case"RECORD_AUDIO":i.AUDIO_BUFFERS&&(this.clearAudioBuffer(t.recBuffer),i.AUDIO_BUFFERS[t.recBuffer]=new o(t.length));case"PLAY_RECORDED_AUDIO":this.useAudioBuffer=!0;break;case"PLAY_AUDIO":case"PLAY_VIDEO":case"PLAY_MIDI":this.mbe=e.getElement(t.file,!0)}}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"realize",value:function(){var e=this;this.mbe&&this.mbe.build(function(t){t.data&&t.data.pause&&!t.data.paused&&!t.data.ended&&t.data.currentTime&&t.data.pause(),"video"!==t.type&&"anim"!==t.type||!t.data||(e.$visualComponent=r(t.data),e.$visualComponent.css("z-index",20))})}},{key:"playNow",value:function(t){var n=this;if(this.useAudioBuffer){if(i.AUDIO_BUFFERS){var e=i.AUDIO_BUFFERS[this.mc.recBuffer];e&&("RECORD_AUDIO"===this.mc.type?e.record():e.play())}}else this.mbe&&this.mbe.build(function(){if(n.mbe.data){if("midi"===n.mbe.type)n.mbe.data.playTo=n.mc.to||0;else{var t=!1,e=r(n.mbe.data);e.off(),0<n.mc.to&&e.on("timeupdate",function(){t&&n.mbe.data.currentTime>=n.mc.to/1e3&&(e.off("timeupdate"),n.mbe.data.pause())}),t=!0}n.mbe.data.paused||n.mbe.data.ended||!n.mbe.data.currentTime||n.mbe.data.pause(),n.mbe.data.currentTime=0<n.mc.from?n.mc.from/1e3:0,n.mbe.data.play()}})}},{key:"play",value:function(t){this.stopAllAudioBuffers(),this.playNow(t)}},{key:"stop",value:function(){this.useAudioBuffer?this.stopAudioBuffer(this.mc.recBuffer):this.mbe&&this.mbe.data&&this.mbe.data.pause&&!this.mbe.data.paused&&!this.mbe.data.ended&&this.mbe.data.currentTime&&this.mbe.data.pause()}},{key:"clear",value:function(){this.stop(),this.useAudioBuffer&&this.clearAudioBuffer(this.mc.recBuffer)}},{key:"clearAudioBuffer",value:function(t){i.AUDIO_BUFFERS&&0<=t&&t<i.AUDIO_BUFFERS.length&&i.AUDIO_BUFFERS[t]&&(i.AUDIO_BUFFERS[t].clear(),i.AUDIO_BUFFERS[t]=null)}},{key:"clearAllAudioBuffers",value:function(){var n=this;i.AUDIO_BUFFERS&&i.AUDIO_BUFFERS.forEach(function(t,e){return n.clearAudioBuffer(e)})}},{key:"countActiveBuffers",value:function(){return i.AUDIO_BUFFERS?i.AUDIO_BUFFERS.reduce(function(t,e){return t+e?1:0},0):0}},{key:"stopAllAudioBuffers",value:function(){i.AUDIO_BUFFERS&&i.AUDIO_BUFFERS.forEach(function(t){return t?t.stop():null})}},{key:"stopAudioBuffer",value:function(t){i.AUDIO_BUFFERS&&0<=t&&t<i.AUDIO_BUFFERS.length&&i.AUDIO_BUFFERS[t]&&i.AUDIO_BUFFERS[t].stop()}},{key:"checkVisualComponentBounds",value:function(t){}},{key:"setVisualComponentVisible",value:function(t){}},{key:"linkTo",value:function(t){this.bx=t,this.bx&&this.$visualComponent&&this.bx.setHostedComponent(this.$visualComponent)}}]),i}();return t.REC_ENABLED="undefined"!=typeof MediaRecorder&&"undefined"!=typeof navigator,t.REC_ENABLED&&(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia),t.AUDIO_BUFFERS=t.REC_ENABLED?[]:null,Object.assign(t.prototype,{mc:null,ps:null,bx:null,$visualComponent:null,useAudioBuffer:!1,mbe:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(95),n(456),n(2)],void 0===(r=function(o,t,s,e){var n=function(){function r(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),c(this,l(r).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(r,t),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(r,[{key:"setProperties",value:function(t){var i=this;return u(l(r.prototype),"setProperties",this).call(this,t),t.children("jump").each(function(t,e){var n=(new s).setProperties(o(e));"upper"===n.id?i.upperJump=n:"lower"===n.id&&(i.lowerJump=n)}),this}},{key:"getAttributes",value:function(){return Object.assign(u(l(r.prototype),"getAttributes",this).call(this),e.getAttributes(this,["upperJump","lowerJump"]))}},{key:"setAttributes",value:function(e){var n=this;return u(l(r.prototype),"setAttributes",this).call(this,e),["upperJump","lowerJump"].forEach(function(t){e[t]&&(n[t]=(new s).setAttributes(e[t]))}),this}},{key:"resolveJump",value:function(t,e){var n=this;return 0<=t&&0<=e&&(null!==this.upperJump&&t>this.upperJump.threshold&&(this.upperJump.time<=0||e<this.upperJump.time)?n=this.upperJump:null!==this.lowerJump&&(t<this.lowerJump.threshold||0<this.lowerJump.time&&e>this.lowerJump.time)&&(n=this.lowerJump)),n}}]),r}();return Object.assign(n.prototype,{upperJump:null,lowerJump:null}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(2)],void 0===(r=function(o){var t=function(){function r(){a(this,r)}return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(r,[{key:"setProperties",value:function(t){return this.className=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),this}},{key:"getAttributes",value:function(){return o.getAttributes(this,["className"])}},{key:"init",value:function(){}},{key:"generateContent",value:function(t,e,n,i){return this.process(new r.ActiveBagContentKit(t,e,n,i))}},{key:"process",value:function(t){return!1}}],[{key:"getProvider",value:function(t){var e=null;if(t){var n=(t.attr("class")||"").replace(/^edu\.xtec\.jclic\.automation\./,"@"),i=r.CLASSES[n];i?(e=new i).setProperties(t):o.log("error","Unknown AutoContentProvider class: ".concat(n))}return e}},{key:"factory",value:function(t,e){var n,i=1<arguments.length&&void 0!==e?e:[];return(n=new r.CLASSES[t.className]).setAttributes.apply(n,[t].concat(s(i)))}}]),r}();return Object.assign(t.prototype,{numericContent:!1}),t.ActiveBagContentKit=function(){return function t(e,n,i,r){a(this,t),this.nRows=e,this.nCols=n,this.content=i,this.useIds=r}}(),t.CLASSES={"@tagreplace.TagReplace":t},t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2),n(56)],void 0===(r=function(i,r,o){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.style=new o(null),this.text=[]}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(t,[{key:"setProperties",value:function(t){var n=this;r.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"rows":n.ncw=Number(e);break;case"columns":n.nch=Number(e);break;case"cellWidth":n.w=Number(e);break;case"cellHeight":n.h=Number(e);break;case"border":n.border=r.getBoolean(e);break;case"wild":case"randomChars":n[t]=e}}),t.children("style:first").each(function(t,e){n.style=(new o).setProperties(i(e))}),t.find("text:first > row").each(function(t,e){return n.text.push(e.textContent)});for(var e=this.text.length;e<this.nch;e++)this.text[e]="";return this}},{key:"getAttributes",value:function(){return r.getAttributes(this,["ncw","nch","w","h","text","style","border","wild|*","randomChars|".concat(r.settings.RANDOM_CHARS)])}},{key:"setAttributes",value:function(t){return r.setAttr(this,t,["ncw","nch","w","h","text",{key:"style",fn:o},"border","wild","randomChars"])}},{key:"countWildChars",value:function(){var t=0;if(this.text)for(var e=0;e<this.nch;e++)for(var n=0;n<this.ncw;n++)this.text[e].charAt(n)===this.wild&&t++;return t}},{key:"getNumChars",value:function(){return this.ncw*this.nch}},{key:"setCharAt",value:function(t,e,n){0<=t&&t<this.ncw&&0<=e&&e<this.nch&&(this.text[e]=this.text[e].substring(0,t)+n+this.text[e].substring(t+1))}}]),t}();return Object.assign(t.prototype,{ncw:1,nch:1,w:20,h:20,border:!1,style:null,text:null,wild:"*",randomChars:r.settings.RANDOM_CHARS}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(i=function(){var t=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t&&(this.id=t),e&&(this.$div=e)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(n,[{key:"getDisplayValue",value:function(){var t=0<this.countDown?this.countDown-this.value:this.value;return this.displayDiffFrom&&(t-=this.displayDiffFrom.value),Math.max(0,Math.min(this.MAX_DISPLAY_VALUE,t))}},{key:"refreshDisplay",value:function(){this.$div&&this.$div.html(this.enabled?(this.getDisplayValue()+1e3).toString().substr(1):"000")}},{key:"setEnabled",value:function(t){this.enabled!==t&&(this.enabled=t,this.$div&&(this.refreshDisplay(),this.$div.css("opacity",this.enabled?1:.3)))}},{key:"setCountDown",value:function(t){this.countDown!==(this.countDown=t)&&this.refreshDisplay()}},{key:"incValue",value:function(){this.value++,this.enabled&&this.refreshDisplay()}},{key:"setValue",value:function(t){this.enabled&&this.value!==(this.value=t)&&this.refreshDisplay()}}]),n}();return Object.assign(t.prototype,{id:"",$div:null,value:0,countDown:0,enabled:!0,MAX_DISPLAY_VALUE:999,displayDiffFrom:null}),t}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3)],void 0===(r=function(o,t,s,e,i,y){var n=function(){function e(t){return c(this,e),l(this,h(e).call(this,t))}return f(e,t),u(e,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}();Object.assign(n.prototype,{useIdAss:!1});var r=function(){function r(t,e,n){return c(this,r),l(this,h(r).call(this,t,e,n))}return f(r,t.Panel),u(r,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&a(h(r.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.secondary,n=this.act.abc.solvedPrimary;if(t&&e){if(t.image&&(t.setImgContent(this.act.project.mediaBag,null,!1),!t.animatedGifFile||t.shaper.rectangularShapes||this.act.shuffleA||(this.$animatedBg=o("<span/>").css({"background-image":"url(".concat(t.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),e.image&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.shuffleB||(this.$animatedBgB=o("<span/>").css({"background-image":"url(".concat(e.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),n&&n.image&&n.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var i=[t,e];n&&i.push(n),this.act.acp.generateContent(t.nch,t.ncw,i,!1)}this.bgA=s.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgB=s.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.bgA.setContent(t,n||null),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.setContent(e),this.$animatedBgB&&this.bgB.setCellAttr("tmpTrans",!0),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}}},{key:"initActivity",value:function(){if(a(h(r.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB){var t=[];this.act.shuffleA&&t.push(this.bgA),this.act.shuffleB&&t.push(this.bgB),0<t.length&&this.shuffle(t,!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}}},{key:"updateContent",value:function(t){if(a(h(r.prototype),"updateContent",this).call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new y.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?e.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){if(this.$canvas&&this.$canvas.remove(),a(h(r.prototype),"setBounds",this).call(this,t),this.bgA||this.bgB){if(this.$canvas=o('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgA){var e=this.bgA.getBounds();this.$animatedBg.css({left:e.pos.x,top:e.pos.y,width:e.dim.width+"px",height:e.dim.height+"px","background-size":"".concat(e.dim.width,"px ").concat(e.dim.height,"px")})}if(this.$animatedBgB&&this.bgB){var n=this.bgB.getBounds();this.$animatedBgB.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":"".concat(n.dim.width,"px ").concat(n.dim.height,"px")})}this.$div.append(this.$canvas),this.bc=new i(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(a(h(r.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e,n,i=null;if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new y.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new y.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var s=!1,a=!1,c=!1,u=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&i.distanceTo(this.bc.origin)<=3)break;s=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var l=this.bc.origin;if(this.bc.end(),(e=this.bgA?this.bgA.findActiveBox(l):null)?n=this.bgB?this.bgB.findActiveBox(i):null:(n=this.bgB?this.bgB.findActiveBox(l):null)&&(e=this.bgA?this.bgA.findActiveBox(i):null,c=!0),e&&n&&-1!==e.idAss&&-1!==n.idAss&&this.act.abc.secondary){var h=!1,f=e.getDescription(),p=n.getDescription(),d=this.act.abc.secondary.getActiveBoxContent(e.idOrder);e.idOrder!==n.idOrder&&!n.getContent().isEquivalent(d,!0)||(h=!0,e.idAss=-1,n.idAss=-1,this.act.abc.solvedPrimary?(e.switchToAlt(this.ps),a=a||e.playMedia(this.ps,u)):(a=c?a||e.playMedia(this.ps,u):a||n.playMedia(this.ps,u),e.clear()),n.clear(),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var g=this.bgB?this.bgB.countCellsWithIdAss(-1):0;this.ps.reportNewAction(this.act,"MATCH",f,p,h,g),h&&g===this.bgB.getNumCells()?this.finishActivity(!0):a||this.playEvent(h?"actionOk":"actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(s)break;if(this.ps.stopMedia(1),e=this.bgA?this.bgA.findActiveBox(i):null,n=this.bgB?this.bgB.findActiveBox(i):null,e&&(!this.act.useOrder||e.idOrder===this.currentItem)||!this.act.useOrder&&n&&-1!==n.idAss){this.act.dragCells?this.bc.begin(i,e||n):this.bc.begin(i),(a=a||(e||n).playMedia(this.ps,u))||this.playEvent("click");var v=e?this.bgA:this.bgB;v&&v.$accessibleDiv&&(v=e?this.bgB:this.bgA)&&v.$accessibleDiv&&v.$accessibleDiv.focus()}}break;case"mousemove":case"touchmove":this.bc.moveTo(i)}u.forEach(function(t){return t()}),t.preventDefault()}}}]),r}();return Object.assign(r.prototype,{bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),n.Panel=r,t.CLASSES["@associations.SimpleAssociation"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(3),n(2),n(96),n(201)],void 0===(r=function(t,g,e,n,i){var v={MIN_CELL_SIZE:12,DEFAULT_CELL_SIZE:20,MIN_INTERNAL_MARGIN:2},y={NORMAL:0,INVERTED:1,HIDDEN:2,LOCKED:4,MARKED:8,TRANSPARENT:16},r=function(){function h(t,e,n,i,r,o,s,a,c,u){var l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(l=f(this,p(h).call(this,t,e,n))).pos.x=i,l.pos.y=r,l.nCols=Math.max(1,o),l.nRows=Math.max(1,s),l.cellWidth=Math.max(a,v.MIN_CELL_SIZE),l.cellHeight=Math.max(c,v.MIN_CELL_SIZE),l.dim.width=a*l.nCols,l.dim.height=c*l.nRows,l.setChars(" "),l.preferredBounds=new g.Rectangle(l.pos,l.dim),l.setBorder(u),l.cursorTimer=new g.Timer(function(){return l.blink(0)},500,!1),l.cursorEnabled=!1,l.useCursor=!1,l.wildTransparent=!1,l.cursor=new g.Point,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(h,n),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(h,[{key:"setChars",value:function(t){this.chars=[],this.answers=[],this.attributes=[];for(var e=0;e<this.nRows;e++){var n=e<t.length?t[e]:"";this.chars[e]=n.split(""),this.answers[e]=[],this.attributes[e]=[];for(var i=0;i<this.nCols;i++)i>=n.length&&(this.chars[e][i]=" "),this.answers[e][i]=this.chars[e][i],this.attributes[e][i]=y.NORMAL}}},{key:"randomize",value:function(){for(var t=0;t<this.nRows;t++)for(var e=0;e<this.nCols;e++)this.chars[t][e]===this.wild&&(this.chars[t][e]=this.randomChars.charAt(Math.floor(Math.random()*this.randomChars.length)))}},{key:"setCellAttributes",value:function(t,e){var n=y.LOCKED;this.wildTransparent?n|=y.TRANSPARENT:n|=y.INVERTED|y.HIDDEN;for(var i=0;i<this.nRows;i++)for(var r=0;r<this.nCols;r++)t&&this.chars[i][r]===this.wild?this.attributes[i][r]=n:(this.attributes[i][r]=y.NORMAL,e&&(this.chars[i][r]=" "))}},{key:"setCellLocked",value:function(t,e,n){0<=t&&t<this.nCols&&0<=e&&e<this.nRows&&(this.attributes[e][t]=n?y.LOCKED|(this.wildTransparent?y.TRANSPARENT:y.INVERTED|y.HIDDEN):y.NORMAL)}},{key:"getItemFor",value:function(t,e){if(!this.isValidCell(t,e))return null;for(var n=new g.Point,i=!1,r=!1,o=0;o<t;o++)0!=(this.attributes[e][o]&y.LOCKED)?i||(r&&n.x++,i=!0):i=!(r=!0);r=i=!1;for(var s=0;s<e;s++)0!=(this.attributes[s][t]&y.LOCKED)?i||(r&&n.y++,i=!0):i=!(r=!0);return n}},{key:"setCursorEnabled",value:function(t){!0===(this.cursorEnabled=t)?this.startCursorBlink():this.stopCursorBlink()}},{key:"startCursorBlink",value:function(){this.useCursor&&this.cursorEnabled&&this.cursorTimer&&!this.cursorTimer.isRunning()&&(this.blink(1),this.cursorTimer.start())}},{key:"stopCursorBlink",value:function(){this.cursorTimer&&this.cursorTimer.isRunning()&&(this.cursorTimer.stop(),this.blink(-1))}},{key:"moveCursor",value:function(t,e,n){if(this.useCursor){var i=this.findNextCellWithAttr(this.cursor.x,this.cursor.y,n?y.LOCKED:y.NORMAL,t,e,!1);this.cursor.equals(i)||this.setCursorAt(i.x,i.y,n)}}},{key:"findFreeCell",value:function(t,e,n){var i=null;if(t&&(0!==e||0!==n))for(var r=new g.Point(t);null===i&&(r.x+=e,r.y+=n,!(r.x<0||r.x>=this.nCols||r.y<0||r.y>=this.nRows));)this.getCellAttribute(r.x,r.y,y.LOCKED)||(i=r);return i}},{key:"findNextCellWithAttr",value:function(t,e,n,i,r,o){for(var s=new g.Point(t+i,e+r);s.x<0?(s.x=this.nCols-1,0<s.y?s.y--:s.y=this.nRows-1):s.x>=this.nCols&&(s.x=0,s.y<this.nRows-1?s.y++:s.y=0),s.y<0?(s.y=this.nRows-1,0<s.x?s.x--:s.x=this.nCols-1):s.y>=this.nRows&&(s.y=0,s.x<this.nCols-1?s.x++:s.x=0),(s.x!==t||s.y!==e)&&this.getCellAttribute(s.x,s.y,n)!==o;)s.x+=i,s.y+=r;return s}},{key:"setCursorAt",value:function(t,e,n){this.stopCursorBlink(),this.isValidCell(t,e)&&(this.cursor.x=t,this.cursor.y=e,this.useCursor=!0,n&&this.getCellAttribute(t,e,y.LOCKED)?this.moveCursor(1,0,n):this.cursorEnabled&&this.startCursorBlink())}},{key:"setUseCursor",value:function(t){this.useCursor=t}},{key:"getCursor",value:function(){return this.cursor}},{key:"countCharsLike",value:function(t){for(var e=0,n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.chars[n][i]===t&&e++;return e}},{key:"getNumCells",value:function(){return this.nRows*this.nCols}},{key:"countCoincidences",value:function(t){var e=0;if(this.answers)for(var n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.isCellOk(i,n,t)&&e++;return e}},{key:"isCellOk",value:function(t,e,n){var i=!1;if(this.isValidCell(t,e)){var r=this.chars[e][t];if(r!==this.wild){var o=this.answers[e][t];r!==o&&(n||r.toUpperCase()!==o.toUpperCase())||(i=!0)}}return i}},{key:"getLogicalCoords",value:function(t){if(!this.contains(t))return null;var e=Math.floor((t.x-this.pos.x)/this.cellWidth),n=Math.floor((t.y-this.pos.y)/this.cellHeight);return this.isValidCell(e,n)?new g.Point(e,n):null}},{key:"isValidCell",value:function(t,e){return t<this.nCols&&e<this.nRows&&0<=t&&0<=e}},{key:"setCharAt",value:function(t,e,n){this.isValidCell(t,e)&&(this.chars[e][t]=n,this.repaintCell(t,e))}},{key:"getCharAt",value:function(t,e){return this.isValidCell(t,e)?this.chars[e][t]:" "}},{key:"getStringBetween",value:function(t,e,n,i){var r="";if(this.isValidCell(t,e)&&this.isValidCell(n,i)){var o=n-t,s=i-e;if(0===o||0===s||Math.abs(o)===Math.abs(s)){var a=Math.max(Math.abs(o),Math.abs(s));0<a&&(o/=a,s/=a);for(var c=0;c<=a;c++)r+=this.getCharAt(t+o*c,e+s*c)}}return r}},{key:"setAttributeBetween",value:function(t,e,n,i,r,o){if(this.isValidCell(t,e)&&this.isValidCell(n,i)){var s=n-t,a=i-e;if(0===s||0===a||Math.abs(s)===Math.abs(a)){var c=Math.max(Math.abs(s),Math.abs(a));0<c&&(s/=c,a/=c);for(var u=0;u<=c;u++)this.setAttribute(t+s*u,e+a*u,r,o)}}}},{key:"setAttribute",value:function(t,e,n,i){this.isValidCell(t,e)&&(this.attribute!==y.MARKED||i||this.repaintCell(t,e),this.attributes[e][t]&=~n,this.attributes[e][t]|=i?n:0,n===y.MARKED&&!i||this.repaintCell(t,e))}},{key:"setAllCellsAttribute",value:function(t,e){for(var n=0;n<this.nRows;n++)for(var i=0;i<this.nCols;i++)this.setAttribute(i,n,t,e)}},{key:"getCellAttribute",value:function(t,e,n){return!!this.isValidCell(t,e)&&0!=(this.attributes[e][t]&n)}},{key:"getCellRect",value:function(t,e){return new g.Rectangle(this.pos.x+t*this.cellWidth,this.pos.y+e*this.cellHeight,this.cellWidth,this.cellHeight)}},{key:"getCellBorderBounds",value:function(t,e){var n=this.getCellAttribute(t,e,y.MARKED);if(!this.border&&!n)return this.getCellRect(t,e);var i=this.getBoxBaseResolve(),r=n?i.markerStroke:i.borderStroke;return this.getCellRect(t,e).grow(r.lineWidth,r.lineWidth)}},{key:"repaintCell",value:function(t,e){this.container&&this.container.invalidate(this.getCellBorderBounds(t,e)).update()}},{key:"getPreferredSize",value:function(){return this.preferredBounds.dim}},{key:"getMinimumSize",value:function(){return new g.Dimension(v.MIN_CELL_SIZE*this.nCols,v.MIN_CELL_SIZE*this.nRows)}},{key:"getScaledSize",value:function(t){return new g.Dimension(e.roundTo(t*this.preferredBounds.dim.width,this.nCols),e.roundTo(t*this.preferredBounds.dim.height,this.nRows))}},{key:"setBounds",value:function(t,e,n,i){a(p(h.prototype),"setBounds",this).call(this,t,e,n,i),this.cellWidth=this.dim.width/this.nCols,this.cellHeight=this.dim.height/this.nRows}},{key:"updateContent",value:function(t,e){var n=this.getBoxBaseResolve();t.font=n.font.cssFont(),t.textBaseline="hanging",n.prepareText(t,"W",this.cellWidth-2*v.MIN_INTERNAL_MARGIN,this.cellHeight-2*v.MIN_INTERNAL_MARGIN);for(var i=[],r=(this.cellHeight-n.font.getHeight())/2,o=0;o<this.nRows;o++)for(var s=0;s<this.nCols;s++){if(this.getCellBorderBounds(s,o).intersects(e)){var a=this.attributes[o][s];if(0==(a&y.TRANSPARENT)){var c=0!=(a&y.INVERTED),u=0!=(a&y.MARKED),l=this.useCursor&&this.cursor.x===s&&this.cursor.y===o,h=this.getCellRect(s,o);if(t.fillStyle=l&&this.cursorBlink?n.inactiveColor:c?n.textColor:n.backColor,h.fill(t),t.strokeStyle="black",0==(a&y.HIDDEN)&&(i[0]=this.chars[o][s],i[0])){var f=h.pos.x+(this.cellWidth-t.measureText(i[0]).width)/2,p=h.pos.y+r;if(n.shadow){var d=Math.max(1,n.font.size/10);t.fillStyle=n.shadowColor,t.fillText(i[0],f+d,p+d)}t.fillStyle=c?n.backColor:this.isAlternative()?n.alternativeColor:n.textColor,t.fillText(i[0],f,p)}(this.border||u)&&(t.strokeStyle=n.borderColor,n[u?"markerStroke":"borderStroke"].setStroke(t),u&&(t.globalCompositeOperation="xor"),h.stroke(t),u&&(t.globalCompositeOperation="source-over")),t.strokeStyle="black",g.Stroke.prototype.setStroke(t)}}}return!0}},{key:"blink",value:function(t){this.useCursor&&(this.cursorBlink=1===t||-1!==t&&!this.cursorBlink,this.repaintCell(this.cursor.x,this.cursor.y))}},{key:"end",value:function(){this.cursorTimer&&(this.cursorTimer.stop(),this.cursorTimer=null)}}],[{key:"createEmptyGrid",value:function(t,e,n,i,r,o){var s=new h(t,e,r.style,n,i,r.ncw,r.nch,r.w,r.h,r.border);return s.wild=r.wild,s.randomChars=r.randomChars,s.wildTransparent=o,s}}]),h}();return Object.assign(r.prototype,{nRows:1,nCols:1,chars:null,answers:null,attributes:null,cellWidth:20,cellHeight:20,preferredBounds:null,wild:i.prototype.wild,randomChars:i.prototype.randomChars,cursorEnabled:!1,useCursor:!1,cursor:null,cursorBlink:!1,cursorTimer:null,wildTransparent:!1}),r.defaults=v,r.flags=y,r}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){return(r="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(t){return i(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":i(t)})(t)}function R(t){return(R="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)})(t)}function j(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),e.forEach(function(t){var e,n,i;e=r,i=o[n=t],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i})}return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?u(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(e);var g={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,p(e))}},v=new(function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,n),this.init(t,e)}return c(n,[{key:"init",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};this.prefix=n.prefix||"i18next:",this.logger=t||g,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,i){return i&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(t){return new n(this.logger,j({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),n}()),y=function(){function t(){s(this,t),this.observers={}}return c(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)}),this}},{key:"off",value:function(e,n){var i=this;this.observers[e]&&this.observers[e].forEach(function(){if(n){var t=i.observers[e].indexOf(n);-1<t&&i.observers[e].splice(t,1)}else delete i.observers[e]})}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(n))})}}]),t}();function m(){var n,i,t=new Promise(function(t,e){n=t,i=e});return t.resolve=n,t.reject=i,t}function b(t){return null==t?"":""+t}function w(t,e,n){function i(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var o="string"!=typeof e?[].concat(e):e.split(".");1<o.length;){if(r())return{};var s=i(o.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return r()?{}:{obj:t,k:i(o.shift())}}function k(t,e,n){var i=w(t,e,Object);i.obj[i.k]=n}function A(t,e){var n=w(t,e),i=n.obj,r=n.k;if(i)return i[r]}function x(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var S={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function C(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return S[t]}):t}var E=function(){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return s(this,i),e=l(this,h(i).call(this)),y.call(u(e)),e.data=t||{},e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e}return f(i,y),c(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);-1<e&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:{},o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=[t,e];return n&&"string"!=typeof n&&(s=s.concat(n)),n&&"string"==typeof n&&(s=s.concat(o?n.split(o):n)),-1<t.indexOf(".")&&(s=t.split(".")),A(this.data,s)}},{key:"addResource",value:function(t,e,n,i,r){var o=4<arguments.length&&void 0!==r?r:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var a=[t,e];n&&(a=a.concat(s?n.split(s):n)),-1<t.indexOf(".")&&(i=e,e=(a=t.split("."))[1]),this.addNamespaces(e),k(this.data,a,i),o.silent||this.emit("added",t,e,n,i)}},{key:"addResources",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:{silent:!1};for(var o in n)"string"!=typeof n[o]&&"[object Array]"!==Object.prototype.toString.apply(n[o])||this.addResource(t,e,o,n[o],{silent:!0});r.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,i,r,o){var s=5<arguments.length&&void 0!==o?o:{silent:!1},a=[t,e];-1<t.indexOf(".")&&(i=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var c=A(this.data,a)||{};i?function t(e,n,i){for(var r in n)r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof n[r]||n[r]instanceof String?i&&(e[r]=n[r]):t(e[r],n[r],i):e[r]=n[r];return e}(c,n,r):c=j({},c,n),k(this.data,a,c),s.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?j({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),i}(),O={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,i,r){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,n,i,r))}),e}},P=function(){function i(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return s(this,i),e=l(this,h(i).call(this)),y.call(u(e)),function(t,e,n){t.forEach(function(t){e[t]&&(n[t]=e[t])})}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat"],t,u(e)),e.options=n,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=v.create("translator"),e}return f(i,y),c(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:{interpolation:{}},i=this.resolve(t,n);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,r=e.ns||this.options.defaultNS;if(n&&-1<t.indexOf(n)){var o=t.split(n);(n!==i||n===i&&-1<this.options.ns.indexOf(o[0]))&&(r=o.shift()),t=o.join(i)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}}},{key:"translate",value:function(t,n){var i=this;if("object"!==R(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n=n||{},null==t)return"";Array.isArray(t)||(t=[String(t)]);var e=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,r=this.extractFromKey(t[t.length-1],n),o=r.key,s=r.namespaces,a=s[s.length-1],c=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){var l=n.nsSeparator||this.options.nsSeparator;return a+l+o}return o}var h=this.resolve(t,n),f=h&&h.res,p=h&&h.usedKey||o,d=h&&h.exactUsedKey||o,g=Object.prototype.toString.apply(f),v=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&f&&("string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof v||"[object Array]"!==g)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,n):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");if(e){var m="[object Array]"===g,b=m?[]:{},w=m?d:p;for(var k in f)if(Object.prototype.hasOwnProperty.call(f,k)){var A="".concat(w).concat(e).concat(k);b[k]=this.translate(A,j({},n,{joinArrays:!1,ns:s})),b[k]===A&&(b[k]=f[k])}f=b}}else if(y&&"string"==typeof v&&"[object Array]"===g)f=(f=f.join(v))&&this.extendTranslation(f,t,n);else{var x=!1,S=!1;if(!this.isValidLookup(f)&&void 0!==n.defaultValue){if(x=!0,void 0!==n.count){var C=this.pluralResolver.getSuffix(c,n.count);f=n["defaultValue".concat(C)]}f=f||n.defaultValue}this.isValidLookup(f)||(S=!0,f=o);var E=n.defaultValue&&n.defaultValue!==f&&this.options.updateMissing;if(S||x||E){this.logger.log(E?"updateKey":"missingKey",c,a,o,E?n.defaultValue:f);var O=[],P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&P&&P[0])for(var T=0;T<P.length;T++)O.push(P[T]);else"all"===this.options.saveMissingTo?O=this.languageUtils.toResolveHierarchy(n.lng||this.language):O.push(n.lng||this.language);var _=function(t,e){i.options.missingKeyHandler?i.options.missingKeyHandler(t,a,e,E?n.defaultValue:f,E,n):i.backendConnector&&i.backendConnector.saveMissing&&i.backendConnector.saveMissing(t,a,e,E?n.defaultValue:f,E,n),i.emit("missingKey",t,a,e,f)};if(this.options.saveMissing){var I=void 0!==n.count&&"string"!=typeof n.count;this.options.saveMissingPlurals&&I?O.forEach(function(e){i.pluralResolver.getPluralFormsOfKey(e,o).forEach(function(t){return _([e],t)})}):_(O,o)}}f=this.extendTranslation(f,t,n,h),S&&f===o&&this.options.appendNamespaceToMissingKey&&(f="".concat(a,":").concat(o)),S&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(t,e,n,i){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(j({},n,{interpolation:j({},this.options.interpolation,n.interpolation)}));var o=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(o=j({},this.options.interpolation.defaultVariables,o)),t=this.interpolator.interpolate(t,o,n.lng||this.language,n),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset()}var s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return null!=t&&a&&a.length&&!1!==n.applyPostProcessor&&(t=O.handle(a,t,e,n,this)),t}},{key:"resolve",value:function(t,e){var u,r,l,h,f,p=this,d=1<arguments.length&&void 0!==e?e:{};return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!p.isValidLookup(u)){var e=p.extractFromKey(t,d),s=e.key;r=s;var n=e.namespaces;p.options.fallbackNS&&(n=n.concat(p.options.fallbackNS));var a=void 0!==d.count&&"string"!=typeof d.count,c=void 0!==d.context&&"string"==typeof d.context&&""!==d.context,i=d.lngs?d.lngs:p.languageUtils.toResolveHierarchy(d.lng||p.language,d.fallbackLng);n.forEach(function(o){p.isValidLookup(u)||(f=o,i.forEach(function(t){if(!p.isValidLookup(u)){h=t;var e,n,i=s,r=[i];if(p.i18nFormat&&p.i18nFormat.addLookupKeys)p.i18nFormat.addLookupKeys(r,s,t,o,d);else a&&(e=p.pluralResolver.getSuffix(t,d.count)),a&&c&&r.push(i+e),c&&r.push(i+="".concat(p.options.contextSeparator).concat(d.context)),a&&r.push(i+=e);for(;n=r.pop();)p.isValidLookup(u)||(l=n,u=p.getResource(t,o,n,d))}}))})}}),{res:u,usedKey:r,exactUsedKey:l,usedLng:h,usedNS:f}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,r):this.resourceStore.getResource(t,e,n,r)}}]),i}();function T(t){return t.charAt(0).toUpperCase()+t.slice(1)}var _=function(){function e(t){s(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=v.create("languageUtils")}return c(e,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&-1<t.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=T(n[1].toLowerCase())),-1<e.indexOf(n[2].toLowerCase())&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return(n=(n=(n=n||t[this.getScriptPartFromCode(e)])||t[this.formatLanguageCode(e)])||t.default)||[]}},{key:"toResolveHierarchy",value:function(t,e){function n(t){t&&(i.isWhitelisted(t)?o.push(t):i.logger.warn("rejecting non-whitelisted language code: ".concat(t)))}var i=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),o=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(t))):"string"==typeof t&&n(this.formatLanguageCode(t)),r.forEach(function(t){o.indexOf(t)<0&&n(i.formatLanguageCode(t))}),o}}]),e}(),I=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],B={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1===t?0:2===t?1:(t<0||10<t)&&t%10==0?2:3)}};var M=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};s(this,n),this.languageUtils=t,this.options=e,this.logger=v.create("pluralResolver"),this.rules=function(){var n={};return I.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:B[e.fc]}})}),n}()}return c(n,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&1<e.numbers.length}},{key:"getPluralFormsOfKey",value:function(n,i){var r=this,o=[],t=this.getRule(n);return t&&t.numbers.forEach(function(t){var e=r.getSuffix(n,t);o.push("".concat(i).concat(e))}),o}},{key:"getSuffix",value:function(t,e){var n=this,i=this.getRule(t);if(i){var r=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var s=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):s():"v2"===this.options.compatibilityJSON?s():this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),n}(),D=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.logger=v.create("interpolator"),this.init(t,!0)}return c(e,[{key:"init",value:function(t,e){var n=0<arguments.length&&void 0!==t?t:{};(1<arguments.length?e:void 0)&&(this.options=n,this.format=n.interpolation&&n.interpolation.format||function(t){return t}),n.interpolation||(n.interpolation={escapeValue:!0});var i=n.interpolation;this.escape=void 0!==i.escape?i.escape:C,this.escapeValue=void 0===i.escapeValue||i.escapeValue,this.useRawValueToEscape=void 0!==i.useRawValueToEscape&&i.useRawValueToEscape,this.prefix=i.prefix?x(i.prefix):i.prefixEscaped||"{{",this.suffix=i.suffix?x(i.suffix):i.suffixEscaped||"}}",this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||",",this.unescapePrefix=i.unescapeSuffix?"":i.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":i.unescapeSuffix||"",this.nestingPrefix=i.nestingPrefix?x(i.nestingPrefix):i.nestingPrefixEscaped||x("$t("),this.nestingSuffix=i.nestingSuffix?x(i.nestingSuffix):i.nestingSuffixEscaped||x(")"),this.maxReplaces=i.maxReplaces?i.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,r,o,e){var n,i,s,a=this;function c(t){return t.replace(/\$/g,"$$$$")}function u(t){if(t.indexOf(a.formatSeparator)<0)return A(r,t);var e=t.split(a.formatSeparator),n=e.shift().trim(),i=e.join(a.formatSeparator).trim();return a.format(A(r,n),i,o)}this.resetRegExp();var l=e&&e.missingInterpolationHandler||this.options.missingInterpolationHandler;for(s=0;(n=this.regexpUnescape.exec(t))&&(i=u(n[1].trim()),t=t.replace(n[0],i),this.regexpUnescape.lastIndex=0,!(++s>=this.maxReplaces)););for(s=0;n=this.regexp.exec(t);){if(void 0===(i=u(n[1].trim())))if("function"==typeof l){var h=l(t,n,e);i="string"==typeof h?h:""}else this.logger.warn("missed to pass in variable ".concat(n[1]," for interpolating ").concat(t)),i="";else"string"==typeof i||this.useRawValueToEscape||(i=b(i));if(i=this.escapeValue?c(this.escape(i)):c(i),t=t.replace(n[0],i),this.regexp.lastIndex=0,++s>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,e,n){var i,r,o=j({},2<arguments.length&&void 0!==n?n:{});function s(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var i=n.join(",");i=(i=this.interpolate(i,o)).replace(/'/g,'"');try{o=JSON.parse(i),t&&(o=j({},t,o))}catch(t){this.logger.error("failed parsing options string in nesting for key ".concat(e),t)}return e}for(o.applyPostProcessor=!1;i=this.nestingRegexp.exec(t);){if((r=e(s.call(this,i[1].trim(),o),o))&&i[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=b(r)),r||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),r=""),t=t.replace(i[0],r),this.regexp.lastIndex=0}return t}}]),e}();var N=function(){function o(t,e,n){var i,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return s(this,o),i=l(this,h(o).call(this)),y.call(u(i)),i.backend=t,i.store=e,i.languageUtils=n.languageUtils,i.options=r,i.logger=v.create("backendConnector"),i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(n,r.backend,r),i}return f(o,y),c(o,[{key:"queueLoad",value:function(t,e,r,n){var o=this,s=[],a=[],c=[],u=[];return t.forEach(function(n){var i=!0;e.forEach(function(t){var e="".concat(n,"|").concat(t);!r.reload&&o.store.hasResourceBundle(n,t)?o.state[e]=2:o.state[e]<0||(1===o.state[e]?a.indexOf(e)<0&&a.push(e):(o.state[e]=1,i=!1,a.indexOf(e)<0&&a.push(e),s.indexOf(e)<0&&s.push(e),u.indexOf(t)<0&&u.push(t)))}),i||c.push(n)}),(s.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:s,pending:a,toLoadLanguages:c,toLoadNamespaces:u}}},{key:"loaded",value:function(e,n,t){var i=d(e.split("|"),2),r=i[0],o=i[1];n&&this.emit("failedLoading",r,o,n),t&&this.store.addResourceBundle(r,o,t),this.state[e]=n?-1:2;var s={};this.queue.forEach(function(t){!function(t,e,n,i){var r=w(t,e,Object),o=r.obj,s=r.k;o[s]=o[s]||[],i&&(o[s]=o[s].concat(n)),i||o[s].push(n)}(t.loaded,[r],o),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(t.pending,e),n&&t.errors.push(n),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(e){s[e]||(s[e]=[]),t.loaded[e].length&&t.loaded[e].forEach(function(t){s[e].indexOf(t)<0&&s[e].push(t)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(n,i,r,t,e,o){var s=this,a=3<arguments.length&&void 0!==t?t:0,c=4<arguments.length&&void 0!==e?e:250,u=5<arguments.length?o:void 0;return n.length?this.backend[r](n,i,function(t,e){t&&e&&a<5?setTimeout(function(){s.read.call(s,n,i,r,a+1,2*c,u)},c):u(t,e)}):u(null,{})}},{key:"prepareLoading",value:function(t,e,n,i){var r=this,o=2<arguments.length&&void 0!==n?n:{},s=3<arguments.length?i:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var a=this.queueLoad(t,e,o,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(function(t){r.loadOne(t)})}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(n,t){var i=this,r=1<arguments.length&&void 0!==t?t:"",e=d(n.split("|"),2),o=e[0],s=e[1];this.read(o,s,"read",null,null,function(t,e){t&&i.logger.warn("".concat(r,"loading namespace ").concat(s," for language ").concat(o," failed"),t),!t&&e&&i.logger.log("".concat(r,"loaded namespace ").concat(s," for language ").concat(o),e),i.loaded(n,t,e)})}},{key:"saveMissing",value:function(t,e,n,i,r,o){var s=5<arguments.length&&void 0!==o?o:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,i,null,j({},s,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,i)}}]),o}();function L(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function V(){}var F=new(function(){function a(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;if(s(this,a),t=l(this,h(a).call(this)),y.call(u(t)),t.options=L(e),t.services={},t.logger=v,t.modules={external:[]},n&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,n),l(t,u(t));setTimeout(function(){t.init(e,n)},0)}return t}return f(a,y),c(a,[{key:"init",value:function(t,e){var r=this,n=0<arguments.length&&void 0!==t?t:{},i=1<arguments.length?e:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof n&&(i=n,n={}),this.options=j({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===R(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===R(t[2])||"object"===R(t[3])){var n=t[3]||t[2];Object.keys(n).forEach(function(t){e[t]=n[t]})}return e},interpolation:{escapeValue:!0,format:function(t,e,n){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,L(n)),this.format=this.options.interpolation.format,i=i||V,!this.options.isClone){this.modules.logger?v.init(o(this.modules.logger),this.options):v.init(null,this.options);var s=new _(this.options);this.store=new E(this.options.resources,this.options);var a=this.services;a.logger=v,a.resourceStore=this.store,a.languageUtils=s,a.pluralResolver=new M(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new D(this.options),a.backendConnector=new N(o(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),this.modules.languageDetector&&(a.languageDetector=o(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=o(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new P(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r.emit.apply(r,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(r)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){r[e]=function(){var t;return(t=r.store)[e].apply(t,arguments)}});function c(){r.changeLanguage(r.options.lng,function(t,e){r.isInitialized=!0,r.logger.log("initialized",r.options),r.emit("initialized",r.options),u.resolve(e),i(t,e)})}var u=m();return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),u}},{key:"loadResources",value:function(t){var e=this,n=0<arguments.length&&void 0!==t?t:V;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&"cimode"===this.language.toLowerCase())return n();var i=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(t){i.indexOf(t)<0&&i.push(t)})};if(this.language)r(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return r(t)});this.options.preload&&this.options.preload.forEach(function(t){return r(t)}),this.services.backendConnector.load(i,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(t,e,n){var i=m();return t=t||this.languages,e=e||this.options.ns,n=n||V,this.services.backendConnector.reload(t,e,function(t){i.resolve(),n(t)}),i}},{key:"use",value:function(t){return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&O.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,n){var i=this,r=m();this.emit("languageChanging",t);function e(e){e&&(i.language=e,i.languages=i.services.languageUtils.toResolveHierarchy(e),i.translator.language||i.translator.changeLanguage(e),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(e)),i.loadResources(function(t){!function(t,e){i.translator.changeLanguage(e),e&&(i.emit("languageChanged",e),i.logger.log("languageChanged",e)),r.resolve(function(){return i.t.apply(i,arguments)}),n&&n(t,function(){return i.t.apply(i,arguments)})}(t,e)})}return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(t):e(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(t,e){function s(t,e){var n=j({},e);if("object"!==R(e)){for(var i=arguments.length,r=new Array(2<i?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];n=a.options.overloadTranslationOptionHandler([t,e].concat(r))}return n.lng=n.lng||s.lng,n.lngs=n.lngs||s.lngs,n.ns=n.ns||s.ns,a.t(t,n)}var a=this;return"string"==typeof t?s.lng=t:s.lngs=t,s.ns=e,s}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"loadNamespaces",value:function(t,e){var n=this,i=m();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),this.loadResources(function(t){i.resolve(),e&&e(t)}),i):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=m();"string"==typeof t&&(t=[t]);var i=this.options.preload||[],r=t.filter(function(t){return i.indexOf(t)<0});return r.length?(this.options.preload=i.concat(r),this.loadResources(function(t){n.resolve(),e&&e(t)}),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(!(t=t||(this.languages&&0<this.languages.length?this.languages[0]:this.language)))return"rtl";return 0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(t,e){return new a(0<arguments.length&&void 0!==t?t:{},1<arguments.length?e:void 0)}},{key:"cloneInstance",value:function(t,e){var n=this,i=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:V,o=j({},this.options,i,{isClone:!0}),s=new a(o);return["store","services","language"].forEach(function(t){s[t]=n[t]}),s.translator=new P(s.services,s.options),s.translator.on("*",function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];s.emit.apply(s,[t].concat(n))}),s.init(o,r),s.translator.options=s.options,s}}]),a}());e.default=F},function(t,e,n){n(207),t.exports=n(409)},function(t,e,n){"use strict";(function(t){if(n(208),n(405),n(406),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(this,n(44))},function(t,e,n){n(209),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(289),n(290),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(118),n(313),n(314),n(154),n(315),n(316),n(317),n(318),n(319),n(157),n(159),n(160),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),t.exports=n(25)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){var e=$[t]=_(L[q]);return e._k=t,e}function o(t,e){C(t);for(var n,i=x(e=O(e)),r=0,o=i.length;r<o;)tt(t,n=i[r++],e[n]);return t}function s(t){var e=H.call(this,t=P(t,!0));return!(this===J&&h($,t)&&!h(W,t))&&(!(e||!h(this,t)||!h($,t)||h(this,z)&&this[z][t])||e)}function a(t,e){if(t=O(t),e=P(e,!0),t!==J||!h($,e)||h(W,e)){var n=M(t,e);return!n||!h($,e)||h(t,z)&&t[z][e]||(n.enumerable=!0),n}}function c(t){for(var e,n=N(O(t)),i=[],r=0;n.length>r;)h($,e=n[r++])||e==z||e==g||i.push(e);return i}function u(t){for(var e,n=t===J,i=N(n?W:O(t)),r=[],o=0;i.length>o;)!h($,e=i[o++])||n&&!h(J,e)||r.push($[e]);return r}var l=n(5),h=n(19),f=n(10),p=n(0),d=n(17),g=n(39).KEY,v=n(6),y=n(75),m=n(58),b=n(46),w=n(8),k=n(137),A=n(98),x=n(210),S=n(78),C=n(4),E=n(7),O=n(20),P=n(29),T=n(45),_=n(49),I=n(140),R=n(21),j=n(11),B=n(47),M=R.f,D=j.f,N=I.f,L=l.Symbol,V=l.JSON,F=V&&V.stringify,q="prototype",z=w("_hidden"),U=w("toPrimitive"),H={}.propertyIsEnumerable,G=y("symbol-registry"),$=y("symbols"),W=y("op-symbols"),J=Object[q],Y="function"==typeof L,Z=l.QObject,K=!Z||!Z[q]||!Z[q].findChild,Q=f&&v(function(){return 7!=_(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=M(J,e);i&&delete J[e],D(t,e,n),i&&t!==J&&D(J,e,i)}:D,X=Y&&"symbol"==i(L.iterator)?function(t){return"symbol"==i(t)}:function(t){return t instanceof L},tt=function(t,e,n){return t===J&&tt(W,e,n),C(t),e=P(e,!0),C(n),h($,e)?(n.enumerable?(h(t,z)&&t[z][e]&&(t[z][e]=!1),n=_(n,{enumerable:T(0,!1)})):(h(t,z)||D(t,z,T(1,{})),t[z][e]=!0),Q(t,e,n)):D(t,e,n)};Y||(d((L=function(t){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var n=b(0<arguments.length?t:void 0);return f&&K&&Q(J,n,{configurable:!0,set:function t(e){this===J&&t.call(W,e),h(this,z)&&h(this[z],n)&&(this[z][n]=!1),Q(this,n,T(1,e))}}),r(n)})[q],"toString",function(){return this._k}),R.f=a,j.f=tt,n(50).f=I.f=c,n(67).f=s,n(77).f=u,f&&!n(40)&&d(J,"propertyIsEnumerable",s,!0),k.f=function(t){return r(w(t))}),p(p.G+p.W+p.F*!Y,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)w(et[nt++]);for(var it=B(w.store),rt=0;it.length>rt;)A(it[rt++]);p(p.S+p.F*!Y,"Symbol",{for:function(t){return h(G,t+="")?G[t]:G[t]=L(t)},keyFor:function(t){if(!X(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),p(p.S+p.F*!Y,"Object",{create:function(t,e){return void 0===e?_(t):o(_(t),e)},defineProperty:tt,defineProperties:o,getOwnPropertyDescriptor:a,getOwnPropertyNames:c,getOwnPropertySymbols:u}),V&&p(p.S+p.F*(!Y||v(function(){var t=L();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=e=i[1],(E(e)||void 0!==t)&&!X(t))return S(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!X(e))return e}),i[1]=e,F.apply(V,i)}}),L[q][U]||n(16)(L[q],U,L[q].valueOf),m(L,"Symbol"),m(Math,"Math",!0),m(l.JSON,"JSON",!0)},function(t,e,n){var a=n(47),c=n(77),u=n(67);t.exports=function(t){var e=a(t),n=c.f;if(n)for(var i,r=n(t),o=u.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(49)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(10),"Object",{defineProperty:n(11).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(10),"Object",{defineProperties:n(139)})},function(t,e,n){var i=n(20),r=n(21).f;n(32)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(14),r=n(22);n(32)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(14),r=n(47);n(32)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(32)("getOwnPropertyNames",function(){return n(140).f})},function(t,e,n){var i=n(7),r=n(39).onFreeze;n(32)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(7),r=n(39).onFreeze;n(32)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(7),r=n(39).onFreeze;n(32)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(7);n(32)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(7);n(32)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(7);n(32)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(141)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(226)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(102).set})},function(t,e,n){"use strict";var i=n(68),r={};r[n(8)("toStringTag")]="z",r+""!="[object z]"&&n(17)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(142)})},function(t,e,n){var i=n(11).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(10)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(7),r=n(22),o=n(8)("hasInstance"),s=Function.prototype;o in s||n(11).f(s,o,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(0),r=n(144);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var i=n(0),r=n(145);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(t,e,n){"use strict";function i(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var n,i,r,o=(e=b?e.trim():p(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var s,a=e.slice(2),c=0,u=a.length;c<u;c++)if((s=a.charCodeAt(c))<48||r<s)return NaN;return parseInt(a,i)}}return+e}var r=n(5),o=n(19),s=n(27),a=n(104),l=n(29),c=n(6),u=n(50).f,h=n(21).f,f=n(11).f,p=n(59).trim,d="Number",g=r[d],v=g,y=g.prototype,m=s(n(49)(y))==d,b="trim"in String.prototype;if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof g&&(m?c(function(){y.valueOf.call(n)}):s(n)!=d)?a(new v(i(e)),n,g):i(e)};for(var w,k=n(10)?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;k.length>A;A++)o(v,w=k[A])&&!o(g,w)&&f(g,w,h(v,w));(g.prototype=y).constructor=g,n(17)(r,d,g)}},function(t,e,n){"use strict";function u(t,e){for(var n=-1,i=e;++n<6;)i+=t*s[n],s[n]=i%1e7,i=o(i/1e7)}function l(t){for(var e=6,n=0;0<=--e;)n+=s[e],s[e]=o(n/t),n=n%t*1e7}function h(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==s[t]){var n=String(s[t]);e=""===e?n:e+g.call("0",7-n.length)+n}return e}function f(t,e,n){return 0===e?n:e%2==1?f(t,e-1,n*t):f(t*t,e/2,n)}var i=n(0),p=n(31),d=n(146),g=n(105),r=1..toFixed,o=Math.floor,s=[0,0,0,0,0,0],v="Number.toFixed: incorrect invocation!";i(i.P+i.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(6)(function(){r.call({})})),"Number",{toFixed:function(t){var e,n,i,r,o=d(this,v),s=p(t),a="",c="0";if(s<0||20<s)throw RangeError(v);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(a="-",o=-o),1e-21<o)if(n=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(o*f(2,69,1))-69)<0?o*f(2,-e,1):o/f(2,e,1),n*=4503599627370496,0<(e=52-e)){for(u(0,n),i=s;7<=i;)u(1e7,0),i-=7;for(u(f(10,i,1),0),i=e-1;23<=i;)l(1<<23),i-=23;l(1<<i),u(1,1),l(2),c=h()}else u(0,n),u(1<<-e,0),c=h()+g.call("0",s);return c=0<s?a+((r=c.length)<=s?"0."+g.call("0",s-r)+c:c.slice(0,r-s)+"."+c.slice(r-s)):a+c}})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(146),s=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(5).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(147)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(147),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),r=n(145);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,n){var i=n(0),r=n(144);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,n){var i=n(0),r=n(148),o=Math.sqrt,s=Math.acosh;i(i.S+i.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var i=n(0),r=Math.asinh;i(i.S+i.F*!(r&&0<1/r(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(106);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,n){var i=n(0),r=n(107);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(149)})},function(t,e,n){var i=n(0),c=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,s=arguments.length,a=0;o<s;)a<(n=c(arguments[o++]))?(r=r*(i=a/n)*i+1,a=n):r+=0<n?(i=n/a)*i:n;return a===1/0?1/0:a*Math.sqrt(r)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(6)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i;return 0|r*o+((65535&n>>>16)*o+r*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(148)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(106)})},function(t,e,n){var i=n(0),r=n(107),o=Math.exp;i(i.S+i.F*n(6)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(107),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),o=n(48),s=String.fromCharCode,r=String.fromCodePoint;i(i.S+i.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;r<i;){if(e=+arguments[r++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?s(e):s(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),s=n(20),a=n(12);i(i.S,"String",{raw:function(t){for(var e=s(t.raw),n=a(e.length),i=arguments.length,r=[],o=0;o<n;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}})},function(t,e,n){"use strict";n(59)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(108)(!0);n(109)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(0),r=n(108)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),a=n(12),c=n(111),u="endsWith",l=""[u];i(i.P+i.F*n(112)(u),"String",{endsWith:function(t,e){var n=c(this,t,u),i=1<arguments.length?e:void 0,r=a(n.length),o=void 0===i?r:Math.min(a(i),r),s=String(t);return l?l.call(n,s,o):n.slice(o-s.length,o)===s}})},function(t,e,n){"use strict";var i=n(0),r=n(111);i(i.P+i.F*n(112)("includes"),"String",{includes:function(t,e){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?e:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(105)})},function(t,e,n){"use strict";var i=n(0),o=n(12),s=n(111),a="startsWith",c=""[a];i(i.P+i.F*n(112)(a),"String",{startsWith:function(t,e){var n=s(this,t,a),i=o(Math.min(1<arguments.length?e:void 0,n.length)),r=String(t);return c?c.call(n,r,i):n.slice(i,i+r.length)===r}})},function(t,e,n){"use strict";n(18)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(18)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(18)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(18)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(18)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(18)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(18)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(18)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(18)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(18)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(18)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(18)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(18)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(29);i(i.P+i.F*n(6)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),r=n(288);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(t,e,n){"use strict";function i(t){return 9<t?t:"0"+t}var r=n(6),o=Date.prototype.getTime,s=Date.prototype.toISOString;t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":9999<t?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"."+(99<e?e:"0"+i(e))+"Z"}:s},function(t,e,n){var i=Date.prototype,r="Invalid Date",o=i.toString,s=i.getTime;new Date(NaN)+""!=r&&n(17)(i,"toString",function(){var t=s.call(this);return t==t?o.call(this):r})},function(t,e,n){var i=n(8)("toPrimitive"),r=Date.prototype;i in r||n(16)(r,i,n(291))},function(t,e,n){"use strict";var i=n(4),r=n(29);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(78)})},function(t,e,n){"use strict";var d=n(26),i=n(0),g=n(14),v=n(150),y=n(113),m=n(12),b=n(114),w=n(115);i(i.S+i.F*!n(80)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var i,r,o,s,a=g(t),c="function"==typeof this?this:Array,u=arguments.length,l=1<u?e:void 0,h=void 0!==l,f=0,p=w(a);if(h&&(l=d(l,2<u?n:void 0,2)),null==p||c==Array&&y(p))for(r=new c(i=m(a.length));f<i;f++)b(r,f,h?l(a[f],f):a[f]);else for(s=p.call(a),r=new c;!(o=s.next()).done;f++)b(r,f,h?v(s,l,[o.value,f],!0):o.value);return r.length=f,r}})},function(t,e,n){"use strict";var i=n(0),r=n(114);i(i.S+i.F*n(6)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(20),o=[].join;i(i.P+i.F*(n(66)!=Object||!n(28)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(101),u=n(27),l=n(48),h=n(12),f=[].slice;i(i.P+i.F*n(6)(function(){r&&f.call(r)}),"Array",{slice:function(t,e){var n=h(this.length),i=u(this);if(e=void 0===e?n:e,"Array"==i)return f.call(this,t,e);for(var r=l(t,n),o=l(e,n),s=h(o-r),a=new Array(s),c=0;c<s;c++)a[c]="String"==i?this.charAt(r+c):this[r+c];return a}})},function(t,e,n){"use strict";var i=n(0),r=n(15),o=n(14),s=n(6),a=[].sort,c=[1,2,3];i(i.P+i.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!n(28)(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(33)(0),o=n(28)([].forEach,!0);i(i.P+i.F*!o,"Array",{forEach:function(t,e){return r(this,t,e)}})},function(t,e,n){var i=n(7),r=n(78),o=n(8)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(33)(1);i(i.P+i.F*!n(28)([].map,!0),"Array",{map:function(t,e){return r(this,t,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(33)(2);i(i.P+i.F*!n(28)([].filter,!0),"Array",{filter:function(t,e){return r(this,t,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(33)(3);i(i.P+i.F*!n(28)([].some,!0),"Array",{some:function(t,e){return r(this,t,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(33)(4);i(i.P+i.F*!n(28)([].every,!0),"Array",{every:function(t,e){return r(this,t,e)}})},function(t,e,n){"use strict";var i=n(0),r=n(151);i(i.P+i.F*!n(28)([].reduce,!0),"Array",{reduce:function(t,e){return r(this,t,arguments.length,e,!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(151);i(i.P+i.F*!n(28)([].reduceRight,!0),"Array",{reduceRight:function(t,e){return r(this,t,arguments.length,e,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(76)(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(s||!n(28)(o)),"Array",{indexOf:function(t,e){return s?o.apply(this,arguments)||0:r(this,t,e)}})},function(t,e,n){"use strict";var i=n(0),o=n(20),s=n(31),a=n(12),c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(28)(c)),"Array",{lastIndexOf:function(t,e){if(u)return c.apply(this,arguments)||0;var n=o(this),i=a(n.length),r=i-1;for(1<arguments.length&&(r=Math.min(r,s(e))),r<0&&(r=i+r);0<=r;r--)if(r in n&&n[r]===t)return r||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(152)}),n(41)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(117)}),n(41)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(33)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),n(41)("find")},function(t,e,n){"use strict";var i=n(0),r=n(33)(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),i(i.P+i.F*s,"Array",{findIndex:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),n(41)(o)},function(t,e,n){n(51)("Array")},function(t,e,n){var i=n(5),o=n(104),r=n(11).f,s=n(50).f,a=n(79),c=n(81),u=i.RegExp,l=u,h=u.prototype,f=/a/g,p=/a/g,d=new u(f)!==f;if(n(10)&&(!d||n(6)(function(){return p[n(8)("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,i=a(t),r=void 0===e;return!n&&i&&t.constructor===u&&r?t:o(d?new l(i&&!r?t.source:t,e):l((i=t instanceof u)?t.source:t,i&&r?c.call(t):e),n?this:h,u)};function g(e){e in u||r(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})}for(var v=s(l),y=0;v.length>y;)g(v[y++]);(h.constructor=u).prototype=h,n(17)(i,"RegExp",u)}n(51)("RegExp")},function(t,e,n){"use strict";n(154);function i(t){n(17)(RegExp.prototype,a,t,!0)}var r=n(4),o=n(81),s=n(10),a="toString",c=/./[a];n(6)(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?i(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?o.call(t):void 0)}):c.name!=a&&i(function(){return c.call(this)})},function(t,e,n){n(82)("match",1,function(i,r,t){return[function(t){"use strict";var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},t]})},function(t,e,n){n(82)("replace",2,function(r,o,s){return[function(t,e){"use strict";var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):s.call(String(n),t,e)},s]})},function(t,e,n){n(82)("search",1,function(i,r,t){return[function(t){"use strict";var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},t]})},function(t,e,n){n(82)("split",2,function(r,o,s){"use strict";var p=n(79),d=s,g=[].push,t="split",v="length";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[v]||2!="ab"[t](/(?:ab)*/)[v]||4!="."[t](/(.?)(.?)/)[v]||1<"."[t](/()()/)[v]||""[t](/.?/)[v]){var y=void 0===/()??/.exec("")[1];s=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!p(t))return d.call(n,t,e);var i,r,o,s,a,c=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,h=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,u+"g");for(y||(i=new RegExp("^"+f.source+"$(?!\\s)",u));(r=f.exec(n))&&!(l<(o=r.index+r[0][v])&&(c.push(n.slice(l,r.index)),!y&&1<r[v]&&r[0].replace(i,function(){for(a=1;a<arguments[v]-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),1<r[v]&&r.index<n[v]&&g.apply(c,r.slice(1)),s=r[0][v],l=o,c[v]>=h));)f.lastIndex===r.index&&f.lastIndex++;return l===n[v]?!s&&f.test("")||c.push(""):c.push(n.slice(l)),c[v]>h?c.slice(0,h):c}}else"0"[t](void 0,0)[v]&&(s=function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)});return[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):s.call(String(n),t,e)},s]})},function(t,e,n){"use strict";function i(){}function h(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e}function r(l,n){if(!l._n){l._n=!0;var i=l._c;x(function(){for(var c=l._v,u=1==l._s,t=0,e=function(t){var e,n,i,r=u?t.ok:t.fail,o=t.resolve,s=t.reject,a=t.domain;try{r?(u||(2==l._h&&V(l),l._h=1),!0===r?e=c:(a&&a.enter(),e=r(c),a&&(a.exit(),i=!0)),e===t.promise?s(T("Promise-chain cycle")):(n=h(e))?n.call(e,o,s):o(e)):s(c)}catch(t){a&&!i&&a.exit(),s(t)}};i.length>t;)e(i[t++]);l._c=[],l._n=!1,n&&!l._h&&N(l)})}}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),r(e,!0))}function s(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw T("Promise can't be resolved itself");(n=h(t))?x(function(){var e={_w:i,_d:!1};try{n.call(t,d(s,e,1),d(o,e,1))}catch(t){o.call(e,t)}}):(i._v=t,i._s=1,r(i,!1))}catch(t){o.call({_w:i,_d:!1},t)}}}var a,c,u,l,f=n(40),p=n(5),d=n(26),g=n(68),v=n(0),y=n(7),m=n(15),b=n(52),w=n(53),k=n(83),A=n(119).set,x=n(120)(),S=n(121),C=n(155),E=n(84),O=n(156),P="Promise",T=p.TypeError,_=p.process,I=_&&_.versions,R=I&&I.v8||"",j=p[P],B="process"==g(_),M=c=S.f,D=!!function(){try{var t=j.resolve(1),e=(t.constructor={})[n(8)("species")]=function(t){t(i,i)};return(B||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==R.indexOf("6.6")&&-1===E.indexOf("Chrome/66")}catch(t){}}(),N=function(o){A.call(p,function(){var t,e,n,i=o._v,r=L(o);if(r&&(t=C(function(){B?_.emit("unhandledRejection",i,o):(e=p.onunhandledrejection)?e({promise:o,reason:i}):(n=p.console)&&n.error&&n.error("Unhandled promise rejection",i)}),o._h=B||L(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},V=function(e){A.call(p,function(){var t;B?_.emit("rejectionHandled",e):(t=p.onrejectionhandled)&&t({promise:e,reason:e._v})})};D||(j=function(t){b(this,j,P,"_h"),m(t),a.call(this);try{t(d(s,this,1),d(o,this,1))}catch(t){o.call(this,t)}},(a=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(54)(j.prototype,{then:function(t,e){var n=M(k(this,j));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=B?_.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),u=function(){var t=new a;this.promise=t,this.resolve=d(s,t,1),this.reject=d(o,t,1)},S.f=M=function(t){return t===j||t===l?new u(t):c(t)}),v(v.G+v.W+v.F*!D,{Promise:j}),n(58)(j,P),n(51)(P),l=n(25)[P],v(v.S+v.F*!D,P,{reject:function(t){var e=M(this);return(0,e.reject)(t),e.promise}}),v(v.S+v.F*(f||!D),P,{resolve:function(t){return O(f&&this===l?j:this,t)}}),v(v.S+v.F*!(D&&n(80)(function(t){j.all(t).catch(i)})),P,{all:function(t){var s=this,e=M(s),a=e.resolve,c=e.reject,n=C(function(){var i=[],r=0,o=1;w(t,!1,function(t){var e=r++,n=!1;i.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,i[e]=t,--o||a(i))},c)}),--o||a(i)});return n.e&&c(n.v),e.promise},race:function(t){var e=this,n=M(e),i=n.reject,r=C(function(){w(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(161),r=n(61);n(85)("WeakSet",function(e){return function(t){return e(this,0<arguments.length?t:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(86),o=n(122),u=n(4),l=n(48),h=n(12),s=n(7),a=n(5).ArrayBuffer,f=n(83),p=o.ArrayBuffer,d=o.DataView,c=r.ABV&&a.isView,g=p.prototype.slice,v=r.VIEW,y="ArrayBuffer";i(i.G+i.W+i.F*(a!==p),{ArrayBuffer:p}),i(i.S+i.F*!r.CONSTR,y,{isView:function(t){return c&&c(t)||s(t)&&v in t}}),i(i.P+i.U+i.F*n(6)(function(){return!new p(2).slice(1,void 0).byteLength}),y,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(u(this),t);for(var n=u(this).byteLength,i=l(t,n),r=l(void 0===e?n:e,n),o=new(f(this,p))(h(r-i)),s=new d(this),a=new d(o),c=0;i<r;)a.setUint8(c++,s.getUint8(i++));return o}}),n(51)(y)},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(86).ABV,{DataView:n(122).DataView})},function(t,e,n){n(36)("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},function(t,e,n){n(36)("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(36)("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){var i=n(0),o=n(15),s=n(4),a=(n(5).Reflect||{}).apply,c=Function.apply;i(i.S+i.F*!n(6)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var i=o(t),r=s(n);return a?a(i,e,r):c.call(i,e,r)}})},function(t,e,n){var i=n(0),c=n(49),u=n(15),l=n(4),h=n(7),r=n(6),f=n(142),p=(n(5).Reflect||{}).construct,d=r(function(){function t(){}return!(p(function(){},[],t)instanceof t)}),g=!r(function(){p(function(){})});i(i.S+i.F*(d||g),"Reflect",{construct:function(t,e,n){u(t),l(e);var i=arguments.length<3?t:u(n);if(g&&!d)return p(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(f.apply(t,r))}var o=i.prototype,s=c(h(o)?o:Object.prototype),a=Function.apply.call(t,s,e);return h(a)?a:s}})},function(t,e,n){var i=n(11),r=n(0),o=n(4),s=n(29);r(r.S+r.F*n(6)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=s(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(21).f,o=n(4);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";function i(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var r=n(0),o=n(4);n(110)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var s=n(21),a=n(22),c=n(19),i=n(0),u=n(7),l=n(4);i(i.S,"Reflect",{get:function t(e,n){var i,r,o=arguments.length<3?e:arguments[2];return l(e)===o?e[n]:(i=s.f(e,n))?c(i,"value")?i.value:void 0!==i.get?i.get.call(o):void 0:u(r=a(e))?t(r,n,o):void 0}})},function(t,e,n){var i=n(21),r=n(0),o=n(4);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(22),o=n(4);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(4),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(163)})},function(t,e,n){var i=n(0),r=n(4),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var c=n(11),u=n(21),l=n(22),h=n(19),i=n(0),f=n(45),p=n(4),d=n(7);i(i.S,"Reflect",{set:function t(e,n,i){var r,o,s=arguments.length<4?e:arguments[3],a=u.f(p(e),n);if(!a){if(d(o=l(e)))return t(o,n,i,s);a=f(0)}if(h(a,"value")){if(!1===a.writable||!d(s))return!1;if(r=u.f(s,n)){if(r.get||r.set||!1===r.writable)return!1;r.value=i,c.f(s,n,r)}else c.f(s,n,f(0,i));return!0}return void 0!==a.set&&(a.set.call(s,i),!0)}})},function(t,e,n){var i=n(0),r=n(102);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(0),r=n(76)(!0);i(i.P,"Array",{includes:function(t,e){return r(this,t,1<arguments.length?e:void 0)}}),n(41)("includes")},function(t,e,n){"use strict";var i=n(0),o=n(164),s=n(14),a=n(12),c=n(15),u=n(116);i(i.P,"Array",{flatMap:function(t,e){var n,i,r=s(this);return c(t),n=a(r.length),i=u(r,0),o(i,r,r,n,0,1,t,e),i}}),n(41)("flatMap")},function(t,e,n){"use strict";var i=n(0),o=n(164),s=n(14),a=n(12),c=n(31),u=n(116);i(i.P,"Array",{flatten:function(t){var e=t,n=s(this),i=a(n.length),r=u(n,0);return o(r,n,n,i,0,void 0===e?1:c(e)),r}}),n(41)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(108)(!0);i(i.P,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(165),o=n(84);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t,e){return r(this,t,1<arguments.length?e:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(165),o=n(84);i(i.P+i.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t,e){return r(this,t,1<arguments.length?e:void 0,!1)}})},function(t,e,n){"use strict";n(59)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(59)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";function r(t,e){this._r=t,this._s=e}var i=n(0),o=n(30),s=n(12),a=n(79),c=n(81),u=RegExp.prototype;n(110)(r,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),i(i.P,"String",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):c.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=s(t.lastIndex),new r(i,e)}})},function(t,e,n){n(98)("asyncIterator")},function(t,e,n){n(98)("observable")},function(t,e,n){var i=n(0),c=n(163),u=n(20),l=n(21),h=n(114);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=u(t),r=l.f,o=c(i),s={},a=0;o.length>a;)void 0!==(n=r(i,e=o[a++]))&&h(s,e,n);return s}})},function(t,e,n){var i=n(0),r=n(166)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(166)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(15),s=n(11);n(10)&&i(i.P+n(87),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(15),s=n(11);n(10)&&i(i.P+n(87),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(29),s=n(22),a=n(21).f;n(10)&&i(i.P+n(87),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.get}while(n=s(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(14),o=n(29),s=n(22),a=n(21).f;n(10)&&i(i.P+n(87),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=a(n,i))return e.set}while(n=s(n))}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(167)("Map")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(167)("Set")})},function(t,e,n){n(88)("Map")},function(t,e,n){n(88)("Set")},function(t,e,n){n(88)("WeakMap")},function(t,e,n){n(88)("WeakSet")},function(t,e,n){n(89)("Map")},function(t,e,n){n(89)("Set")},function(t,e,n){n(89)("WeakMap")},function(t,e,n){n(89)("WeakSet")},function(t,e,n){var i=n(0);i(i.G,{global:n(5)})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(5)})},function(t,e,n){var i=n(0),r=n(27);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*r}})},function(t,e,n){var i=n(0),o=n(169),s=n(149);i(i.S,"Math",{fscale:function(t,e,n,i,r){return s(o(t,e,n,i,r))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var r=t>>>0,o=n>>>0;return(e>>>0)-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>16,a=i>>16,c=(s*o>>>0)+(r*o>>>16);return s*a+(c>>16)+((r*a>>>0)+(65535&c)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*r}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(169)})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,r=65535&n,o=65535&i,s=n>>>16,a=i>>>16,c=(s*o>>>0)+(r*o>>>16);return s*a+(c>>>16)+((r*a>>>0)+(65535&c)>>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,n){"use strict";var i=n(0),r=n(25),o=n(5),s=n(83),a=n(156);i(i.P+i.R,"Promise",{finally:function(e){var n=s(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(n,e()).then(function(){return t})}:e,t?function(t){return a(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var i=n(0),r=n(121),o=n(155);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(37),r=n(4),o=i.key,s=i.set;i.exp({defineMetadata:function(t,e,n,i){s(t,e,r(n),o(i))}})},function(t,e,n){var i=n(37),s=n(4),a=i.key,c=i.map,u=i.store;i.exp({deleteMetadata:function(t,e,n){var i=arguments.length<3?void 0:a(n),r=c(s(e),i,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var o=u.get(e);return o.delete(i),!!o.size||u.delete(e)}})},function(t,e,n){var i=n(37),r=n(4),o=n(22),s=i.has,a=i.get,c=i.key;i.exp({getMetadata:function(t,e,n){return function t(e,n,i){if(s(e,n,i))return a(e,n,i);var r=o(n);return null!==r?t(e,r,i):void 0}(t,r(e),arguments.length<3?void 0:c(n))}})},function(t,e,n){var s=n(159),a=n(168),i=n(37),r=n(4),c=n(22),u=i.keys,o=i.key;i.exp({getMetadataKeys:function(t,e){return function t(e,n){var i=u(e,n),r=c(e);if(null===r)return i;var o=t(r,n);return o.length?i.length?a(new s(i.concat(o))):o:i}(r(t),arguments.length<2?void 0:o(e))}})},function(t,e,n){var i=n(37),r=n(4),o=i.get,s=i.key;i.exp({getOwnMetadata:function(t,e,n){return o(t,r(e),arguments.length<3?void 0:s(n))}})},function(t,e,n){var i=n(37),r=n(4),o=i.keys,s=i.key;i.exp({getOwnMetadataKeys:function(t,e){return o(r(t),arguments.length<2?void 0:s(e))}})},function(t,e,n){var i=n(37),r=n(4),o=n(22),s=i.has,a=i.key;i.exp({hasMetadata:function(t,e,n){return function t(e,n,i){if(s(e,n,i))return!0;var r=o(n);return null!==r&&t(e,r,i)}(t,r(e),arguments.length<3?void 0:a(n))}})},function(t,e,n){var i=n(37),r=n(4),o=i.has,s=i.key;i.exp({hasOwnMetadata:function(t,e,n){return o(t,r(e),arguments.length<3?void 0:s(n))}})},function(t,e,n){var i=n(37),r=n(4),o=n(15),s=i.key,a=i.set;i.exp({metadata:function(n,i){return function(t,e){a(n,i,(void 0!==e?r:o)(t),s(e))}}})},function(t,e,n){var i=n(0),r=n(120)(),o=n(5).process,s="process"==n(27)(o);i(i.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){"use strict";function r(t){return null==t?void 0:p(t)}function o(t){var e=t._c;e&&(t._c=void 0,e())}function s(t){return void 0===t._o}function a(t){s(t)||(t._o=void 0,o(t))}function i(e,t){d(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:p(n),this._c=n)}catch(t){return void e.error(t)}s(this)&&o(this)}var c=n(0),u=n(5),l=n(25),h=n(120)(),f=n(8)("observable"),p=n(15),d=n(4),g=n(52),v=n(54),y=n(16),m=n(53),b=m.RETURN;i.prototype=v({},{unsubscribe:function(){a(this)}});var w=function(t){this._s=t};w.prototype=v({},{next:function(t){var e=this._s;if(!s(e)){var n=e._o;try{var i=r(n.next);if(i)return i.call(n,t)}catch(t){try{a(e)}finally{throw t}}}},error:function(t){var e=this._s;if(s(e))throw t;var n=e._o;e._o=void 0;try{var i=r(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{o(e)}finally{throw t}}return o(e),t},complete:function(t){var e=this._s;if(!s(e)){var n=e._o;e._o=void 0;try{var i=r(n.complete);t=i?i.call(n,t):void 0}catch(t){try{o(e)}finally{throw t}}return o(e),t}}});var k=function(t){g(this,k,"Observable","_f")._f=p(t)};v(k.prototype,{subscribe:function(t){return new i(t,this._f)},forEach:function(i){var r=this;return new(l.Promise||u.Promise)(function(t,e){p(i);var n=r.subscribe({next:function(t){try{return i(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),v(k,{from:function(t){var e="function"==typeof this?this:k,n=r(d(t)[f]);if(n){var i=d(n.call(t));return i.constructor===e?i:new e(function(t){return i.subscribe(t)})}return new e(function(e){var n=!1;return h(function(){if(!n){try{if(m(t,!1,function(t){if(e.next(t),n)return b})===b)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:k)(function(e){var n=!1;return h(function(){if(!n){for(var t=0;t<i.length;++t)if(e.next(i[t]),n)return;e.complete()}}),function(){n=!0}})}}),y(k.prototype,f,function(){return this}),c(c.G,{Observable:k}),n(51)("Observable")},function(t,e,n){function i(r){return function(t,e){var n=2<arguments.length,i=n&&a.call(arguments,2);return r(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}}var r=n(5),o=n(0),s=n(84),a=[].slice,c=/MSIE .\./.test(s);o(o.G+o.B+o.F*c,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},function(t,e,n){var i=n(0),r=n(119);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){for(var i=n(118),r=n(47),o=n(17),s=n(5),a=n(16),c=n(60),u=n(8),l=u("iterator"),h=u("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),g=0;g<d.length;g++){var v,y=d[g],m=p[y],b=s[y],w=b&&b.prototype;if(w&&(w[l]||a(w,l,f),w[h]||a(w,h,y),c[y]=f,m))for(v in i)w[v]||o(w,v,i[v],!0)}},function(t,e,n){(function(t,R){function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var c,e=Object.prototype,u=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag",s="object"===j(R),a=t.regeneratorRuntime;if(a)s&&(R.exports=a);else{(a=t.regeneratorRuntime=s?R.exports:{}).wrap=b;var l="suspendedStart",h="suspendedYield",f="executing",p="completed",d={},g={};g[r]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==e&&u.call(y,r)&&(g=y);var m=x.prototype=k.prototype=Object.create(g);A.prototype=m.constructor=x,x.constructor=A,x[o]=A.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,o in t||(t[o]="GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},S(C.prototype),C.prototype[i]=function(){return this},a.AsyncIterator=C,a.async=function(t,e,n,i){var r=new C(b(t,e,n,i));return a.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},S(m),m[o]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(n){var i=[];for(var t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=_,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return o.type="throw",o.arg=n,i.next=t,e&&(i.method="next",i.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var s=u.call(r,"catchLoc"),a=u.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&u.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;P(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),d}}}function b(t,e,n,i){var r=e&&e.prototype instanceof k?e:k,o=Object.create(r.prototype),s=new T(i||[]);return o._invoke=function(o,s,a){var c=l;return function(t,e){if(c===f)throw new Error("Generator is already running");if(c===p){if("throw"===t)throw e;return I()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var i=E(n,a);if(i){if(i===d)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===l)throw c=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=f;var r=w(o,s,a);if("normal"===r.type){if(c=a.done?p:h,r.arg===d)continue;return{value:r.arg,done:a.done}}"throw"===r.type&&(c=p,a.method="throw",a.arg=r.arg)}}}(t,n,s),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function k(){}function A(){}function x(){}function S(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(a){function c(t,e,n,i){var r=w(a[t],a,e);if("throw"!==r.type){var o=r.arg,s=o.value;return s&&"object"===j(s)&&u.call(s,"__await")?Promise.resolve(s.__await).then(function(t){c("next",t,n,i)},function(t){c("throw",t,n,i)}):Promise.resolve(s).then(function(t){o.value=t,n(o)},i)}i(r.arg)}var e;"object"===j(t.process)&&t.process.domain&&(c=t.process.domain.bind(c)),this._invoke=function(n,i){function t(){return new Promise(function(t,e){c(n,i,t,e)})}return e=e?e.then(t,t):t()}}function E(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=w(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,d):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:c,done:!0}}}("object"===(void 0===t?"undefined":j(t))?t:"object"===("undefined"==typeof window?"undefined":j(window))?window:"object"===("undefined"==typeof self?"undefined":j(self))?self:this)}).call(this,n(44),n(170)(t))},function(t,e,n){n(407),t.exports=n(25).RegExp.escape},function(t,e,n){var i=n(0),r=n(408)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(e,n){var i=n===Object(n)?function(t){return n[t]}:n;return function(t){return String(t).replace(e,i)}}},function(t,e,n){var i,r;var b={};i=[n(1),n(410),n(132),n(3),n(2),n(469)],void 0===(r=function(v,y,t,e,m){if(Object.assign(b,{JClicPlayer:y,JClicProject:t,AWT:e,Utils:m,$:v,options:"undefined"==typeof JClicDataOptions?{}:JClicDataOptions,projectFiles:{},currentPlayers:[],loadProject:function(n,t,e){e=m.init(v.extend(Object.create(b.options),e||{}));var i=null,r=!0,o=!1,s=void 0;try{for(var a,c=b.currentPlayers[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;if(u&&u.$topDiv&&u.$topDiv.get(-1)===n){m.log("debug","Existing JClicPlayer found in div. I will try to reuse it."),i=u;var l=!0,h=!1,f=void 0;try{for(var p,d=Object.getOwnPropertyNames(e)[Symbol.iterator]();!(l=(p=d.next()).done);l=!0){var g=p.value;if(!i.options.hasOwnProperty(g)||i.options[g]!==e[g]){m.log("debug","Existing JClicPlayer has diferent options! Creating a new one from scratch."),i=null;break}}}catch(t){h=!0,f=t}finally{try{l||null==d.return||d.return()}finally{if(h)throw f}}break}}}catch(t){o=!0,s=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}return i?i.reset():(m.log("debug","Creating a new instance of JClicPlayer"),i=new y(v(n).empty(),e)),t&&i.initReporter().then(function(){return i.load(t)}).catch(function(t){m.log("error","Unable to start reporting: ".concat(t.toString(),".\n JClicPlayer will be removed.'")),v(n).empty().removeAttr("style").append(v("<h2/>").html(i.getMsg("ERROR"))).append(v("<p/>").html(t));var e=b.currentPlayers.indexOf(i);0<=e&&b.currentPlayers.splice(e,1),i=null}),i&&!1!==e.savePlayersRef&&-1===b.currentPlayers.indexOf(i)&&b.currentPlayers.push(i),i}}),"undefined"!=typeof window){window.JClicObject=b;function n(){return b.currentPlayers.forEach(function(t){t&&t.skin&&t.skin.fit()})}v(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",n),v(window).resize(n)}return v(function(){var o="undefined"==typeof JClicDataOptions?{}:JClicDataOptions;if(!(b.options=o).noInit){var s="string"==typeof JClicDataProject?JClicDataProject:"string"==typeof b.projectFile?b.projectFile:null;v(".JClic").each(function(t,e){var n=v(e),i=n.data("project");i&&(s=i);var r=n.data("options");r&&(o=v.extend(Object.create(o),r)),b.loadProject(e,s,o)})}}),b}.apply(e,i))||(t.exports=r),e=t.exports=b},function(t,e,n){var i,r;function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(171),n(194),n(195),n(447),n(2),n(3),n(449),n(450),n(34),n(131),n(132),n(95),n(71),n(134)],void 0===(r=function(d,g,v,y,r,m,a,o,s,c,t,b,l,n,e){var i=function(){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=function(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?f(t):e}(this,h(i).call(this)),e=m.init(e),n.options=d.extend(Object.create(n.options),e),n.id="JC".concat((65536+Math.round(65535*Math.random())).toString(16).toUpperCase().substr(1)),n.$topDiv=t||d("<div/>"),n.$topDiv.css({"text-align":"initial"}),n.$topDiv.parent().is("td")&&n.$topDiv.css({width:n.options.width||"100%",height:n.options.height||"100%"}),n.$mainContainer=d("<div/>",{class:"JClicContainer",id:n.id}).css({width:"100%",height:"100%"}).appendTo(n.$topDiv),r(f(n)),n.localFS=location&&"file:"===location.protocol,n.$div=d("<div/>",{class:"JClicPlayer"}),n.project=new b,n.activeMediaBag=new s,n.counterVal={score:0,actions:0,time:0},n.bgImageOrigin=new a.Point,n.buildActions(),n.history=new o(f(n)),n.audioEnabled=n.options.audioEnabled,n.navButtonsAlways=n.options.navButtonsAlways,n.defaultSkin=c.getSkin(n.options.skin,f(n)),n.setSkin(c.getSkin("@empty.xml",f(n))),n.initTimers(),m.log("info","JClicPlayer ready"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(i,a.Container),function(t,e,n){e&&u(t.prototype,e),n&&u(t,n)}(i,[{key:"getUniqueId",value:function(t){return"".concat(this.id,"-").concat(t)}},{key:"buildActions",value:function(){var n=this;this.actions={next:new a.Action("next",function(){return n.history.processJump(n.project.activitySequence.getJump(!1,n.reporter),!1)}),prev:new a.Action("prev",function(){return n.history.processJump(n.project.activitySequence.getJump(!0,n.reporter),!1)}),return:new a.Action("return",function(){return n.history.pop()}),reset:new a.Action("reset",function(){n.actPanel&&n.actPanel.act.canReinit()&&n.initActivity()}),help:new a.Action("help",function(){n.actPanel&&n.actPanel.showHelp()}),info:new a.Action("info",function(){n.actPanel&&n.actPanel.act.hasInfo()&&(n.actPanel.act.infoUrl?n.displayURL(n.act.infoUrl,!0):n.actPanel.act.infoCmd&&n.runCmd(n.actPanel.act.infoCmd))}),reports:new a.Action("reports",function(){return n.showReports()}),audio:new a.Action("audio",function(){n.audioEnabled=!n.audioEnabled,n.audioEnabled||n.stopMedia(),t.prototype.globalEnabled=n.audioEnabled})},d.each(this.actions,function(t,e){e.addStatusListener(function(t){n.skin&&n.skin.actionStatusChanged(t)})})}},{key:"reset",value:function(){m.log("info","Restoring player"),this.removeActivity(),this.end(),this.activeMediaBag=new s,this.history.clearHistory(),this.setSkin(null),this.setMsg(null),this.setCounterValue("score",0),this.setCounterValue("actions",0),this.setCounterValue("time",0),this.skin&&this.skin.setWaitCursor("reset")}},{key:"stop",value:function(){this.stopMedia(-1)}},{key:"end",value:function(){var t=null;return this.stopMedia(),this.closeHelpWindow(),this.reporter&&(t=this.reporter.end(),this.reporter=null),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null),this.project&&(this.project.end(),this.project=null),this.activeMediaBag&&this.activeMediaBag.removeAll(),t||Promise.resolve(!0)}},{key:"initReporter",value:function(){return this.reporter&&(this.reporter.end(),this.reporter=null),this.reporter=e.getReporter(null,this),this.reporter.init()}},{key:"initTimers",value:function(){var t=this;this.timer&&this.timer.stop(),this.timer=new a.Timer(function(){t.incCounterValue("time"),t.actPanel&&0<t.actPanel.act.maxTime&&t.actPanel.playing&&t.counterVal.time>=t.actPanel.act.maxTime&&t.actPanel.finishActivity(!1)},1e3,!1),this.delayedTimer&&this.delayedTimer.stop(),this.delayedTimer=new a.Timer(function(){t.delayedAction&&t.delayedAction.processEvent(t.delayedAction,null)},1e3,!1),this.delayedTimer.repeats=!1}},{key:"showReports",value:function(){this.skin&&this.skin.showReports(this.reporter)}},{key:"closeHelpWindow",value:function(){this.skin&&this.skin._closeDlg(!1)}},{key:"setSkin",value:function(t){!(t=t||(this.project&&this.project.skin?this.project.skin:this.defaultSkin))||null!==this.skin&&t.name===this.skin.name||(t.attach(this),this.skin=t,this.skin.doLayout())}},{key:"setProject",value:function(t){this.project&&(this.project!==t&&this.project.end(),this.removeActivity()),this.project=t||new b,this.project.realize(this)}},{key:"load",value:function(s,a,c){var u=this;this.forceFinishActivity(),this.setWaitCursor(!0);var t=null;if(s){if("string"==typeof s){var l=m.getPath(this.basePath,s);if(l.endsWith("project.json"))return m.log("info","Loading JSON info from: ".concat(l)),void d.getJSON(l).done(function(t){var e=t.mainFile;e&&m.endsWith(e,".jclic")||m.endsWith(e,".jclic.json")?u.load(m.getPath(m.getBasePath(l),e),a,c):m.log("error",'Invalid or null "mainFile" specified in '.concat(l,' - "project.json".'))}).fail(function(t,e,n){var i="".concat(e," (").concat(n,") while loading ").concat(s);m.log(i),alert("Error!\n".concat(i))}).always(function(){return u.setWaitCursor(!1)});if(l.endsWith(".zip"))return this.zip=null,m.log("info","Loading ZIP file: ".concat(l)),void v.getBinaryContent(l,function(t,e){if(t)return u.setWaitCursor(!1),void m.log("error","Error loading ZIP file: ".concat(t.toString()));(new g).loadAsync(e).then(function(t){u.zip=t,u.zip.fullZipPath=l,u.zip.zipBasePath=m.getBasePath(l);var e=null;u.zip.files["project.json"]?u.zip.files["project.json"].async("string").then(function(t){try{var e=JSON.parse(t);m.endsWith(e.mainFile,".jclic")?u.load(m.getPath(u.zip.zipBasePath,e.mainFile),a,c):m.log("error",'Invalid or null "mainFile" specified in '.concat(l,' - "project.json".'))}catch(t){m.log("error",'Error reading "project.json" in '.concat(l,": ").concat(t?t.toString():"unknown error"))}}).catch(function(t){m.log("error","Error reading ZIP file: ".concat(t?t.toString():"unknown reason"))}):(e=Object.keys(u.zip.files).find(function(t){return t.endsWith(".jclic")})||null)?u.load(m.getPath(u.zip.zipBasePath,e),a,c):m.log("error","This ZIP file does not contain any JClic project!"),u.setWaitCursor(!1)}).catch(function(t){m.log("error","Error reading ZIP file: ".concat(t?t.toString():"unknown reason")),u.setWaitCursor(!1)})});if(this.localFS&&window.JClicObject&&!window.JClicObject.projectFiles[l])return y("".concat(l,".js"),function(){return u.load(s,a,c)}),void this.setWaitCursor(!1);function e(t){var o=0===t.indexOf("data:text/xml;")||t.endsWith(".jclic");(o?d.get(t,null,null,"xml"):d.getJSON(t)).done(function(t){if(null!==t&&"object"===w(t)){var e=new b;o?e.setProperties(d(t).find("JClicProject"),l,u.zip,u.options):e.setAttributes(t,l,u.zip,u.options),m.log("info","Project file loaded and parsed: ".concat(s));var n=e.mediaBag.buildAll(null,function(t){m.log("trace",'"'.concat(t.name,'" ready.')),u.incProgress(1)},u);m.log("info","Media elements to be loaded: ".concat(n)),u.setProgress(0,n);var i=0;u.setWaitCursor(!0);var r=window.setInterval(function(){++i>u.options.maxWaitTime/500&&(window.clearInterval(r),u.setProgress(-1),u.setWaitCursor(!1),m.log("error","Error loading media")),-1===e.mediaBag.countWaitingElements()&&(window.clearInterval(r),u.setProgress(-1),u.setWaitCursor(!1),u.load(e,a,c))},500)}else m.log("error","Bad data. Project not loaded: ".concat(s))}).fail(function(t,e,n){var i="".concat(e," (").concat(n,") while loading ").concat(s);m.log(i),alert("Error!\n".concat(i))}).always(function(){return u.setWaitCursor(!1)})}m.log("info","Loading project: ".concat(s));var n=l;if(this.zip){var i=m.getRelativePath(n,this.zip.zipBasePath);if(this.zip.files[i])return void this.zip.file(i).async("string").then(function(t){e("data:".concat(i.endsWith(".jclic")?"text/xml":"application/json",";charset=UTF-8,").concat(t))}).catch(function(t){m.log("error",'Unable to extract "'.concat(i,'" from ZIP file because of: ').concat(t?t.toString():"unknown reason")),u.setWaitCursor(!1)})}else if(this.localFS){if(!window.JClicObject||!window.JClicObject.projectFiles[l])return m.log("error","Unable to load: ".concat(l,".js")),void this.setWaitCursor(!1);n="data:".concat(l.endsWith(".jclic")?"text/xml":"application/json",";charset=UTF-8,").concat(window.JClicObject.projectFiles[l])}return void e(n)}this.setProject(s),a||c||(a="0"),this.reporter&&this.reporter.newSession(s)}if(!m.isNullOrUndef(a)){m.log("info","Loading sequence: ".concat(a)),this.navButtonsDisabled=!1;var r=null;if("string"==typeof a&&(r=this.project.activitySequence.getElementByTag(a,!0)),null===r){var o=parseInt(a,10);"number"==typeof o&&(r=this.project.activitySequence.getElement(o,!0))}null!==r&&(this.reporter&&this.reporter.newSequence(r),c=r.activity)}if(c){var h=this.project.getActivity(c);h?(m.log("info","Loading activity: ".concat(c)),h.prepareMedia(this),this.project.activitySequence.checkCurrentActivity(h.name),(t=h.getActivityPanel(this)).buildVisualComponents()):m.log("error","Missing activity: ".concat(c))}if(null!==this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setCounterValue("time",0)),t){if(this.actPanel=t,0<this.options.fade&&this.actPanel.$div.css("display","none"),this.$div.prepend(this.actPanel.$div),this.skin&&this.skin.resetAllCounters(!1),this.actPanel.skin?this.setSkin(this.actPanel.skin):this.project.skin?(this.setSkin(this.project.skin),this.lastProjectSkin=this.project.skin):this.lastProjectSkin?this.setSkin(this.lastProjectSkin):this.setSkin(null),this.skin){var f=0<this.history.storedElementsCount()||this.options.returnAsExit,p=this.navButtonsAlways?"both":this.navButtonsDisabled?"none":this.project.activitySequence.getNavButtonsFlag();this.actions.next.setEnabled(("fwd"===p||"both"===p)&&this.project.activitySequence.hasNextAct(f)),this.actions.prev.setEnabled(("back"===p||"both"===p)&&this.project.activitySequence.hasPrevAct(f)),this.actions.return.setEnabled(f),this.actions.help.setEnabled(this.actPanel.act.helpWindowAllowed()),this.actions.reset.setEnabled(this.actPanel.act.canReinit()),this.actions.info.setEnabled(this.actPanel.act.hasInfo())}this.doLayout(),this.initActivity(),this.actPanel.$div.fadeIn(this.options.fade,function(){return u.activityReady()})}this.setWaitCursor(!1)}},{key:"forceFinishActivity",value:function(){this.timer.stop(),this.delayedTimer.stop(),this.actPanel&&(this.closeHelpWindow(),this.actPanel.forceFinishActivity(),this.stopMedia(),this.activeMediaBag.removeAll())}},{key:"removeActivity",value:function(){this.forceFinishActivity(),this.actPanel&&(this.actPanel.end(),this.actPanel.$div.remove(),this.actPanel=null,this.setMsg(null),this.doLayout())}},{key:"initActivity",value:function(){this.setWaitCursor(!0),this.timer.stop(),this.delayedTimer.stop(),this.setCounterValue("time",0),this.stopMedia(),this.actPanel&&(this.actPanel.initActivity(),this.timer.start(),this.actPanel.act.mustPauseSequence()||this.startAutoPassTimer(),m.log("info",'Activity "'.concat(this.actPanel.act.name,'" running'))),this.setWaitCursor(!1)}},{key:"activityReady",value:function(){this.actPanel&&(this.actPanel.activityReady(),m.log("info","Activity ready"))}},{key:"startActivity",value:function(){this.setWaitCursor(!0),this.actPanel&&this.actPanel.startActivity(),this.setWaitCursor(!1)}},{key:"doLayout",value:function(){var e=this,t=this.dim.width=this.$div.width(),n=this.dim.height=this.$div.height(),i={"background-color":this.actPanel?this.actPanel.act.bgColor:"azure","background-image":""};if(this.actPanel){var r=this.actPanel.act;r.bgGradient&&(i["background-image"]=r.bgGradient.getCss()),r.bgImageFile&&0<r.bgImageFile.length&&this.project.mediaBag.getElement(r.bgImageFile,!0).getFullPathPromise().then(function(t){e.$div.css({"background-image":"url('"+t+"')","background-repeat":r.tiledBgImg?"repeat":"no-repeat","background-position":r.tiledBgImg?"":"center center"})});var o=m.settings.BoxBase.AC_MARGIN,s=new a.Rectangle(o,o,t-2*o,n-2*o);this.actPanel.bgImage&&!r.tiledBgImg&&r.absolutePositioned&&(this.bgImageOrigin.x=(t-this.actPanel.bgImage.width)/2,this.bgImageOrigin.y=(n-this.actPanel.bgImage.height)/2,s.pos.moveTo(this.bgImageOrigin),s.dim.width-=this.bgImageOrigin.x-o,s.dim.height-=this.bgImageOrigin.y-o,s.dim.width=Math.min(s.dim.width,t),s.dim.height=Math.min(s.dim.height,n)),this.actPanel.fitTo(s,this)}this.$div.css(i)}},{key:"playMedia",value:function(t,e,n){var i=this,r=1<arguments.length&&void 0!==e?e:null,o=2<arguments.length&&void 0!==n?n:null,s=null,a=t.file,c=null;switch(t.type){case"PLAY_AUDIO":case"PLAY_VIDEO":case"PLAY_MIDI":case"RECORD_AUDIO":case"PLAY_RECORDED_AUDIO":if(this.audioEnabled){var u=this.activeMediaBag.getActiveMediaPlayer(t,this.project.mediaBag,this);u&&(c=function(){return u.play(r)})}break;case"RUN_CLIC_PACKAGE":s=new l("JUMP",a),t.externalParam&&(s.projectPath=t.externalParam),c=function(){return i.history.processJump(s,!0)};break;case"RUN_CLIC_ACTIVITY":this.history.push(),c=function(){return i.load(null,null,a)};break;case"RETURN":if(0<this.history.storedElementsCount()||!this.options.returnAsExit){c=function(){return i.history.pop()};break}case"EXIT":s=new l("EXIT",a),c=function(){return i.history.processJump(s,!1)};break;case"RUN_EXTERNAL":c=function(){return i.runCmd(a)};break;case"URL":a&&(c=function(){return i.displayURL(a,1<t.level)});break;default:m.log("error","Unknown media type: ".concat(t.type))}o&&c?o.push(c):c&&c()}},{key:"stopMedia",value:function(t){"number"!=typeof t&&(t=-1),this.activeMediaBag.stopAll(t)}},{key:"runCmd",value:function(t){m.log("warn",'Unsupported call to external command: "'.concat(t,'"'))}},{key:"activityFinished",value:function(t){this.closeHelpWindow(),m.log("info","Activity finished"),this.timer.stop(),this.startAutoPassTimer()}},{key:"startAutoPassTimer",value:function(){var t=this.project.activitySequence.getCurrentAct();null!==t&&0<t.delay&&!this.delayedTimer.isRunning()&&!this.navButtonsDisabled&&(this.delayedAction=this.actions.next,this.delayedTimer.interval=1e3*t.delay,this.delayedTimer.start())}},{key:"getMsg",value:function(t){return t}},{key:"setMsg",value:function(t){var e=this.skin?this.skin.getMsgBox():null;e&&(e.clear(),this.skin.invalidate(e).update(),e.setContent(t||n.EMPTY_CONTENT),this.skin.invalidate(e).update(),e.playMedia(this))}},{key:"playMsg",value:function(){this.skin&&this.skin.getMsgBox()&&this.skin.getMsgBox().playMedia(this)}},{key:"setCounterValue",value:function(t,e){this.counterVal[t]=e,this.skin&&this.skin.counters[t]&&this.skin.counters[t].setValue(e)}},{key:"getCounterValue",value:function(t){return this.counterVal[t]}},{key:"setCounterEnabled",value:function(t,e){this.skin&&(this.skin.enableCounter(t,e),this.setCountDown(t,0))}},{key:"incCounterValue",value:function(t){this.counterVal[t]++;var e=this.actPanel,n=this.skin?this.skin.counters[t]:null;n&&n.setValue(this.counterVal[t]),"actions"===t&&null!==e&&0<e.act.maxActions&&e.playing&&this.counterVal.actions>=e.act.maxActions&&window.setTimeout(function(){e.finishActivity(e.solved)},0)}},{key:"setCountDown",value:function(t,e){this.skin&&this.skin.counters[t]&&this.skin.counters[t].setCountDown(e)}},{key:"setWaitCursor",value:function(t){this.skin&&this.skin.setWaitCursor(t)}},{key:"setProgress",value:function(t,e){this.skin&&this.skin.setProgress(t,e)}},{key:"incProgress",value:function(t){this.skin&&this.skin.incProgress(t)}},{key:"getActiveMediaPlayer",value:function(t){return this.activeMediaBag&&t?this.activeMediaBag.getActiveMediaPlayer(t,this.project.mediaBag,this):null}},{key:"reportNewActivity",value:function(t){var e=this.project.activitySequence.getCurrentAct();this.reporter&&(e.tag===this.reporter.getCurrentSequenceTag()&&this.reporter.newSequence(e),t.includeInReports&&this.reporter.newActivity(t)),this.setCounterValue("actions",0),this.setCounterValue("score",0)}},{key:"reportNewAction",value:function(t,e,n,i,r,o){this.reporter&&t.includeInReports&&t.reportActions&&this.reporter.newAction(e,n,i,r),0<=o&&(this.incCounterValue("actions"),this.setCounterValue("score",o))}},{key:"reportEndActivity",value:function(t,e){this.reporter&&t.includeInReports&&this.reporter.endActivity(this.counterVal.score,this.counterVal.actions,e)}},{key:"showHelp",value:function(t){return!!this.skin&&this.skin.showHelp(t)}},{key:"displayURL",value:function(t,e){t&&(e?window.open(t,this.options.infoUrlFrame):this.end().then(function(){window.location.href=t}))}},{key:"exit",value:function(t){this.displayURL(t||this.options.exitUrl,!1)}},{key:"setWindowTitle",value:function(t){m.log("info","running ".concat(t))}}]),i}();return Object.assign(i.prototype,{JClicVersion:"0",options:{maxWaitTime:12e4,infoUrlFrame:"_blank",exitUrl:null,returnAsExit:!1,audioEnabled:!0,navButtonsAlways:!1,fade:300},id:"JC0000",$div:null,$topDiv:null,$mainContainer:null,fullScreenChecked:!1,project:null,basePath:"",zip:null,localFS:!1,actPanel:null,history:null,skin:null,defaultSkin:null,lastProjectSkin:null,activeMediaBag:null,reporter:null,actions:{},timer:null,delayedTimer:null,delayedAction:null,counterVal:{score:0,actions:0,time:0},bgImageOrigin:null,audioEnabled:!0,navButtonsDisabled:!1,navButtonsAlways:!1}),i}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";function o(t,e,n){var i,r=u.getTypeOf(e),o=u.extend(n||{},h);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(t=y(t)),o.createFolders&&(i=v(t))&&m.call(this,i,!0);var s="string"===r&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!s),(e instanceof f&&0===e.uncompressedSize||o.dir||!e||0===e.length)&&(o.base64=!1,o.binary=!0,e="",o.compression="STORE",r="string");var a=null;a=e instanceof f||e instanceof l?e:d.isNode&&d.isStream(e)?new g(t,e):u.prepareContent(t,e,o.binary,o.optimizedBinaryString,o.base64);var c=new p(t,a,o);this.files[t]=c}var r=n(62),u=n(9),l=n(23),s=n(178),h=n(179),f=n(127),p=n(428),a=n(429),d=n(93),g=n(441),v=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},y=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},m=function(t,e){return e=void 0!==e?e:h.createFolders,t=y(t),this.files[t]||o.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function c(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(n){var i=[];return this.forEach(function(t,e){n(t,e)&&i.push(e)}),i},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,o.call(this,t,e,n),this;if(c(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var r=this.files[this.root+t];return r&&!r.dir?r:null},folder:function(n){if(!n)return this;if(c(n))return this.filter(function(t,e){return e.dir&&n.test(t)});var t=this.root+n,e=m.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(n){n=this.root+n;var t=this.files[n];if(t||("/"!==n.slice(-1)&&(n+="/"),t=this.files[n]),t&&!t.dir)delete this.files[n];else for(var e=this.filter(function(t,e){return e.name.slice(0,n.length)===n}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=u.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");u.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=a.generateWorker(this,n,i)}catch(t){(e=new l("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=i},function(t,e,n){"use strict";e.byteLength=function(t){var e=h(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){for(var e,n=h(t),i=n[0],r=n[1],o=new l(function(t,e,n){return 3*(e+n)/4-n}(0,i,r)),s=0,a=0<r?i-4:i,c=0;c<a;c+=4)e=u[t.charCodeAt(c)]<<18|u[t.charCodeAt(c+1)]<<12|u[t.charCodeAt(c+2)]<<6|u[t.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=255&e;2===r&&(e=u[t.charCodeAt(c)]<<2|u[t.charCodeAt(c+1)]>>4,o[s++]=255&e);1===r&&(e=u[t.charCodeAt(c)]<<10|u[t.charCodeAt(c+1)]<<4|u[t.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=255&e);return o},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r=[],o=0,s=n-i;o<s;o+=16383)r.push(c(t,o,s<o+16383?s:o+16383));1==i?(e=t[n-1],r.push(a[e>>2]+a[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],r.push(a[e>>10]+a[e>>4&63]+a[e<<2&63]+"="));return r.join("")};for(var a=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)a[r]=i[r],u[i.charCodeAt(r)]=r;function h(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,r,o=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(a[(r=i)>>18&63]+a[r>>12&63]+a[r>>6&63]+a[63&r]);return o.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;0<l;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;0<l;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=u}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,c,u=8*o-r-1,l=(1<<u)-1,h=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),2<=(e+=1<=s+h?f/c:f*Math.pow(2,1-h))*c&&(s++,c/=2),l<=s+h?(a=0,s=l):1<=s+h?(a=(e*c-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));8<=r;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,u+=r;0<u;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}},function(t,e,n){var i=function(){try{return n(90)}catch(t){}}();(e=t.exports=n(174)).Stream=i||e,(e.Readable=e).Writable=n(124),e.Duplex=n(55),e.Transform=n(126),e.PassThrough=n(176)},function(t,e){},function(t,e,n){(function(t,d){!function(n,i){"use strict";if(!n.setImmediate){var r,o,e,s,a=1,c={},u=!1,l=n.document,t=Object.getPrototypeOf&&Object.getPrototypeOf(n);t=t&&t.setTimeout?t:n,r="[object process]"==={}.toString.call(n.process)?function(t){d.nextTick(function(){f(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(s="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",p,!1):n.attachEvent("onmessage",p),function(t){n.postMessage(s+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){f(t.data)},function(t){e.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,function(t){var e=l.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):function(t){setTimeout(f,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[a]=i,r(a),a++},t.clearImmediate=h}function h(t){delete c[t]}function f(t){if(u)setTimeout(f,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{h(t),u=!1}}}}function p(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(44),n(92))},function(t,e,n){(function(n){function i(t){try{if(!n.localStorage)return!1}catch(t){return!1}var e=n.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,n(44))},function(t,e,n){var i=n(38),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){t.exports=n(124)},function(t,e,n){t.exports=n(55)},function(t,e,n){t.exports=n(126)},function(t,e,n){t.exports=n(176)},function(e,t,n){"use strict";(function(t){e.exports="function"==typeof t?t:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}}).call(this,n(125).setImmediate)},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(425);function u(){}var l={},o=["REJECTED"],s=["FULFILLED"],a=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a,this.queue=[],this.outcome=void 0,t!==u&&d(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function f(e,n,i){r(function(){var t;try{t=n(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,t)})}function p(t){var e=t&&t.then;if(t&&("object"===i(t)||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,l.reject(e,t))}function r(t){n||(n=!0,l.resolve(e,t))}var o=g(function(){t(r,i)});"error"===o.status&&i(o.value)}function g(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var n=new this.constructor(u);this.state!==a?f(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e));return n},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var n=g(p,e);if("error"===n.status)return l.reject(t,n.value);var i=n.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},l.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},c.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},c.reject=function(t){var e=new this(u);return l.reject(e,t)},c.all=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);var o=new Array(i),s=0,e=-1,a=new this(u);for(;++e<i;)c(t[e],e);return a;function c(t,e){n.resolve(t).then(function(t){o[e]=t,++s!==i||r||(r=!0,l.resolve(a,o))},function(t){r||(r=!0,l.reject(a,t))})}},c.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var r=-1,o=new this(u);for(;++r<n;)s=t[r],e.resolve(s).then(function(t){i||(i=!0,l.resolve(o,t))},function(t){i||(i=!0,l.reject(o,t))});var s;return o}},function(l,t,e){"use strict";(function(e){var n,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var r=0,o=new t(u),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=r=++r%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var a=new e.MessageChannel;a.port1.onmessage=u,n=function(){a.port2.postMessage(0)}}var c=[];function u(){var t,e;i=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}i=!1}l.exports=function(t){1!==c.push(t)||i||n()}}).call(this,e(44))},function(t,e,n){"use strict";var i=n(23),r=n(9);function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,n){"use strict";var r=n(173).Readable;function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}n(9).inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,n){"use strict";function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=n(178),r=n(180),s=n(62),a=n(127),c=n(23);i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var r=!this._dataBinary;r&&!i&&(e=e.pipe(new s.Utf8EncodeWorker)),!r&&i&&(e=e.pipe(new s.Utf8DecodeWorker))}catch(t){(e=new c("error")).error(t)}return new o(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof c?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)i.prototype[u[h]]=l;t.exports=i},function(t,e,n){"use strict";var u=n(183),i=n(440);e.generateWorker=function(t,s,e){var a=new i(s.streamFiles,e,s.platform,s.encodeFileName),c=0;try{t.forEach(function(t,e){c++;var n=function(t,e){var n=t||e,i=u[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(e.options.compression,s.compression),i=e.options.compressionOptions||s.compressionOptions||{},r=e.dir,o=e.date;e._compressWorker(n,i).withStreamInfo("file",{name:t,dir:r,date:o,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(a)}),a.entriesCount=c}catch(t){a.error(t)}return a}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(431),o=n(9),s=n(23),a=i?"uint8array":"array";function c(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(c,s),c.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},e.compressWorker=function(t){return new c("Deflate",t)},e.uncompressWorker=function(){return new c("Inflate",{})}},function(t,e,n){"use strict";var i={};(0,n(43).assign)(i,n(432),n(435),n(188)),t.exports=i},function(t,e,n){"use strict";var s=n(433),a=n(43),c=n(186),r=n(129),o=n(187),u=Object.prototype.toString,l=0,h=-1,f=0,p=8;function d(t){if(!(this instanceof d))return new d(t);this.options=a.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(r[n]);if(e.header&&s.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?c.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=s.deflateSetDictionary(this.strm,i))!==l)throw new Error(r[n]);this._dict_set=!0}}function i(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||r[n.err];return n.result}d.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=c.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new a.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=s.deflate(r,i))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(c.buf2binstring(a.shrinkBuf(r.output,r.next_out))):this.onData(a.shrinkBuf(r.output,r.next_out)))}while((0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==i||(this.onEnd(l),!(r.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=d,e.deflate=i,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},function(t,e,n){"use strict";var c,f=n(43),u=n(434),p=n(184),d=n(185),i=n(129),l=0,h=4,g=0,v=-2,y=-1,m=4,r=2,b=8,w=9,o=286,s=30,a=19,k=2*o+1,A=15,x=3,S=258,C=S+x+1,E=42,O=113,P=1,T=2,_=3,I=4;function R(t,e){return t.msg=i[e],e}function j(t){return(t<<1)-(4<t?9:0)}function B(t){for(var e=t.length;0<=--e;)t[e]=0}function M(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(f.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function D(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,M(t.strm)}function N(t,e){t.pending_buf[t.pending++]=e}function L(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function V(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,c=t.strstart>t.w_size-C?t.strstart-(t.w_size-C):0,u=t.window,l=t.w_mask,h=t.prev,f=t.strstart+S,p=u[o+s-1],d=u[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===d&&u[n+s-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=S-(f-o),o=f-S,s<i){if(t.match_start=e,a<=(s=i))break;p=u[o+s-1],d=u[o+s]}}}while((e=h[e&l])>c&&0!=--r);return s<=t.lookahead?s:t.lookahead}function F(t){var e,n,i,r,o,s,a,c,u,l,h=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=h+(h-C)){for(f.arraySet(t.window,t.window,h,h,0),t.match_start-=h,t.strstart-=h,t.block_start-=h,e=n=t.hash_size;i=t.head[--e],t.head[e]=h<=i?i-h:0,--n;);for(e=n=h;i=t.prev[--e],t.prev[e]=h<=i?i-h:0,--n;);r+=h}if(0===t.strm.avail_in)break;if(s=t.strm,a=t.window,c=t.strstart+t.lookahead,u=r,l=void 0,l=s.avail_in,u<l&&(l=u),n=0===l?0:(s.avail_in-=l,f.arraySet(a,s.input,s.next_in,l,c),1===s.state.wrap?s.adler=p(s.adler,a,l,c):2===s.state.wrap&&(s.adler=d(s.adler,a,l,c)),s.next_in+=l,s.total_in+=l,l),t.lookahead+=n,t.lookahead+t.insert>=x)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+x-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<C&&0!==t.strm.avail_in)}function q(t,e){for(var n,i;;){if(t.lookahead<C){if(F(t),t.lookahead<C&&e===l)return P;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-C&&(t.match_length=V(t,n)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(D(t,!1),0===t.strm.avail_out))return P}return t.insert=t.strstart<x-1?t.strstart:x-1,e===h?(D(t,!0),0===t.strm.avail_out?_:I):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?P:T}function z(t,e){for(var n,i,r;;){if(t.lookahead<C){if(F(t),t.lookahead<C&&e===l)return P;if(0===t.lookahead)break}if(n=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-C&&(t.match_length=V(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(D(t,!1),0===t.strm.avail_out))return P}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&D(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return P}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===h?(D(t,!0),0===t.strm.avail_out?_:I):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?P:T}function U(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(2*k),this.dyn_dtree=new f.Buf16(2*(2*s+1)),this.bl_tree=new f.Buf16(2*(2*a+1)),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(A+1),this.heap=new f.Buf16(2*o+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(2*o+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=r,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?E:O,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),g):R(t,v)}function $(t){var e=G(t);return e===g&&function(t){t.window_size=2*t.w_size,B(t.head),t.max_lazy_match=c[t.level].max_lazy,t.good_match=c[t.level].good_length,t.nice_match=c[t.level].nice_length,t.max_chain_length=c[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function W(t,e,n,i,r,o){if(!t)return v;var s=1;if(e===y&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),r<1||w<r||n!==b||i<8||15<i||e<0||9<e||o<0||m<o)return R(t,v);8===i&&(i=9);var a=new H;return(t.state=a).strm=t,a.wrap=s,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+x-1)/x),a.window=new f.Buf8(2*a.w_size),a.head=new f.Buf16(a.hash_size),a.prev=new f.Buf16(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new f.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=n,$(t)}c=[new U(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(F(t),0===t.lookahead&&e===l)return P;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,D(t,!1),0===t.strm.avail_out))return P;if(t.strstart-t.block_start>=t.w_size-C&&(D(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(D(t,!0),0===t.strm.avail_out?_:I):(t.strstart>t.block_start&&(D(t,!1),t.strm.avail_out),P)}),new U(4,4,8,4,q),new U(4,5,16,8,q),new U(4,6,32,32,q),new U(4,4,16,16,z),new U(8,16,32,32,z),new U(8,16,128,128,z),new U(8,32,128,256,z),new U(32,128,258,1024,z),new U(32,258,258,4096,z)],e.deflateInit=function(t,e){return W(t,e,b,15,8,0)},e.deflateInit2=W,e.deflateReset=$,e.deflateResetKeep=G,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?v:(t.state.gzhead=e,g):v},e.deflate=function(t,e){var n,i,r,o;if(!t||!t.state||5<e||e<0)return t?R(t,v):v;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==h)return R(t,0===t.avail_out?-5:v);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===E)if(2===i.wrap)t.adler=0,N(i,31),N(i,139),N(i,8),i.gzhead?(N(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),N(i,255&i.gzhead.time),N(i,i.gzhead.time>>8&255),N(i,i.gzhead.time>>16&255),N(i,i.gzhead.time>>24&255),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(N(i,255&i.gzhead.extra.length),N(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=d(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(N(i,0),N(i,0),N(i,0),N(i,0),N(i,0),N(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),N(i,3),i.status=O);else{var s=b+(i.w_bits-8<<4)<<8;s|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(s|=32),s+=31-s%31,i.status=O,L(i,s),0!==i.strstart&&(L(i,t.adler>>>16),L(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),M(t),r=i.pending,i.pending!==i.pending_buf_size));)N(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),M(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,N(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),M(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,N(i,o)}while(0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=d(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&M(t),i.pending+2<=i.pending_buf_size&&(N(i,255&t.adler),N(i,t.adler>>8&255),t.adler=0,i.status=O)):i.status=O),0!==i.pending){if(M(t),0===t.avail_out)return i.last_flush=-1,g}else if(0===t.avail_in&&j(e)<=j(n)&&e!==h)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var a=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(F(t),0===t.lookahead)){if(e===l)return P;break}if(t.match_length=0,n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(D(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(D(t,!0),0===t.strm.avail_out?_:I):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?P:T}(i,e):3===i.strategy?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=S){if(F(t),t.lookahead<=S&&e===l)return P;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+S;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=S-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(n=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(D(t,!1),0===t.strm.avail_out))return P}return t.insert=0,e===h?(D(t,!0),0===t.strm.avail_out?_:I):t.last_lit&&(D(t,!1),0===t.strm.avail_out)?P:T}(i,e):c[i.level].func(i,e);if(a!==_&&a!==I||(i.status=666),a===P||a===_)return 0===t.avail_out&&(i.last_flush=-1),g;if(a===T&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(B(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),M(t),0===t.avail_out))return i.last_flush=-1,g}return e!==h?g:i.wrap<=0?1:(2===i.wrap?(N(i,255&t.adler),N(i,t.adler>>8&255),N(i,t.adler>>16&255),N(i,t.adler>>24&255),N(i,255&t.total_in),N(i,t.total_in>>8&255),N(i,t.total_in>>16&255),N(i,t.total_in>>24&255)):(L(i,t.adler>>>16),L(i,65535&t.adler)),M(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?g:1)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==E&&69!==e&&73!==e&&91!==e&&103!==e&&e!==O&&666!==e?R(t,v):(t.state=null,e===O?R(t,-3):g):v},e.deflateSetDictionary=function(t,e){var n,i,r,o,s,a,c,u,l=e.length;if(!t||!t.state)return v;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==E||n.lookahead)return v;for(1===o&&(t.adler=p(t.adler,e,l,0)),n.wrap=0,l>=n.w_size&&(0===o&&(B(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new f.Buf8(n.w_size),f.arraySet(u,e,l-n.w_size,n.w_size,0),e=u,l=n.w_size),s=t.avail_in,a=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,F(n);n.lookahead>=x;){for(i=n.strstart,r=n.lookahead-(x-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+x-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=x-1,F(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=x-1,n.match_available=0,t.next_in=a,t.input=c,t.avail_in=s,n.wrap=o,g},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(43),a=0,c=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var o=0,s=29,u=256,l=u+1+s,h=30,f=19,v=2*l+1,y=15,p=16,d=7,g=256,m=16,b=17,w=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(l+2));i(C);var E=new Array(2*h);i(E);var O=new Array(512);i(O);var P=new Array(256);i(P);var T=new Array(s);i(T);var _,I,R,j=new Array(h);function B(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function M(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function D(t){return t<256?O[t]:O[256+(t>>>7)]}function N(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function L(t,e,n){t.bi_valid>p-n?(t.bi_buf|=e<<t.bi_valid&65535,N(t,t.bi_buf),t.bi_buf=e>>p-t.bi_valid,t.bi_valid+=n-p):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function V(t,e,n){L(t,n[2*e],n[2*e+1])}function F(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function q(t,e,n){var i,r,o=new Array(y+1),s=0;for(i=1;i<=y;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=F(o[a]++,a))}}function z(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<h;e++)t.dyn_dtree[2*e]=0;for(e=0;e<f;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*g]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function U(t){8<t.bi_valid?N(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function G(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&H(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!H(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function $(t,e,n){var i,r,o,s,a=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===i?V(t,r,e):(V(t,(o=P[r])+u+1,e),0!==(s=k[o])&&L(t,r-=T[o],s),V(t,o=D(--i),n),0!==(s=A[o])&&L(t,i-=j[o],s)),a<t.last_lit;);V(t,g,e)}function W(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=v,n=0;n<c;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)G(t,o,n);for(r=c;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,G(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,c=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,g=0;for(o=0;o<=y;o++)t.bl_count[o]=0;for(c[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<v;n++)d<(o=c[2*c[2*(i=t.heap[n])+1]+1]+1)&&(o=d,g++),c[2*i+1]=o,u<i||(t.bl_count[o]++,s=0,p<=i&&(s=f[i-p]),a=c[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(l[2*i+1]+s)));if(0!==g){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,g-=2}while(0<g);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)u<(r=t.heap[--n])||(c[2*r+1]!==o&&(t.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),i--)}}(t,e),q(o,u,t.bl_count)}function J(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<c&&r===s||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*m]++):a<=10?t.bl_tree[2*b]++:t.bl_tree[2*w]++,o=r,u=(a=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4))}function Y(t,e,n){var i,r,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<c&&r===s)){if(a<u)for(;V(t,r,t.bl_tree),0!=--a;);else 0!==r?(r!==o&&(V(t,r,t.bl_tree),a--),V(t,m,t.bl_tree),L(t,a-3,2)):a<=10?(V(t,b,t.bl_tree),L(t,a-3,3)):(V(t,w,t.bl_tree),L(t,a-11,7));o=r,u=(a=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4)}}i(j);var Z=!1;function K(t,e,n,i){L(t,(o<<1)+(i?1:0),3),function(t,e,n,i){U(t),i&&(N(t,n),N(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){Z||(function(){var t,e,n,i,r,o=new Array(y+1);for(i=n=0;i<s-1;i++)for(T[i]=n,t=0;t<1<<k[i];t++)P[n++]=i;for(P[n-1]=i,i=r=0;i<16;i++)for(j[i]=r,t=0;t<1<<A[i];t++)O[r++]=i;for(r>>=7;i<h;i++)for(j[i]=r<<7,t=0;t<1<<A[i]-7;t++)O[256+r++]=i;for(e=0;e<=y;e++)o[e]=0;for(t=0;t<=143;)C[2*t+1]=8,t++,o[8]++;for(;t<=255;)C[2*t+1]=9,t++,o[9]++;for(;t<=279;)C[2*t+1]=7,t++,o[7]++;for(;t<=287;)C[2*t+1]=8,t++,o[8]++;for(q(C,l+1,o),t=0;t<h;t++)E[2*t+1]=5,E[2*t]=F(t,5);_=new B(C,k,u+1,l,y),I=new B(E,A,0,h,y),R=new B(new Array(0),x,0,f,d)}(),Z=!0),t.l_desc=new M(t.dyn_ltree,_),t.d_desc=new M(t.dyn_dtree,I),t.bl_desc=new M(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,z(t)},e._tr_stored_block=K,e._tr_flush_block=function(t,e,n,i){var r,o,s=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return a;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return c;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return c;return a}(t)),W(t,t.l_desc),W(t,t.d_desc),s=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),W(t,t.bl_desc),e=f-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?K(t,e,n,i):4===t.strategy||o===r?(L(t,2+(i?1:0),3),$(t,C,E)):(L(t,4+(i?1:0),3),function(t,e,n,i){var r;for(L(t,e-257,5),L(t,n-1,5),L(t,i-4,4),r=0;r<i;r++)L(t,t.bl_tree[2*S[r]+1],3);Y(t,t.dyn_ltree,e-1),Y(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),$(t,t.dyn_ltree,t.dyn_dtree)),z(t),i&&U(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(P[n]+u+1)]++,t.dyn_dtree[2*D(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){L(t,2,3),V(t,g,C),function(t){16===t.bi_valid?(N(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var h=n(436),f=n(43),p=n(186),d=n(188),i=n(129),r=n(187),o=n(439),g=Object.prototype.toString;function s(t){if(!(this instanceof s))return new s(t);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,e.windowBits);if(n!==d.Z_OK)throw new Error(i[n]);if(this.header=new o,h.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=p.string2buf(e.dictionary):"[object ArrayBuffer]"===g.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=h.inflateSetDictionary(this.strm,e.dictionary))!==d.Z_OK))throw new Error(i[n])}function a(t,e){var n=new s(e);if(n.push(t,!0),n.err)throw n.msg||i[n.err];return n.result}s.prototype.push=function(t,e){var n,i,r,o,s,a=this.strm,c=this.options.chunkSize,u=this.options.dictionary,l=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?d.Z_FINISH:d.Z_NO_FLUSH,"string"==typeof t?a.input=p.binstring2buf(t):"[object ArrayBuffer]"===g.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new f.Buf8(c),a.next_out=0,a.avail_out=c),(n=h.inflate(a,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&u&&(n=h.inflateSetDictionary(this.strm,u)),n===d.Z_BUF_ERROR&&!0===l&&(n=d.Z_OK,l=!1),n!==d.Z_STREAM_END&&n!==d.Z_OK)return this.onEnd(n),!(this.ended=!0);a.next_out&&(0!==a.avail_out&&n!==d.Z_STREAM_END&&(0!==a.avail_in||i!==d.Z_FINISH&&i!==d.Z_SYNC_FLUSH)||("string"===this.options.to?(r=p.utf8border(a.output,a.next_out),o=a.next_out-r,s=p.buf2string(a.output,r),a.next_out=o,a.avail_out=c-o,o&&f.arraySet(a.output,a.output,r,o,0),this.onData(s)):this.onData(f.shrinkBuf(a.output,a.next_out)))),0===a.avail_in&&0===a.avail_out&&(l=!0)}while((0<a.avail_in||0===a.avail_out)&&n!==d.Z_STREAM_END);return n===d.Z_STREAM_END&&(i=d.Z_FINISH),i===d.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d.Z_OK):i!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(a.avail_out=0))},s.prototype.onData=function(t){this.chunks.push(t)},s.prototype.onEnd=function(t){t===d.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=s,e.inflate=a,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,a(t,e)},e.ungzip=a},function(t,e,n){"use strict";var T=n(43),_=n(184),I=n(185),R=n(437),j=n(438),B=1,M=2,D=0,N=-2,L=1,i=852,r=592;function V(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new T.Buf16(320),this.work=new T.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=L,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new T.Buf32(i),e.distcode=e.distdyn=new T.Buf32(r),e.sane=1,e.back=-1,D):N}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):N}function c(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?N:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):N}function u(t,e){var n,i;return t?(i=new o,(t.state=i).window=null,(n=c(t,e))!==D&&(t.state=null),n):N}var l,h,f=!0;function F(t){if(f){var e;for(l=new T.Buf32(512),h=new T.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(j(B,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;j(M,t.lens,0,32,h,0,t.work,{bits:5}),f=!1}t.lencode=l,t.lenbits=9,t.distcode=h,t.distbits=5}function q(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new T.Buf8(o.wsize)),i>=o.wsize?(T.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(r=o.wsize-o.wnext)&&(r=i),T.arraySet(o.window,e,n-i,r,o.wnext),(i-=r)?(T.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0}e.inflateReset=a,e.inflateReset2=c,e.inflateResetKeep=s,e.inflateInit=function(t){return u(t,15)},e.inflateInit2=u,e.inflate=function(t,e){var n,i,r,o,s,a,c,u,l,h,f,p,d,g,v,y,m,b,w,k,A,x,S,C,E=0,O=new T.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return N;12===(n=t.state).mode&&(n.mode=13),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=n.hold,l=n.bits,h=a,f=c,x=D;t:for(;;)switch(n.mode){case L:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===u){O[n.check=0]=255&u,O[1]=u>>>8&255,n.check=I(n.check,O,2,0),l=u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&u)){t.msg="unknown compression method",n.mode=30;break}if(l-=4,A=8+(15&(u>>>=4)),0===n.wbits)n.wbits=A;else if(A>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<A,t.adler=n.check=1,n.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(n.flags=u,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=I(n.check,O,2,0)),l=u=0,n.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,n.check=I(n.check,O,4,0)),l=u=0,n.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=I(n.check,O,2,0)),l=u=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(O[0]=255&u,O[1]=u>>>8&255,n.check=I(n.check,O,2,0)),l=u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(a<(p=n.length)&&(p=a),p&&(n.head&&(A=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),T.arraySet(n.head.extra,i,o,p,A)),512&n.flags&&(n.check=I(n.check,i,p,o)),a-=p,o+=p,n.length-=p),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===a)break t;for(p=0;A=i[o+p++],n.head&&A&&n.length<65536&&(n.head.name+=String.fromCharCode(A)),A&&p<a;);if(512&n.flags&&(n.check=I(n.check,i,p,o)),a-=p,o+=p,A)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===a)break t;for(p=0;A=i[o+p++],n.head&&A&&n.length<65536&&(n.head.comment+=String.fromCharCode(A)),A&&p<a;);if(512&n.flags&&(n.check=I(n.check,i,p,o)),a-=p,o+=p,A)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}l=u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;l<32;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}t.adler=n.check=V(u),l=u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(F(n),n.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&u,l=u=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(p=n.length){if(a<p&&(p=a),c<p&&(p=c),0===p)break t;T.arraySet(r,i,o,p,s),a-=p,o+=p,c-=p,s+=p,n.length-=p;break}n.mode=12;break;case 17:for(;l<14;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.lens[P[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},x=j(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,x){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;y=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,m=65535&E,!((v=E>>>24)<=l);){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(m<16)u>>>=v,l-=v,n.lens[n.have++]=m;else{if(16===m){for(C=v+2;l<C;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(u>>>=v,l-=v,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}A=n.lens[n.have-1],p=3+(3&u),u>>>=2,l-=2}else if(17===m){for(C=v+3;l<C;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}l-=v,A=0,p=3+(7&(u>>>=v)),u>>>=3,l-=3}else{for(C=v+7;l<C;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}l-=v,A=0,p=11+(127&(u>>>=v)),u>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;p--;)n.lens[n.have++]=A}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},x=j(B,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,x){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},x=j(M,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,x){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=a&&258<=c){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,R(t,f),s=t.next_out,r=t.output,c=t.avail_out,o=t.next_in,i=t.input,a=t.avail_in,u=n.hold,l=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;y=(E=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,m=65535&E,!((v=E>>>24)<=l);){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(y&&0==(240&y)){for(b=v,w=y,k=m;y=(E=n.lencode[k+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&E,!(b+(v=E>>>24)<=l);){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,n.length=m,0===y){n.mode=26;break}if(32&y){n.back=-1,n.mode=12;break}if(64&y){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&y,n.mode=22;case 22:if(n.extra){for(C=n.extra;l<C;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;y=(E=n.distcode[u&(1<<n.distbits)-1])>>>16&255,m=65535&E,!((v=E>>>24)<=l);){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(0==(240&y)){for(b=v,w=y,k=m;y=(E=n.distcode[k+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&E,!(b+(v=E>>>24)<=l);){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,64&y){t.msg="invalid distance code",n.mode=30;break}n.offset=m,n.extra=15&y,n.mode=24;case 24:if(n.extra){for(C=n.extra;l<C;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===c)break t;if(p=f-c,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}d=p>n.wnext?(p-=n.wnext,n.wsize-p):n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=r,d=s-n.offset,p=n.length;for(c<p&&(p=c),c-=p,n.length-=p;r[s++]=g[d++],--p;);0===n.length&&(n.mode=21);break;case 26:if(0===c)break t;r[s++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===a)break t;a--,u|=i[o++]<<l,l+=8}if(f-=c,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?I(n.check,r,f,s-f):_(n.check,r,f,s-f)),f=c,(n.flags?u:V(u))!==n.check){t.msg="incorrect data check",n.mode=30;break}l=u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===a)break t;a--,u+=i[o++]<<l,l+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}l=u=0}n.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return N}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,n.hold=u,n.bits=l,(n.wsize||f!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&q(t,t.output,t.next_out,f-t.avail_out)?(n.mode=31,-4):(h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?I(n.check,r,f,t.next_out-f):_(n.check,r,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==h&&0===f||4===e)&&x===D&&(x=-5),x)},e.inflateEnd=function(t){if(!t||!t.state)return N;var e=t.state;return e.window&&(e.window=null),t.state=null,D},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?N:((n.head=e).done=!1,D):N},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?N:11===n.mode&&_(1,e,i,0)!==n.check?-3:q(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,D):N},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,c,u,l,h,f,p,d,g,v,y,m,b,w,k,A,x,S,C,E;n=t.state,i=t.next_in,C=t.input,r=i+(t.avail_in-5),o=t.next_out,E=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,g=n.lencode,v=n.distcode,y=(1<<n.lenbits)-1,m=(1<<n.distbits)-1;t:do{d<15&&(p+=C[i++]<<d,d+=8,p+=C[i++]<<d,d+=8),b=g[p&y];e:for(;;){if(p>>>=w=b>>>24,d-=w,0===(w=b>>>16&255))E[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=g[(65535&b)+(p&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}k=65535&b,(w&=15)&&(d<w&&(p+=C[i++]<<d,d+=8),k+=p&(1<<w)-1,p>>>=w,d-=w),d<15&&(p+=C[i++]<<d,d+=8,p+=C[i++]<<d,d+=8),b=v[p&m];n:for(;;){if(p>>>=w=b>>>24,d-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=v[(65535&b)+(p&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(A=65535&b,d<(w&=15)&&(p+=C[i++]<<d,(d+=8)<w&&(p+=C[i++]<<d,d+=8)),c<(A+=p&(1<<w)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=w,d-=w,(w=o-s)<A){if(l<(w=A-w)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=f,(x=0)===h){if(x+=u-w,w<k){for(k-=w;E[o++]=f[x++],--w;);x=o-A,S=E}}else if(h<w){if(x+=u+h-w,(w-=h)<k){for(k-=w;E[o++]=f[x++],--w;);if(x=0,h<k){for(k-=w=h;E[o++]=f[x++],--w;);x=o-A,S=E}}}else if(x+=h-w,w<k){for(k-=w;E[o++]=f[x++],--w;);x=o-A,S=E}for(;2<k;)E[o++]=S[x++],E[o++]=S[x++],E[o++]=S[x++],k-=3;k&&(E[o++]=S[x++],1<k&&(E[o++]=S[x++]))}else{for(x=o-A;E[o++]=E[x++],E[o++]=E[x++],E[o++]=E[x++],2<(k-=3););k&&(E[o++]=E[x++],1<k&&(E[o++]=E[x++]))}break}}break}}while(i<r&&o<a);i-=k=d>>3,p&=(1<<(d-=k<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var B=n(43),M=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],L=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,i,r,o,s,a){var c,u,l,h,f,p,d,g,v,y=a.bits,m=0,b=0,w=0,k=0,A=0,x=0,S=0,C=0,E=0,O=0,P=null,T=0,_=new B.Buf16(16),I=new B.Buf16(16),R=null,j=0;for(m=0;m<=15;m++)_[m]=0;for(b=0;b<i;b++)_[e[n+b]]++;for(A=y,k=15;1<=k&&0===_[k];k--);if(k<A&&(A=k),0===k)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(w=1;w<k&&0===_[w];w++);for(A<w&&(A=w),m=C=1;m<=15;m++)if(C<<=1,(C-=_[m])<0)return-1;if(0<C&&(0===t||1!==k))return-1;for(I[1]=0,m=1;m<15;m++)I[m+1]=I[m]+_[m];for(b=0;b<i;b++)0!==e[n+b]&&(s[I[e[n+b]]++]=b);if(p=0===t?(P=R=s,19):1===t?(P=M,T-=257,R=D,j-=257,256):(P=N,R=L,-1),m=w,f=o,S=b=O=0,l=-1,h=(E=1<<(x=A))-1,1===t&&852<E||2===t&&592<E)return 1;for(;;){for(d=m-S,v=s[b]<p?(g=0,s[b]):s[b]>p?(g=R[j+s[b]],P[T+s[b]]):(g=96,0),c=1<<m-S,w=u=1<<x;r[f+(O>>S)+(u-=c)]=d<<24|g<<16|v|0,0!==u;);for(c=1<<m-1;O&c;)c>>=1;if(0!==c?(O&=c-1,O+=c):O=0,b++,0==--_[m]){if(m===k)break;m=e[n+s[b]]}if(A<m&&(O&h)!==l){for(0===S&&(S=A),f+=w,C=1<<(x=m-S);x+S<k&&!((C-=_[x+S])<=0);)x++,C<<=1;if(E+=1<<x,1===t&&852<E||2===t&&592<E)return 1;r[l=O&h]=A<<24|x<<16|f-o|0}}return 0!==O&&(r[f+O]=m-S<<24|64<<16|0),a.bits=A,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";function P(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,n,i,r,o){var s,a,c=t.file,u=t.compression,l=o!==_.utf8encode,h=T.transformTo("string",o(c.name)),f=T.transformTo("string",_.utf8encode(c.name)),p=c.comment,d=T.transformTo("string",o(p)),g=T.transformTo("string",_.utf8encode(p)),v=f.length!==c.name.length,y=g.length!==p.length,m="",b="",w="",k=c.dir,A=c.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!v&&!y||(S|=2048);var C=0,E=0;k&&(C|=16),"UNIX"===r?(E=798,C|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(c.unixPermissions,k)):(E=20,C|=function(t){return 63&(t||0)}(c.dosPermissions)),s=A.getUTCHours(),s<<=6,s|=A.getUTCMinutes(),s<<=5,s|=A.getUTCSeconds()/2,a=A.getUTCFullYear()-1980,a<<=4,a|=A.getUTCMonth()+1,a<<=5,a|=A.getUTCDate(),v&&(b=P(1,1)+P(I(h),4)+f,m+="up"+P(b.length,2)+b),y&&(w=P(1,1)+P(I(d),4)+g,m+="uc"+P(w.length,2)+w);var O="";return O+="\n\0",O+=P(S,2),O+=u.magic,O+=P(s,2),O+=P(a,2),O+=P(x.crc32,4),O+=P(x.compressedSize,4),O+=P(x.uncompressedSize,4),O+=P(h.length,2),O+=P(m.length,2),{fileRecord:R.LOCAL_FILE_HEADER+O+h+m,dirRecord:R.CENTRAL_FILE_HEADER+P(E,2)+O+P(d.length,2)+"\0\0\0\0"+P(C,4)+P(i,4)+h+m+d}}var T=n(9),r=n(23),_=n(62),I=n(128),R=n(189);function o(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}T.inherits(o,r),o.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},o.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+P(t.crc32,4)+P(t.compressedSize,4)+P(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,r){var o=T.transformTo("string",r(i));return R.CENTRAL_DIRECTORY_END+"\0\0\0\0"+P(t,2)+P(t,2)+P(e,4)+P(n,4)+P(o.length,2)+o}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},o.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(23);function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,n){"use strict";var i=n(9),r=n(70),a=n(62),c=(i=n(9),n(443)),o=n(182),u=n(93);function l(i){return new r.Promise(function(t,e){var n=i.decompressed.getContentWorker().pipe(new o);n.on("error",function(t){e(t)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(t,o){var s=this;return o=i.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,o.optimizedBinaryString,o.base64).then(function(t){var e=new c(o);return e.load(t),e}).then(function(t){var e=[r.Promise.resolve(t)],n=t.files;if(o.checkCRC32)for(var i=0;i<n.length;i++)e.push(l(n[i]));return r.Promise.all(e)}).then(function(t){for(var e=t.shift(),n=e.files,i=0;i<n.length;i++){var r=n[i];s.file(r.fileNameStr,r.decompressed,{binary:!0,optimizedBinaryString:!0,date:r.date,dir:r.dir,comment:r.fileCommentStr.length?r.fileCommentStr:null,unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions,createFolders:o.createFolders})}return e.zipComment.length&&(s.comment=e.zipComment),s})}},function(t,e,n){"use strict";var i=n(190),r=n(9),o=n(189),s=n(446),a=(n(62),n(42));function c(t){this.files=[],this.loadOptions=t}c.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},function(t,e,n){"use strict";var i=n(192);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(193);function r(t){i.call(this,t)}n(9).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(190),o=n(9),r=n(127),s=n(128),a=n(62),c=n(183),u=n(42);function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var r=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(r)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},t.exports=l},function(t,e,n){var i,r;i=[n(205),n(448),n(2)],void 0===(r=function(t,i,r){return function(n){t.init({nsSeparator:!1,keySeparator:!1,fallbackLng:"en",lng:function(t,e,n){var i=-1,r=[];n&&r.push(n),window.navigator.languages&&(r=r.concat(window.navigator.languages)),window.navigator.language&&r.push(window.navigator.language),r.push(e||"en");for(var o=0;o<r.length;o++){var s=-1;for(var a in t)if(0===r[o].indexOf(t[a])&&(s=a,r[o]===t[a])){i=a;break}if(0<=i||0<=(i=s))break}return t[0<=i?i:0]}(i.languages,"en",n.options.lang),resources:{en:{translation:{}},ca:{translation:i.messages.ca},"ca_ES@valencia":{translation:i.messages["ca_ES@valencia"]},es:{translation:i.messages.es}}},function(t,e){t?r.log("error",'Error initializing "i18next": '.concat(t.message)):(r.getMsg=n.getMsg=e,n.JClicVersion=i.version)})}}.apply(e,i))||(t.exports=r)},function(t,e,n){t.exports={version:"2.0.1-beta.0 (2019-07-09)",languages:["en","ar","ast","bs","ca","ca_ES@valencia","cs","da","de","el","es","eu","fr","gl","he","it","ja","nl","pl","pt","pt_BR","ru","tr","vec","zh_TW"],messages:{ar:{Version:"Ø§ÙØ¥ØµØ¯Ø§Ø±",time:"Ø§ÙÙÙØª",actions:"Ø§ÙÙØ­Ø§ÙÙØ§Øª",score:"Ø§ÙÙØªÙØ¬Ø©","Next activity":"Ø§ÙÙØ´Ø§Ø· Ø§ÙØªØ§ÙÙ","Previous activity":"Ø§ÙÙØ´Ø§Ø· Ø§ÙØ³Ø§Ø¨Ù","Restart activity":"Ø§Ø³ØªØ¦ÙÙ Ø§ÙÙØ´Ø§Ø·",Information:"Ø§ÙÙØ¹ÙÙÙØ©","Current results":"ØªÙØ§Ø±ÙØ± Ø§ÙÙØ³ØªØ®Ø¯Ù","User:":"Ø§ÙÙØ³ØªØ®Ø¯Ù:","Projects:":"Ø§ÙÙØ´Ø§Ø±ÙØ¹:",Project:"Ø§ÙÙØ´Ø±ÙØ¹:",sequence:"Ø§ÙØªØ³ÙØ³Ù",activity:"Ø§ÙÙØ´Ø§Ø·",OK:"ÙÙØ§ÙÙ","Total:":"Ø§ÙÙØ¬ÙÙØ¹:"},ast:{Version:"VersiÃ³n",time:"tiempu",actions:"intentos",score:"marcador","Next activity":"Xera siguiente","Previous activity":"Xera anterior","Restart activity":"Reaniciar xera",Information:"InformaciÃ³n","Results are not currently being saved":"L'informe nun ta rexistrÃ¡u en nenguna base de datos","Current results":"Informes d'usuariu","Session started:":"Entamu de sesiÃ³n:","Reports system:":"Sistema d'informes:","User:":"Usuariu:","Projects:":"Proyeutos:","Sequences:":"Secuencies:","Activities done:":"Xeres feches:","Activities solved:":"Xeres correctes:","Global score:":"PuntuaciÃ³n global:","Total time in activities:":"Tiempu total en xeres:","Actions done:":"Aiciones feches:","No activities done!":"Â¡Nenguna informaciÃ³n sobre xeres!",Project:"Proyeutu:",sequence:"Secuencia",activity:"Xera",OK:"OK",YES:"SI",NO:"NON","Total:":"Total:"},bs:{Version:"Verzija",time:"vrijeme",actions:"pokuÅ¡aji",score:"rezultat","Next activity":"SljedeÄa aktivnost","Previous activity":"Prethodna aktivnost","Restart activity":"Ponovno pokreni aktivnost",Information:"Informacije","Current results":"IzvjeÅ¡Äa korisnika","Session started:":"Sesija zapoÄeta:","User:":"Korisnik:","Projects:":"Projekti:","Activities done:":"UraÄene aktivnosti:","Activities solved:":"Aktivnosti ok:","Global score:":"Ukupan rezultat:","Total time in activities:":"Ukupno vrijeme aktivnosti:","Actions done:":"UraÄene aktivnosti:",Project:"Projekt:",sequence:"Sekvenca",activity:"Aktivnost",OK:"Uredu",YES:"DA",NO:"NE","Total:":"Ukupno:"},ca:{Version:"VersiÃ³",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segÃ¼ent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"InformaciÃ³","Results are not currently being saved":"Els resultats no s'estan desant","Current results":"Resultats actuals","Session started:":"Inici de sessiÃ³:","Reports system:":"Sistema d'informes:","User:":"Usuari/Ã ria:","Projects:":"Projectes:","Sequences:":"SeqÃ¼Ã¨ncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"PuntuaciÃ³ global:","(out of all project activities)":"(sobre totes les activitats del projecte)","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqÃ¼Ã¨ncia",activity:"activitat",OK:"OK",YES:"SÃ",NO:"NO","Total:":"Totals:","Select group:":"Seleccioneu el grup:","Select user:":"Seleccioneu l'usuari:",Cancel:"CancelÂ·la",Close:"Tanca","Copy data to clipboard":"Copia les dades al porta-retalls","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les dades s'han copiat en format HTML. Enganxeu-les a un full de cÃ lcul o a un editor de text enriquit.","The data has been copied to clipboard":"Les dades s'han copiat al porta-retalls","not connected":"no connectat","Please wait until the results of your activities are sent to the reports system":"Si us plau, espereu a que els resultats de les vostres activitats s'enviÃ¯n al servidor d'informes","Password:":"Contrasenya:","Incorrect password":"Contrasenya incorrecta","Invalid user":"Usuari/Ã ria incorrecte","Partial score:":"PuntuaciÃ³ parcial:","(out of played activities)":"(sobre les activitats fetes)","Activities played at least once:":"Activitats fetes almenys una vegada:",Reports:"Informes","Toggle full screen":"Commuta pantalla completa","JClic logo":"Logotip del JClic",message:"missatge","Activity panel":"Tauler d'activitats",cell:"celÂ·la",image:"imatge",source:"origen",target:"destÃ­","image fragment":"fragment d'imatge"},"ca_ES@valencia":{Version:"VersiÃ³",time:"temps",actions:"accions",score:"encerts","Next activity":"Activitat segÃ¼ent","Previous activity":"Activitat anterior","Restart activity":"Reinicia l'activitat",Information:"InformaciÃ³","Results are not currently being saved":"Els resultats no s'estan alÃ§ant","Current results":"Resultats actuals","Session started:":"Inici de sessiÃ³:","Reports system:":"Sistema d'informes:","User:":"Usuari/Ã ria:","Projects:":"Projectes:","Sequences:":"SeqÃ¼Ã¨ncies:","Activities done:":"Activitats fetes:","Activities solved:":"Activitats resoltes:","Global score:":"PuntuaciÃ³ global:","Total time in activities:":"Temps total en les activitats:","Actions done:":"Accions fetes:","No activities done!":"No heu fet cap activitat!",Project:"Projecte",sequence:"seqÃ¼Ã¨ncia",activity:"activitat",OK:"OK",YES:"SÃ",NO:"NO","Total:":"Totals:"},cs:{Version:"Verze",time:"Äas",actions:"pokusÅ¯",score:"skÃ³re","Next activity":"DalÅ¡Ã­ aktivita","Previous activity":"PÅedchozÃ­ aktivita","Restart activity":"Restartovat aktivitu",Information:"Informace","Results are not currently being saved":"ZprÃ¡va nenÃ­ zaregistrovÃ¡na v Å¾Ã¡dnÃ© DB","Current results":"UÅ¾ivatelskÃ¡ sestava","Session started:":"SezenÃ­ spuÅ¡tÄno:","Reports system:":"SystÃ©m zprÃ¡vy:","User:":"UÅ¾ivatel:","Projects:":"Projekty:","Sequences:":"Sekvence:","Activities done:":"DokonÄenÃ© aktivity:","Activities solved:":"Aktivity ok:","Global score:":"CelkovÃ© skÃ³re:","Total time in activities:":"CelkovÃ½ Äas aktivit:","Actions done:":"ProvedenÃ© akce:","No activities done!":"Nebyly nahlÃ¡Å¡eny Å¾Ã¡dnÃ© aktivity!",Project:"Projekt",sequence:"Sekvence",activity:"Aktivita",OK:"Ok",YES:"ANO",NO:"NE","Total:":"Celkem:"},da:{Version:"Version",time:"tid",actions:"forsÃ¸g",score:"score","Next activity":"NÃ¦ste aktivitet","Previous activity":"Forrige aktivitet","Restart activity":"Genstart aktivitet",Information:"Information","Current results":"Bruger rapport","User:":"Bruger:","Projects:":"Projekter:","Sequences:":"Sekvenser:","Activities done:":"Aktiviteter udfÃ¸rt:","Activities solved:":"Aktiviteter OK:","Global score:":"Global score:","No activities done!":"Ingen aktiviteter rapporteret!",Project:"Projekt",sequence:"Sequence",activity:"Aktivitet",OK:"Ok",YES:"JA",NO:"IKKE","Total:":"Total:"},de:{Version:"Version",time:"Zeit",actions:"Versuche",score:"Ergebnis","Next activity":"NÃ¤chste Ãbung","Previous activity":"Vorherige Ãbung","Restart activity":"Ãbung neu starten",Information:"Information","Results are not currently being saved":"Bericht in keiner Datenbank eingetragen","Current results":"Benutzerberichte","Session started:":"Sitzung gestartet:","Reports system:":"Report system:","User:":"User:","Projects:":"Projekte:","Sequences:":"Sequenzen:","Activities done:":"Beendete Ãbungen:","Activities solved:":"Korrekte Ãbungen:","Global score:":"Gesamtpunktezahl:","Total time in activities:":"Ãbungs-Gesamtzeit:","Actions done:":"DurchgefÃ¼hrte Aktionen:","No activities done!":"Keine Ãbungsberichte vorhanden!",Project:"Projekt",sequence:"Sequenz",activity:"Ãbung",OK:"OK",YES:"JA",NO:"NEIN","Total:":"Gesamt:"},el:{Version:"ÎÎºÎ´Î¿ÏÎ·",time:"ÏÏÏÎ½Î¿Ï",actions:"ÏÏÎ¿ÏÏÎ¬Î¸ÎµÎ¹ÎµÏ",score:"Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±","Next activity":"ÎÏÏÎ¼ÎµÎ½Î· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±","Previous activity":"Î ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±","Restart activity":"ÎÏÎ±Î½ÎµÎºÎºÎ¯Î½Î·ÏÎ· Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±Ï",Information:"Î Î»Î·ÏÎ¿ÏÎ¿ÏÎ¯ÎµÏ","Results are not currently being saved":"Î Î±Î½Î±ÏÎ¿ÏÎ¬ Î´ÎµÎ½ ÎµÎ³Î³ÏÎ¬ÏÎ·ÎºÎµ ÏÏÎ¹Ï Î²Î¬ÏÎµÎ¹Ï Î´ÎµÎ´Î¿Î¼Î­Î½ÏÎ½","Current results":"ÎÎ½Î±ÏÎ¿ÏÎ­Ï ÏÏÎ®ÏÏÎ·","Session started:":"ÎÎ½Î±ÏÎ¾Î· ÏÏÎ½ÎµÎ´ÏÎ¯Î±Ï:","Reports system:":"Î£ÏÏÏÎ·Î¼Î± Î±Î½Î±ÏÎ¿ÏÏÎ½:","User:":"Î§ÏÎ®ÏÏÎ·Ï:","Projects:":"ÎÏÎ³Î±:","Sequences:":"ÎÎ»Î»Î·Î»Î¿ÏÏÎ¯ÎµÏ:","Activities done:":"ÎÎ»Î¿ÎºÎ»Î·ÏÏÎ¼Î­Î½ÎµÏ Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎµÏ:","Activities solved:":"ÎÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎµÏ, ÎµÎ½ÏÎ¬Î¾ÎµÎ¹:","Global score:":"Î£ÏÎ½Î¿Î»Î¹ÎºÎ® Î²Î±Î¸Î¼Î¿Î»Î¿Î³Î¯Î±:","Total time in activities:":"Î£ÏÎ½Î¿Î»Î¹ÎºÏÏ ÏÏÏÎ½Î¿Ï Î´ÏÎ±ÏÏÎ·ÏÎ¹Î¿ÏÎ®ÏÏÎ½:","Actions done:":"ÎÎ¹ ÎµÎ½Î­ÏÎ³ÎµÎ¹ÎµÏ Î¿Î»Î¿ÎºÎ»Î·ÏÏÎ¸Î·ÎºÎ±Î½:","No activities done!":"ÎÎ¹Î± ÎºÎ±Î¼Î¼Î¯Î± Î´ÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ± Î´ÎµÎ½ Î­ÏÎµÎ¹ ÏÏÎ¿Î²Î»Î·Î¸ÎµÎ¯ Î±Î½Î±ÏÎ¿ÏÎ¬!",Project:"ÎÏÎ³Î¿",sequence:"ÎÎ»Î»Î·Î»Î¿ÏÏÎ¯Î±",activity:"ÎÏÎ±ÏÏÎ·ÏÎ¹ÏÏÎ·ÏÎ±",OK:"ÎÎ½ÏÎ¬Î¾ÎµÎ¹",YES:"ÎÎ±Î¯",NO:"ÏÏÎ¹","Total:":"Î£ÏÎ½Î¿Î»Î¿:"},es:{Version:"VersiÃ³n",time:"tiempo",actions:"acciones",score:"aciertos","Next activity":"Actividad siguiente","Previous activity":"Actividad anterior","Restart activity":"Reiniciar actividad",Information:"InformaciÃ³n","Results are not currently being saved":"Los resultados no se estÃ¡n guardando","Current results":"Resultados actuales","Session started:":"Inicio de sesiÃ³n:","Reports system:":"Sistema de informes:","User:":"Usuario/aria:","Projects:":"Proyectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades resueltas:","Global score:":"PuntuaciÃ³n global:","(out of all project activities)":"(sobre todas las actividades del proyecto)","Total time in activities:":"Tiempo total en las actividades:","Actions done:":"Acciones realizadas:","No activities done!":"Â¡No se ha realizado ninguna actividad!",Project:"Proyecto",sequence:"secuencia",activity:"actividad",OK:"OK",YES:"SI",NO:"NO","Total:":"Totales:","Select group:":"Seleccionar grupo:","Select user:":"Seleccionar usuario:",Cancel:"Cancelar",Close:"Cerrar","Copy data to clipboard":"Copiar datos al portapapeles","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Los datos se han copiado en formato HTML. Puedes pegarlos en una hoja de cÃ¡lculo o en un editor de texto rico.","The data has been copied to clipboard":"Los datos se han copiado al portapapeles","not connected":"no conectado","Please wait until the results of your activities are sent to the reports system":"Por favor, espera mientras los resultados de las actividades se envian al servidor de informes","Password:":"ContraseÃ±a:","Incorrect password":"ContraseÃ±a incorrecta","Invalid user":"Usuario incorrecto","Partial score:":"PuntuaciÃ³n parcial:","(out of played activities)":"(sobre las actividades realizadas)","Activities played at least once:":"Actividades realizadas al menos una vez:",Reports:"Informes","Toggle full screen":"Conmutar pantalla completa","JClic logo":"Logotipo de JClic",message:"mensaje","Activity panel":"Panel de actividad",cell:"celda",image:"imagen",source:"origen",target:"destino","image fragment":"fragmento de imagen"},eu:{Version:"Bertsioa",time:"denbora",actions:"saiakerak",score:"puntuazioa","Next activity":"Hurrengo jarduera","Previous activity":"Aurreko jarduera","Restart activity":"Jarduera berriro hasi",Information:"Informazioa","Results are not currently being saved":"Txostena ez dago ezein datu-basetan","Current results":"Erabiltzailearen txostenak","Session started:":"Saio-hasiera:","Reports system:":"Txosten-sistema:","User:":"Erabiltzailea:","Projects:":"Proiektuak:","Sequences:":"Sekuentziak:","Activities done:":"Burututako ekinzak:","Activities solved:":"Jarduera zuzenak:","Global score:":"Jarduera zuzenak:","Total time in activities:":"Jardueretan emandako denbora guztira:","Actions done:":"Burututako ekintzak:","No activities done!":"Ez da jardueren txostenik!",Project:"Proiektua",sequence:"Sekuentzia",activity:"Jarduera",OK:"Ados",YES:"BAI",NO:"EZ","Total:":"Guztira:"},fr:{Version:"Version",time:"temps",actions:"essais",score:"rÃ©sultat","Next activity":"ActivitÃ© suivante","Previous activity":"ActivitÃ© prÃ©cÃ©dente","Restart activity":"Recommencer l'activitÃ©",Information:"Information","Results are not currently being saved":"Le rapport n'est enregistrÃ© dans aucune base de donnÃ©es","Current results":"Rapports utilisateur","Session started:":"Session dÃ©marrÃ©e:","Reports system:":"Report systÃ¨me:","User:":"Utilisateur:","Projects:":"Projets:","Sequences:":"SÃ©quences:","Activities done:":"ActivitÃ©s faites:","Activities solved:":"ActivitÃ©s ok:","Global score:":"Score global:","(out of all project activities)":"(Hors de toutes les activitÃ©s du projet)","Total time in activities:":"Temps total sur les activitÃ©s:","Actions done:":"Actions faites:","No activities done!":"Pas d'activitÃ©s rapportÃ©es!",Project:"Projet",sequence:"sÃ©quence",activity:"activitÃ©",OK:"Ok",YES:"OUI",NO:"NON","Total:":"Total:","Select group:":"SÃ©lectionner un groupe:","Select user:":"SÃ©lectionner l'utilisateur:",Cancel:"Annuler",Close:"Fermer","Copy data to clipboard":"Copier les donnÃ©es dans le presse-papier","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Les donnÃ©es ont Ã©tÃ© copiÃ©es au format HTML. Veuillez les coller dans une feuille de calcul ou dans un Ã©diteur de texte","The data has been copied to clipboard":"Les donnÃ©es sont copier dans le presse-papier","not connected":"Non connectÃ© ","Please wait until the results of your activities are sent to the reports system":"Veuillez patienter durant l'envoi de votre activitÃ© au rapport systÃ¨me","Password:":"Mot de passe: ","Incorrect password":"Mot de passe incorrect","Invalid user":"Utilisateur invalide","Partial score:":"Score partiel:","(out of played activities)":"(Hors activitÃ©s jouÃ©es)","Activities played at least once:":"Les activitÃ©s jouÃ© au moins une fois:",Reports:"Rapport","Toggle full screen":"Basculer en plein Ã©cran","JClic logo":"JClic logo",message:"message","Activity panel":"Groupe d'activitÃ©s",cell:"cellule",image:"image",source:"source",target:"cible","image fragment":"fragment d'image"},gl:{Version:"VersiÃ³n",time:"tempo",actions:"intentos",score:"acertos","Next activity":"Seguinte actividade","Previous activity":"Anterior actividade","Restart activity":"Reiniciar a actividade",Information:"InformaciÃ³n","Results are not currently being saved":"O informe non estÃ¡ rexistrado en ningunha base de datos","Current results":"Informes de usuario","Session started:":"Inicio de sesiÃ³n:","Reports system:":"Sistema de informes:","User:":"Usuario:","Projects:":"Proxectos:","Sequences:":"Secuencias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"PuntuaciÃ³n global:","Total time in activities:":"Tempo total nas actividades:","Actions done:":"AcciÃ³ns efectuadas:","No activities done!":"Non hai informada ningunha actividade!",Project:"Proxecto",sequence:"secuencia",activity:"actividade",OK:"Correcta",YES:"SI",NO:"NON","Total:":"Total:"},he:{Version:"×××¨×¡×",time:"×××",actions:"× ×¡××× ××ª",score:"× ××§××","Next activity":"××¤×¢××××ª ××××","Previous activity":"××¤×¢××××ª ××§××××ª","Restart activity":"××ª×× ×¤×¢××××ª ××××©",Information:"××××¢","Results are not currently being saved":"×××××× ××× × ×¨×©×× ×××¡× × ×ª×× ×× ×××©××","Current results":"×××××ª ××©×ª××©","Session started:":"××¤×¢×× ××××:","Reports system:":"××¢×¨××ª ×××××ª:","User:":"××©×ª××©:","Projects:":"×¤×¨××××§×××:","Sequences:":"×¨×¦×¤××:","Activities done:":"×¤×¢××××××ª ×©×××©×××:","Activities solved:":"×¤×¢××××××ª ××××©×¨××ª:","Global score:":"× ××§×× ××××:","Total time in activities:":"××©× ××¤×¢××××××ª ×××¦×××¨:","Actions done:":"×¤×¢××××ª ×©×××¦×¢×:","No activities done!":"×× ××××× ×¤×¢××××××ª!",Project:"×¤×¨××××§×",sequence:"×¨×¦×£",activity:"×¤×¢××××ª",OK:"×××©××¨",YES:"××",NO:"××","Total:":"×¡× ×××:"},it:{Version:"Versione",time:"tempo",actions:"tentativi",score:"punteggio","Next activity":"AttivitÃ  successiva","Previous activity":"AttivitÃ  precedente","Restart activity":"Riavvia l'attivitÃ ",Information:"Informazioni","Results are not currently being saved":"Rapporto non registrato in alcun database","Current results":"Rapporti utente","Session started:":"Sessione avviata:","Reports system:":"Sistema dei rapporti:","User:":"Utente:","Projects:":"Progetti:","Sequences:":"Sequenze:","Activities done:":"AttivitÃ  eseguite:","Activities solved:":"AttivitÃ  ok:","Global score:":"Punteggio globale:","Total time in activities:":"Tempo totale nelle attivitÃ :","Actions done:":"Azioni compiute:","No activities done!":"Nessuna attivitÃ  a rapporto!",Project:"Progetto",sequence:"sequenza",activity:"attivitÃ ",OK:"Ok",YES:"SI",NO:"NO","Total:":"Totale:"},ja:{Version:"ãã¼ã¸ã§ã³",time:"æé",actions:"ã¢ã¯ã·ã§ã³",score:"ã¹ã³ã¢","Next activity":"æ¬¡ã®ã¢ã¯ãã£ããã£","Previous activity":"åã®ã¢ã¯ãã£ããã£","Restart activity":"ã¢ã¯ãã£ããã£ãåèµ·å",Information:"æå ±","Results are not currently being saved":"çµæã¯ãç¾å¨ä¿å­ããã¦ãã¾ãã","Current results":"ç¾å¨ã®çµæ","Session started:":"ã»ãã·ã§ã³ãéå§ãã¾ãã:","Reports system:":"ã¬ãã¼ã ã·ã¹ãã :","User:":"ã¦ã¼ã¶ã¼:","Projects:":"ãã­ã¸ã§ã¯ã:","Sequences:":"ã·ã¼ã±ã³ã¹:","Activities done:":"å®äºããã¢ã¯ãã£ããã£:","Activities solved:":"è§£æ±ºããã¢ã¯ãã£ããã£:","Global score:":"ã°ã­ã¼ãã« ã¹ã³ã¢:","(out of all project activities)":"(ãã¹ã¦ã®ãã­ã¸ã§ã¯ã ã¢ã¯ãã£ããã£ã®çµæ)","Total time in activities:":"ã¢ã¯ãã£ããã£æéã®åè¨:","Actions done:":"å®äºããã¢ã¯ã·ã§ã³:","No activities done!":"ã¢ã¯ãã£ããã£ã¯è¡ããã¦ãã¾ãã!",Project:"ãã­ã¸ã§ã¯ã",sequence:"ã·ã¼ã±ã³ã¹",activity:"ã¢ã¯ãã£ããã£",OK:"OK",YES:"ã¯ã",NO:"ããã","Total:":"åè¨:","Select group:":"ã°ã«ã¼ããé¸æ:","Select user:":"ã¦ã¼ã¶ã¼ãé¸æ:",Cancel:"ã­ã£ã³ã»ã«",Close:"éãã","Copy data to clipboard":"ãã¼ã¿ãã¯ãªãããã¼ãã«ã³ãã¼","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"ãã¼ã¿ã¯ HTML å½¢å¼ã§ã³ãã¼ããã¾ãããªãã ãã­ã¹ã ã¨ãã£ã¿ã¼ãã¹ãã¬ããã·ã¼ãã«è²¼ãä»ãã¦ãã ãã","The data has been copied to clipboard":"ã¯ãªãããã¼ãã«ãã¼ã¿ãã³ãã¼ããã¾ãã","not connected":"æ¥ç¶ããã¦ãã¾ãã","Please wait until the results of your activities are sent to the reports system":"ã¢ã¯ãã£ããã£ã®çµæãã¬ãã¼ã ã·ã¹ãã ã«éä¿¡ãããã¾ã§ãå¾ã¡ãã ãã","Password:":"ãã¹ã¯ã¼ã:","Incorrect password":"ãã¹ã¯ã¼ããæ­£ããããã¾ãã","Invalid user":"ç¡å¹ãªã¦ã¼ã¶ã¼","Partial score:":"é¨åã¹ã³ã¢:","(out of played activities)":"(ãã¬ã¤ããã¢ã¯ãã£ããã£ã®çµæ)","Activities played at least once:":"å°ãªãã¨ãä¸åº¦ãã¬ã¤ããã¢ã¯ãã£ããã£:",Reports:"ã¬ãã¼ã","Toggle full screen":"å¨ç»é¢ã®åãæ¿ã","JClic logo":"JClic ã­ã´",message:"ã¡ãã»ã¼ã¸","Activity panel":"ã¢ã¯ãã£ããã£ ããã«",cell:"ã»ã«",image:"ç»å",source:"ã½ã¼ã¹",target:"ã¿ã¼ã²ãã","image fragment":"ç»åãã©ã°ã¡ã³ã"},nl:{Version:"Versie",time:"tijd",actions:"pogingen",score:"punten","Next activity":"Volgende activiteit","Previous activity":"Vorige activiteit","Restart activity":"Herstart activiteit",Information:"Informatie","Results are not currently being saved":"Rapport niet geregistreerd in een DB","Current results":"Gebruikers rapport","Session started:":"Reeks gestart:","Reports system:":"Rapporteer systeem:","User:":"Gebruiker:","Projects:":"Projecten:","Sequences:":"Reeksen:","Activities done:":"Activiteiten klaar:","Activities solved:":"Activiteiten ok:","Global score:":"Puntentotaal:","Total time in activities:":"Totale tijd activiteiten:","Actions done:":"Einde activiteiten:","No activities done!":"Geen activiteiten gerapporteerd!",Project:"Project",sequence:"Volgorde",activity:"Activiteit",OK:"Ok",YES:"JA",NO:"NEE","Total:":"Totaal:"},pl:{Version:"Wersja",time:"czas",actions:"dziaÅania",score:"wynik","Next activity":"NastÄpne dziaÅanie","Previous activity":"Poprzednia aktywnoÅÄ","Restart activity":"Restartuj aktywnoÅÄ",Information:"Informacje","Results are not currently being saved":"Wyniki nie sÄ obecnie zapisywane","Current results":"Aktualne wyniki","Session started:":"Sesja rozpoczÄÅa siÄ:","Reports system:":"System raportÃ³w:","User:":"UÅ¼ytkownik:","Projects:":"Projekty:","Sequences:":"Sekwencje:","Activities done:":"DziaÅania wykonane:","Activities solved:":"DziaÅania rozwiÄzane:","Global score:":"Globalny wynik:","(out of all project activities)":"(poza wszystkimi dziaÅaniami projektu)","Total time in activities:":"CaÅkowity czas aktywnoÅci:","Actions done:":"Wykonane czynnoÅci:","No activities done!":"Nie wykonano Å¼adnych czynnoÅci!",Project:"Projekt",sequence:"kolejnoÅÄ",activity:"aktywnoÅÄ",OK:"OK",YES:"Tak",NO:"Nie","Total:":"CaÅkowity:","Select group:":"Wybierz grupÄ:","Select user:":"Wybierz uÅ¼ytkownika:",Cancel:"Anuluj",Close:"Zamknij","Copy data to clipboard":"Skopiuj dane do schowka","The data has been copied in HTML format. Please paste them into a spreadsheet or in a rich text editor":"Dane zostaÅy skopiowane w formacie HTML. Wklej je do arkusza kalkulacyjnego lub edytora tekstu","The data has been copied to clipboard":"Dane zostaÅy skopiowane do schowka","not connected":"nie poÅÄczony","Please wait until the results of your activities are sent to the reports system":"Poczekaj, aÅ¼ wyniki Twoich dziaÅaÅ zostanÄ przesÅane do systemu raportÃ³w","Password:":"HasÅo:","Incorrect password":"Niepoprawne hasÅo","Invalid user":"NieprawidÅowy uÅ¼ytkownik","Partial score:":"Wynik czÄÅciowy:","(out of played activities)":"(z granych dziaÅaÅ)","Activities played at least once:":"DziaÅania grane co najmniej raz:",Reports:"Raporty","Toggle full screen":"PrzeÅÄcz tryb peÅnoekranowy","JClic logo":"Logo JClic",message:"komunikat","Activity panel":"Panel aktywnoÅci",cell:"komÃ³rka",image:"obraz",source:"ÅºrÃ³dÅo",target:"miejsce docelowe","image fragment":"fragment obrazu"},pt:{Version:"VersÃ£o",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"Actividade seguinte","Previous activity":"Actividade anterior","Restart activity":"Reiniciar a actividade",Information:"InformaÃ§Ã£o","Results are not currently being saved":"O relatÃ³rio nÃ£o estÃ¡ registado em nenhuma base de dados","Current results":"RelatÃ³rios do utilizador","Session started:":"InÃ­cio da sessÃ£o:","Reports system:":"Sistema de relatÃ³rios:","User:":"Utilizador:","Projects:":"Projectos:","Sequences:":"SequÃªncias:","Activities done:":"Actividades realizadas:","Activities solved:":"Actividades correctas:","Global score:":"PontuaÃ§Ã£o global:","Total time in activities:":"Tempo total das actividades:","Actions done:":"AcÃ§Ãµes efectuadas:","No activities done!":"Nenhuma actividade registada!",Project:"Projecto",sequence:"sequÃªncia",activity:"Actividade",OK:"Correcta",YES:"sim",NO:"nÃ£o","Total:":"Total:"},pt_BR:{Version:"VersÃ£o",time:"tempo",actions:"tentativas",score:"acertos","Next activity":"atividade seguinte","Previous activity":"atividade anterior","Restart activity":"Reiniciar a atividade",Information:"InformaÃ§Ã£o","Results are not currently being saved":"O relatÃ³rio nÃ£o estÃ¡ registrando em nenhuma base de dados","Current results":"relatÃ³rios de usuÃ¡rio","Session started:":"InÃ­cio da sessÃ£o:","Reports system:":"Sistema de relatÃ³rios:","User:":"UsuÃ¡rio:","Projects:":"Projetos:","Sequences:":"SequÃªncias:","Activities done:":"Atividades realizadas:","Activities solved:":"Atividades corretas:","Global score:":"PontuaÃ§Ã£o geral:","Total time in activities:":"Tempo total das atividades:","Actions done:":"AÃ§Ãµes efetuadas:","No activities done!":"Nenhuma atividade registrada!",Project:"Projeto",sequence:"sequÃªncia",activity:"atividade",OK:"Correta",YES:"sim",NO:"nÃ£o","Total:":"Total:"},ru:{Version:"ÐÐµÑÑÐ¸Ñ",time:"Ð²ÑÐµÐ¼Ñ",actions:"Ð¿Ð¾Ð¿ÑÑÐºÐ¸",score:"ÑÑÑÑ","Next activity":"Ð¡Ð»ÐµÐ´ÑÑÑÐµÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ","Previous activity":"ÐÑÐµÐ´ÑÐ´ÑÑÐµÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ðµ","Restart activity":"ÐÐµÑÐµÐ·Ð°Ð¿ÑÑÐº Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ",Information:"ÐÐ½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ","Results are not currently being saved":"ÐÑÑÑÑ Ð½Ðµ Ð·Ð°ÑÐµÐ³Ð¸ÑÑÑÐ¸ÑÐ¾Ð²Ð°Ð½ Ð² ÐÐ","Current results":"ÐÑÑÑÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ","Session started:":"Ð¡ÐµÑÑÐ¸Ñ Ð½Ð°ÑÐ°ÑÐ°:","Reports system:":"Ð¡Ð¸ÑÑÐµÐ¼Ð° Ð¾ÑÑÑÑÐ¾Ð²:","User:":"ÐÐ¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ:","Projects:":"ÐÑÐ¾ÐµÐºÑÑ:","Sequences:":"ÐÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°ÑÐµÐ»ÑÐ½Ð¾ÑÑÐ¸:","Activities done:":"Ð¡Ð¾Ð²ÐµÑÑÐµÐ½Ð½ÑÐµ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ñ:","Activities solved:":"ÐÐµÐ¹ÑÑÐ²Ð¸Ñ Ð² Ð¿Ð¾ÑÑÐ´ÐºÐµ:","Global score:":"ÐÐ±ÑÐ¸Ð¹ ÑÑÑÑ:","Total time in activities:":"ÐÐ±ÑÐµÐµ Ð²ÑÐµÐ¼Ñ Ð°ÐºÑÐ¸Ð²Ð½Ð¾ÑÑÐ¸:","Actions done:":"ÐÐ°Ð²ÐµÑÑÐµÐ½Ð¾ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹:","No activities done!":"ÐÐµÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð½ÑÑ Ð´ÐµÐ¹ÑÑÐ²Ð¸Ð¹!",Project:"ÐÑÐ¾ÐµÐºÑ",sequence:"ÐÐ¾ÑÐ»ÐµÐ´Ð¾Ð²Ð°ÑÐµÐ»ÑÐ½Ð¾ÑÑÑ",activity:"ÐÐºÑÐ¸Ð²Ð½Ð¾ÑÑÑ",OK:"ÐÐ",YES:"Ð´Ð°",NO:"Ð½ÐµÑ","Total:":"ÐÑÐ¾Ð³Ð¾:"},tr:{Version:"SÃ¼rÃ¼m",time:"zaman",actions:"Denemeler",score:"sonuÃ§","Next activity":"Bir sonraki etkinlik","Previous activity":"Bir Ã¶nceki etkinlik","Restart activity":"EtkinliÄi tekrar baÅlat",Information:"Bilgi","Results are not currently being saved":"Rapor herhangi bir veritabanÄ±nda kaydedilmedi","Current results":"KullanÄ±cÄ± raporlarÄ±","Session started:":"Oturum baÅlatÄ±ldÄ±","Reports system:":"Sistem raporu:","User:":"KullanÄ±cÄ±:","Projects:":"Projeler:","Sequences:":"Etkinlik dizisi","Activities done:":"Etkinlikler baÅlatÄ±lÄ±yor:","Activities solved:":"Etkinlikler tamam:","Global score:":"Genel sonuÃ§:","Total time in activities:":"Etkinlikde geÃ§irilen toplam zaman:","Actions done:":"Eylem gerÃ§ekleÅtiriliyor:","No activities done!":"Etkinlik raporu yok!",Project:"Proje",sequence:"Etkinlik dizisi",activity:"Etkinlik",OK:"Tamam",YES:"Evet",NO:"hiÃ§bir","Total:":"Toplam:"},vec:{Version:"Version",time:"tenpo",actions:"tentadivi",score:"pontexio","Next activity":"PrÃ²sima ativitÃ ","Previous activity":"AtivitÃ  presedente","Restart activity":"InvÃ¬a ativitÃ  da novo",Information:"Informasion","Results are not currently being saved":"Report no registrÃ  inte nisun database","Current results":"Reports utenti","Session started:":"Sesion inviada:","Reports system:":"SistÃ¨ma de report","User:":"Utente:","Projects:":"ProxÃ¨ti:","Sequences:":"Secuense:","Activities done:":"AtivitÃ  fate:","Activities solved:":"AtivitÃ  ok:","Global score:":"Pontexio global","Total time in activities:":"Tenpo total so Æe ativitÃ ","Actions done:":"Asion exeguÃ¬e","No activities done!":"No xÃ© stÃ  reportÃ  ativitÃ !",Project:"ProxÃ¨to:",sequence:"secuensa",activity:"AtivitÃ ",OK:"Ok",YES:"SI",NO:"NO","Total:":"Total:"},zh_TW:{Version:"çæ¬",time:"æé",actions:"åè©¦æ¬¡æ¸",score:"åæ¸","Next activity":"ä¸ä¸åæ´»å","Previous activity":"ä¸ä¸åæ´»å","Restart activity":"éè¨­æ´»å",Information:"ç¸éè³è¨","Results are not currently being saved":"åå ±å¨DBä¸­ç¡è¨»å","Current results":"ä½¿ç¨èå ±å","Session started:":"å·¥ä½éå§ï¼","Reports system:":"å ±åç³»çµ±:","User:":"ä½¿ç¨è:","Projects:":"å°æ¡ï¼","Sequences:":"é åºï¼","Activities done:":"æ´»åçµæ:","Activities solved:":"æ´»åå®æ:","Global score:":"ç¸½æç¸¾:","Total time in activities:":"æ´»åç¸½æé:","Actions done:":"æ´»åå®æï¼","No activities done!":"æ²ææ´»åå ±å",Project:"å°æ¡ï¼",sequence:"é åº",activity:"æ´»å",OK:"ç¢ºå®",YES:"æ¯",NO:"å¦","Total:":"ç¸½è¨ï¼"}}}},function(t,e,n){var i,r;function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(2)],void 0===(r=function(s){var t=function(){function e(t){o(this,e),this.player=t,this.sequenceStack=[]}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(e,[{key:"storedElementsCount",value:function(){return this.sequenceStack.length}},{key:"clearHistory",value:function(){this.sequenceStack=[0]}},{key:"push",value:function(){if(null!==this.player.project&&null!==this.player.project.path){var t=this.player.project.activitySequence,e=t.currentAct;if(0<=e){if(0<this.sequenceStack.length){var n=this.sequenceStack[this.sequenceStack.length-1];if(n.projectPath===this.player.project.path&&n.activity===e)return}this.sequenceStack.push(new this.HistoryElement(this.player.project.path,t.getSequenceForElement(e),e,this.player.zip?this.player.zip.fullZipPath:null))}}}},{key:"pop",value:function(){if(0<this.sequenceStack.length){var t=this.sequenceStack.pop();t.projectPath===this.player.project.path&&s.isEquivalent(t.fullZipPath,this.player.zip?this.player.zip.fullZipPath:null)?this.player.load(null,t.activity,null):this.testMode&&null!==t.projectPath&&0<t.projectPath.length?s.log("info",'At this point, a jump to "'.concat(t.projectPath,'" should be performed.')):this.player.load(t.fullZipPath||t.projectPath,t.activity,null)}return!0}},{key:"processJump",value:function(t,e){var n=!1;if(null!==t&&null!==this.player.project)switch(t.action){case"STOP":break;case"RETURN":if(0<this.sequenceStack.length||!this.player.options.returnAsExit){n=this.pop();break}case"EXIT":this.testMode?s.log("info","At this point, the program should exit."):this.player.exit(t.sequence);break;case"JUMP":if(t.sequence||t.projectPath)this.testMode&&null!==t.projectPath&&0<t.projectPath.length?s.log("info",'At this point, a jump to "'.concat(t.projectPath,'" should be performed.')):n=this.jumpToSequence(t.sequence,t.projectPath?s.getPath(this.player.project.basePath,t.projectPath):null,e);else{var i=this.player.project.activitySequence.getElement(t.actNum,!0);null!==i&&(e&&this.push(),this.player.load(null,null,i.activity),n=!0)}}return n}},{key:"jumpToSequence",value:function(t,e,n){if(s.isNullOrUndef(t)&&s.isNullOrUndef(e))return!1;if(s.isNullOrUndef(e)&&(e=this.player.project.path),0<this.sequenceStack.length){var i=this.sequenceStack[this.sequenceStack.length-1];if(!s.isNullOrUndef(t)&&e===i.projectPath){var r=t===i.sequence;if(e===this.player.project.path){var o=this.player.project.activitySequence.getElement(i.activity,!1);r=null!==o&&t===o.tag}if(r)return this.pop()}}return n&&this.push(),e===this.player.project.path?this.player.load(null,t,null):this.player.load(e,t,null),!0}}]),e}();return Object.assign(t.prototype,{player:null,sequenceStack:[],testMode:!1,HistoryElement:function t(e,n,i,r){o(this,t),this.projectPath=e,this.sequence=n,this.activity=i,this.fullZipPath=r}}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(198),n(2)],void 0===(r=function(r,o){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.players=[]}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(t,[{key:"createActiveMediaPlayer",value:function(t,e,n){var i=null;switch(t.type){case"RECORD_AUDIO":if(t.length<=0||t.length>=o.settings.MAX_RECORD_LENGTH)break;case"PLAY_RECORDED_AUDIO":if(t.recBuffer<0||10<=t.recBuffer)break;case"PLAY_AUDIO":case"PLAY_MIDI":case"PLAY_VIDEO":i=new r(t,e,n)}return null!==i&&this.players.push(i),i}},{key:"getActiveMediaPlayer",value:function(e,t,n){return this.players.find(function(t){return t.mc===e||t.mc.isEquivalent(e)})||this.createActiveMediaPlayer(e,t,n)}},{key:"removeActiveMediaPlayer",value:function(e){var t=this.players.findIndex(function(t){return t.mc===e});0<=t&&(this.players[t].clear(),this.players.splice(t,1))}},{key:"realizeAll",value:function(){this.players.forEach(function(t){return t.realize()})}},{key:"stopAll",value:function(e){void 0===e&&(e=-1),this.players.forEach(function(t){(-1===e||null!==t.mc&&t.mc.level<=e)&&t.stop()})}},{key:"removeAll",value:function(){this.players.forEach(function(t){return t.clear()}),this.players.length=0,r.prototype.clearAllAudioBuffers()}}]),t}();return Object.assign(t.prototype,{players:[]}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(2)],void 0===(r=function(i){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.seconds=t),this.chunks=[]}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"play",value:function(){this.stop(),this.mediaPlayer?(this.mediaPlayer.currentTime=0,this.mediaPlayer.play()):this.playWhenFinished=!0}},{key:"stop",value:function(){this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():this.mediaPlayer&&!this.mediaPlayer.paused&&this.mediaPlayer.pause()}},{key:"record",value:function(){var n=this;this.mediaRecorder&&"recording"===this.mediaRecorder.state?this.mediaRecorder.stop():(this.stop(),this.mediaPlayer=null,navigator.getUserMedia({audio:!0},function(t){n.mediaRecorder=new MediaRecorder(t),n.mediaRecorder.ondataavailable=function(t){return n.chunks.push(t.data)},n.mediaRecorder.onerror=function(t){i.log("error","Error recording audio: ".concat(t)),n.mediaRecorder=null},n.mediaRecorder.onstart=function(){return i.log("debug","Recording audio started")},n.mediaRecorder.onstop=function(){i.log("debug","Recording audio finished"),n.timeoutID&&(window.clearTimeout(n.timeoutID),n.timeoutID=null);var t={};0<n.chunks.length&&n.chunks[0].type&&(t.type=n.chunks[0].type);var e=new Blob(n.chunks,t);n.chunks=[],n.mediaPlayer=document.createElement("audio"),n.mediaPlayer.src=URL.createObjectURL(e),n.mediaPlayer.pause(),n.mediaRecorder=null,n.playWhenFinished&&(n.playWhenFinished=!1,n.mediaPlayer.play())},n.mediaRecorder.onwarning=function(t){return i.log("warn","Warning recording audio: ".concat(t))},n.playWhenFinished=!1,n.mediaRecorder.start(),n.timeoutID=window.setTimeout(function(){n.mediaRecorder&&n.mediaRecorder.stop()},1e3*n.seconds)},function(t){return i.log("error","Error recording audio: ".concat(t))}))}},{key:"clear",value:function(){this.stop(),this.mediaPlayer=null}}]),e}();return t.MAX_RECORD_LENGTH=180,Object.assign(t.prototype,{seconds:20,mediaRecorder:null,chunks:null,mediaPlayer:null,timeoutID:null,playWhenFinished:!1}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(2),n(198),n(94)],void 0===(r=function(i,r,o){var t=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.id=t,e&&(i.startsWith(e,"data:")?this.audio=new Audio(e):this.file=e)}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"setProperties",value:function(t){return this.file=t.attr("file"),this.enabled=i.getTriState(t.attr("enabled")),this}},{key:"getAttributes",value:function(){return i.getAttributes(this,["enabled|".concat(i.DEFAULT),"file"])}},{key:"setAttributes",value:function(t){return i.setAttr(this,t,["enabled","file"])}},{key:"realize",value:function(t,e){this.audio||null!==this.player||null===this.file||(this.player=new r(new o("PLAY_AUDIO",this.file),e,t),this.player.realize())}},{key:"play",value:function(){this.enabled&&(this.audio?(this.audio.currentTime=0,this.audio.play()):this.player&&this.player.play())}},{key:"stop",value:function(){this.enabled&&(this.audio?this.audio.pause():this.player&&this.player.stop())}}]),n}();return Object.assign(t.prototype,{file:null,enabled:i.DEFAULT,player:null,audio:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(131),n(2)],void 0===(r=function(a,c,u){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.project=t,this.authors=[],this.organizations=[],this.revisions=[],this.languages=[],this.locales=[],this.description={},this.tags={}}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(e,[{key:"setProperties",value:function(t){var r=this,o=null,s=null;return t.children().each(function(t,e){switch(e.nodeName){case"title":r.title=e.textContent;break;case"description":o=u.getXmlNodeText(e);break;case"descriptions":s=u.getXmlNodeText(e);break;case"author":r.authors.push(u.reduceTextsToStrings(u.parseXmlNode(e)));break;case"organization":r.organizations.push(u.reduceTextsToStrings(u.parseXmlNode(e)));break;case"revision":var n=u.reduceTextsToStrings(u.parseXmlNode(e));n.date&&(n.date=u.parseOldDate(n.date)),r.revisions.push(n);break;case"language":r.languages.push(u.cleanOldLanguageTag(e.textContent));break;case"eventSounds":r.eventSounds=new c,r.eventSounds.setProperties(a(e));break;case"skin":r.skinFileName=a(e).attr("file");break;case"descriptors":r.tags=u.parseXmlNode(e,!0),r.tags["#text"]&&(r.tags.other=r.tags["#text"].textContent,delete r.tags["#text"]);break;case"license":r.license=u.getXmlNodeText(e);break;case"cover":case"thumb":var i=u.getXmlNodeText(e);i.file&&(r[e.nodeName]=i.file)}}),this.buildLocales(),s&&s.description&&s.description.forEach(function(t){t.language&&t.text&&(r.description[t.language]=t.text)}),o&&0<this.languages.length&&!this.description[this.languages[0]]&&(this.description[this.languages[0]]=o),this}},{key:"buildLocales",value:function(){var i=this;return 0<this.languages.length&&window.Intl&&window.Intl.getCanonicalLocales&&(this.locales=[],this.languages.forEach(function(e){var t=/\(([a-z,A-Z,-]+)\)/.exec(e);if(t&&1<t.length)try{var n=window.Intl.getCanonicalLocales(t[1]);n&&(i.locales=i.locales.concat(n))}catch(t){u.log("error","Invalid language: ".concat(e))}})),this}},{key:"getAttributes",value:function(){return u.getAttributes(this,["title","description","tags","languages","license","authors","organizations","revisions","cover","thumb","skinFileName","eventSounds"])}},{key:"setAttributes",value:function(t){return u.setAttr(this,t,["title","description","tags","languages","license","authors","organizations","revisions","cover","thumb","skinFileName","eventSounds"]),this.revisions&&this.revisions.forEach(function(t){t.date&&(t.date=new Date(t.date))}),this.buildLocales()}}]),e}();return Object.assign(t.prototype,{project:null,title:"Untitled",authors:null,organizations:null,revisions:null,description:null,languages:null,tags:null,cover:null,thumb:null,license:{type:"by-nc-sa",url:"https://creativecommons.org/licenses/by-nc-sa/4.0"},locales:null,skinFileName:null,eventSounds:new c}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(95),n(455),n(199),n(2)],void 0===(r=function(i,u,r,o,s){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.project=t,this.elements=[]}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(e,[{key:"setProperties",value:function(t){var n=this;return t.children("item").each(function(t,e){return n.elements.push((new r).setProperties(i(e)))}),this}},{key:"getAttributes",value:function(){return this.elements.map(function(t){return t.getAttributes()})}},{key:"setAttributes",value:function(t){var e=this;return t.forEach(function(t){return e.elements.push((new r).setAttributes(t))}),this}},{key:"getElementIndex",value:function(t){return null===t?-1:this.elements.indexOf(t)}},{key:"getElement",value:function(t,e){var n=null;return 0<=t&&t<this.elements.length&&(n=this.elements[t],e&&(this.currentAct=t)),n}},{key:"getElementByTag",value:function(n,t){var i=null,r=-1;return n&&(n=s.nSlash(n),this.elements.some(function(t,e){return t.tag===n&&(i=t,r=e),-1!==r}),-1!==r&&t&&(this.currentAct=r)),i}},{key:"getCurrentAct",value:function(){return this.getElement(this.currentAct,!1)}},{key:"hasNextAct",value:function(t){var e=!1,n=this.getCurrentAct();if(n)if(null===n.fwdJump)e=!0;else switch(n.fwdJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e}},{key:"hasPrevAct",value:function(t){var e=!1,n=this.getCurrentAct();if(n)if(null===n.backJump)e=!0;else switch(n.backJump.action){case"STOP":break;case"RETURN":e=t;break;default:e=!0}return e}},{key:"getNavButtonsFlag",value:function(){var t="none",e=this.getCurrentAct();return e&&(t=e.navButtons),t}},{key:"getJump",value:function(t,e){var n=this.getCurrentAct(),i=null;if(n){var r=t?n.backJump:n.fwdJump;if(null===r){var o=this.currentAct+(t?-1:1);(o>=this.elements.length||o<0)&&(o=0),i=new u("JUMP",o)}else{var s=-1,a=-1;if(null!==e){var c=e.getCurrentSequenceInfo();null!==c&&(s=Math.round(c.tScore),a=Math.round(c.tTime/1e3))}i=r.resolveJump(s,a)}}return i}},{key:"getSequenceForElement",value:function(t){var e=null;if(0<=t&&t<this.elements.length)for(var n=t;null===e&&0<=n;n--)e=this.getElement(n,!1).tag;return e}},{key:"getElementByActivityName",value:function(t){var e=null;if(null!==t)for(var n=0;null===e&&n<this.elements.length;n++){var i=this.getElement(n,!1);i.activity.toLowerCase()===t.toLowerCase()&&(e=i)}return e}},{key:"checkCurrentActivity",value:function(t){var e=this.getCurrentAct();if(null!==e&&e.activity.toUpperCase()===t.toUpperCase())return!0;for(var n=0;n<this.elements.length;n++)if(this.getElement(n,!1).activity.toUpperCase()===t.toUpperCase())return this.currentAct=n,!1;return(e=new r).activity=t,e.fwdJump=new o("STOP"),e.backJump=new o("STOP"),this.elements.push(e),this.currentAct=this.elements.length-1,!1}}]),e}();return Object.assign(t.prototype,{elements:null,project:null,currentAct:-1}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(199),n(2)],void 0===(r=function(r,o,s){var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(t,[{key:"setProperties",value:function(t){var i=this;return s.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"id":i.tag=s.nSlash(e);break;case"name":i.activity=e;break;case"description":case"navButtons":i[t]=e;break;case"delay":i[t]=Number(e)}}),t.children("jump").each(function(t,e){var n=(new o).setProperties(r(e));"forward"===n.id?i.fwdJump=n:"back"===n.id&&(i.backJump=n)}),this}},{key:"getAttributes",value:function(){return s.getAttributes(this,["tag","description","activity","fwdJump","backJump","navButtons","delay"])}},{key:"setAttributes",value:function(e){var n=this;return["tag","description","activity","navButtons","delay"].forEach(function(t){s.isEmpty(e[t])||(n[t]=e[t])}),["fwdJump","backJump"].forEach(function(t){e[t]&&(n[t]=(new o).setAttributes(e[t]))}),this}}]),t}();return Object.assign(t.prototype,{tag:null,description:null,activity:"",fwdJump:null,backJump:null,navButtons:"both",delay:0}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(95),n(2)],void 0===(r=function(t,e,i){var n=function(){function o(t,e,n,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=a(this,u(o).call(this,t,e))).threshold="number"==typeof n?n:-1,r.time="number"==typeof n?i:-1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(o,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(o,[{key:"setProperties",value:function(t){return c(u(o.prototype),"setProperties",this).call(this,t),void 0!==t.attr("threshold")&&(this.threshold=t.attr("threshold")),void 0!==t.attr("time")&&(this.time=t.attr("time")),this}},{key:"getAttributes",value:function(){return Object.assign(c(u(o.prototype),"getAttributes",this).call(this),i.getAttributes(this,["threshold","time"]))}},{key:"setAttributes",value:function(e){var n=this;return c(u(o.prototype),"setAttributes",this).call(this,e),["threshold","time"].forEach(function(t){i.isEmpty(e[t])||(n[t]=e[t])}),this}}]),o}();return Object.assign(n.prototype,{threshold:-1,time:-1}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(458),n(34),n(2)],void 0===(r=function(s,r,n,o){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.project=t,this.elements={}}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(e,[{key:"setProperties",value:function(t){var i=this;return t.children("media").each(function(t,e){var n=new r(i.project.basePath,null,i.project.zip);n.setProperties(s(e)),i.elements[n.name]=n}),this}},{key:"getAttributes",value:function(){var e=this;return Object.keys(this.elements).map(function(t){return e.elements[t].getAttributes()})}},{key:"setAttributes",value:function(t){var n=this;return t.forEach(function(t){var e=new r(n.project.basePath,null,n.project.zip);e.setAttributes(t),n.elements[e.name]=e}),this}},{key:"getElement",value:function(t,e){t=o.nSlash(t);var n=this.elements[t];return e&&!n&&(n=this.getElementByFileName(t,e)),n}},{key:"getElementByFileName",value:function(t,e){var n=null;if(t){for(var i in t=o.nSlash(t),this.elements)if(this.elements[i].file===t){n=this.elements[i];break}!n&&e&&((n=new r(this.project.basePath,null,this.project.zip)).name=t,n.file=t,n.ext=t.toLowerCase().split("#")[0].split(".").pop(),n.type=n.getFileType(n.ext),this.elements[n.name]=n)}return n}},{key:"getElementsOfType",value:function(n){var i=[];return s.each(this.elements,function(t,e){e.type===n&&i.push("font"===n?e.fontName:t)}),i}},{key:"buildAll",value:function(n,i,r){var o=0;return s.each(this.elements,function(t,e){n&&e.type!==n||(e.build(i,r),o++)}),o}},{key:"countWaitingElements",value:function(){var n=0,i=!0;return s.each(this.elements,function(t,e){!e.data||e.ready||e.checkReady()||e.checkTimeout()?n++:(o.log("debug","... waiting for: %s",t),i=!1)}),i?-1:n}},{key:"getSkinElement",value:function(t,e){return n.getSkin(t,e)}}]),e}();return Object.assign(t.prototype,{elements:null,project:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(459),n(2),n(3)],void 0===(r=function(s,a,c,u){var t=function(){function i(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t&&(this.basePath=t),e&&(this.file=c.nSlash(e),this.name=c.nSlash(e),this.ext=this.file.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext&&this.checkAnimatedGif()),n&&(this.zip=n),this.timeout=Date.now()+c.settings.LOAD_TIMEOUT}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(i,[{key:"setProperties",value:function(t){if(this.name=c.nSlash(t.attr("name")),this.file=c.nSlash(t.attr("file")),this.ext=this.file.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext){var e=t.attr("animated");void 0===e?this.checkAnimatedGif():this.animated="true"===e}return"font"===this.type&&(this.fontName=this.name===this.file&&0<this.name.lastIndexOf(".")?this.name.substring(0,this.name.lastIndexOf(".")):this.name),this}},{key:"getAttributes",value:function(){return c.getAttributes(this,["name","file","animated"])}},{key:"setAttributes",value:function(e){var n=this;return["name","file","animated"].forEach(function(t){c.isEmpty(e[t])||(n[t]=e[t])}),this.ext=this.file.toLowerCase().split(".").pop(),this.type=this.getFileType(this.ext),"gif"===this.ext&&"undefined"===this.animated&&this.checkAnimatedGif(),"font"===this.type&&(this.fontName=this.name===this.file&&0<this.name.lastIndexOf(".")?this.name.substring(0,this.name.lastIndexOf(".")):this.name),this}},{key:"checkAnimatedGif",value:function(){var s=this,a=new XMLHttpRequest;a.addEventListener("load",function(){var t=new Uint8Array(a.response),e=t.length;if(71===t[0]&&73===t[1]&&70===t[2]&&56===t[3]){for(var n=0,i=e-3,r=0;n<i&&r<2;++n)if(0===t[n]&&33===t[n+1]&&249===t[n+2]){var o=n+4+t[n+3];if(o+1<e&&0===t[o]&&(44===t[o+1]||33===t[o+1])&&1<++r){s.animated=!0,c.log("debug","Animated GIF detected: ".concat(s.file));break}}}else s.animated=!1}),this.getFullPathPromise().then(function(t){a.open("GET",t,!0),a.responseType="arraybuffer",a.send()})}},{key:"isEmpty",value:function(){return null===this.data}},{key:"getFileType",value:function(t){var e=null;for(var n in c.settings.FILE_TYPES)if(0<=c.settings.FILE_TYPES[n].indexOf(t)){e=n;break}return e}},{key:"build",value:function(t,r){var o=this;return t&&(this._whenReady||(this._whenReady=[]),this._whenReady.push(t)),this.data?this.ready&&this._onReady():this.getFullPathPromise().then(function(t){switch(o.type){case"font":var e="ttf"===o.ext?"truetype":"otf"===o.ext?"embedded-opentype":o.ext,n='@font-face{font-family:"'.concat(o.fontName,'";src:url(').concat(t,') format("').concat(e,'");}');c.appendStyleAtHead(n,r),o.data=new u.Font(o.name),o.ready=!0;break;case"image":o.data=new Image,s(o.data).on("load",function(){return o._onReady.call(o)}),o.data.src=t;break;case"audio":case"video":o.data=document.createElement(o.type),s(o.data).on("canplay",function(){return o._onReady.call(o)}),o.data.src=t,o.data.load(),o.data.pause();break;case"anim":o.data=s('<object type"application/x-shockwave-flash" width="300" height="200" data="'.concat(t,'"/>')).get(-1),o.ready=!0;break;case"xml":s.get(t,null,null,"xml").done(function(t){var e=t?t.children||t.childNodes:null;o.data=e&&0<e.length?c.parseXmlNode(e[0]):null,o._onReady()}).fail(function(t){c.log("error","Error loading ".concat(o.name,": ").concat(t)),o._onReady()});break;case"midi":var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&(200===i.status?o.data=new a(i.response,r.options):c.log("error","Error loading ".concat(o.name,": ").concat(i.statusText)),o._onReady())},i.open("GET",t,!0),i.responseType="arraybuffer",i.send();break;default:c.log("trace","Media currently not supported: ".concat(o.name)),o.ready=!0}o.ready&&o._onReady()}),this}},{key:"checkReady",value:function(){if(this.data&&!this.ready)switch(this.type){case"image":this.ready=!0===this.data.complete;break;case"audio":case"video":case"anim":this.ready=1<=this.data.readyState;break;default:this.ready=!0}return this.ready}},{key:"checkTimeout",value:function(){var t=Date.now()>this.timeout;return t&&c.log("warn","Timeout while loading: ".concat(this.name)),t}},{key:"_onReady",value:function(){var e=this;this.ready=!0,this._whenReady&&(this._whenReady.forEach(function(t){return t.call(e,e)}),this._whenReady=null)}},{key:"getFullPath",value:function(){return this._fullPath}},{key:"getFullPathPromise",value:function(){var n=this;return new Promise(function(e,t){c.getPathPromise(n.basePath,n.file,n.zip).then(function(t){n._fullPath=t,e(t)}).catch(t)})}}]),i}();return Object.assign(t.prototype,{name:"",file:"",fontName:"",basePath:"",zip:null,data:null,ready:!1,_whenReady:null,ext:"",type:null,timeout:0,animated:!1,_fullPath:null}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(460),n(2)],void 0===(r=function(r,n){var t=function(){function i(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),i.prepareInstrument(n),this.data=t,this.player=new r.Player(function(t){return e.playEvent(t)}),this.player.loadArrayBuffer(t)}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(i,[{key:"pause",value:function(){this.player.pause(),this.startedNotes=[]}},{key:"play",value:function(){this.startedNotes=[],this.player.play()}},{key:"playEvent",value:function(t){i.instrument&&(0<this.playTo&&this.currentTime>=this.playTo?this.pause():"Controller Change"===t.name&&7===t.number?this.mainVolume=t.value/127:"Note on"===t.name&&0<t.velocity?this.startedNotes[t.noteNumber]=i.instrument.play(t.noteName,i.audioContext.currentTime,{gain:this.mainVolume*t.velocity/100*2}):"Note off"===t.name&&t.noteNumber&&this.startedNotes[t.noteNumber]&&(this.startedNotes[t.noteNumber].stop(),delete this.startedNotes[t.noteNumber]))}},{key:"paused",get:function(){return!this.player.isPlaying()}},{key:"ended",get:function(){return this.player.getSongTimeRemaining()<=0}},{key:"currentTime",get:function(){return 1e3*this.player.getSongTime()},set:function(t){this.player.skipToSeconds(t/1e3)}}],[{key:"prepareInstrument",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};!1===i.loadingInstrument&&(i.loadingInstrument=!0,i.audioContext=new AudioContext,r.Soundfont.instrument(i.audioContext,e.MIDISoundFontObject||i.MIDISoundFontObject||"".concat(e.MIDISoundFontBase||i.MIDISoundFontBase,"/").concat(e.MIDISoundFontName||i.MIDISoundFontName).concat(e.MIDISoundFontExtension||i.MIDISoundFontExtension)).then(function(t){n.log("info","MIDI soundfont instrument loaded"),i.instrument=t}).catch(function(t){n.log("error","Error loading soundfont base instrument: ".concat(t))}))}}]),i}();return Object.assign(t.prototype,{data:null,player:null,playTo:0,mainVolume:1,startedNotes:[]}),t.audioContext=null,t.instrument=null,t.loadingInstrument=!1,t.MIDISoundFontObject=null,t.MIDISoundFontBase="https://clic.xtec.cat/dist/jclic.js/soundfonts/MusyngKite",t.MIDISoundFontName="acoustic_grand_piano",t.MIDISoundFontExtension="-mp3.js",t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,s;function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(){return function r(o,s,a){function c(e,t){if(!s[e]){if(!o[e]){if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[e]={exports:{}};o[e][0].call(i.exports,function(t){return c(o[e][1][t]||t)},i,i.exports,r,o,s,a)}return s[e].exports}for(var u=!1,t=0;t<a.length;t++)c(a[t]);return c}({1:[function(t,e,n){var s={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(t){var e=this._multiplier.gain,n=this._startAmount.gain,i=this._endAmount.gain;this._voltage.start(t),this._decayFrom=this._decayFrom=t+this.attack,this._startedAt=t;var r=this.sustain;e.cancelScheduledValues(t),n.cancelScheduledValues(t),i.cancelScheduledValues(t),i.setValueAtTime(0,t),this.attack?(e.setValueAtTime(0,t),e.linearRampToValueAtTime(1,t+this.attack),n.setValueAtTime(1,t),n.linearRampToValueAtTime(0,t+this.attack)):(e.setValueAtTime(1,t),n.setValueAtTime(0,t)),this.decay&&e.setTargetAtTime(r,this._decayFrom,u(this.decay))}},stop:{value:function(t,e){e&&(t-=this.release);var n=t+this.release;if(this.release){var i=this._multiplier.gain,r=this._startAmount.gain,o=this._endAmount.gain;i.cancelScheduledValues(t),r.cancelScheduledValues(t),o.cancelScheduledValues(t);var s=u(this.release);if(this.attack&&t<this._decayFrom){var a=function(t,e,n,i,r){var o=t+(r-n)/(i-n)*(e-t);o<=t&&(o=t);e<=o&&(o=e);return o}(0,1,this._startedAt,this._decayFrom,t);i.linearRampToValueAtTime(a,t),r.linearRampToValueAtTime(1-a,t),r.setTargetAtTime(0,t,s)}o.setTargetAtTime(1,t,s),i.setTargetAtTime(0,t,s)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(t){this._voltage.onended=t}}},a=new Float32Array([1,1]);function c(t){var e=t.context.createGain();return t.connect(e),e}function u(t){return Math.log(t+1)/Math.log(100)}e.exports=function(t){var e=t.createGain(),n=e._voltage=function(t){var e=t.createBufferSource(),n=t.createBuffer(1,2,t.sampleRate);return n.getChannelData(0).set(a),e.buffer=n,e.loop=!0,e}(t),i=c(n),r=c(n),o=c(n);return e._startAmount=c(r),e._endAmount=c(o),e._multiplier=c(i),e._multiplier.connect(e),e._startAmount.connect(e),e._endAmount.connect(e),e.value=i.gain,e.startValue=r.gain,e.endValue=o.gain,e.startValue.value=0,e.endValue.value=0,Object.defineProperties(e,s),e}},{}],2:[function(t,e,n){"use strict";e.exports={decode:function(t,e){for(var n,i,r,o=t.replace(/[^A-Za-z0-9\+\/]/g,""),s=o.length,a=e?Math.ceil((3*s+1>>2)/e)*e:3*s+1>>2,c=new Uint8Array(a),u=0,l=0,h=0;h<s;h++)if(i=3&h,u|=(64<(r=o.charCodeAt(h))&&r<91?r-65:96<r&&r<123?r-71:47<r&&r<58?r+4:43===r?62:47===r?63:0)<<18-6*i,3==i||s-h==1){for(n=0;n<3&&l<a;n++,l++)c[l]=u>>>(16>>>n&24)&255;u=0}return c}}},{}],3:[function(t,e,n){"use strict";e.exports=function(i,r){return new Promise(function(t,e){var n=new XMLHttpRequest;r&&(n.responseType=r),n.open("GET",i),n.onload=function(){200===n.status&&t(n.response),e(Error(n.statusText))},n.onerror=function(){return e(Error("Network Error"))},n.send()})}},{}],4:[function(t,e,n){"use strict";var r=t("./base64"),i=t("./fetch");function o(e){return function(t){return"string"==typeof t&&e.test(t)}}function s(t,e){return"string"==typeof t?t+e:"function"==typeof t?t(e):e}function a(t,e,n,i){var r=function(t){return t instanceof ArrayBuffer}(e)?c:u(e)?l:function(t){return t&&"function"==typeof t.then}(e)?h:f(e)?p:function(t){return t&&"object"===A(t)}(e)?d:g(e)?v:y(e)?m:b(e)?w:null;return r?r(t,e,n||{}):i?Promise.resolve(i):Promise.reject("Source not valid (".concat(e,")"))}function c(n,i,t){return new Promise(function(e,t){n.decodeAudioData(i,function(t){e(t)},function(){t("Can't decode audio data (".concat(i.slice(0,30),"...)"))})})}a.fetch=i;var u=o(/\.(mp3|wav|ogg)(\?.*)?$/i);function l(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"arraybuffer"),n)}function h(e,t,n){return t.then(function(t){return a(e,t,n)})}var f=Array.isArray;function p(e,t,n){return Promise.all(t.map(function(t){return a(e,t,n,t)}))}function d(n,i,r){var o={},t=Object.keys(i).map(function(e){if(r.only&&-1===r.only.indexOf(e))return null;var t=i[e];return a(n,t,r,t).then(function(t){o[e]=t})});return Promise.all(t).then(function(){return o})}var g=o(/\.json(\?.*)?$/i);function v(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"text").then(JSON.parse),n)}var y=o(/^data:audio/);function m(t,e,n){var i=e.indexOf(",");return a(t,r.decode(e.slice(i+1)).buffer,n)}var b=o(/\.js(\?.*)?$/i);function w(t,e,n){var i=s(n.from,e);return a(t,a.fetch(i,"text").then(k),n)}function k(t){var e=t.indexOf("MIDI.Soundfont.");if(e<0)throw Error("Invalid MIDI.js Soundfont format");e=t.indexOf("=",e)+2;var n=t.lastIndexOf(",");return JSON.parse(t.slice(e,n)+"}")}e.exports={load:a}},{"./base64":2,"./fetch":3}],5:[function(t,e,n){function i(e){o.forEach(function(t){t.forEach(function(t){return r.NOTES[s]=t+e}),s++})}for(var r={VERSION:"2.0.4",NOTES:[],CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},o=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],s=0,a=-1;a<=9;a++)i(a);e.exports.Constants=r},{}],6:[function(t,e,n){var i=t("./player"),r=t("./soundfont-player/index");e.exports={Player:i.Player,Soundfont:r.Soundfont}},{"./player":8,"./soundfont-player/index":14}],7:[function(t,e,n){"use strict";function i(t,e){return Array(e+1).join(t)}var r=function(t){return"number"==typeof t},o=function(t){return"string"==typeof t},s=function(t){return void 0!==t},a=function(t,e){return Math.pow(2,(t-69)/12)*(e||440)},c=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;var u=[0,2,4,5,7,9,11];function l(t,e,n){if("string"!=typeof t)return null;var i=c.exec(t);if(!i||!e&&i[4])return null;var r={letter:i[1].toUpperCase(),acc:i[2].replace(/x/g,"##")};r.pc=r.letter+r.acc,r.step=(r.letter.charCodeAt(0)+3)%7,r.alt="b"===r.acc[0]?-r.acc.length:r.acc.length;var o=u[r.step]+r.alt;return r.chroma=o<0?12+o:o%12,i[3]&&(r.oct=+i[3],r.midi=o+12*(r.oct+1),r.freq=a(r.midi,n)),e&&(r.tonicOf=i[4]),r}var h="CDEFGAB",f=function(t){return r(t)?t<0?i("b",-t):i("#",t):""},p=function(t){return r(t)?""+t:""};function d(t){if((r(t)||o(t))&&0<=t&&t<128)return+t;var e=l(t);return e&&s(e.midi)?e.midi:null}e.exports={regex:function(){return c},parse:l,build:function t(e,n,i){return null==e?null:e.step?t(e.step,e.alt,e.oct):e<0||6<e?null:h.charAt(e)+f(n)+p(i)},midi:d,freq:function(t,e){var n=d(t);return null===n?null:a(n,e)},letter:function(t){return(l(t)||{}).letter},acc:function(t){return(l(t)||{}).acc},pc:function(t){return(l(t)||{}).pc},step:function(t){return(l(t)||{}).step},alt:function(t){return(l(t)||{}).alt},chroma:function(t){return(l(t)||{}).chroma},oct:function(t){return(l(t)||{}).oct}}},{}],8:[function(i,t,e){var r=i("./utils").Utils,o=i("./track").Track;Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var n=function(){function n(t,e){a(this,n),this.sampleRate=5,this.startTime=0,this.buffer=e||null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},"function"==typeof t&&this.on("midiEvent",t)}return u(n,[{key:"loadFile",value:function(t){var e=i("fs");return this.buffer=e.readFileSync(t),this.fileLoaded()}},{key:"loadArrayBuffer",value:function(t){return this.buffer=new Uint8Array(t),this.fileLoaded()}},{key:"loadDataUri",value:function(t){for(var e=window.atob(t.split(",")[1]),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return this.buffer=n,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return"MThd"===r.bytesToLetters(this.buffer.subarray(0,4))}},{key:"getFormat",value:function(){return this.format=r.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var t=0;t<this.buffer.length;){if("MTrk"==r.bytesToLetters(this.buffer.subarray(t,t+4))){var e=r.bytesToNumber(this.buffer.subarray(t+4,t+8));this.tracks.push(new o(this.tracks.length,this.buffer.subarray(t+8,t+8+e)))}t+=r.bytesToNumber(this.buffer.subarray(t+4,t+8))+8}return this}},{key:"enableTrack",value:function(t){return this.tracks[t-1].enable(),this}},{key:"disableTrack",value:function(t){return this.tracks[t-1].disable(),this}},{key:"getDivision",value:function(){return this.division=r.bytesToNumber(this.buffer.subarray(12,14)),this}},{key:"playLoop",value:function(n){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(t){if(!n&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var e=t.handleEvent(this.tick,n);n&&e?(e.hasOwnProperty("name")&&"Set Tempo"===e.name&&this.setTempo(e.data),e.hasOwnProperty("name")&&"Program Change"===e.name&&(this.instruments.includes(e.value)||this.instruments.push(e.value))):e&&this.emitEvent(e)}},this),n||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(t){return this.tempo=t,this}},{key:"setStartTime",value:function(t){this.startTime=t}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=(new Date).getTime()),this.setIntervalId=window.setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(e){return this.stop(),this.startTick=e,this.tracks.forEach(function(t){t.setEventIndexByTick(e)}),this}},{key:"skipToPercent",value:function(t){if(t<0||100<t)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(t/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(t){var e=this.getSongTime();if(t<0||e<t)throw"".concat(t," seconds not within song time of ").concat(e);return this.skipToPercent(t/e*100),this}},{key:"isPlaying",value:function(){return 0<this.setIntervalId||"object"===A(this.setIntervalId)}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(t){return t.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(t){return t.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(t){return t.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(t,e){return{events:{length:t.events.length+e.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.tick)/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return 14+8*this.tracks.length+this.tracks.reduce(function(t,e){return{pointer:t.pointer+e.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(t,e){return{eventIndex:t.eventIndex+e.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.eventsPlayed()==this.totalEvents:this.bytesProcessed()==this.buffer.length}},{key:"getCurrentTick",value:function(){return Math.round(((new Date).getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick}},{key:"emitEvent",value:function(t){return this.triggerPlayerEvent("midiEvent",t),this}},{key:"on",value:function(t,e){return this.eventListeners.hasOwnProperty(t)||(this.eventListeners[t]=[]),this.eventListeners[t].push(e),this}},{key:"triggerPlayerEvent",value:function(t,e){return this.eventListeners.hasOwnProperty(t)&&this.eventListeners[t].forEach(function(t){return t(e||{})}),this}}]),n}();t.exports={Player:n}},{"./track":15,"./utils":16,fs:void 0}],9:[function(t,e,n){e.exports=function(r){return r.on=function(t,e){if(1===arguments.length&&"function"==typeof t)return r.on("event",t);var n="on"+t,i=r[n];return r[n]=i?function(r,o){return function(t,e,n,i){r(t,e,n,i),o(t,e,n,i)}}(i,e):e,r},r}},{}],10:[function(t,e,n){"use strict";var i=t("./player"),r=t("./events"),o=t("./notes"),s=t("./scheduler");e.exports={SamplePlayer:function(t,e,n){return s(o(r(i(t,e,n))))}}},{"./events":9,"./notes":11,"./player":12,"./scheduler":13}],11:[function(t,e,n){"use strict";function i(t){return function(t){return null!==t&&t!==[]&&0<=t&&t<129}(t)?+t:r.midi(t)}var r=t("../note-parser/index");e.exports=function(t){if(t.buffers){var e=t.opts.map,n="function"==typeof e?e:i,o=function(t){return t?n(t)||t:null};t.buffers=function(n,i){return Object.keys(n).reduce(function(t,e){return t[i(e)]=n[e],t},{})}(t.buffers,o);var s=t.start;t.start=function(t,e,n){var i=o(t),r=i%1;return r&&(i=Math.floor(i),n=Object.assign(n||{},{cents:Math.floor(100*r)})),s(i,e,n)}}return t}},{"../note-parser/index":7}],12:[function(t,e,n){"use strict";var p=t("../adsr/index"),d={},i={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function g(t){return"number"==typeof t}var v=["attack","decay","sustain","release"];e.exports=function(s,t,e){var a=!1,c=0,u={},l=s.createGain();l.gain.value=1;var h=Object.assign({},i,e),f={context:s,out:l,opts:h};return t instanceof AudioBuffer?f.buffer=t:f.buffers=t,f.start=function(t,e,n){if(f.buffer&&null!==t)return f.start(null,t,e);var i=t?f.buffers[t]:f.buffer;if(i){if(a){var r=n||d;e=Math.max(s.currentTime,e||0),f.emit("start",e,t,r);var o=function(i,t,e){var r=s.createGain();return r.gain.value=0,r.connect(l),r.env=function(t,n,i){var r=p(t),o=n.adsr||i.adsr;return v.forEach(function(t,e){r[t]=o?o[e]:n[t]||i[t]}),r.value.value=g(n.gain)?n.gain:g(i.gain)?i.gain:1,r}(s,e,h),r.env.connect(r.gain),r.source=s.createBufferSource(),r.source.buffer=t,r.source.connect(r),r.source.loop=e.loop||h.loop,r.source.playbackRate.value=function(t){return t?Math.pow(2,t/1200):1}(e.cents||h.cents),r.source.loopStart=e.loopStart||h.loopStart,r.source.loopEnd=e.loopEnd||h.loopEnd,r.stop=function(t){var e=t||s.currentTime;f.emit("stop",e,i);var n=r.env.stop(e);r.source.stop(n)},r}(t,i,r);return o.id=function(t,e){return e.id=c++,(u[e.id]=e).source.onended=function(){var t=s.currentTime;e.source.disconnect(),e.env.disconnect(),e.disconnect(),f.emit("ended",t,e.id,e)},e.id}(0,o),o.env.start(e),o.source.start(e),f.emit("started",e,o.id,o),r.duration&&o.stop(e+r.duration),o}console.warn("SamplePlayer not connected to any node.")}else console.warn("Buffer ".concat(t," not found."))},f.play=function(t,e,n){return f.start(t,e,n)},f.stop=function(n,t){return(t=t||Object.keys(u)).map(function(t){var e=u[t];return e?(e.stop(n),e.id):null})},f.connect=function(t){return a=!0,l.connect(t),f},f.emit=function(t,e,n,i){f.onevent&&f.onevent(t,e,n,i);var r=f["on"+t];r&&r(e,n,i)},f}},{"../adsr/index":1}],13:[function(t,e,n){"use strict";var u=Array.isArray,l={};e.exports=function(c){return c.schedule=function(t,e){var n,i,r,o,s=c.context.currentTime,a=t<s?s:t;return c.emit("schedule",a,e),e.map(function(t){return t?(i=u(t)?(n=t[0],t[1]):(n=t.time,t),o=function(t){return t&&"object"===A(t)}(i)?(r=i.name||i.key||i.note||i.midi||null,i):(r=i,l),c.start(r,a+(n||0),o)):null})},c}},{}],14:[function(t,e,n){"use strict";var c=t("../audio-loader/index").load,u=t("../sample-player/index").SamplePlayer;function l(t){return/\.js(\?.*)?$/i.test(t)}function h(t,e,n){return"https://gleitz.github.io/midi-js-soundfonts/"+(e="FluidR3_GM"===e?e:"MusyngKite")+"/"+t+"-"+(n="ogg"===n?n:"mp3")+".js"}var i={instrument:function n(i,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(1===arguments.length)return function(t,e){return n(i,t,e)};var o="",s="";if("string"==typeof t){o=t;var e=r.isSoundfontURL||l,a=r.nameToUrl||h;t=s=e(t)?t:a(t,r.soundfont,r.format)}return c(i,t,{only:r.only||r.notes}).then(function(t){var e=u(i,t,r).connect(r.destination?r.destination:i.destination);return e.url=s,e.name=o,e})},nameToUrl:h};e.exports={Soundfont:i}},{"../audio-loader/index":4,"../sample-player/index":10}],15:[function(t,e,n){var o=t("./constants").Constants,s=t("./utils").Utils,i=function(){function n(t,e){a(this,n),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=e,this.delta=0,this.runningDelta=0,this.events=[]}return u(n,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(t){for(var e in t=t||0,this.events)if(this.events[e].tick>=t)return this.eventIndex=e,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){for(var t=this.getCurrentByte(),e=1;128<=t;)t=this.data[this.pointer+e],e++;return e}},{key:"getDelta",value:function(){return s.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(t,e){if(e=e||!1){var n=t-this.lastTick,i=this.getDelta()<=n;if(this.pointer<this.data.length&&(e||i)){var r=this.parseEvent();if(this.enabled)return r}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=t&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(t){var e=s.readVarInt(this.data.subarray(t+2,t+2+1));return s.bytesToLetters(this.data.subarray(t+1+2,t+1+e+2))}},{key:"parseEvent",value:function(){var t=this.pointer+this.getDeltaByteCount(),e={},n=this.getDeltaByteCount();if(e.track=this.index+1,e.delta=this.getDelta(),this.lastTick=this.lastTick+e.delta,this.runningDelta+=e.delta,e.tick=this.runningDelta,e.byteIndex=this.pointer,255==this.data[t]){switch(this.data[t+1]){case 0:e.name="Sequence Number";break;case 1:e.name="Text Event",e.string=this.getStringData(t);break;case 2:e.name="Copyright Notice";break;case 3:e.name="Sequence/Track Name",e.string=this.getStringData(t);break;case 4:e.name="Instrument Name",e.string=this.getStringData(t);break;case 5:e.name="Lyric",e.string=this.getStringData(t);break;case 6:e.name="Marker";break;case 7:e.name="Cue Point",e.string=this.getStringData(t);break;case 9:e.name="Device Name",e.string=this.getStringData(t);break;case 32:e.name="MIDI Channel Prefix";break;case 33:e.name="MIDI Port",e.data=s.bytesToNumber([this.data[t+3]]);break;case 47:e.name="End of Track";break;case 81:e.name="Set Tempo",e.data=Math.round(6e7/s.bytesToNumber(this.data.subarray(t+3,t+6))),this.tempo=e.data;break;case 84:e.name="SMTPE Offset";break;case 88:e.name="Time Signature",e.data=this.data.subarray(t+3,t+7),e.timeSignature=e.data[0]+"/"+Math.pow(2,e.data[1]);break;case 89:e.name="Key Signature",e.data=this.data.subarray(t+3,t+5),0<=e.data[0]?e.keySignature=o.CIRCLE_OF_FIFTHS[e.data[0]]:e.data[0]<0&&(e.keySignature=o.CIRCLE_OF_FOURTHS[Math.abs(e.data[0])]),0==e.data[1]?e.keySignature+=" Major":1==e.data[1]&&(e.keySignature+=" Minor");break;case 127:e.name="Sequencer-Specific Meta-event";break;default:e.name="Unknown: ".concat(this.data[t+1].toString(16))}var i=this.data[this.pointer+n+2];this.pointer+=n+3+i}else if(240==this.data[t]){e.name="Sysex";var r=this.data[this.pointer+n+1];this.pointer+=n+2+r}else this.data[t]<128?(e.running=!0,e.noteNumber=this.data[t],e.noteName=o.NOTES[this.data[t]],e.velocity=this.data[t+1],this.lastStatus<=143?(e.name="Note off",e.channel=this.lastStatus-128+1):this.lastStatus<=159&&(e.name="Note on",e.channel=this.lastStatus-144+1),this.pointer+=n+2):(this.lastStatus=this.data[t],this.data[t]<=143?(e.name="Note off",e.channel=this.lastStatus-128+1,e.noteNumber=this.data[t+1],e.noteName=o.NOTES[this.data[t+1]],e.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=n+3):this.data[t]<=159?(e.name="Note on",e.channel=this.lastStatus-144+1,e.noteNumber=this.data[t+1],e.noteName=o.NOTES[this.data[t+1]],e.velocity=Math.round(this.data[t+2]/127*100),this.pointer+=n+3):this.data[t]<=175?(e.name="Polyphonic Key Pressure",e.channel=this.lastStatus-160+1,e.note=o.NOTES[this.data[t+1]],e.pressure=event[2],this.pointer+=n+3):this.data[t]<=191?(e.name="Controller Change",e.channel=this.lastStatus-176+1,e.number=this.data[t+1],e.value=this.data[t+2],this.pointer+=n+3):this.data[t]<=207?(e.name="Program Change",e.channel=this.lastStatus-192+1,e.value=this.data[t+1],this.pointer+=n+2):this.data[t]<=223?(e.name="Channel Key Pressure",e.channel=this.lastStatus-208+1,this.pointer+=n+2):this.data[t]<=239?(e.name="Pitch Bend",e.channel=this.lastStatus-224+1,this.pointer+=n+3):e.name="Unknown.  Pointer: ".concat(this.pointer.toString()," ").concat(t.toString()," ").concat(this.data.length));return this.delta+=e.delta,this.events.push(e),e}},{key:"endOfTrack",value:function(){return 255==this.data[this.pointer+1]&&47==this.data[this.pointer+2]&&0==this.data[this.pointer+3]}}]),n}();e.exports={Track:i}},{"./constants":5,"./utils":16}],16:[function(t,e,n){var i=function(){function n(){a(this,n)}return u(n,null,[{key:"byteToHex",value:function(t){return"0".concat(t.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(t){var e=[];return t.forEach(function(t){return e.push(n.byteToHex(t))}),e.join("")}},{key:"hexToNumber",value:function(t){return parseInt(t,16)}},{key:"bytesToNumber",value:function(t){return n.hexToNumber(n.bytesToHex(t))}},{key:"bytesToLetters",value:function(t){var e=[];return t.forEach(function(t){return e.push(String.fromCharCode(t))}),e.join("")}},{key:"decToBinary",value:function(t){return(t>>>0).toString(2)}},{key:"readVarInt",value:function(t){var e=0;return t.forEach(function(t){128&t?(e+=127&t,e<<=7):e+=t}),e}}]),n}();e.exports={Utils:i}},{}]},{},[6])(6)},"object"===A(e)&&void 0!==t?t.exports=s():(r=[],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o))},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}i=[n(1),n(2)],void 0===(r=function(t,o){var n=function(){function r(t){var n=this;u(this,r),this.className=t,this.collator=window.Intl&&window.Intl.Collator?new window.Intl.Collator:{compare:function(t,e){return n.checkCase?t===e:t.toUpperCase()===e.toUpperCase()}}}return h(r,[{key:"setProperties",value:function(t){var n=this;return o.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"class":n.className=e;break;case"checkCase":case"checkAccents":case"checkPunctuation":case"checkDoubleSpaces":case"detail":n[t]=o.getBoolean(e);break;case"checkSteps":case"checkScope":n[t]=Number(e)}}),this}},{key:"getAttributes",value:function(){return o.getAttributes(this,["className","checkCase","checkAccents","checkPunctuation","checkDoubleSpaces","detail","checkSteps","checkScope"])}},{key:"init",value:function(t){this.initiated=!0}},{key:"checkText",value:function(e,t){var n=this;return t instanceof Array?t.some(function(t){return n._checkText(e,t)}):!!t&&this._checkText(e,t)}},{key:"_checkText",value:function(t,e){return!1}},{key:"evalText",value:function(t,e){return e instanceof Array||(e=[e]),this._evalText(t,e)}},{key:"_evalText",value:function(t,e){return[]}},{key:"isOk",value:function(t){return t&&0<t.length&&!t.some(function(t){return 0!==t})}}],[{key:"getEvaluator",value:function(t){var e=null;if(t){var n=t.attr("class"),i=r.CLASSES[n];i?(e=new i(n)).setProperties(t):o.log("error",'Unknown evaluator class: "'.concat(n,'"'))}return e}},{key:"factory",value:function(t){var e=r.CLASSES[t.className];if(e){var n=new e(t.className);return o.setAttr(n,t,["className","checkCase","checkAccents","checkPunctuation","checkDoubleSpaces","detail","checkSteps","checkScope"])}return null}}]),r}();Object.assign(n.prototype,{className:null,initiated:!1,collator:null,checkCase:!1});var e=function(){function e(t){return u(this,e),s(this,v(e).call(this,t))}return a(e,n),h(e,[{key:"init",value:function(t){g(v(e.prototype),"init",this).call(this,[t]),window.Intl&&window.Intl.Collator&&(this.collator=new window.Intl.Collator(t,{sensitivity:this.checkAccents?this.checkCase?"case":"accent":"base",ignorePunctuation:!this.checkPunctuation}))}},{key:"_checkText",value:function(t,e){return 0===this.collator.compare(this.getClearedText(t),this.getClearedText(e))}},{key:"_evalText",value:function(t,e){return Array(t.length).fill(this._checkText(t,e[0])?0:1)}},{key:"getClearedText",value:function(t,e){if(this.checkPunctuation&&this.checkDoubleSpaces)return t;e=e||Array(t.length).fill(!1);for(var n="",i=0,r=!1;i<t.length;i++){var o=t.charAt(i);0<=this.PUNCTUATION.indexOf(o)&&!this.checkPunctuation?(r?e[i]=!0:n+=" ",r=!0):" "===o?(this.checkDoubleSpaces||!r?n+=o:e[i]=!0,r=!0):(r=!1,n+=o)}return n}}]),e}();Object.assign(e.prototype,{checkAccents:!0,checkPunctuation:!0,checkDoubleSpaces:!1,PUNCTUATION:".,;:"});var i=function(){function d(t){return u(this,d),s(this,v(d).call(this,t))}return a(d,e),h(d,[{key:"_evalText",value:function(t,e){if(!this.detail)return g(v(d.prototype),"_evalText",this).call(this,t,e);for(var n=Array(t.length).fill(!1),i=this.getClearedText(t,n),r=Array(e.length),o=Array(e.length),s=Array(t.length),a=-1,c=-1,u=0;u<e.length;u++){o[u]=Array(t.length).fill(0);var l=this.compareSegment(i,i.length,e[u],e[u].length,o[u],!1);r[u]=this.countFlagsOk(o[u]),l&&(a=r[c=u])}if(-1===c)for(var h=0;h<e.length;h++)r[h]>a&&(a=r[h],c=h);for(var f=0,p=0;f<t.length;f++)s[f]=n[f]?0:o[c][p++];return s}},{key:"countFlagsOk",value:function(t){return t.reduce(function(t,e){return 0==e?++t:t},0)}},{key:"compareSegment",value:function(t,e,n,i,r,o){var s=0,a=0,c=0,u=!0,l=!0,h="",f="";if(0===e||0===i||null===t||null===n)return!1;for(;s<e;s++,a++)if(h=t.charAt(s),c=s,f=0<=a&&a<i?n.charAt(a):0,0===this.collator.compare(h,f))u=!(r[s]=0);else if(l=!1,r[s]=1,!o&&u&&0!==f&&0<this.checkSteps&&0<this.checkScope){for(var p=2*this.checkSteps+1,d=[],g=0,v=0;v<p;v++)if(d[v]=0,!(i<=(g=a+Math.floor((v+1)/2)*(0!=(1&v)?1:-1)))){var y=g<0?s-g:s;if(!(e<=y)){var m=Math.min(e-y,this.checkScope),b=g<0?0:g,w=Math.min(i-b,this.checkScope),k=Array(t.length-y).fill(0),A=this.compareSegment(t.substring(y),m,n.substring(b),w,k,!0);if(d[v]=this.countFlagsOk(k),A)break}}if(v===p){var x=this.checkSteps;for(v=0;v<p;v++)d[v]>d[x]&&(x=v);g=a+Math.floor((x+1)/2)*(0!=(1&x)?1:-1)}a=g,u=!1}return a!==i&&(l=!1,r[c]=1),l}}]),d}();return Object.assign(i.prototype,{detail:!0,checkSteps:3,checkScope:6}),n.CLASSES={"@BasicEvaluator":e,"@ComplexEvaluator":i},n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}i=[n(1),n(2),n(3),n(71),n(94),n(133)],void 0===(r=function(c,u,t,l,a,e){var n=function(){function t(){o(this,t),this.style={default:c.extend(!0,{},t.DEFAULT_DOC_STYLE)},this.p=[]}return f(t,[{key:"setProperties",value:function(t,s){var a=this;return t.children("style").toArray().sort(function(t,e){var n=t.getAttribute("name"),i=t.getAttribute("base")||null,r=e.getAttribute("name"),o=e.getAttribute("base")||null;return"default"===n?-1:"default"===r?1:i===r?1:o===n?-1:i?o?0:1:-1}).forEach(function(t){var e=a.readDocAttributes(c(t));a.style[e.name]="default"===e.name?c.extend(!0,a.style.default,e):e}),t.find("section > p").each(function(t,e){var o={elements:[]};u.attrForEach(e.attributes,function(t,e){switch(t){case"style":o[t]=e;break;case"bidiLevel":case"Alignment":o[t]=Number(e)}}),c(e).children().each(function(t,e){var n,i=c(e);switch(e.nodeName){case"cell":n=(new l).setProperties(i,s);break;case"text":n={text:e.textContent.replace(/\t/g,"&#9;")};var r=a.readDocAttributes(i);c.isEmptyObject(r)||(n.attr=r);break;case"target":(n=new h(a,e.textContent.replace(/\t/g,"&#9;"))).setProperties(i,s),a.numTargets++;break;default:u.log("error",'Unknown object in activity document: "'.concat(e.nodeName,'"'))}n&&(n.objectType=e.nodeName,o.elements.push(n))}),a.p.push(o)}),this}},{key:"readDocAttributes",value:function(t){var n=this,i={},r={};return u.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"background":e=u.checkColor(e,"white"),i[t]=e,r["background-color"]=e;break;case"foreground":e=u.checkColor(e,"black"),i[t]=e,r.color=e;break;case"family":r["font-family"]=e;case"name":case"style":i[t]=e;break;case"base":i[t]=e,n.style[e]&&(i=c.extend(!0,{},n.style[e],i),n.style[e].css&&(r=c.extend({},n.style[e].css,r)));break;case"bold":e=u.getBoolean(e),i[t]=e,r["font-weight"]=e?"bold":"normal";break;case"italic":e=u.getBoolean(e),i[t]=e,r["font-style"]=e?"italic":"normal";break;case"target":i[t]=u.getBoolean(e);break;case"size":i[t]=Number(e),r["font-size"]="".concat(e,"px");break;case"tabWidth":n.tabSpc=e,r["tab-size"]=n.tabSpc,r["white-space"]="pre-wrap";break;default:u.log("warn",'Unknown text attribute: "'.concat(t,'" = "').concat(e,'"')),i[t]=e}}),c.isEmptyObject(r)||(i.css=r),i}},{key:"getAttributes",value:function(){return u.getAttributes(this,["style","tabSpc","targetType","p"])}},{key:"setAttributes",value:function(t,e){var n=this;return u.setAttr(this,t,["style","tabSpc","targetType","p"]),this.p.forEach(function(t){t.elements?t.elements=t.elements.map(function(t){return"cell"===t.objectType?(new l).setAttributes(t,e):"target"===t.objectType?new h(n).setAttributes(t,e):t}):t.elements=[]}),this}},{key:"getRawText",value:function(){var i=c("<div/>");return this.p.forEach(function(t){var e=c("<p/>"),n=!0;t.elements.forEach(function(t){switch(t.objectType){case"text":case"target":e.append(t.text)}n=!1}),n&&e.html("&nbsp;"),i.append(e)}),i.text().trim()}},{key:"getFullStyle",value:function(t){var e=c.extend(!0,{},this.style.default);return c.extend(!0,e,this.style[t]?this.style[t]:{})}}]),t}();Object.assign(n.prototype,{tabSpc:12,lastBoxId:0,tmb:null,numTargets:0,targetType:"TT_FREE",style:null,p:null}),n.DEFAULT_DOC_STYLE={background:"white",foreground:"black",family:"Arial",size:17,css:{"font-family":"Arial,Helvetica,sans-serif","font-size":"17px","background-color":"white",color:"black"}};var h=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";o(this,n),this.doc=t,this.text=e,this.numIniChars=e.length,this.answers=[e],this.maxLenResp=this.numIniChars}return f(n,[{key:"reset",value:function(t){this.targetStatus=t||"NOT_EDITED",this.flagModified=!1}},{key:"setProperties",value:function(t,r){var o=this,s=!0;t.children().each(function(t,e){var n=c(e);switch(e.nodeName){case"answer":s&&(s=!1,o.answers=[]),null===o.answers&&(o.answers=[]),o.answers.push(e.textContent);break;case"optionList":n.children("option").each(function(t,e){o.isList=!0,null===o.options&&(o.options=[]),o.options.push(e.textContent)});break;case"response":o.iniChar=u.getVal(n.attr("fill"),o.iniChar).charAt(0),o.numIniChars=u.getNumber(n.attr("length"),o.numIniChars),o.maxLenResp=u.getNumber(n.attr("maxLength"),o.maxLenResp),o.iniText=u.getVal(n.attr("show"),o.iniText);break;case"info":o.infoMode=u.getVal(n.attr("mode"),"always"),o.popupDelay=u.getNumber(n.attr("delay"),o.popupDelay),o.popupMaxTime=u.getNumber(n.attr("maxTime"),o.popupMaxTime),n.children("media").each(function(t,e){o.onlyPlay=!0,o.popupContent=new l,o.popupContent.mediaContent=(new a).setProperties(c(e))}),o.popupContent||n.children("cell").each(function(t,e){o.popupContent=(new l).setProperties(c(e),r)});break;case"text":o.text=e.textContent.replace(/\t/g,"&#9;");var i=o.doc.readDocAttributes(c(e));c.isEmptyObject(i)||(o.attr=i)}})}},{key:"getAttributes",value:function(){return u.getAttributes(this,["objectType","text","attr","isList","answers","options","iniChar","numIniChars","maxLenResp","iniText","infoMode","popupDelay","popupKey","popupMaxTime","onlyPlay","popupContent"])}},{key:"setAttributes",value:function(t,e){return u.setAttr(this,t,["objectType","text","attr","isList","answers","options","iniChar","numIniChars","maxLenResp","iniText","infoMode","popupDelay","popupKey","popupMaxTime","onlyPlay",{key:"popupContent",fn:l,params:[e]}])}},{key:"getAnswers",value:function(){return this.answers?this.answers.join("|"):""}},{key:"checkColors",value:function(){var t=this.$comboList||this.$span;if(t){var e=this.doc.style["WITH_ERROR"===this.targetStatus?"targetError":"HIDDEN"===this.targetStatus?"default":"target"];e&&e.css&&t.css(e.css)}}},{key:"readCurrentText",value:function(){return this.$span?this.currentText=this.$span.text():this.$comboList&&(this.currentText=this.$comboList.val()),this.currentText}}]),n}();return Object.assign(h.prototype,{doc:null,text:null,attr:null,isList:!1,numIniChars:1,iniChar:"_",maxLenResp:0,answers:null,options:null,iniText:null,infoMode:"no_info",popupKey:"F1",popupContent:null,popupDelay:0,popupMaxTime:0,onlyPlay:!1,$comboList:null,$span:null,$p:null,$popup:null,currentText:"",num:0,pos:0,targetStatus:"NOT_EDITED",flagModified:!1,parentPane:null}),n.TextTarget=h,n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}i=[n(1),n(2),n(132),n(464)],void 0===(r=function(t,e,n,i){var r=function(){function n(t,e){s(this,n),this.projectName=t.name,this.code=e||t.code,this.sequences=[],this.actNames=[],this.started=new Date,this.info=new o(this),this.reportableActs=t.reportableActs}return a(n,[{key:"getData",value:function(t,n){t&&this.info.recalc();var i={projectName:this.projectName,played:this.info.nActivities,ratioPlayed:Math.round(100*this.info.ratioPlayed),solved:this.info.nActSolved,ratioSolved:Math.round(100*this.info.ratioSolved),actions:this.info.nActions,score:this.info.tScore,time:Math.round(this.info.tTime/10)/100,sequences:[]};return this.sequences.forEach(function(t){var e=t.getData();(n||0<e.activities.length)&&i.sequences.push(e)}),i}},{key:"getInfo",value:function(){return this.info.recalc()}},{key:"end",value:function(){this.endSequence()}},{key:"endSequence",value:function(){this.currentSequence&&0===this.currentSequence.totalTime&&this.currentSequence.endSequence(),this.currentSequence=null,this.info.valid=!1}},{key:"newSequence",value:function(t){this.endSequence(),this.currentSequence=new i(t),this.sequences.push(this.currentSequence),this.info.valid=!1}},{key:"newActivity",value:function(t){this.currentSequence&&(-1===this.actNames.indexOf(t.name)&&this.actNames.push(t.name),this.currentSequence.newActivity(t),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentSequence&&(this.currentSequence.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentSequence&&(this.currentSequence.newAction(t,e,n,i),this.info.valid=!1)}},{key:"getCurrentSequenceTag",value:function(){return this.currentSequence?this.currentSequence.name:null}},{key:"getCurrentSequenceInfo",value:function(){return this.currentSequence?this.currentSequence.getInfo():null}}]),n}();Object.assign(r.prototype,{reportableActs:0,actNames:null,sequences:null,currentSequence:null,started:null,projectName:"",info:null,code:null});var o=function(){function e(t){s(this,e),this.sReg=t}return a(e,[{key:"clear",value:function(){this.numSequences=this.nActivities=this.nActSolved=this.nActScore=0,this.ratioSolved=this.ratioPlayed=this.nActions=this.tScore=this.tTime=0,this.valid=!1}},{key:"recalc",value:function(){var n=this;return this.valid||(this.clear(),this.sReg.sequences.forEach(function(t){var e=t.getInfo();0<e.nActivities&&(n.numSequences++,0<e.nActClosed&&(n.nActivities+=e.nActClosed,n.nActions+=e.nActions,0<e.nActScore&&(n.nActScore+=e.nActScore,n.tScore+=e.tScore*e.nActScore),n.tTime+=e.tTime,n.nActSolved+=e.nActSolved))}),0<this.nActScore&&(this.tScore=Math.round(this.tScore/this.nActScore)),0<this.nActivities&&(this.ratioSolved=this.nActSolved/this.nActivities,0<this.sReg.reportableActs&&(this.ratioPlayed=this.sReg.actNames.length/this.sReg.reportableActs)),this.valid=!0),this}}]),e}();return Object.assign(o.prototype,{sReg:null,valid:!1,numSequences:0,nActivities:0,nActSolved:0,nActScore:0,ratioSolved:0,ratioPlayed:0,nActions:0,tScore:0,tTime:0}),r.Info=o,r}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}i=[n(1),n(465)],void 0===(r=function(t,n){var e=function(){function e(t){o(this,e),this.name=t.tag,this.description=t.description,this.activities=[],this.currentActivity=null,this.totalTime=0,this.closed=!1,this.info=new i(this)}return a(e,[{key:"getData",value:function(){var e={sequence:this.name,activities:[]};return this.activities.forEach(function(t){return e.activities.push(t.getData())}),e}},{key:"getInfo",value:function(){return this.info.recalc()}},{key:"endSequence",value:function(){this.currentActivity&&0<this.activities.length&&(this.currentActivity.closed||this.currentActivity.closeActivity(),this.totalTime=this.currentActivity.startTime+this.currentActivity.totalTime-this.activities[0].startTime,this.info.valid=!1)}},{key:"newActivity",value:function(t){this.closed||(this.currentActivity=new n(t),this.activities.push(this.currentActivity),this.info.valid=!1)}},{key:"endActivity",value:function(t,e,n){this.currentActivity&&(this.currentActivity.endActivity(t,e,n),this.info.valid=!1)}},{key:"newAction",value:function(t,e,n,i){this.currentActivity&&(this.currentActivity.newAction(t,e,n,i),this.info.valid=!1)}}]),e}();Object.assign(e.prototype,{name:"",description:"",activities:[],currentActivity:null,totalTime:0,closed:!1,info:null});var i=function(){function e(t){o(this,e),this.sqReg=t}return a(e,[{key:"clear",value:function(){this.nActivities=this.nActClosed=this.nActSolved=this.nActScore=0,this.ratioSolved=this.nActions=this.tScore=this.tTime=0,this.valid=!1}},{key:"recalc",value:function(){var n=this;return this.valid||(this.clear(),this.nActivities=this.sqReg.activities.length,0<this.nActivities&&(this.sqReg.activities.forEach(function(t){if(t.closed){n.nActClosed++,n.tTime+=t.totalTime,n.nActions+=t.numActions,t.solved&&n.nActSolved++;var e=t.getPrecision();0<=e&&(n.tScore+=e,n.nActScore++)}}),0<this.nActClosed&&(this.ratioSolved=this.nActSolved/this.nActClosed),0<this.nActScore&&(this.tScore=Math.round(this.tScore/this.nActScore))),this.valid=!0),this}}]),e}();return Object.assign(i.prototype,{sqReg:null,valid:!1,nActivities:0,nActClosed:0,nActSolved:0,nActScore:0,ratioSolved:0,nActions:0,tScore:0,tTime:0}),e.Info=i,e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2),n(466)],void 0===(r=function(r,n,o){var t=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t.name,this.code=t.code,this.actions=[],this.startTime=(new Date).valueOf(),this.minActions=t.getMinNumActions(),this.reportActions=t.reportActions}return function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(e,[{key:"$getXML",value:function(){var t={start:this.startTime,time:this.totalTime,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions};this.name&&(t.name=this.name),this.code&&(t.code=this.code),this.closed||(t.closed=!1),this.reportActions&&(t.reportActions=!0);var e=r("<activity/>",t);return this.actions.forEach(function(t){e.append(t.$getXML())}),e}},{key:"getData",value:function(){var t={name:this.name,time:Math.round(this.totalTime/10)/100,solved:this.solved,score:this.score,minActions:this.minActions,actions:this.numActions,precision:this.getPrecision(),closed:this.closed};return this.code&&(t.code=this.code),t}},{key:"setProperties",value:function(t){var i=this;n.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"name":case"code":i[t]=e;break;case"start":case"time":case"score":case"minActions":case"actions":i[t]=Number(e);break;case"solved":case"closed":case"reportActions":i[t]=n.getBoolean(e,!1)}}),t.children("action").each(function(t,e){var n=new o;n.setProperties(r(e)),i.actions.push(n)})}},{key:"newAction",value:function(t,e,n,i){this.closed||(this.lastAction=new o(t,e,n,i),this.actions.push(this.lastAction))}},{key:"getActionReg",value:function(t){return t>=this.actions.length?null:this.actions[t]}},{key:"closeActivity",value:function(){this.closed||(this.lastAction?this.totalTime=this.lastAction.time-this.startTime:this.totalTime=(new Date).valueOf()-this.startTime,this.closed=!0)}},{key:"getPrecision",value:function(){var t=0;return this.closed&&0<this.minActions&&0<this.numActions&&(t=this.solved?this.numActions<this.minActions?100:Math.round(100*this.minActions/this.numActions):Math.round(this.score*this.score*100/(this.minActions*this.numActions))),t}},{key:"endActivity",value:function(t,e,n){this.closed||(this.solved=n,this.numActions=e,this.score=t,this.closeActivity())}}]),e}();return Object.assign(t.prototype,{name:"",code:"",startTime:0,totalTime:0,actions:[],solved:!1,lastAction:null,score:0,minActions:0,closed:!1,reportActions:!1,numActions:0}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2)],void 0===(r=function(e,i){var t=function(){function r(t,e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.type=t,this.source=e||null,this.dest=n||null,this.ok=i||!1,this.time=(new Date).valueOf()}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(r,[{key:"$getXML",value:function(){var t={ok:this.ok,time:this.time};return this.type&&(t.type=this.type),this.source&&(t.source=this.source),this.dest&&(t.dest=this.dest),e("<action/>",t)}},{key:"setProperties",value:function(t){var n=this;i.attrForEach(t.get(0).attributes,function(t,e){switch(t){case"type":case"source":case"dest":n[t]=e;break;case"time":n[t]=Number(e);break;case"ok":n[t]=i.getBoolean(e,!1)}})}}]),r}();return Object.assign(t.prototype,{type:"unknown",source:null,dest:null,time:0,isOk:!1}),t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i;function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}void 0===(i=function(){var t=function(){function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c)}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(c,null,[{key:"Decrypt",value:function(t){if(null===t||0===t.length)return null;var e=c.decodify(t);return e===c.BLANK?"":e}},{key:"hexCharArrayToChar",value:function(t,e){for(var n=0,i=0;i<=3;i++){var r=Number.parseInt(t[e+i],16);if(isNaN(r))throw"Invalid expression!";n=16*n+r}return String.fromCharCode(n)}},{key:"hexCharArrayToInt",value:function(t,e){for(var n=0,i=0;i<=1;i++){var r=Number.parseInt(t[e+i],16);if(isNaN(r))throw"Invalid expression!";n=16*n+r}return n}},{key:"decodifyZerosField",value:function(t){var e="",n=Number.parseInt(t[0],32),i=0,r=0;for(r=0;0!==n;r++){for(;0<n;)e=e+t[3*r+1]+t[3*r+2],n--,i++;n=t.length>3*r+3?Number.parseInt(t[3*r+3],32):0}for(var o=3*r+1;o<t.length;o++)e+=t[o];return Number.parseInt(i,32)+e}},{key:"decompressZeros",value:function(t){t=c.decodifyZerosField(t);for(var e=Number.parseInt(t[0],32),n=2*e+1,i=!1,r="",o=0;o<e&&!i;o++){for(var s=c.hexCharArrayToInt(t,1+2*o).toString(2);s.length<8;)s="0"+s;for(var a=0;a<=7&&!i;a++)"1"===s[a]?r+="0":n<t.length?r+=t[n++]:i=!0}return r}},{key:"decodifyFromHex",value:function(t){for(var e="",n=0;n<t.length;0){e+=c.hexCharArrayToChar(t,n),n+=4}return e}},{key:"unchangeOrder",value:function(t){for(var e=0,n=t.length-1,i=[],r=0;r<t.length;r++)i[r]="";for(var o=0;o<t.length;o++)i[o]=o%2==0?t[e++]:t[n--];return i.join("")}},{key:"codify",value:function(t){if(24<t.length)throw"Password is too large!";return c.changeOrder(c.compressZeros(c.codifyToHexWord(t)))}},{key:"decodify",value:function(t){try{return c.decodifyFromHex(c.decompressZeros(c.unchangeOrder(t)))}catch(t){return""}}}]),c}();return t.BLANK="___blank___##",t}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}i=[n(1),n(2)],void 0===(r=function(n,r){var t=function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),"function"==typeof(this.API=t).Initialize?this.is2004=!0:(this.prefix="LMS",this.core="cmi.core."),this.reporter=e}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(i,[{key:"initialize",value:function(){var t=this,e=!1;try{(e=this.API[this.prefix+"Initialize"](""))&&(this.studentId=this.getValue(this.core+(this.is2004?"learner_id":"student_id")),this.studentName=this.getValue(this.core+(this.is2004?"learner_name":"student_name")),this.setValue(this.core+"score.min",0),this.setValue(this.core+"score.max",100),n(window).on("unload",function(){t.commitInfo(),t.terminate(),t.API=null})),r.log("debug","SCORM initialized")}catch(t){r.log("error","Error initializing SCORM API: ".concat(t.message))}return e}},{key:"terminate",value:function(){var t=!1;try{t=this.API[this.is2004?"Terminate":"LMSFinish"]("")}catch(t){r.log("error","Error terminating SCORM API: ".concat(t.message))}return t}},{key:"commitInfo",value:function(){var t=this.reporter.getInfo(),e=Math.round(100*t.globalScore),n=this.getTimeExpression(t.tTime);this.setValue(this.core+"score.raw",e),this.setValue(this.core+"session_time",n),this.commit(),r.log("debug","SCORM results reported: ".concat(e," (").concat(n,")"))}},{key:"commit",value:function(){var t=!1;try{t=this.API[this.prefix+"Commit"]("")}catch(t){r.log("error","Error commiting data to the SCORM API: ${ex.message}")}return t}},{key:"setValue",value:function(e,n){var t=!1;try{t=this.API[this.prefix+"SetValue"](e,n)}catch(t){r.log("error",'Error setting value "'.concat(n,'" to "').concat(e,'" in SCORM API: ').concat(t.message))}return t}},{key:"getValue",value:function(e){var t=!1;try{t=this.API[this.prefix+"GetValue"](e)}catch(t){r.log("error",'Error retrieving "'.concat(e,'" from SCORM API: ').concat(t.message))}return t}},{key:"getTimeExpression",value:function(t){var e=new Date(t),n=e.getUTCHours(),i=e.getUTCMinutes(),r=e.getUTCSeconds();return this.is2004?"PT".concat(n,"H").concat(i,"M").concat(r,"S"):"".concat(("0000"+n).slice(-4),":").concat(("00"+i).slice(-2),":").concat(("00"+r).slice(-2))}},{key:"getScormType",value:function(){return"SCORM ".concat(this.is2004?"2004":"1.2")}}],[{key:"scanForAPI",value:function(t,e){return t.API_1484_11&&t.API_1184_11.Initialize&&t.API_1184_11.SetValue&&t.API_1184_11.Commit?t.API_1184_11:t.API&&t.API.LMSInitialize&&t.API.LMSSetValue&&t.API.LMSCommit?t.API:t.parent&&t.parent!==t&&e++<i.DISCOVER_MAX_TRIES?i.scanForAPI(t.parent,e):null}},{key:"getSCORM",value:function(t){var e=null;try{var n=i.scanForAPI(window,0);null===n&&window.opener&&(n=i.scanForAPI(window.opener,0)),n&&((e=new i(n,t)).initialize()||(e=null))}catch(t){e=null,r.log("warn","Unable to use SCORM: %s",t.toString())}return e}}]),i}();return Object.assign(t.prototype,{is2004:!1,reporter:null,prefix:"",core:"cmi.",API:null,studentId:"",studentName:""}),t.DISCOVER_MAX_TRIES=50,t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(65),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(73),n(477),n(135),n(478),n(479),n(480),n(74),n(481),n(482),n(483),n(484),n(485),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(203),n(495),n(496),n(497),n(498),n(499)],void 0===(r=function(){return"Deep classes loaded!"}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(65)],void 0===(r=function(t,e,n){var i=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,n),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return c(u(i.prototype),"_getStyleSheets",this).call(this,e)+("default"===e?this.skinCSS:"")}}]),i}();return Object.assign(i.prototype,{skinId:"JClicOrangeSkin",skinCSS:".ID {background-color:#FF8B19;}"}),e.CLASSES.orange=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(65)],void 0===(r=function(t,e,n){var i=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,n),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return c(u(i.prototype),"_getStyleSheets",this).call(this,e)+("default"===e?this.skinCSS:"")}}]),i}();return Object.assign(i.prototype,{skinId:"JClicGreenSkin",iconFill:"#20640E",counterIconFill:"#20640E",skinCSS:".ID {background-color:#4AFF19;}"}),e.CLASSES.green=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(65)],void 0===(r=function(t,e,n){var i=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,n),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return c(u(i.prototype),"_getStyleSheets",this).call(this,e)+("default"===e?this.skinCSS:"")}}]),i}();return Object.assign(i.prototype,{skinId:"JClicBlueSkin",skinCSS:".ID {background-color:#1990FF;}"}),e.CLASSES.blue=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(65)],void 0===(r=function(o,t,e){var n=function(){function r(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(e=a(this,u(r).call(this,t,n,Object.assign({},i,{counters:!1,reportsBtn:!0})))).$ctrlCnt.detach().prependTo(e.$div),e.$msgBoxDiv.detach().appendTo(e.$div),o("<div/>").css({"flex-grow":1}).insertAfter(e.$ctrlCnt.children(":nth-child(2)")),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(r,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return"".concat(c(u(r.prototype),"_getStyleSheets",this).call(this,e)).concat("default"===e?this.skinCSS:"half"===e?this.skinCSSHalf:"twoThirds"===e?this.skinCSSTwoThirds:"")}}]),r}();return Object.assign(n.prototype,{skinId:"JClicSimpleSkin",skinCSS:".ID {background-color:#888888;}.ID .JClicCtrlCnt {margin:9px;}.ID .JClicPlayerCnt {margin:0px 18px 18px;}.ID .JClicMsgBox {flex-grow:0; margin:0 18px 18px 18px;}",skinCSSHalf:".ID .JClicCtrlCnt {margin:4px;}.ID .JClicPlayerCnt {margin:0px 9px 9px;}.ID .JClicMsgBox {margin:0 9px 9px 9px;}",skinCSSTwoThirds:".ID .JClicCtrlCnt {margin:6px;}.ID .JClicPlayerCnt {margin:0px 12px 12px;}.ID .JClicMsgBox {margin:0 12px 12px 12px;}"}),t.CLASSES.simple=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(65)],void 0===(r=function(t,e,n){var i=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e,Object.assign({},n,{counters:!1,reportsBtn:!0})))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,n),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return c(u(i.prototype),"_getStyleSheets",this).call(this,e)+("default"===e?this.skinCSS:"")}}]),i}();return Object.assign(i.prototype,{skinId:"JClicMiniSkin",iconWidth:18,iconHeight:18,iconFill:"#080808",counterIconFill:"#080808",margin:8,skinCSS:".ID {background-color:#F4F4F4;}.ID .JClicPlayerCnt {margin:4px;}.ID .JClicCtrlCnt {margin:0 2px 4px 2px;}.ID .JClicMsgBox {height:25px;}",mainCSSHalf:"",mainCSSTwoThirds:""}),e.CLASSES.mini=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34)],void 0===(r=function(t,e){var n=function(){function i(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,u(i).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return c(u(i.prototype),"_getStyleSheets",this).call(this,e)+("default"===e?this.mainCSS:"")}}]),i}();return Object.assign(n.prototype,{skinId:"JClicEmptySkin",mainCSS:".ID .JClicPlayerCnt {margin:0;}"}),e.CLASSES.empty=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(34),n(202),n(2),n(3),n(72)],void 0===(r=function(s,a,c,at,ct,u){var t=function(){function n(i){var r,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=h(this,p(n).call(this,i,t,o))).$mainPanel=s("<div/>",{class:"JClicCustomMainPanel"}),r.$gridPanel=s("<div/>",{class:"JClicGridPanel"});for(var e=0;e<9;e++)r.$gridPanel.append(s("<div/>",{class:"JClicCell JClicCell".concat(e+1)}));return r.$mainPanel.append(r.$gridPanel),r.$playerCnt.detach().addClass("JClicPlayerCell").appendTo(r.$mainPanel),r.$div.prepend(r.$mainPanel),o.buttons&&Object.keys(o.buttons.button).forEach(function(t){var e="about"===t?"reports":t,n=i.getMsg(r.msgKeys[e]||e);r.buttons[e]=s("<button/>",{class:"JClicBtn JClicTransform Btn-".concat(e),title:n,"aria-label":n,disabled:void 0===r.msgKeys[e]}).on("click",function(t){i.actions[e]&&i.actions[e].processEvent(t)}),r.$mainPanel.append(r.buttons[e])}),o.rectangle.messages&&(r.msgBox=new u,r.msgBox.role="message",r.$msgBoxDiv=s("<div/>",{class:"JClicMsgBox"}).click(function(){return r.msgBox.playMedia(i),!1}),r.$mainPanel.append(r.$msgBoxDiv)),!1!==r.ps.options.counters&&o.counters&&o.counters.counter&&s.each(a.prototype.counters,function(t,e){if(o.counters.counter[t]){var n=i.getMsg(t);r.counters[t]=new c(t,s("<div/>",{class:"JClicCounter JClicTransform Counter-".concat(t),title:n,"aria-label":n}).html("000").appendTo(r.$mainPanel))}}),o.progressAnimation&&(r.$progressAnimation=s("<div/>",{class:"JClicProgressAnimation JClicTransform"}),r.$mainPanel.append(r.$progressAnimation)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(n,a),function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(n,[{key:"enableMainButtons",value:function(t){this.$mainPanel.find(".JClicBtn").attr("tabindex",t?"0":"-1")}},{key:"_computeStyleSheets",value:function(){var d=this,t=this.options.dimension.preferredSize.width,e=this.options.dimension.preferredSize.height;this.twoThirdsMedia={width:t,height:e},this.halfMedia={width:Math.round(2*t/3),height:Math.round(2*e/3)};var n=this.options.rectangle.frame.left,i=n+this.options.rectangle.player.left,v=n+this.options.slicer.left,r=n+this.options.slicer.right,o=i+this.options.rectangle.player.width,y=n+this.options.rectangle.frame.width,s=this.options.rectangle.frame.top,a=s+this.options.rectangle.player.top,m=s+this.options.slicer.top,c=s+this.options.slicer.bottom,u=a+this.options.rectangle.player.height,b=s+this.options.rectangle.frame.height,l=this.ps.project.mediaBag.getElement(this.options.image,!0),w=l.data&&l.data.src?l.data.src:"",h=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(n,s,v-n,m-s)):"",f=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(v-n,s,r-v,m-s)):"",p=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(r,s,y-r,m-s)):"",g=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(n,m-s,v-n,c-m)):"",k=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(r-n,m-s,y-r,c-m)):"",A=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(n,c-s,v-n,b-c)):"",x=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(v-n,c-s,r-v,b-c)):"",S=l.data?at.getImgClipUrl(l.data,new ct.Rectangle(r,c-s,y-r,b-c)):"",C="\n.ID .JClicCustomMainPanel {flex-grow:1;position:relative;background-color: ".concat(at.checkColor(this.options.color.fill.value),";}\n.ID .JClicGridPanel {position:absolute;width:100%;height:100%;display:grid;grid-template-columns:").concat(v-n,"px 1fr ").concat(y-r,"px;grid-template-rows:").concat(m-s,"px 1fr ").concat(b-c,"px;}\n.ID .JClicCell {background-repeat:no-repeat;background-size:contain;}\n.ID .JClicPlayerCell {position:absolute;top:").concat(a-s,"px;right:").concat(y-o,"px;bottom:").concat(b-u,"px;left:").concat(i-n,"px;}\n.ID .JClicCell1 {background-image:url(").concat(h,");}\n.ID .JClicCell2 {background-image:url(").concat(f,");background-repeat:repeat-x;}\n.ID .JClicCell3 {background-image:url(").concat(p,");}\n.ID .JClicCell4 {background-image:url(").concat(g,");background-repeat:repeat-y;}\n.ID .JClicCell5 {}\n.ID .JClicCell6 {background-image:url(").concat(k,");background-repeat:repeat-y;}\n.ID .JClicCell7 {background-image:url(").concat(A,");}\n.ID .JClicCell8 {background-image:url(").concat(x,");background-repeat:repeat-x;}\n.ID .JClicCell9 {background-image:url(").concat(S,");}"),E="\n.ID .JClicGridPanel {grid-template-columns:".concat(Math.round((v-n)/2),"px 1fr ").concat(Math.round((y-r)/2),"px;grid-template-rows:").concat(Math.round((m-s)/2),"px 1fr ").concat(Math.round((b-c)/2),"px;}\n.ID .JClicPlayerCell {top:").concat(Math.round((a-s)/2),"px;right:").concat(Math.round((y-o)/2),"px;bottom:").concat(Math.round((b-u)/2),"px;left:").concat(Math.round((i-n)/2),"px;}\n.ID .JClicTransform {transform: scale(0.5);}"),O="\n.ID .JClicGridPanel {grid-template-columns:".concat(Math.round(2*(v-n)/3),"px 1fr ").concat(Math.round(2*(y-r)/3),"px;grid-template-rows:").concat(Math.round(2*(m-s)/3),"px 1fr ").concat(Math.round(2*(b-c)/3),"px;}\n.ID .JClicPlayerCell {top:").concat(Math.round(2*(a-s)/3),"px;right:").concat(Math.round(2*(y-o)/3),"px;bottom:").concat(Math.round(2*(b-u)/3),"px;left:").concat(Math.round(2*(i-n)/3),"px;}\n.ID .JClicTransform {transform: scale(0.666);}");if(this.options.buttons){var P=this.options.buttons,T=30,_=30,I={};P.settings&&(P.settings.dimension&&(T=P.settings.dimension.width||T,_=P.settings.dimension.height||_),P.settings.offset&&Object.assign(I,P.settings.offset)),Object.keys(this.options.buttons.button).forEach(function(t){var e=P.button[t],n="about"===t?"reports":t,i=T,r=_,o=I;e.settings&&(e.settings.dimension&&(i=e.settings.dimension.width||i,r=e.settings.dimension.height||r),e.settings.offset&&(o=Object.assign({},I,e.settings.offset)));var s=e.point.pos.left,a=s<v?"left:".concat(s):"right:".concat(y-s-i),c=s<v?"left:".concat(Math.round(s/2-i/4)):"right:".concat(Math.round((y-s-i)/2-i/4)),u=s<v?"left:".concat(Math.round(2*s/3-i/6)):"right:".concat(Math.round(2*(y-s-i)/3-i/6)),l=e.point.pos.top,h=l<m?"top:".concat(l):"bottom:".concat(b-l-r),f=l<m?"top:".concat(Math.round(l/2-r/4)):"bottom:".concat(Math.round((b-l-r)/2-r/4)),p=l<m?"top:".concat(Math.round(2*l/3-r/6)):"bottom:".concat(Math.round(2*(b-l-r)/3-r/6)),d=e.point.source.left,g=e.point.source.top;C+=".ID .Btn-".concat(n," {position:absolute;").concat(a,"px;").concat(h,"px;width:").concat(i,"px;height:").concat(r,"px;background:url(").concat(w,") !important;background-position:-").concat(d,"px -").concat(g,"px !important;}\n"),E+=".ID .Btn-".concat(n," {").concat(c,"px;").concat(f,"px;}\n"),O+=".ID .Btn-".concat(n," {").concat(u,"px;").concat(p,"px;}\n"),o.active&&(C+=".ID .Btn-".concat(n,":active {background-position:-").concat(d+o.active.right,"px -").concat(g+o.active.down,"px !important;}\n")),o.over&&(C+=".ID .Btn-".concat(n,":hover {background-position:-").concat(d+o.over.right,"px -").concat(g+o.over.down,"px !important;}\n")),o.disabled&&(C+=".ID .Btn-".concat(n,":disabled {background-position:-").concat(d+o.disabled.right,"px -").concat(g+o.disabled.down,"px !important;}\n"))})}if(this.options.counters&&this.options.counters.settings){var R=this.options.counters,j=35,B=20;R.settings.dimension&&R.settings.dimension.counter&&(j=R.settings.dimension.counter.width||j,B=R.settings.dimension.counter.height||B);var M=37,D=14;R.settings.dimension&&R.settings.dimension.label&&(M=R.settings.dimension.label.width||M,D=R.settings.dimension.label.height||D);var N="black";R.style&&R.style.color&&R.style.color.foreground&&(N=at.checkColor(R.style.color.foreground.value||N));var L=D-4,V="Roboto";R.style&&R.style.font&&R.style.font.label&&(L=Math.max(8,R.style.font.label.size||L),V="".concat(R.style.font.label.family||"Roboto",",Roboto,sans-serif")),C+=".ID .JClicCounter {font-size:".concat(B-2,"px;color:").concat(N,"}\n"),Object.keys(this.options.counters.counter).forEach(function(t){var e=R.counter[t],n=j,i=B,r=e.point.counter.left,o=e.point.label.left||r-Math.round((M-j)/2),s=r<v?"left:".concat(r):"right:".concat(y-r-n),a=r<v?"left:".concat(Math.round(r/2-n/4)):"right:".concat(Math.round((y-r-n)/2-n/4)),c=r<v?"left:".concat(Math.round(2*r/3-n/6)):"right:".concat(Math.round(2*(y-r-n)/3-n/6)),u=e.point.counter.top,l=e.point.label.top||u-D,h=u<m?"top:".concat(u):"bottom:".concat(b-u-i),f=u<m?"top:".concat(Math.round(u/2-i/4)):"bottom:".concat(Math.round((b-u-i)/2-i/4)),p=u<m?"top:".concat(Math.round(2*u/3-i/6)):"bottom:".concat(Math.round(2*(b-u-i)/3-i/6));C+=".ID .Counter-".concat(t," {position:absolute;").concat(s,"px;").concat(h,"px;width:").concat(n,"px;height:").concat(i,"px;line-height:").concat(i,"px;}\n"),C+=".ID .Counter-".concat(t,':before {content:"').concat(d.ps.getMsg(t),'";font-size:').concat(L,"px;font-family:").concat(V,";width:").concat(M,"px;height:").concat(D,"px;line-height:").concat(D,"px;position:absolute;top:").concat(l-u,"px;left:").concat(o-r,"px;}"),E+=".ID .Counter-".concat(t," {").concat(a,"px;").concat(f,"px;}\n"),O+=".ID .Counter-".concat(t," {").concat(c,"px;").concat(p,"px;}\n")})}if(this.options.progressAnimation){var F=this.options.progressAnimation,q=30,z=30;F.dimension&&(q=F.dimension.width||q,z=F.dimension.height||z);var U=F.point.pos.left,H=U<v?"left:".concat(U):"right:".concat(y-U-q),G=U<v?"left:".concat(Math.round(U/2-q/4)):"right:".concat(Math.round((y-U-q)/2-q/4)),$=U<v?"left:".concat(Math.round(2*U/3-q/6)):"right:".concat(Math.round(2*(y-U-q)/3-q/6)),W=F.point.pos.top,J=W<m?"top:".concat(W):"bottom:".concat(b-W-z),Y=W<m?"top:".concat(Math.round(W/2-z/4)):"bottom:".concat(Math.round((b-W-z)/2-z/4)),Z=W<m?"top:".concat(Math.round(2*W/3-z/6)):"bottom:".concat(Math.round(2*(b-W-z)/3-z/6)),K=F.point.source.left,Q=F.point.source.top;if(C+=".ID .JClicProgressAnimation {position:absolute;".concat(H,"px;").concat(J,"px;width:").concat(q,"px;height:").concat(z,"px;background:url(").concat(w,");background-position:-").concat(K,"px -").concat(Q,"px;}\n"),E+=".ID .JClicProgressAnimation {".concat(G,"px;").concat(Y,"px;}\n"),O+=".ID .JClicProgressAnimation {".concat($,"px;").concat(Z,"px;}\n"),F.frames&&F.direction){var X=(F.step||q)*("right"===F.direction?1:"left"===F.direction?-1:0),tt=(F.step||z)*("down"===F.direction?1:"up"===F.direction?-1:0);C+="\n@keyframes anim {100% {background-position:".concat(-1*(K+X*F.frames),"px ").concat(-1*(Q+tt*F.frames),"px;}}\n.ID .JClicProgressAnimation {animation: anim ").concat(F.frames*F.delay,"ms steps(").concat(F.frames,") infinite;}")}}if(this.options.rectangle.messages){var et=this.options.rectangle.messages,nt=n+et.left,it=y-et.width-et.left-n,rt=et.top<m?"top:".concat(et.top):"bottom:".concat(b-et.height-et.top),ot=et.top<m?"top:".concat(Math.round(et.top/2)):"bottom:".concat(Math.round((b-et.height-et.top)/2)),st=et.top<m?"top:".concat(Math.round(2*et.top/3)):"bottom:".concat(Math.round(2*(b-et.height-et.top)/3));C+=".ID .JClicMsgBox {position:absolute;left:".concat(nt,"px;right:").concat(it,"px;height:").concat(et.height,"px;").concat(rt,"px;}"),E+=".ID .JClicMsgBox {left:".concat(Math.round(nt/2),"px;right:").concat(Math.round(it/2),"px;height:").concat(Math.round(et.height/2),"px;").concat(ot,"px;}"),O+=".ID .JClicMsgBox {left:".concat(Math.round(2*nt/3),"px;right:").concat(Math.round(2*it/3),"px;height:").concat(Math.round(2*et.height/3),"px;").concat(st,"px;}")}this.cssVariants={default:this.mainCSS+C,half:E,twoThirds:O}}},{key:"_getStyleSheets",value:function(t){var e=0<arguments.length&&void 0!==t?t:"default";return this.cssVariants||this._computeStyleSheets(),"".concat(f(p(n.prototype),"_getStyleSheets",this).call(this,e)).concat(this.cssVariants[e]||"")}},{key:"getMsgBox",value:function(){return this.msgBox}},{key:"setWaitCursor",value:function(t){f(p(n.prototype),"setWaitCursor",this).call(this,t),this.$progressAnimation&&this.$progressAnimation.css("animation-play-state",0<this.waitCursorCount?"running":"paused")}}]),n}();return Object.assign(t.prototype,{skinId:"JClicCustomSkin",image:null,mainCSS:".ID .JClicPlayerCnt {margin:0;}.ID .JClicBtn:focus {outline:0;}.ID .JClicCounter {font-family:Roboto,sans-serif;text-align:center;}",cssVariants:null,msgKeys:{next:"Next activity",prev:"Previous activity",info:"Information",help:"Help",reports:"Reports",audio:"Audio on/off",reset:"Reset activity"},$progressAnimation:null}),a.CLASSES.custom=t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(64)],void 0===(r=function(t,e){var n=function(){function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a(this,u(i).call(this,1,1))).customShapes=!0,n.nCols=t,n.nRows=e,n.showEnclosure=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"buildShapes",value:function(){0<this.nCells&&(this.initiated=!0)}},{key:"getEnclosingShapeData",value:function(){return this.showEnclosure?this.enclosing||c(u(i.prototype),"getEnclosingShapeData",this).call(this):null}}]),i}();return e.CLASSES["@Holes"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(64),n(135),n(3)],void 0===(r=function(t,e,i,f){var n=function(){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,c(n).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,i),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"hLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n+r*a,i]));else{var u=n+(r-r*this.baseWidthFactor)/2*a,l=r*this.baseWidthFactor*a;t.addStroke(new f.PathStroke("L",[u,i]));var h=o*this.toothHeightFactor*c;t.addStroke(new f.PathStroke("L",[u+l/2,i+h])),t.addStroke(new f.PathStroke("L",[u+l,i])),t.addStroke(new f.PathStroke("L",[n+r*a,i]))}}},{key:"vLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n,i+o*a]));else{var u=i+(o-o*this.baseWidthFactor)/2*a,l=o*this.baseWidthFactor*a;t.addStroke(new f.PathStroke("L",[n,u]));var h=r*this.toothHeightFactor*c;t.addStroke(new f.PathStroke("L",[n+h,u+l/2])),t.addStroke(new f.PathStroke("L",[n,u+l])),t.addStroke(new f.PathStroke("L",[n,i+o*a]))}}}]),n}();return e.CLASSES["@TriangularJigSaw"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(64),n(135),n(3)],void 0===(r=function(t,e,i,f){var n=function(){function n(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),a(this,c(n).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,i),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(n,[{key:"hLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n+r*a,i]));else{var u=n+(r-r*this.baseWidthFactor)/2*a,l=r*(this.baseWidthFactor/12)*a;t.addStroke(new f.PathStroke("L",[u,i]));var h=o*this.toothHeightFactor*c/8;t.addStroke(new f.PathStroke("B",[u+4*l,i,u+6*l,i-h,u+4*l,i-3*h])),t.addStroke(new f.PathStroke("B",[u+2*l,i-5*h,u+10*l,i-5*h,u+8*l,i-3*h])),t.addStroke(new f.PathStroke("B",[u+6*l,i-1*h,u+8*l,i,u+12*l,i])),t.addStroke(new f.PathStroke("L",[n+r*a,i]))}}},{key:"vLine",value:function(t,e,n,i,r,o,s){var a=s?-1:1,c=1===e?1:-1;if(0===e)t.addStroke(new f.PathStroke("L",[n,i+o*a]));else{var u=i+(o-o*this.baseWidthFactor)/2*a,l=o*this.baseWidthFactor/12*a;t.addStroke(new f.PathStroke("L",[n,u]));var h=r*this.toothHeightFactor*c/8;t.addStroke(new f.PathStroke("B",[n,u+4*l,n-h,u+6*l,n-3*h,u+4*l])),t.addStroke(new f.PathStroke("B",[n-5*h,u+2*l,n-5*h,u+10*l,n-3*h,u+8*l])),t.addStroke(new f.PathStroke("B",[n-1*h,u+6*l,n,u+8*l,n,u+12*l])),t.addStroke(new f.PathStroke("L",[n,i+o*a]))}}}]),n}();return Object.assign(n.prototype,{baseWidthFactor:.75,toothHeightFactor:.6}),e.CLASSES["@ClassicJigSaw"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(200),n(2)],void 0===(r=function(s,t,a){var P=["+","-",String.fromCharCode(215),":"],T=Intl&&0<Intl.NumberFormat().format(1.1).indexOf(","),e=function(){function O(){var t;return c(this,O),(t=l(this,h(O).call(this))).className="@arith.Arith",t.numericContent=!0,t.opA=new O.Operator,t.opB=new O.Operator,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(O,t),u(O,[{key:"setProperties",value:function(t){var o=this;return t.children().each(function(t,e){var n=s(e),i="";switch(e.nodeName){case"operand":switch(n.attr("id")){case"A":o.opA.setProperties(n);break;case"B":o.opB.setProperties(n)}break;case"operations":o.use_add=a.getBoolean(n.attr("plus")),o.use_subst=a.getBoolean(n.attr("minus")),o.use_mult=a.getBoolean(n.attr("multiply")),o.use_div=a.getBoolean(n.attr("divide"));break;case"unknown":o.exp_abx=a.getBoolean(n.attr("result")),o.exp_xbc=a.getBoolean(n.attr("first")),o.exp_axc=a.getBoolean(n.attr("last")),o.exp_axbc=a.getBoolean(n.attr("operand")),o.exp_caxb=a.getBoolean(n.attr("inverse"));break;case"result":i=n.attr("from"),o.resultLimInf=a.getNumber("x"===i?0:i,o.resultLimInf),i=n.attr("to"),o.resultLimSup=a.getNumber("x"===i?0:i,o.resultLimSup),o.resultCarry=a.getBoolean(n.attr("notCarry"),o.resultCarry),o.resultNoDup=!a.getBoolean(n.attr("duplicates"),!o.resultNoDup);var r=n.attr("order");o.resultOrder="ascending"===r?"SORTASC":"descending"===r?"SORTDESC":"NOSORT",r=n.attr("condition"),o.opCond="firstBig"===r?"AGB":"lastBig"===r?"BGA":"INDIF"}}),this}},{key:"getAttributes",value:function(){return a.getAttributes(this,["className","opA","opB","use_add","use_subst","use_mult","use_div","exp_abx|true","exp_axc|false","exp_xbc|false","exp_axbc|false","exp_caxb|false","resultLimInf|0","resultLimSup|9999","resultCarry|false","resultNoDup|false","resultOrder|NOSORT","opCond|INDIF"])}},{key:"setAttributes",value:function(t){return a.setAttr(this,t,["className",{key:"opA",fn:O.Operator},{key:"opB",fn:O.Operator},"use_add","use_subst","use_mult","use_div","exp_abx","exp_axc","exp_xbc","exp_axbc","exp_caxb","resultLimInf","resultLimSup","resultCarry","resultNoDup","resultOrder","opCond"])}},{key:"genNum",value:function(t,e,n,i){var r=!1;t.c=e.numDec;var o=0===t.c?1:1===t.c?10:100,s=e.limSup;-12345!==i&&i<s&&(s=i);var a=e.limInf;if(-12345!==n&&a<n&&(a=n),0<e.fromList&&(t.vf=e.lst[Math.floor(Math.random()*e.fromList)],r=!0),!r){var c=Math.floor(100*Math.random());e.wZero&&c<=10?r=!(t.vf=0):e.wOne&&10<c&&c<=20?(t.vf=1,r=!0):e.wMinusOne&&20<c&&c<=30&&(t.vf=-1,r=!0)}if(!r){if(s<a){var u=a;a=s,s=u}var l=Math.floor(s-a+1);l<0&&(l=1);var h=(Math.floor(Math.random()*l)+a)*o;1<o&&(h+=Math.floor(Math.random()*o)),t.vf=h/o}return!0}},{key:"genOp",value:function(t){var e,n,i,r,o,s,a,c,u=[],l=this.resultLimInf,h=this.resultLimSup,f=0;switch(this.use_add&&(u[f++]="SUM"),this.use_subst&&(u[f++]="REST"),this.use_mult&&(u[f++]="MULT"),this.use_div&&(u[f++]="DIV"),u[Math.floor(Math.random()*f)]){case"SUM":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,h),n=t.numA.vf<l?l-Math.floor(t.numA.vf):this.RES,i=h-Math.floor(t.numA.vf),this.opCond){case"AGB":(i===this.RES||i>t.numA.vf)&&(i=Math.floor(t.numA.vf));break;case"BGA":(n===this.RES||n<t.numA.vf)&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf+t.numB.vf,t.numR.vf>=l&&t.numR.vf<=h)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=0,this.resultCarry&&0<t.numA.vf&&0<t.numB.vf){for(r=2===t.numR.c?100:1===t.numR.c?10:1,a=O.DecFormat(Math.floor(t.numA.vf*r+.5),0,10).split(""),c=O.DecFormat(Math.floor(t.numB.vf*r+.5),0,10).split(""),e=0;e<10&&("0"===a[e]&&"0"===c[e]);e++);for(;e<10;e++)if(!((o=parseInt(a[e]))+(s=parseInt(c[e]))<10)){for(;9<o+s;)s<o?o=0<o?Math.floor(Math.random()*o):0:s=0<s?Math.floor(Math.random()*s):0;a[e]=o.toFixed(0),c[e]=s.toFixed(0)}t.numA.vf=parseInt(a.join(""))/r,t.numB.vf=parseInt(c.join(""))/r,t.numR.vf=Math.floor(t.numA.vf*r+t.numB.vf*r+.5)/r}break;case"REST":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,l,this.RES),n=t.numA.vf>h?Math.floor(t.numA.vf-h):this.RES,i=Math.floor(t.numA.vf-l),this.opCond){case"AGB":(i===this.RES||i>t.numA.vf)&&(i=Math.floor(t.numA.vf));break;case"BGA":(n===this.RES||n<t.numA.vf)&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf-t.numB.vf,t.numR.vf>=l&&t.numR.vf<=h)break}if(t.numR.c=t.numA.c>t.numB.c?t.numA.c:t.numB.c,t.op=1,this.resultCarry&&0<t.numA.vf&&0<t.numB.vf&&t.numA.vf>=t.numB.vf){for(r=2===t.numR.c?100:1===t.numR.c?10:1,a=O.DecFormat(Math.floor(t.numA.vf*r+.5),0,10).split(""),c=O.DecFormat(Math.floor(t.numB.vf*r+.5),0,10).split(""),e=0;e<10&&"0"===c[e];e++);for(;e<10;e++)o=parseInt(a[e]),(s=parseInt(c[e]))<=o||(s=0<o?Math.floor(Math.random()*o):0,c[e]=s.toFixed(0));t.numA.vf=parseInt(a.join(""))/r,t.numB.vf=parseInt(c.join(""))/r,t.numR.vf=Math.floor(t.numA.vf*r-t.numB.vf*r+.5)/r}break;case"MULT":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),n=this.opB.limInf,i=this.opB.limSup,this.opCond){case"AGB":i>t.numA.vf&&(i=Math.floor(t.numA.vf));break;case"BGA":n<t.numA.vf&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),t.numR.vf=t.numA.vf*t.numB.vf,t.numR.vf>=l&&t.numR.vf<=h)break}t.numR.c=t.numA.c+t.numB.c,t.op=2;break;case"DIV":for(e=0;e<60;e++){switch(this.genNum(t.numA,this.opA,this.RES,this.RES),n=this.opB.limInf,i=this.opB.limSup,this.opCond){case"AGB":i>t.numA.vf&&(i=Math.floor(t.numA.vf));break;case"BGA":n<t.numA.vf&&(n=Math.floor(t.numA.vf))}if(this.genNum(t.numB,this.opB,n,i),0!==t.numB.vf&&Math.abs(t.numA.vf)>=Math.abs(t.numB.vf)&&(t.numR.vf=t.numA.vf/t.numB.vf)>=l&&t.numR.vf<=h)break}0===t.numB.vf&&(t.numB.vf=1),t.numR.vf=t.numA.vf/t.numB.vf,e=t.numA.c-t.numB.c,r=Math.pow(10,e),t.numA.vf*=r,t.numR.vf*=r,t.numR.vf=Math.floor(t.numR.vf),t.numA.vf=t.numR.vf*t.numB.vf,t.numA.vf/=r,t.numR.vf/=r,t.numR.c=0<e?e:0,t.op=3;break;default:return!1}return!0}},{key:"process",value:function(t){var e,n,i,r,o,s,a=t.nRows,c=t.nCols,u=t.content,l=t.useIds,h=[],f=[],p=this.exp_caxb,d="",g="",v="",y="",m=[],b=[],w=[],k=c,A=a,x=a*c,S=null;if(a<=0||c<=0||null===u||u.length<1||null===u[0])return!1;if(x<2)return!1;if(o=0,this.exp_abx&&(f[o++]="ABX"),this.exp_axc&&(f[o++]="AXC"),this.exp_xbc&&(f[o++]="XBC"),this.exp_axbc&&(f[o++]="AXBC"),0===o)return!1;for(e=0;e<x;e++){for(r=new O.Operacio,n=0;n<60&&(this.genOp(r),this.resultNoDup);n++){for(i=0;i<e&&r.numR.vf!==h[i].numR.vf;i++);if(i===e)break}h[e]=r}if(0!==this.resultOrder)for(e=x-1;0<e;e--)for(n=0;n<e;n++)("SORTASC"===this.resultOrder&&h[n].numR.vf>h[n+1].numR.vf||"SORTDESC"===this.resultOrder&&h[n].numR.vf<h[n+1].numR.vf)&&(r=h[n],h[n]=h[n+1],h[n+1]=r);for(e=0;e<x;e++)switch(s=f[Math.floor(Math.random()*o)],d=O.DecFormat(h[e].numA.vf,h[0].numA.c),g=O.DecFormat(h[e].numB.vf,h[0].numB.c),v=O.DecFormat(h[e].numR.vf,h[0].numR.c),y=P[h[e].op],w[e]=p?"".concat(v,"Â =Â ").concat(d,"Â ").concat(y,"Â ").concat(g):"".concat(d,"Â ").concat(y,"Â ").concat(g,"Â =Â ").concat(v),s){case"AXC":b[e]=g,m[e]=p?"".concat(v,"Â =Â ").concat(d,"Â ").concat(y,"Â ?"):"".concat(d,"Â ").concat(y,"Â ?Â =Â ").concat(v);break;case"XBC":b[e]=d,m[e]=p?"".concat(v,"Â =Â ?Â ").concat(y,"Â ").concat(g):"?Â ".concat(y,"Â ").concat(g,"Â =Â ").concat(v);break;case"AXBC":b[e]=y,m[e]=p?"".concat(v,"Â =Â ").concat(d,"Â ?Â ").concat(g):"".concat(d,"Â ?Â ").concat(g,"Â =Â ").concat(v);break;default:b[e]=v,m[e]=p?"?Â =Â ".concat(d,"Â ").concat(y,"Â ").concat(g):"".concat(d,"Â ").concat(y,"Â ").concat(g,"Â =")}if(l){S=[];var C=[];for(e=i=0;e<x;e++){for(n=0;n<i&&b[e]!==C[n];n++);n===i?(C[i]=b[e],S[e]=i,i++):S[e]=n}for(b=[],e=0;e<i;e++)b[e]=C[e];if(A*k!==i){switch(i){case 6:A=3,k=2;break;case 8:A=4,k=2;break;case 9:k=A=3;break;case 10:A=5,k=2;break;case 12:A=4,k=3;break;case 14:A=7,k=2;break;case 15:k=A=5;break;case 16:k=A=4;break;case 18:A=3,k=6;break;case 20:A=5,k=4;break;default:A=i,k=1}}}if(T){function E(t){return t.replace(/\./g,",")}m=m.map(E),b=b.map(E),w=w.map(E)}return u[0].setTextContent(m,c,a),null!==S&&u[0].setIds(S),1<u.length&&null!==u[1]&&(u[1].setTextContent(b,k,A),u[1].getShaper().reset(k,A)),2<u.length&&null!==u[2]&&u[2].setTextContent(w,c,a),!0}}],[{key:"DecFormat",value:function(t,e,n){var i=t.toFixed(e);if(n){var r=i.indexOf(".");for(r<0&&(r=i.length);r<n;r++)i="0".concat(i)}return i}}]),O}();return Object.assign(e.prototype,{opA:null,opB:null,use_add:!0,use_subst:!1,use_mult:!1,use_div:!1,exp_abx:!0,exp_axc:!1,exp_xbc:!1,exp_axbc:!1,exp_caxb:!1,resultLimInf:0,resultLimSup:9999,resultCarry:!1,resultNoDup:!1,resultOrder:"NOSORT",opCond:"INDIF"}),e.Operator=function(){function t(){c(this,t)}return u(t,[{key:"setProperties",value:function(n){var i=this;return a.attrForEach(n.get(0).attributes,function(t,e){switch(t){case"decimals":i.numDec=Number(e);break;case"values":i.lst=e.split(" ").map(function(t){return Number(t)}),i.fromList=i.lst.length;break;case"from":i.limInf=Number("x"===e?0:e);break;case"to":i.limSup=Number("x"===e?0:e)}n.children().each(function(t,e){var n=s(e);switch(e.nodeName){case"include":i.wZero=a.getBoolean(n.attr("zero")),i.wOne=a.getBoolean(n.attr("one")),i.wMinusOne=a.getBoolean(n.attr("minusOne"))}})}),this}},{key:"getAttributes",value:function(){return a.getAttributes(this,["limInf","limSup","numDec|0","wZero|false","wOne|false","wMinusOne|false","fromList|0","lst"])}},{key:"setAttributes",value:function(t){return a.setAttr(this,t,["limInf","limSup","numDec","wZero","wOne","wMinusOne","fromList","lst"])}}]),t}(),Object.assign(e.Operator.prototype,{limInf:0,limSup:10,numDec:0,wZero:!1,wOne:!1,wMinusOne:!1,fromList:0,lst:[]}),e.Num=function(){function t(){c(this,t),this.vf=0,this.c=0}return u(t,[{key:"format",value:function(){return e.DecFormat(this.vf,this.c)}}]),t}(),e.Operacio=function(){return function t(){c(this,t),this.numA=new e.Num,this.numB=new e.Num,this.numR=new e.Num,this.op=0}}(),t.CLASSES["@arith.Arith"]=e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(2),n(13),n(74)],void 0===(r=function(a,u,t,n){var e=function(){function e(t){return s(this,e),f(this,p(e).call(this,t))}return d(e,n),h(e,[{key:"needsKeyboard",value:function(){return!0}}]),e}();Object.assign(e.prototype,{autoJump:!1,forceOkToAdvance:!1});var i=function(){function c(t,e,n){return s(this,c),f(this,p(c).call(this,t,e,n))}return d(c,n.Panel),h(c,[{key:"$createTargetElement",value:function(e,n){var i=this;n.addClass("JClicTextTarget");var t="target".concat("000".concat(this.targets.length-1).slice(-3));return e.isList&&e.options&&0<e.options.length?(n=a("<select/>",{id:t,name:t}),""!==e.options[0].trim()&&a("<option selected/>",{value:"",text:""}).appendTo(n),e.options.forEach(function(t){return a("<option/>",{value:t,text:t}).appendTo(n)}),e.$comboList=n.bind("focus change",function(t){t.textTarget=e,i.processEvent(t)})):(e.currentText=e.iniText?e.iniText:u.fillString(e.iniChar,e.numIniChars),e.$span=n.text(e.currentText).attr({contenteditable:"true",id:t,autocomplete:"off",spellcheck:"false"}).bind("focus input blur",function(t){t.textTarget=e,i.processEvent(t)}).bind("keydown keyup",function(t){13===t.keyCode&&(t.preventDefault(),"keydown"===t.type&&(t.textTarget=e,t.type="blur",i.processEvent(t)))})),n}},{key:"evaluatePanel",value:function(){var i=this,r=0,t=this.targets.length;return this.targets.forEach(function(t){var e=i.act.ev.evalText(t.readCurrentText(),t.answers),n=i.act.ev.isOk(e);t.targetStatus=n?"SOLVED":"WITH_ERROR",n&&r++,i.markTarget(t,e),i.ps.reportNewAction(i.act,"WRITE",t.currentText,t.getAnswers(),n,r)}),r===t?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"checkTarget",value:function(t,e,n){var i=this.act.ev.evalText(t.currentText,t.answers),r=this.act.ev.isOk(i);if(t.targetStatus=r?"SOLVED":"WITH_ERROR",e)return r;this.markTarget(t,i);var o=this.countSolvedTargets(!1,!1);if(0<t.currentText.length&&this.ps.reportNewAction(this.act,"WRITE",t.currentText,t.getAnswers(),r,o),r&&o===this.targets.length)return this.finishActivity(!0),r;if(0<t.currentText.length&&this.playEvent(r?"actionOk":"actionError"),n&&0!==n){var s=t.num+n;s>=this.targets.length?s=0:s<0&&(s=this.targets.length-1);var a=this.targets[s];a.$span?(a.$span.focus(),u.setSelectionRange(a.$span.get(-1),0,0)):a.$comboList&&a.$comboList.focus()}return r}},{key:"countSolvedTargets",value:function(n,i){var r=this;return this.targets.reduce(function(t,e){return n&&(e.readCurrentText(),r.checkTarget(e,!i)),"SOLVED"===e.targetStatus?++t:t},0)}},{key:"markTarget",value:function(e,t){if(e.$comboList||this.act.ev.isOk(t))e.checkColors();else if(e.$span){for(var n=e.currentText,i=[],r=-1,o=-1,s=0;s<t.length&&s<n.length;s++)t[s]!==r&&(i[++o]="",r=t[s]),i[o]+=n.charAt(s);s<n.length&&(i[o]+=n.substr(s)),e.$span.empty(),r=t[0],i.forEach(function(t){a("<span/>").text(t).css(e.doc.style[0===r?"target":"targetError"].css).appendTo(e.$span),r^=1})}e.flagModified=!1}},{key:"activityReady",value:function(){l(p(c.prototype),"activityReady",this).call(this),a(".JClicTextTarget").css("white-space","normal"),0<this.targets.length&&this.targets[0].$span&&this.targets[0].$span.focus()}},{key:"finishActivity",value:function(t){return this.targets.forEach(function(t){t.$span?t.$span.removeAttr("contenteditable").blur():t.$comboList&&t.$comboList.attr("disabled","true").blur()}),l(p(c.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){if(!l(p(c.prototype),"processEvent",this).call(this,t))return!1;var e=t.textTarget,n=null,i=0;switch(t.type){case"focus":e&&(e.$span&&0<e.$span.children().length?(n=e.$span,i=Math.min(e.currentText.length,u.getCaretCharacterOffsetWithin(n.get(-1))),n.empty(),n.text(e.currentText),u.setSelectionRange(n.get(-1),i,i),e.flagModified=!0):e.$comboList&&e.$comboList.css(e.doc.style.target.css),e.$popup&&("always"===e.infoMode||"onError"===e.infoMode&&"WITH_ERROR"===e.targetStatus)?this.showPopup(e.$popup,e.popupMaxTime,e.popupDelay):this.showPopup(null));break;case"blur":e.flagModified&&!this.$checkButton&&this.checkTarget(e,!1,1);break;case"input":if(e&&e.$span){var r=(n=e.$span).html();if(/(<br>|\n|\r)/.test(r))return r=r.replace(/(<br>|\n|\r)/g,""),n.html(r),e.currentText=n.text(),!this.$checkButton&&this.checkTarget(e,!1,1);if((r=n.text())!==e.currentText){e.flagModified=!0;var o=r.length-e.currentText.length;if(0<o){if(0<=r.indexOf(e.iniChar)){i=u.getCaretCharacterOffsetWithin(n.get(-1));for(var s=0;s<o;s++){var a=r.indexOf(e.iniChar);if(a<0)break;r=r.substr(0,a)+r.substr(a+1),a<i&&i--}n.text(r),u.setSelectionRange(n.get(-1),i,i)}r.length>e.maxLenResp&&(i=u.getCaretCharacterOffsetWithin(n.get(-1)),r=r.substr(0,e.maxLenResp),i=Math.min(i,r.length),n.text(r),u.setSelectionRange(n.get(-1),i,i))}else""===r&&(r=e.iniChar,n.text(r),u.setSelectionRange(n.get(-1),0,0));e.currentText=r}}break;case"change":if(e&&e.$comboList)return e.currentText=e.$comboList.val(),e.flagModified=!0,!this.$checkButton&&this.checkTarget(e,!1,1)}return!0}}]),c}();return Object.assign(i.prototype,{locked:!0}),e.Panel=i,t.CLASSES["@text.FillInBlanks"]=e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(74),n(57),n(3)],void 0===(r=function(c,t,n,e,u){var i=function(){function e(t){return s(this,e),f(this,p(e).call(this,t))}return d(e,n),h(e,[{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}();Object.assign(i.prototype,{amongParagraphs:!1,bc:null});var r=function(){function a(t,e,n){return s(this,a),f(this,p(a).call(this,t,e,n))}return d(a,n.Panel),h(a,[{key:"buildVisualComponents",value:function(){this.act.document.style.target.css.cursor="pointer",l(p(a.prototype),"buildVisualComponents",this).call(this)}},{key:"setBounds",value:function(t){this.$canvas&&this.$canvas.remove(),l(p(a.prototype),"setBounds",this).call(this,t),this.act.dragCells||(this.$canvas=c('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0,"pointer-events":"none"}),this.$div.append(this.$canvas),this.bc=new e(this,this.$canvas.get(-1).getContext("2d")),this.bc.compositeOp=this.bc.DEFAULT_COMPOSITE_OP,this.invalidate().update())}},{key:"$createTargetElement",value:function(e,t){var n=this;l(p(a.prototype),"$createTargetElement",this).call(this,e,t);var i="target".concat("000".concat(this.targets.length-1).slice(-3));return t.addClass("JClicTextTarget").bind("click",function(t){t.textTarget=e,t.idLabel=i,n.processEvent(t)}),t}},{key:"swapTargets",value:function(t,e){var n=t.$span,i=e.$span,r=c("<span/>");r.insertAfter(i),i.detach(),i.insertAfter(n),n.detach(),n.insertAfter(r),r.remove();var o=t.pos,s=t.$p;t.pos=e.pos,t.$p=e.$p,e.pos=o,e.$p=s}},{key:"initActivity",value:function(){l(p(a.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents()}},{key:"startActivity",value:function(){var e=this;if(l(p(a.prototype),"startActivity",this).call(this),!this.showingPrevScreen){if("orderWords"!==this.act.type||this.act.amongParagraphs)this.shuffleTargets(this.targets,this.act.shuffles);else{var n=[],i=null,r=[];this.targets.forEach(function(t){null!==i&&i.$p!==t.$p&&(n.push(r),r=[]),r.push(t),i=t}),0<r.length&&n.push(r),n.forEach(function(t){return e.shuffleTargets(t,e.act.shuffles)})}this.playing=!0}this.setBounds(this)}},{key:"shuffleTargets",value:function(t,e){var n=t.length;if(1<n)for(var i=100,r=0;r<e;r++){var o=Math.floor(Math.random()*n),s=Math.floor(Math.random()*n);o!==s?this.swapTargets(t[o],t[s]):--i&&r++}}},{key:"setCurrentTarget",value:function(t){var e=this.act.document.getFullStyle("target").css;this.currentTarget&&this.currentTarget.$span&&this.currentTarget.$span.css(e),t&&t.$span&&t.$span.css({color:e["background-color"],"background-color":e.color}),this.currentTarget=t}},{key:"countSolvedTargets",value:function(){return this.targets.reduce(function(t,e){return e.num===e.pos?++t:t},0)}},{key:"evaluatePanel",value:function(){var n=this;this.bc&&this.bc.active&&this.bc.end(),this.setCurrentTarget(null);var i=0;return this.targets.forEach(function(t){var e=t.num===t.pos;t.targetStatus=e?"SOLVED":"WITH_ERROR",e&&i++,t.checkColors(),n.ps.reportNewAction(n.act,"PLACE",t.text,t.pos,e,i)}),i===this.targets.length?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(t){return c(".JClicTextTarget").css("cursor","pointer"),l(p(a.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){if(!l(p(a.prototype),"processEvent",this).call(this,t))return!1;var e=t.textTarget,n=null;if(this.bc&&this.playing&&!this.showingPrevScreen){if("touchend"===t.type)n=this.bc.active?this.bc.dest.clone():new u.Point;else{var i=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,r=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;n=new u.Point(i-this.$div.offset().left,r-this.$div.offset().top)}switch(t.type){case"click":if(e&&e!==this.currentTarget)if(this.currentTarget){if(this.bc&&this.bc.active&&this.bc.end(),this.swapTargets(e,this.currentTarget),this.setCurrentTarget(null),!this.$checkButton){var o=this.countSolvedTargets(),s=e.pos===e.num;this.ps.reportNewAction(this.act,"PLACE",e.text,e.pos,s,o),s&&o===this.targets.length?this.finishActivity(!0):this.playEvent(s?"actionOk":"actionError")}}else this.setCurrentTarget(e),this.bc.begin(n),this.playEvent("click");break;case"mousemove":this.bc.moveTo(n)}return t.preventDefault(),!0}}}]),a}();return Object.assign(r.prototype,{currentTarget:null,bc:null,events:["click","mousemove"]}),i.Panel=r,t.CLASSES["@text.Order"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(74)],void 0===(r=function(t,e,n){var i=function(){function e(t){return c(this,e),u(this,l(e).call(this,t))}return h(e,n),e}(),r=function(){function i(t,e,n){return c(this,i),u(this,l(i).call(this,t,e,n))}return h(i,n.Panel),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"$createTargetElement",value:function(t,e){return null}},{key:"startActivity",value:function(){a(l(i.prototype),"startActivity",this).call(this),this.$div.find(".JClicTextDocument").attr("contenteditable","true").attr("spellcheck","false")}},{key:"evaluatePanel",value:function(){var t=this.$div.find(".JClicTextDocument").text().trim(),e=this.act.document.getRawText(),n=this.act.ev.checkText(t,e);return this.ps.reportNewAction(this.act,"WRITE",t,e,n,this.targets.length),n?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(t){return this.$div.find(".JClicTextDocument").attr("contenteditable","false"),a(l(i.prototype),"finishActivity",this).call(this,t)}}]),i}();return i.Panel=r,e.CLASSES["@text.Complete"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(74)],void 0===(r=function(t,e,n){var i=function(){function e(t){return u(this,e),l(this,h(e).call(this,t))}return f(e,n),e}(),r=function(){function s(t,e,n){return u(this,s),l(this,h(s).call(this,t,e,n))}return f(s,n.Panel),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(s,[{key:"$createTargetElement",value:function(e,t){var n=this;c(h(s.prototype),"$createTargetElement",this).call(this,e,t);var i="target".concat("000".concat(this.targets.length-1).slice(-3));return t.bind("click",function(t){t.textTarget=e,t.idLabel=i,n.processEvent(t)}),t}},{key:"initActivity",value:function(){c(h(s.prototype),"initActivity",this).call(this,this),this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),this.playing=!0}},{key:"countSolvedTargets",value:function(){return this.targets.length.reduce(function(t,e){return"SOLVED"===e.targetStatus?++t:t},0)}},{key:"evaluatePanel",value:function(){var n=this,i=0;return this.targets.forEach(function(t){var e="SOLVED"===t.targetStatus;e&&i++,t.checkColors(),n.ps.reportNewAction(n.act,"SELECT",t.text,t.pos,e,i)}),i===this.targets.length?(this.finishActivity(!0),!0):(this.playEvent("finishedError"),!1)}},{key:"finishActivity",value:function(t){return this.$div.find(".JClicTextDocument > p").css("cursor","pointer"),c(h(s.prototype),"finishActivity",this).call(this,t)}},{key:"processEvent",value:function(t){if(!c(h(s.prototype),"processEvent",this).call(this,t)||t.timeStamp===this.lastTimeStamp)return!1;t.timeStamp&&(this.lastTimeStamp=t.timeStamp);var e=t.textTarget;switch(t.type){case"click":var n,i,r=!1;if(e?("SOLVED"===e.targetStatus?e.targetStatus="HIDDEN":(e.targetStatus="SOLVED",r=!0),n=e.text,i=e.pos,e.checkColors()):(n="unknown",i=0),!this.$checkButton){var o=this.countSolvedTargets();this.ps.reportNewAction(this.act,"SELECT",n,i,r,o),r&&o===this.targets.length?this.finishActivity(!0):this.playEvent(r?"actionOk":"actionError")}t.preventDefault()}return!0}}]),s}();return Object.assign(r.prototype,{targetsMarked:!1,lastTimeStamp:0}),i.Panel=r,e.CLASSES["@text.Identify"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function d(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function g(t,e,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(3),n(2),n(73)],void 0===(r=function(u,t,l,e,r,p,h){var n=function(){function e(t){return s(this,e),d(this,v(e).call(this,t))}return y(e,t),f(e,[{key:"setProperties",value:function(t){g(v(e.prototype),"setProperties",this).call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.answers.getNumCells())}},{key:"getMinNumActions",value:function(){return this.invAss?this.abc.answers.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}},{key:"hasRandom",value:function(){return!0}},{key:"needsKeyboard",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}();Object.assign(n.prototype,{nonAssignedCells:0,useIdAss:!0});var i=function(){function c(t,e,n){return s(this,c),d(this,v(c).call(this,t,e,n))}return y(c,t.Panel),f(c,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){var e=this;this.firstRun&&g(v(c.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,n=this.act.abc.answers,i=this.act.abc.solvedPrimary;if(t&&n){if(this.act.invAss&&(this.invAssCheck=Array(n.getNumCells()).fill(!1)),t.image&&(t.setImgContent(this.act.project.mediaBag,null,!1),!t.animatedGifFile||t.shaper.rectangularShapes||this.act.shuffleA||(this.$animatedBg=u("<span/>").css({"background-image":"url("+t.animatedGifFile+")","background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),i&&i.image&&i.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var r=[t,n];i&&r.push(i),this.act.acp.generateContent(t.nch,t.ncw,r,!1)}this.bgA=l.createEmptyGrid(null,this,this.act.margin,this.act.margin,t);var o=n.w;"AUB"!==this.act.boxGridPos&&"BUA"!==this.act.boxGridPos||(o=t.getTotalWidth()),this.bgB=new l(null,this,n.style,this.act.margin,this.act.margin,o,n.h,new h(1,1)),this.$form=u("<form/>",{id:"form1",action:"#"}),this.$form.submit(function(t){t.preventDefault(),e.playing&&e.setCurrentCell(e.currentCell)}),this.$textField=u("<input/>",{type:"text",size:200}).css(n.style.getCSS()).css({position:"absolute",top:0,left:0,border:0,padding:0,margin:0,"text-align":"center"}),this.$div.append(this.$form.append(this.$textField)),this.bgA.setContent(t,i||null),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0);for(var s=this.act.nonAssignedCells=0;s<this.bgA.getNumCells();s++){var a=this.bgA.getActiveBox(s);-1===a.idAss&&(this.act.nonAssignedCells++,a.switchToAlt(this.ps))}this.bgA.setVisible(!0),this.bgB.setVisible(!1)}}},{key:"initActivity",value:function(){g(v(c.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.shuffleA&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"activityReady",value:function(){g(v(c.prototype),"activityReady",this).call(this),this.setCurrentCell(0)}},{key:"updateContent",value:function(t){if(g(v(c.prototype),"updateContent",this).call(this,t),this.bgA&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new r.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?e.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){if(this.$canvas&&this.$canvas.remove(),g(v(c.prototype),"setBounds",this).call(this,t),this.bgA||this.bgB){var e=t.clone();if("AUB"===this.act.boxGridPos?e.height-=this.bgB.pos.y+this.act.margin/2:"AB"===this.act.boxGridPos&&(e.width-=this.bgB.pos.x+this.act.margin/2),this.$canvas=u('<canvas width="'+e.dim.width+'" height="'+e.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.bgA&&this.$animatedBg){var n=this.bgA.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:n.dim.width+"px",height:n.dim.height+"px","background-size":n.dim.width+"px "+n.dim.height+"px"}),this.$canvas.insertAfter(this.$animatedBg)}else this.$div.prepend(this.$canvas);this.$textField&&this.$textField.css({top:this.bgB.pos.y,left:this.bgB.pos.x,width:this.bgB.dim.width,height:this.bgB.dim.height,zIndex:9}),this.invalidate().update()}}},{key:"checkInvAss",value:function(){return this.act.invAss&&this.invAssCheck&&this.invAssCheck.every(function(t){return t})}},{key:"setCurrentCell",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:null;if(this.playing){var i=null,r=!1;if(-1!==this.currentCell){var o=!1;if(i=this.bgA?this.bgA.getActiveBoxWithIdLoc(this.currentCell):null){i.setMarked(!1);var s=i.getDescription(),a=i.idAss,c=0<=a?this.act.abc.answers.getActiveBoxContent(a).text:"",u=this.$textField.val().trim();if(p.compareMultipleOptions(u,c,!1,this.act.numericContent)){o=!0,i.idAss=-1;var l=c.indexOf("|");0<=l&&this.$textField.val(c.substring(0,l)),this.act.abc.solvedPrimary?(i.switchToAlt(this.ps),r=i.playMedia(this.ps,n)):i.clear(),this.act.invAss&&0<=a&&a<this.invAssCheck.length&&(this.invAssCheck[a]=!0),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem))}var h=this.bgA.countCellsWithIdAss(-1);if(0<u.length&&this.ps.reportNewAction(this.act,"WRITE",s,u,o,h),o&&(this.checkInvAss()||h===this.bgA.getNumCells()))return this.finishActivity(!0),this.$textField.prop("disabled",!0),void this.invalidate().update();!r&&0<u.length&&this.playEvent(o?"actionOk":"actionError")}}if(i=this.bgA?this.act.useOrder?this.bgA.getBox(this.currentItem):this.bgA.getActiveBoxWithIdLoc(t):null,this.bgA&&(!i||-1===i.idAss)){for(var f=0;f<this.bgA.getNumCells()&&-1===(i=this.bgA.getActiveBoxWithIdLoc(f)).idAss;f++);if(i&&-1===i.idAss)return this.finishActivity(!1),this.$textField.prop("disabled",!0),void this.invalidate().update()}i&&this.bgA&&1<this.bgA.getNumCells()&&i.setMarked(!0),i&&(this.currentCell=i.idLoc),this.$textField.val(""),this.$textField.focus(),this.invalidate().update(),i&&i.playMedia(this.ps,n)}}},{key:"processEvent",value:function(t){if(this.playing){var e=[];switch(t.type){case"click":t.preventDefault(),this.ps.stopMedia(1);var n=new r.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top);if(this.bgB.contains(n)){this.$textField.focus();break}var i=this.bgA?this.bgA.findActiveBox(n):null;i&&!i.isInactive()&&(i.getContent()&&null===i.getContent().mediaContent&&this.playEvent("CLICK"),this.setCurrentCell(i.idLoc,e));break;case"change":t.preventDefault(),this.setCurrentCell(this.currentCell,e)}return e.forEach(function(t){return t()}),!1}}}]),c}();return Object.assign(i.prototype,{$textField:null,invAssCheck:null,bgA:null,bgB:null,currentCell:-1,events:["click","change"]}),n.Panel=i,t.CLASSES["@text.WrittenAnswer"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(24),n(3),n(2)],void 0===(r=function(t,e,v,o){var n=function(){function i(t,e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a(this,c(i).call(this,t,e,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"addActiveBox",value:function(t){return t.idLoc=this.cells.length,t.idOrder=t.idLoc,this.addBox(t)}},{key:"getActiveBox",value:function(t){return this.getBox(t)}},{key:"getBackgroundActiveBox",value:function(){return this.getBackgroundBox()}},{key:"setContent",value:function(t,e,n,i,r){n=n||0,i=i||0,r=r||this.cells.length;for(var o=0;o<r;o++){var s=this.getActiveBox(i+o);s.setContent(t,n+o),s.setAlternative(!1),e&&s.setAltContent(e,n+o)}if(null!==t.backgroundContent&&null!==this.getBackgroundActiveBox()){var a=this.getBackgroundActiveBox();a.setContent(t.backgroundContent),t.style!==a.boxBase&&a.setBoxBase(t.style)}}},{key:"findActiveBox",value:function(t){return this.findBox(t)}},{key:"clearAllBoxes",value:function(){this.cells.forEach(function(t){return t.clear()})}},{key:"clearAll",value:function(){this.clearAllBoxes(),null!==this.backgroundBox&&this.getBackgroundActiveBox().clear()}},{key:"countCellsAtPlace",value:function(){return this.cells.reduce(function(t,e){return e.isAtPlace()?++t:t},0)}},{key:"getActiveBoxWithIdLoc",value:function(e){return this.cells.find(function(t){return t.idLoc===e})||null}},{key:"cellIsAtEquivalentPlace",value:function(t,e){return t.isAtPlace()||t.isEquivalent(this.getActiveBoxWithIdLoc(t.idOrder),e)}},{key:"countCellsAtEquivalentPlace",value:function(n){var i=this;return this.cells.reduce(function(t,e){return i.cellIsAtEquivalentPlace(e,n)?++t:t},0)}},{key:"countCellsWithIdAss",value:function(n){return this.cells.reduce(function(t,e){return e.idAss===n?++t:t},0)}},{key:"setDefaultIdAss",value:function(){this.cells.map(function(t){return t.setDefaultIdAss()})}},{key:"shuffleCells",value:function(t,e){var n=this.cells.length;if(2<=n){for(var i=[],r=[],o=new v.Point,s=0;s<n;s++){var a=this.getActiveBox(s);i[s]=new v.Point(a.pos),r[s]=a.idLoc}for(var c=0;c<t;c++){var u=Math.floor(Math.random()*n),l=Math.floor(Math.random()*n);if(u!==l){o.moveTo(i[u]),i[u].moveTo(i[l]),i[l].moveTo(o);var h=r[u];r[u]=r[l],r[l]=h}}for(var f=0;f<n;f++){var p=this.getActiveBox(f),d=i[f].x,g=i[f].y;p.moveTo(new v.Point(d,g)),e&&this.fitCellsInArea([p]),p.idLoc=r[f]}}}},{key:"fitCellsInArea",value:function(t){var i=this,r=this.pos.x+this.dim.width,o=this.pos.y+this.dim.height;t.forEach(function(t){t.pos0||(t.pos0=new v.Point(t.pos));var e=Math.min(Math.max(t.pos.x,i.pos.x),r-t.dim.width),n=Math.min(Math.max(t.pos.y,i.pos.y),o-t.dim.height);e===t.pos.x&&n===t.pos.y||t.moveTo(new v.Point(e,n))})}},{key:"swapCellPositions",value:function(t,e,n){var i=new v.Point(e.pos),r=e.pos0,o=e.idLoc;e.moveTo(t.pos0||t.pos),e.pos0=t.pos0,e.idLoc=t.idLoc,t.moveTo(r||i),t.pos0=r,t.idLoc=o,n&&this.fitCellsInArea([t,e])}},{key:"resetIds",value:function(){this.cells.forEach(function(t,e){t&&(t.idOrder=e,t.idAss=e,t.idLoc=e)})}},{key:"getNextItem",value:function(t,e){e=e||-12345;for(var n=t+1;n<this.cells.length;n++){var i=this.cells[n];if(!i)break;if(-12345!==e){if(e===i.idAss)break}else if(0<=i.idAss)break}return n}},{key:"buildAccessibleElements",value:function(e,n,i){var r=this;return o.settings.CANVAS_HITREGIONS&&(this.$accessibleDiv=""!==this.accessibleText?t("<div/>",{"aria-label":this.accessibleText,tabindex:0}):null,e.append(this.$accessibleDiv),this.cells.forEach(function(t){return t.buildAccessibleElement(e,n,r.$accessibleDiv,i)})),this.$accessibleDiv}}]),i}();return Object.assign(n.prototype,{$accessibleDiv:null}),n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(3)],void 0===(r=function(r,t,e,n,o){var i=function(){function n(t){var e;return u(this,n),(e=l(this,h(n).call(this,t))).includeInReports=!1,e.reportActions=!1,e}return f(n,t),n}(),s=function(){function i(t,e,n){return u(this,i),l(this,h(i).call(this,t,e,n))}return f(i,t.Panel),function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(i,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&c(h(i.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;t&&(t.image&&(t.setImgContent(this.act.project.mediaBag,null,!1),t.animatedGifFile&&!t.shaper.rectangularShapes&&(this.$animatedBg=r("<span/>").css({"background-image":"url(".concat(t.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=e.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setVisible(!0))}},{key:"initActivity",value:function(){c(h(i.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0}},{key:"updateContent",value:function(t){if(c(h(i.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new o.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(t){var e=this;if(this.$canvas&&this.$canvas.remove(),c(h(i.prototype),"setBounds",this).call(this,t),this.bg){if(this.$canvas=r('<canvas width="'+t.dim.width+'" height="'+t.dim.height+'"/>').css({position:"absolute",top:0,left:0}),this.$animatedBg){var n=this.bg.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:"".concat(n.dim.width,"px"),height:"".concat(n.dim.height,"px"),"background-size":"".concat(n.dim.width,"px ").concat(n.dim.height,"px")})}this.$div.append(this.$canvas),this.invalidate().update(),setTimeout(function(){return e.bg?e.bg.buildAccessibleElements(e.$canvas,e.$div):null},0)}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(c(h(i.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new o.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];this.ps.stopMedia(1);var i=this.bg.findActiveBox(e);i&&(i.playMedia(this.ps,n)||this.playEvent("click")),n.forEach(function(t){return t()}),t.preventDefault()}}}]),i}();return Object.assign(s.prototype,{bg:null,events:["click"]}),i.Panel=s,t.CLASSES["@panels.InformationScreen"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function p(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(3)],void 0===(r=function(c,t,u,e,l){var n=function(){function e(t){return s(this,e),p(this,d(e).call(this,t))}return g(e,t),f(e,[{key:"getMinNumActions",value:function(){return this.cellsToMatch}},{key:"hasRandom",value:function(){return!0}}]),e}();Object.assign(n.prototype,{nonAssignedCells:0,cellsToMatch:1});var i=function(){function a(t,e,n){return s(this,a),p(this,d(a).call(this,t,e,n))}return g(a,t.Panel),f(a,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&h(d(a.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.solvedPrimary;if(t){if(t.image&&(t.setImgContent(this.act.project.mediaBag,null,!1),!t.animatedGifFile||t.shaper.rectangularShapes||this.act.shuffleA||(this.$animatedBg=c("<span/>").css({"background-image":"url(".concat(t.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),e&&e.image&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var n=[t];e&&(n.push(null),n.push(e)),this.act.acp.generateContent(t.nch,t.ncw,n,!1)}this.bg=u.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t,e||null),this.bg.setAlternative(!1),this.$animatedBg&&this.bg.setCellAttr("tmpTrans",!0),this.bg.setDefaultIdAss(),this.act.nonAssignedCells=0,this.act.cellsToMatch=0;for(var i=this.bg.getNumCells(),r=0;r<i;r++){var o=this.bg.getActiveBox(r),s=o.idAss;1===s?this.act.cellsToMatch++:-1===s&&(this.act.nonAssignedCells++,o.switchToAlt(this.ps))}this.bg.setVisible(!0)}}},{key:"initActivity",value:function(){h(d(a.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.act.shuffleA&&this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(h(d(a.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new l.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return h(d(a.prototype),"updateContent",this).call(this,t)}},{key:"setDimension",value:function(t){return this.getBounds().equals(t)?t:e.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(t){var e=this;if(this.$canvas&&this.$canvas.remove(),h(d(a.prototype),"setBounds",this).call(this,t),this.bg){if(this.$canvas=c('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$animatedBg){var n=this.bg.getBounds();this.$animatedBg.css({left:n.pos.x,top:n.pos.y,width:"".concat(n.dim.width,"px"),height:"".concat(n.dim.height,"px"),"background-size":"".concat(n.dim.width,"px ").concat(n.dim.height,"px")})}this.$div.append(this.$canvas),this.invalidate().update(),setTimeout(function(){return e.bg?e.bg.buildAccessibleElements(e.$canvas,e.$div):null},0)}}},{key:"buildAccessibleComponents",value:function(){this.bg&&this.$canvas&&this.accessibleCanvas&&(h(d(a.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new l.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=!1,i=[];switch(t.type){case"click":this.ps.stopMedia(1);var r=this.bg?this.bg.findActiveBox(e):null;if(r)if(-1!==r.idAss){var o=!1,s=r.getDescription();n=n||r.playMedia(this.ps,i),1!==r.idAss||this.act.useOrder&&r.idOrder!==this.currentItem||(o=!0,r.idAss=-1,r.switchToAlt(this.ps)?n=n||r.playMedia(this.ps,i):r.clear(),this.act.useOrder&&(this.currentItem=this.bg.getNextItem(this.currentItem,1)));var a=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"SELECT",s,null,o,a-this.act.nonAssignedCells),o&&a===this.act.cellsToMatch+this.act.nonAssignedCells?this.finishActivity(!0):n||this.playEvent(o?"actionOk":"actionError"),this.update()}else this.playEvent("actionError")}i.forEach(function(t){return t()}),t.preventDefault()}}}]),a}();return Object.assign(i.prototype,{bg:null,events:["click"]}),n.Panel=i,t.CLASSES["@panels.Identify"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function h(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(3),n(73)],void 0===(r=function(r,t,o,e,s,a){var n=function(){function e(t){return u(this,e),h(this,f(e).call(this,t))}return p(e,t),l(e,[{key:"mustPauseSequence",value:function(){return!0}},{key:"getMinNumActions",value:function(){return 0}},{key:"hasRandom",value:function(){return!0}}]),e}(),i=function(){function i(t,e,n){return u(this,i),h(this,f(i).call(this,t,e,n))}return p(i,t.Panel),l(i,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&c(f(i.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.secondary;if(t&&e){t.image&&(t.setImgContent(this.act.project.mediaBag,null,!1),!t.animatedGifFile||t.shaper.rectangularShapes||this.act.shuffleA||(this.$animatedBg=r("<span/>").css({"background-image":"url(".concat(t.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),e.image&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t,e],!1),this.bgA=o.createEmptyGrid(null,this,this.act.margin,this.act.margin,t);var n="AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?t.getTotalWidth():e.w;this.bgB=new o(null,this,e.style,this.act.margin,this.act.margin,n,e.h,new a(1,1)),this.bgA.setContent(t),this.bgA.setDefaultIdAss(),this.$animatedBg&&this.bgA.setCellAttr("tmpTrans",!0),this.bgB.getActiveBox(0).setInactive(!1),this.bgA.setVisible(!0),this.bgB.setVisible(!0)}}},{key:"initActivity",value:function(){c(f(i.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.act.shuffleA&&this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(c(f(i.prototype),"updateContent",this).call(this,t),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new s.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?e.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){if(this.$canvas&&this.$canvas.remove(),c(f(i.prototype),"setBounds",this).call(this,t),this.bgA||this.bgB){if(this.$canvas=r('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$animatedBg){var e=this.bgA.getBounds();this.$animatedBg.css({left:e.pos.x,top:e.pos.y,width:"".concat(e.dim.width,"px"),height:"".concat(e.dim.height,"px"),"background-size":"".concat(e.dim.width,"px ").concat(e.dim.height,"px")})}this.$div.append(this.$canvas),this.invalidate().update()}}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(c(f(i.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div),this.bgB&&this.bgB.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new s.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];switch(t.type){case"click":this.ps.stopMedia(1);var i=this.bgA.findActiveBox(e);if(i){var r=this.bgB.getActiveBox(0);-1===i.idAss||this.act.useOrder&&i.idOrder!==this.currentItem?(r.clear(),r.setInactive(!1)):(r.setContent(this.act.abc.secondary,i.idAss),r.playMedia(this.ps,n)||i.playMedia(this.ps,n)||this.playEvent("CLICK"),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)),this.ps.reportNewAction(this.act,"SELECT",i.getDescription(),r.getDescription(),!0,0),r.$accessibleElement&&r.$accessibleElement.focus()),this.update()}}n.forEach(function(t){return t()}),t.preventDefault()}}}]),i}();return Object.assign(i.prototype,{bgA:null,bgB:null,events:["click"]}),n.Panel=i,t.CLASSES["@panels.Explore"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(94),n(2)],void 0===(r=function(c,t,u,l){var e=function(){function n(t){var e;return f(this,n),(e=p(this,d(n).call(this,t))).menuElements=[],e.includeInReports=!1,e.reportActions=!1,e}return g(n,t),n}(),n=function(){function a(t,e,n){var i;return f(this,a),i=p(this,d(a).call(this,t,e,n)),e.lastProjectSkin=null,i}return g(a,t.Panel),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(a,[{key:"buildVisualComponents",value:function(){var o=this;this.firstRun&&h(d(a.prototype),"buildVisualComponents",this).call(this);var s=c("<div/>").css(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({width:"100%","max-height":"100%",position:"absolute",top:"50%",transform:"translateY(-50%)",display:"flex","flex-wrap":"wrap","overflow-y":"auto","place-content":"center"},"overflow-y","auto"));this.act.menuElements.forEach(function(n){var t=n.description||n.caption||"JClic",e=c("<button/>",{class:"StockBtn",title:t,"aria-label":t}).css({"min-width":"80px","max-width":"200px","min-height":"80px",margin:"4px",padding:"4px",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"}),i=a.icons[n.icon||"@ico00.png"],r=c("<img/>",{src:i||""}).css({"max-width":"180px","max-height":"100px",margin:"4px"});i||o.act.project.mediaBag.getElement(n.icon,!0).getFullPathPromise().then(function(t){return r.attr("src",t)});e.append(r),e.append(c("<span/>").css({"max-width":"180px",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}).html(n.caption)),e[0].addEventListener("click",function(t){var e=new u(n.projectPath?"RUN_CLIC_PACKAGE":"RUN_CLIC_ACTIVITY",n.sequence);n.projectPath&&(e.externalParam=n.projectPath),l.log("info","Launching ".concat(n.projectPath||""," ").concat(n.sequence||"")),o.ps.playMedia(e),t.preventDefault()}),s.append(e)}),this.$div.empty().append(s)}},{key:"setDimension",value:function(t){return t}},{key:"initActivity",value:function(){h(d(a.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.setAndPlayMsg("initial","start"),this.playing=!0}}]),a}();return n.icons={"@ico00.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAB1UExURUxpcZVZAGyAAGyAAJVZAJVZAJVZAIhmAJVZAJVZAJVZAIhmAGyAAGyAAGyAAGyAAGyAAJVZAJVZAGyAAJVZANj+AP+ZAMFzAPWSALVsANyEAM57AJ66AOiLALXVAM3xAK1nAI6oAIabAJWwAMTnAKFgAGyAAIlz9xYAAAAVdFJOUwB9oCIiZpkRRKq7M4BVu9VmVd1EzJvdA7gAAAE0SURBVDjLjZPZkoMgEEVFFsHdZBQR3M38/ycOKQ1gJKnpV051nwtNEPyrsjBNom9AqNSapxn8CBRjXY+DmjXkbQSXeq9tWJe7ByhVberXqzCY8yGM6GVK9FQ4SpVUxAwnJ+A+2wkLBLLppYgJRgZIrcJYBKxvdLUdFzE4mHBzFNDUvKoVdFfI7YQ1q7gD7LowXNRwaM4R6AzQEXNRWZrPT2jLA9YaQOIXQHV0WIbFvKZImPNGmLCMCwY0lJQQS6vAzEXFjY7Of5iORXwKySHe8+kWWwVeGQUnmW3QTMgDONUbhQ+ABAZwozkTqH1Ox8za3Jz3drLZDMABquuM9nFaKXZpwfFpp+j0ZiHJ21pifiIkQ++Lix+9nc+Z5/tQwrt2fxEBvN8vooQJLgTDX74xSi6z/wAoQC7hWsslMgAAAABJRU5ErkJggg==","@ico01.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAByUExURUxpcfzZt/rfw/pycvrcv/3UrJqf/QAAAP/hxPvOov9sbPqFhYmN/f7nz3V4+/3ky/+AgPrIl11g/P/Klf+Kiv9XV//q1vtHR/rCim1w//pcXISI//tfX5WY/VNT///Dh/86OvwhISUl/js7+klM+vq6e8H/VfEAAAABdFJOUwBA5thmAAABGElEQVQ4y62T23aCMBBFiU48iQlELoJW7b3//4udBIi0MqsvDU+w95yEGSiK/15YrlVhd1+C8Nk05+ribzcvCJlXklBV3u/8pToLAnMk3kiCh0Hkz4LA/NSC+YcgANTWYP4OqVGmtmAuC2St2Mn4EMbq9TaPvABpDborD+OB0QqG8hbo3HTNAikFCtEZBTcMx+t+ewC2U4IyMAFUTgVd5nukHYlrqYcxSBlw15k/gTlXx/ySPT5NLOkyP7IQq0PoOd/wSZLgmLtD5AMLsS70ZbnZEL+LTQmZv6aEQIkrpTUlwWX+FhNCyNzaOiVkHgXODyHzFr87ye/3g+NxGrTgJ6zNa8nXJ04zf4Ew88ylr8KM/At//sB88w0/sBcK3bRRzgAAAABJRU5ErkJggg==","@ico02.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAtUExURUxpcQAAAP///8zMzJmZmfrdwP/hxPvOov3UrP3JlvzZt/zlzf/p0/zBh/rDjUN28cYAAAABdFJOUwBA5thmAAAAyklEQVQ4y6WT6w6DIAxG/YS2XHTv/7grLshF0C1r+KE5n6fFpMvybQHt6bldbXfQcazNsTD4MdCV+S+AQcBUBYa5M4BfHrcB8oNA08HLg0EeAiwOuGtBzoE0Mje4AO4S7QwhgDhlZrcISiNoqxzFoGbSb5Uyozhs4ckdD4M+OfQtUmeKcUsGnaQEyoSp/6YJIr2LXAPqp4OH4BzJtUXyZy7iBwbl8eSDALUc/Z/Sv1DxHfVm5ao5hjtIme+YbOnJMdlj/vCJoB5HX97wIgms7CtjdwAAAABJRU5ErkJggg==","@ico03.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpcQAAAPrdwP/hxP7mz/8AAAAAmfvOov3UrAAA//3JlvzZtwCZAP8A//zCifq6e7UN6GsAAAABdFJOUwBA5thmAAABA0lEQVQ4y5WS2RbDIAhEHdyTJv3/vy2osVj1oR6zeYcBDcb8NV6v9fp1NV7mgq8cMs/cDWYHhrmomsM1pcj9pgS7FL3IZ6AI8nazsCiCnPOG3wf0QpArfDnoGATC6mwc9oi/AtMFgAFFLQhDCuZcQ0yAMghB+cuNUgJpSVM1zg7phGUFpv3VFdB5gqxolpwdTqYO5EaPJ57PgWOZWgvt0bl4u+LAbwmzv0Q7JxquJM2FSpwTBRHvRU7Mey/E16f4FwfeSkpUBD26CIQ+PMajODTmaw0Dr7/V1zRVQCNvAvNw6QbFb5iWwvRaWKE4Vh3H/6LxG+ueROfYdXXlb+zavg/++ADYLwfSmmk9oQAAAABJRU5ErkJggg==","@icofolder.png":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURUxpcffvhP///2VlZczMZv//zPf39+/nc8zMzDMzmZmZZrW1tbWttcl3sA0AAAABdFJOUwBA5thmAAAAgklEQVQ4y9WSQQ6AIAwEsVtFwf+/14JGbcHeTHSuO9kFQggfBE8BFwLR+mBwFGYSZvh53zjzZTdkLTXCkS/ViDHBCLe8Gla48qpkGEHl+8pdYJo0yOouPA2GhLLiCCyC28DIcAXZ0IfsVKS3BTGUMDas0E9NfkO/ovmQBv2v0BJ+xAaYuQX2hCJNtwAAAABJRU5ErkJggg=="},e.Panel=n,t.CLASSES["@panels.Menu"]=e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3)],void 0===(r=function(e,t,r,n,o,p){var i=function(){function e(t){return c(this,e),l(this,h(e).call(this,t))}return f(e,t),u(e,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}(),s=function(){function i(t,e,n){return c(this,i),l(this,h(i).call(this,t,e,n))}return f(i,t.Panel),u(i,[{key:"clear",value:function(){this.bgA&&(this.bgA.end(),this.bgA=null),this.bgB&&(this.bgB.end(),this.bgB=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&a(h(i.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;if(t){t.image&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bgA=r.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgB=r.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bgA.setContent(t),this.bgA.accessibleText=this.ps.getMsg("source"),this.bgB.accessibleText=this.ps.getMsg("target"),this.bgA.setVisible(!0),this.bgB.setVisible(!0);var e=this.bgA.getBackgroundActiveBox(),n=this.bgB.getBackgroundActiveBox();e&&n&&n.exchangeContent(e)}}},{key:"initActivity",value:function(){a(h(i.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bgA&&this.bgB&&(this.shuffle([this.bgA],!0,!0),this.useOrder&&(this.currentItem=this.bgA.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(a(h(i.prototype),"updateContent",this).call(this),this.bgA&&this.bgB&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new p.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bgA.update(n,t),this.bgB.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bgA&&this.bgB&&!this.getBounds().equals(t)?n.layoutDouble(t,this.bgA,this.bgB,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){this.$canvas&&this.$canvas.remove(),a(h(i.prototype),"setBounds",this).call(this,t),(this.bgA||this.bgB)&&(this.$canvas=e('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new o(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&(a(h(i.prototype),"buildAccessibleComponents",this).call(this),this.bgA&&this.bgA.buildAccessibleElements(this.$canvas,this.$div,"mousedown"),this.bgB&&(this.bgB.setCellAttr("accessibleAlwaysActive",!0),this.bgB.buildAccessibleElements(this.$canvas,this.$div,"mousedown")))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e,n,i=null,r=[];if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new p.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new p.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&i.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bgA.findActiveBox(this.bc.origin),n=this.bgB.findActiveBox(i),this.bc.end(),e&&n&&n.isInactive()){var c=!1,u="".concat(e.getDescription()," (").concat(e.idOrder,")"),l="(".concat(n.idOrder,")"),h=this.act.abc.primary.getActiveBoxContent(n.idOrder);e.getContent().isEquivalent(h,!0)&&(c=!0,e.exchangeContent(n),e.setVisible(!1),this.act.useOrder&&(this.currentItem=this.bgA.getNextItem(this.currentItem)));var f=this.bgA.countInactiveCells();this.ps.reportNewAction(this.act,"PLACE",u,l,c,f),c&&f===this.bgA.getNumCells()?this.finishActivity(!0):this.playEvent(c?"actionOk":"actionError")}this.update(),this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(a)break;this.ps.stopMedia(1),!(e=this.bgA.findActiveBox(i))||e.isInactive()||this.act.useOrder&&e.idOrder!==this.currentItem||(this.act.dragCells?this.bc.begin(i,e):this.bc.begin(i),e.playMedia(this.ps,r)||this.playEvent("click"),this.bgB.$accessibleDiv&&this.bgB.$accessibleDiv.focus())}break;case"mousemove":case"touchmove":this.bc.moveTo(i)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),i}();return Object.assign(s.prototype,{bgA:null,bgB:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),i.Panel=s,t.CLASSES["@puzzles.DoublePuzzle"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3)],void 0===(r=function(e,t,n,r,o,f){var i=function(){function e(t){return c(this,e),l(this,h(e).call(this,t))}return p(e,t),u(e,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}(),s=function(){function i(t,e,n){return c(this,i),l(this,h(i).call(this,t,e,n))}return p(i,t.Panel),u(i,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&a(h(i.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;t&&(t.image&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0))}},{key:"initActivity",value:function(){a(h(i.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.useOrder&&(this.currentItem=this.bg.getNextItem(-1)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(a(h(i.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new f.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.bg||this.getBounds().equals(t)?t:r.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(t){this.$canvas&&this.$canvas.remove(),a(h(i.prototype),"setBounds",this).call(this,t),this.bg&&(this.$canvas=e('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new o(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(a(h(i.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e,n,i=null,r=[];if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new f.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new f.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&i.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bg.findActiveBox(this.bc.origin),this.bc.end(),n=this.bg.findActiveBox(i),e&&n){var c="".concat(e.getDescription()," (").concat(e.idOrder,")"),u="(".concat(n.idLoc,")"),l=e.idOrder===n.idLoc;this.bg.swapCellPositions(e,n,!0);var h=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"PLACE",c,u,l,h),l&&h===this.bg.getNumCells()?this.finishActivity(!0):this.playEvent(l?"actionOk":"actionError")}this.update()}else{if(a)break;this.ps.stopMedia(1),(e=this.bg.findActiveBox(i))&&(this.act.dragCells?this.bc.begin(i,e):this.bc.begin(i),e.playMedia(this.ps,r)||this.playEvent("click"))}break;case"mousemove":case"touchmove":this.bc.moveTo(i)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),i}();return Object.assign(s.prototype,{bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),i.Panel=s,t.CLASSES["@puzzles.ExchangePuzzle"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function f(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3),n(73)],void 0===(r=function(e,t,n,i,r,l,o){var s=function(){function e(t){return u(this,e),f(this,p(e).call(this,t))}return d(e,t),h(e,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}},{key:"helpSolutionAllowed",value:function(){return!0}}]),e}(),a=function(){function r(t,e,n){return u(this,r),f(this,p(r).call(this,t,e,n))}return d(r,t.Panel),h(r,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null),this.parkBg&&(this.parkBg.end(),this.parkBg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&c(p(r.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary;t&&(t.image&&t.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(t.nch,t.ncw,[t],!1),this.bg=n.createEmptyGrid(null,this,this.act.margin,this.act.margin,t),this.bg.setContent(t),this.bg.setVisible(!0),this.hiddenBoxIndex=Math.floor(Math.random()*this.bg.getNumCells()),this.hiddenBox=this.bg.getActiveBox(this.hiddenBoxIndex),this.hiddenBox.setVisible(!1),this.parkBg=new n(null,this,t.style,this.act.margin,this.act.margin,this.hiddenBox.dim.width,this.hiddenBox.dim.height,new o(1,1)),this.parkBg.setContent(t,null,this.hiddenBoxIndex,0,1),this.parkBg.setBorder(this.bg.hasBorder()),this.parkBg.setVisible(!0))}},{key:"initActivity",value:function(){if(c(p(r.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg){this.act.shuffles%2!=1&&this.act.shuffles++;for(var t=0;t<this.act.shuffles;t++){var e=this.bg.getCoord(this.hiddenBox),n=0===Math.floor(2*Math.random())?1:-1;0===Math.floor(2*Math.random())?(e.x+=n,(e.x<0||e.x>=this.bg.nCols)&&(e.x-=2*n)):(e.y+=n,(e.y<0||e.y>=this.bg.nRows)&&(e.y-=2*n));var i=this.bg.getActiveBoxWithIdLoc(e.y*this.bg.nCols+e.x);null!==i&&this.hiddenBox.exchangeLocation(i)}this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0}}},{key:"updateContent",value:function(t){if(c(p(r.prototype),"updateContent",this).call(this,t),this.bg&&this.parkBg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new l.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t),this.parkBg.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.bg&&this.parkBg&&!this.getBounds().equals(t)?i.layoutDouble(t,this.bg,this.parkBg,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){this.$canvas&&this.$canvas.remove(),c(p(r.prototype),"setBounds",this).call(this,t),this.bg&&this.parkBg&&(this.$canvas=e('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(c(p(r.prototype),"buildAccessibleComponents",this).call(this),this.bg.buildAccessibleElements(this.$canvas,this.$div))}},{key:"processEvent",value:function(t){if(this.playing){var e=new l.Point(t.pageX-this.$div.offset().left,t.pageY-this.$div.offset().top),n=[];switch(t.type){case"click":this.ps.stopMedia(1);var i=this.bg.findActiveBox(e);if(i)if(i.isVisible()){var r=this.bg.getCoordDist(i,this.hiddenBox);if(Math.abs(r.x)+Math.abs(r.y)===1){var o=i.playMedia(this.ps,n),s="".concat(i.getDescription()," (").concat(i.idOrder,")"),a="(".concat(this.hiddenBox.idLoc,")");i.exchangeLocation(this.hiddenBox);var c=i.idOrder===i.idLoc,u=this.bg.countCellsAtEquivalentPlace(!0);this.ps.reportNewAction(this.act,"SELECT",s,a,c,u),c&&u===this.bg.getNumCells()?(this.hiddenBox.setVisible(!0),this.parkBg.setVisible(!1),this.finishActivity(!0)):o||this.playEvent("click")}this.update()}else this.playEvent("actionError")}n.forEach(function(t){return t()}),t.preventDefault()}}}]),r}();return Object.assign(a.prototype,{bg:null,parkBg:null,hiddenBox:null,hiddenBoxIndex:-1,events:["click"]}),s.Panel=a,t.CLASSES["@puzzles.HolePuzzle"]=s}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function d(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3),n(73)],void 0===(r=function(e,t,l,n,i,h,f){var r=function(){function e(t){return s(this,e),d(this,g(e).call(this,t))}return v(e,t),c(e,[{key:"getMinNumActions",value:function(){return this.abc.primary.getNumCells()}},{key:"hasRandom",value:function(){return!0}},{key:"shuffleAlways",value:function(){return!0}}]),e}(),o=function(){function u(t,e,n){return s(this,u),d(this,g(u).call(this,t,e,n))}return v(u,t.Panel),c(u,[{key:"clear",value:function(){this.bg&&(this.bg.end(),this.bg=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&p(g(u.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.abc.primary,e=this.act.abc.secondary;if(t){if(t.image&&t.setImgContent(this.act.project.mediaBag,null,!1),e&&e.image&&e.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp){var n=[t];e&&n.push(e),this.act.acp.generateContent(t.nch,t.ncw,n,!1)}var i=t.ncw,r=t.nch;"AB"===this.act.boxGridPos||"BA"===this.act.boxGridPos?i*=2:r*=2,this.bg=new l(null,this,t.style,this.act.margin,this.act.margin,t.w*i,t.h*r,new f(i,r));var o=t.getNumCells();this.bg.setBorder(t.border),this.bg.setContent(t,null,0,0,o),this.bg.setContent(e||t,null,0,o,o);for(var s=0;s<2;s++)for(var a=0;a<o;a++){var c=this.bg.getActiveBox(s*o+a);c.idAss=a,c.setInactive(!0)}this.bg.setVisible(!0)}}},{key:"initActivity",value:function(){p(g(u.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.bg&&(this.shuffle([this.bg],!0,!0),this.invalidate().update(),this.setAndPlayMsg("initial","start"),this.playing=!0)}},{key:"updateContent",value:function(t){if(p(g(u.prototype),"updateContent",this).call(this,t),this.bg&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new h.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.bg.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.bg||this.getBounds().equals(t)?t:n.layoutSingle(t,this.bg,this.act.margin)}},{key:"setBounds",value:function(t){this.$canvas&&this.$canvas.remove(),p(g(u.prototype),"setBounds",this).call(this,t),this.bg&&(this.$canvas=e('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.bc=new i(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update())}},{key:"buildAccessibleComponents",value:function(){this.$canvas&&this.accessibleCanvas&&this.bg&&(p(g(u.prototype),"buildAccessibleComponents",this).call(this),this.bg.setCellAttr("accessibleAlwaysActive",!0),this.bg.buildAccessibleElements(this.$canvas,this.$div,"mousedown"))}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e,n,i=null,r=[];if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new h.Point;else{var o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,s=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new h.Point(o-this.$div.offset().left,s-this.$div.offset().top)}var a=!1;switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":case"touchend":if(this.bc.active&&i.distanceTo(this.bc.origin)<=3)break;a=!0;case"touchstart":case"mousedown":if(this.bc.active){if(this.ps.stopMedia(1),e=this.act.dragCells?this.bc.bx:this.bg?this.bg.findActiveBox(this.bc.origin):null,this.bc.end(),n=this.bg?this.bg.findActiveBox(i):null,e&&-1!==e.idAss&&n&&-1!==n.idAss)if(e!==n){var c=!1;e.idAss===n.idAss||e.getContent().isEquivalent(n.getContent(),!0)?(c=!0,e.idAss=-1,e.setInactive(!1),n.idAss=-1,n.setInactive(!1)):(e.setInactive(!0),this.act.dragCells?n.setInactive(!0):(n.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(i,e):this.bc.begin(i)));var u=n.playMedia(this.ps,r);if(this.bg){var l=this.bg.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",e.getDescription(),n.getDescription(),c,l/2),c&&l===this.bg.getNumCells()?this.finishActivity(!0):u||this.playEvent(c?"actionOk":"actionError")}}else this.playEvent("CLICK"),e.setInactive(!0);else null!==e&&e.setInactive(!0);this.invalidate().update()}else{if(a)break;this.ps.stopMedia(1),(e=this.bg?this.bg.findActiveBox(i):null)&&-1!==e.idAss&&(e.playMedia(this.ps,r)||this.playEvent("click"),e.setInactive(!1),this.update(),this.act.dragCells?this.bc.begin(i,e):this.bc.begin(i))}break;case"mousemove":case"touchmove":this.bc.moveTo(i)}r.forEach(function(t){return t()}),t.preventDefault()}}}]),u}();return Object.assign(o.prototype,{bg:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),r.Panel=o,t.CLASSES["@memory.MemoryGame"]=r}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(3),n(203)],void 0===(r=function(t,e,m,r){var n=function(){function n(t){var e;return s(this,n),(e=u(this,h(n).call(this,t))).useIdAss=!0,e}return f(n,r),c(n,[{key:"setProperties",value:function(t){l(h(n.prototype),"setProperties",this).call(this,t),this.abc.primary.avoidAllIdsNull(this.abc.secondary.getNumCells())}},{key:"getMinNumActions",value:function(){return this.invAss?this.abc.secondary.getNumCells():this.abc.primary.getNumCells()-this.nonAssignedCells}}]),n}();Object.assign(n.prototype,{nonAssignedCells:0,useIdAss:!1});var i=function(){function i(t,e,n){return s(this,i),u(this,h(i).call(this,t,e,n))}return f(i,r.Panel),c(i,[{key:"buildVisualComponents",value:function(){var e=this;l(h(i.prototype),"buildVisualComponents",this).call(this);var t=this.act.abc.primary,n=this.act.abc.secondary;t&&n&&(this.act.invAss&&(this.invAssCheck=Array(n.getNumCells()).fill(!1)),this.bgA.setDefaultIdAss(),this.act.nonAssignedCells=0,this.bgA.cells.forEach(function(t){-1===t.idAss&&(e.act.nonAssignedCells++,t.switchToAlt(e.ps))}))}},{key:"checkInvAss",value:function(){return!(!this.act.invAss||!this.invAssCheck)&&this.invAssCheck.every(function(t){return t})}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e,n,i=null;if("touchend"===t.type)i=this.bc.active?this.bc.dest.clone():new m.Point;else{var r=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;i=new m.Point(r-this.$div.offset().left,o-this.$div.offset().top)}var s=!1,a=!1,c=!1,u=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&i.distanceTo(this.bc.origin)<=3)break;s=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var l=this.bc.origin;if(this.bc.end(),(e=this.bgA?this.bgA.findActiveBox(l):null)?n=this.bgB?this.bgB.findActiveBox(i):null:(n=this.bgB?this.bgB.findActiveBox(l):null)&&(e=this.bgA?this.bgA.findActiveBox(i):null,c=!0),e&&n&&-1!==e.idAss&&!n.isInactive()&&this.act.abc.secondary){var h=e.getDescription(),f=n.getDescription(),p=this.act.abc.secondary.getActiveBoxContent(e.idAss),d=!1;if(e.idAss!==n.idOrder&&!n.getContent().isEquivalent(p,!0)||(d=!0,e.idAss=-1,this.act.abc.solvedPrimary?(e.switchToAlt(this.ps),a=a||e.playMedia(this.ps,u)):(a=c?a||e.playMedia(this.ps,u):a||n.playMedia(this.ps,u),e.clear()),this.act.invAss&&(this.invAssCheck[n.idOrder]=!0,n.clear()),this.act.useOrder&&this.bgA&&(this.currentItem=this.bgA.getNextItem(this.currentItem))),this.bgA){var g=this.bgA.countCellsWithIdAss(-1);this.ps.reportNewAction(this.act,"MATCH",h,f,d,g-this.act.nonAssignedCells),d&&(this.checkInvAss()||g===this.bgA.getNumCells())?this.finishActivity(!0):a||this.playEvent(d?"actionOk":"actionError")}}else if(this.bgB&&(c&&this.bgA&&this.bgA.contains(i)||!c&&this.bgB.contains(i))){var v=e?e.getDescription():n?n.getDescription():"null";this.ps.reportNewAction(this.act,"MATCH",v,"null",!1,this.bgB.countCellsWithIdAss(-1)),this.playEvent("actionError")}this.update(),this.bgA&&this.bgA.$accessibleDiv&&this.bgA.$accessibleDiv.focus()}else{if(s)break;this.ps.stopMedia(1),e=this.bgA?this.bgA.findActiveBox(i):null,n=this.bgB?this.bgB.findActiveBox(i):null,(e&&-1!==e.idAss&&(!this.act.useOrder||e.idOrder===this.currentItem)||!this.act.useOrder&&n)&&(this.act.dragCells?this.bc.begin(i,e||n):this.bc.begin(i),(a=a||(e||n).playMedia(this.ps,u))||this.playEvent("click"));var y=e?this.bgA:this.bgB;y&&y.$accessibleDiv&&(y=e?this.bgB:this.bgA)&&y.$accessibleDiv&&y.$accessibleDiv.focus()}break;case"mousemove":case"touchmove":this.bc.moveTo(i)}u.forEach(function(t){return t()}),t.preventDefault()}}}]),i}();return Object.assign(i.prototype,{invAssCheck:null}),n.Panel=i,e.CLASSES["@associations.ComplexAssociation"]=n}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(35),n(24),n(57),n(3),n(204)],void 0===(r=function(n,t,i,e,o,v,y){var r=function(){function e(t){return c(this,e),l(this,h(e).call(this,t))}return f(e,t),u(e,[{key:"getMinNumActions",value:function(){return this.clues.length}},{key:"helpSolutionAllowed",value:function(){return!0}},{key:"hasRandom",value:function(){return!0}}]),e}();Object.assign(r.prototype,{clues:null,clueItems:null,shuffleA:!1,shuffleB:!1});var s=function(){function r(t,e,n){var i;return c(this,r),(i=l(this,h(r).call(this,t,e,n))).resolvedClues=[],i}return f(r,t.Panel),u(r,[{key:"clear",value:function(){this.grid&&(this.grid.end(),this.grid=null),this.bgAlt&&(this.bgAlt.end(),this.bgAlt=null)}},{key:"buildVisualComponents",value:function(){this.firstRun&&a(h(r.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.tgc,e=this.act.abc.secondary;e&&(e.image&&(e.setImgContent(this.act.project.mediaBag,null,!1),!e.animatedGifFile||e.shaper.rectangularShapes||this.act.shuffleB||(this.$animatedBg=n("<span/>").css({"background-image":"url(".concat(e.animatedGifFile,")"),"background-position":"center","background-repeat":"no-repeat",position:"absolute"}).appendTo(this.$div))),null!==this.act.acp&&this.act.acp.generateContent(0,0,[e],!1)),t&&(this.grid=y.createEmptyGrid(null,this,this.act.margin,this.act.margin,t,!1),e&&(this.bgAlt=i.createEmptyGrid(null,this,this.act.margin,this.act.margin,e),this.$animatedBg&&this.bgAlt.backgroundBox&&(this.bgAlt.backgroundBox.tmpTrans=!0)),this.grid.setVisible(!0))}},{key:"initActivity",value:function(){a(h(r.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.grid.randomize(),this.grid.setAllCellsAttribute(y.flags.INVERTED,!1),this.resolvedClues=Array(this.act.clueItems.length).fill(!1),this.bgAlt&&(this.bgAlt.setContent(this.act.abc.secondary),this.$animatedBg&&this.bgAlt.clearAllBoxes(),this.act.shuffleB&&this.shuffle([this.bgAlt],!0,!0),this.bgAlt.setVisible(null!==this.$animatedBg)),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.playing=!0)}},{key:"updateContent",value:function(t){if(a(h(r.prototype),"updateContent",this).call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new v.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(n,t),this.bgAlt&&this.bgAlt.update(n,t)}return this}},{key:"setDimension",value:function(t){return!this.grid||this.getBounds().equals(t)?t:this.bgAlt?e.layoutDouble(t,this.grid,this.bgAlt,this.act.boxGridPos,this.act.margin):e.layoutSingle(t,this.grid,this.act.margin)}},{key:"setBounds",value:function(t){if(this.$canvas&&this.$canvas.remove(),a(h(r.prototype),"setBounds",this).call(this,t),this.grid){if(this.$canvas=n('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$animatedBg&&this.bgAlt){var e=this.bgAlt.getBounds();this.$animatedBg.css({left:e.pos.x,top:e.pos.y,width:"".concat(e.dim.width,"px"),height:"".concat(e.dim.height,"px"),"background-size":"".concat(e.dim.width,"px ").concat(e.dim.height,"px")})}this.$div.append(this.$canvas),this.bc=new o(this,this.$canvas.get(-1).getContext("2d")),this.invalidate().update()}}},{key:"getCurrentScore",value:function(){return this.resolvedClues.reduce(function(t,e){return e?++t:t},0)}},{key:"processEvent",value:function(t){if(this.bc&&this.playing){var e=null;if("touchend"===t.type)e=this.bc.active?this.bc.dest.clone():new v.Point;else{var n=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,i=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY;e=new v.Point(n-this.$div.offset().left,i-this.$div.offset().top)}var r=!1,o=!1,s=[];switch(t.type){case"touchcancel":this.bc.active&&this.bc.end();break;case"mouseup":if(this.bc.active&&e.distanceTo(this.bc.origin)<=3)break;r=!0;case"touchend":case"touchstart":case"mousedown":if(this.bc.active){this.ps.stopMedia(1);var a=this.grid.getLogicalCoords(this.bc.origin),c=this.grid.getLogicalCoords(this.bc.dest);this.bc.end();var u=this.grid.getStringBetween(a.x,a.y,c.x,c.y);if(null!==u&&0<u.length){for(var l=!1,h=0;h<this.act.clues.length;h++)if(u===this.act.clues[h]){l=!0;break}var f=this.resolvedClues[h];if(l&&!f&&(this.resolvedClues[h]=!0,this.grid.setAttributeBetween(a.x,a.y,c.x,c.y,y.flags.INVERTED,!0),null!==this.bgAlt)){var p=this.act.clueItems[h];if(0<=p&&p<this.bgAlt.getNumCells()){var d=this.bgAlt.getActiveBox(this.act.clueItems[h]);d&&(d.setVisible(null===this.$animatedBg),o=d.playMedia(this.ps,s))}}if(f)l||o||this.playEvent("actionError");else{var g=this.getCurrentScore();this.ps.reportNewAction(this.act,"ACTION_SELECT",u,null,l,g),g===this.act.clues.length?this.finishActivity(!0):o||this.playEvent(l?"actionOK":"actionError"),this.invalidate()}}else this.playEvent("actionError");this.update()}else{if(r)break;this.ps.stopMedia(1),this.grid.contains(e)&&(this.playEvent("click"),this.bc.begin(e))}break;case"mousemove":case"touchmove":this.bc.moveTo(e)}s.forEach(function(t){return t()}),t.preventDefault()}}}]),r}();return Object.assign(s.prototype,{grid:null,bgAlt:null,resolvedClues:null,bc:null,events:["mousedown","mouseup","mousemove","touchstart","touchend","touchmove","touchcancel"]}),r.Panel=s,t.CLASSES["@textGrid.WordSearch"]=r}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function v(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(13),n(56),n(24),n(204),n(96),n(72),n(3),n(2)],void 0===(r=function(s,t,e,a,c,u,l,h,n){var f=n.settings,i=function(){function e(t){return d(this,e),v(this,y(e).call(this,t))}return m(e,t),g(e,[{key:"getMinNumActions",value:function(){return this.tgc.getNumChars()-this.tgc.countWildChars()}},{key:"needsKeyboard",value:function(){return!0}}]),e}();Object.assign(i.prototype,{upperCase:!0,checkCase:!0,wildTransparent:!1});var r=function(){function o(t,e,n){return d(this,o),v(this,y(o).call(this,t,e,n))}return m(o,t.Panel),g(o,[{key:"clear",value:function(){this.grid&&(this.grid.end(),this.grid=null),this.style&&(this.style.end(),this.style=null)}},{key:"createBoxBag",value:function(t){var e=this,n=new a(null,this,null),i=new u(n,this,this.icoBB);i.setBounds(0,0,this.LABEL_WIDTH,this.act.abc[t].h);var r=s("<button/>",{class:"StockBtn"}).css({width:this.LABEL_WIDTH,height:this.act.abc[t].h,"background-image":"url(".concat("acrossClues"===t?this.hIcon:this.vIcon,")"),"background-repeat":"no-repeat","background-position":"center","border-radius":6,"z-index":10}).click(function(){e.advance="acrossClues"===t?"ADVANCE_RIGHT"===e.advance?"NO_ADVANCE":"ADVANCE_RIGHT":"ADVANCE_DOWN"===e.advance?"NO_ADVANCE":"ADVANCE_DOWN",e.setBtnStatus()}).on("keypress",function(t){" "===String.fromCharCode(t.charCode||t.keyCode)&&t.stopPropagation()}).appendTo(this.$div);i.setHostedComponent(r),n.addBox(i);var o=new l(n,null,null,t,new h.Rectangle(this.LABEL_WIDTH+this.act.margin,0,this.act.abc[t].w,this.act.abc[t].h));return n.addBox(o),n.setBoxBase(this.act.abc[t].style),"acrossClues"===t?(this.hClue=o,this.hClueBtn=i):(this.vClue=o,this.vClueBtn=i),n}},{key:"buildVisualComponents",value:function(){this.firstRun&&p(y(o.prototype),"buildVisualComponents",this).call(this),this.clear();var t=this.act.tgc,e=this.act.abc.acrossClues,n=this.act.abc.downClues;if(e.image&&e.setImgContent(this.act.project.mediaBag,null,!1),n.image&&n.setImgContent(this.act.project.mediaBag,null,!1),null!==this.act.acp&&this.act.acp.generateContent(0,0,this.act.abc,!1),t){this.grid=c.createEmptyGrid(null,this,this.act.margin,this.act.margin,t,this.act.wildTransparent),this.style=new a(null,this,null);var i=this.createBoxBag("acrossClues"),r=this.createBoxBag("downClues");"AUB"===this.act.boxGridPos||"BUA"===this.act.boxGridPos?r.moveTo(new h.Point(i.dim.width+this.act.margin,0)):r.moveTo(new h.Point(0,i.dim.height+this.act.margin)),this.style.addBox(i),this.style.addBox(r),this.grid.setVisible(!0),this.style.setVisible(!0)}}},{key:"initActivity",value:function(){p(y(o.prototype),"initActivity",this).call(this),this.firstRun?this.firstRun=!1:this.buildVisualComponents(),this.grid&&(this.grid.setChars(this.act.tgc.text),this.numLetters=this.act.getMinNumActions(),this.grid.setCellAttributes(!0,!0),this.grid.setCursorEnabled(!0),this.setCursorAt(0,0),this.advance="ADVANCE_RIGHT",this.setBtnStatus(),this.setAndPlayMsg("initial","start"),this.invalidate().update(),this.$div.attr("tabindex",0),this.$div.focus(),this.playing=!0)}},{key:"getCurrentScore",value:function(){return this.grid?this.grid.countCoincidences(this.act.checkCase):0}},{key:"updateContent",value:function(t){if(p(y(o.prototype),"updateContent",this).call(this,t),this.grid&&this.$canvas){var e=this.$canvas.get(-1),n=e.getContext("2d");t=t||new h.Rectangle(0,0,e.width,e.height),n.clearRect(t.pos.x,t.pos.y,t.dim.width,t.dim.height),this.grid.update(n,t),this.style.update(n,t)}return this}},{key:"setDimension",value:function(t){return this.grid&&this.style&&!this.getBounds().equals(t)?a.layoutDouble(t,this.grid,this.style,this.act.boxGridPos,this.act.margin):t}},{key:"setBounds",value:function(t){this.$canvas&&(this.$canvas.remove(),this.$canvas=null),p(y(o.prototype),"setBounds",this).call(this,t),this.grid&&(this.$canvas=s('<canvas width="'.concat(t.dim.width,'" height="').concat(t.dim.height,'"/>')).css({position:"absolute",top:0,left:0}),this.$div.append(this.$canvas),this.invalidate().update())}},{key:"processEvent",value:function(t){if(this.playing)switch(t.type){case"click":var e=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,n=t.originalEvent&&t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,i=new h.Point(e-this.$div.offset().left,n-this.$div.offset().top),r=[];if(this.ps.stopMedia(1),this.grid.contains(i)){var o=this.grid.getLogicalCoords(i);if(null!==o&&(this.setCursorAt(o.x,o.y),f.TOUCH_DEVICE)){var s="ADVANCE_DOWN"===this.advance,a=window.prompt("".concat(s?"Vertical":"Horizontal"," word:"),"");this.writeChars(a)}}else if(this.hClue.contains(i))this.hClue.playMedia(this.ps,r);else{if(!this.vClue.contains(i))break;this.vClue.playMedia(this.ps,r)}this.update(),r.forEach(function(t){return t()});break;case"keypress":var c=t.charCode||t.keyCode;c&&this.grid.getCursor()&&(t.preventDefault(),this.writeChars(String.fromCharCode(c)));break;case"keydown":var u=0,l=0;switch(t.keyCode){case f.VK.RIGHT:u=1;break;case f.VK.LEFT:u=-1;break;case f.VK.DOWN:l=1;break;case f.VK.UP:l=-1}(u||l)&&(t.preventDefault(),this.moveCursor(u,l),this.update())}}},{key:"moveCursor",value:function(t,e){this.grid&&(this.grid.moveCursor(t,e,!0),this.cursorPosChanged())}},{key:"setCursorAt",value:function(t,e){this.grid.setCursorAt(t,e,!0),this.cursorPosChanged()}},{key:"cursorPosChanged",value:function(){var t=this.grid.getCursor();if(null!==t&&null!==this.style){var e=this.grid.getItemFor(t.x,t.y);null!==e&&(this.hClue.setContent(this.act.abc.acrossClues.getActiveBoxContentWith(t.y,e.x)),this.vClue.setContent(this.act.abc.downClues.getActiveBoxContentWith(t.x,e.y)))}}},{key:"writeChars",value:function(t){if(t&&0<t.length)for(var e=0;e<t.length;e++){var n=this.grid.getCursor(),i=t.charAt(e);this.act.upperCase&&(i=i.toLocaleUpperCase()),this.grid.setCharAt(n.x,n.y,i);var r=this.grid.isCellOk(n.x,n.y,this.act.checkCase),o=this.getCurrentScore();this.ps.reportNewAction(this.act,"WRITE",i,"X:".concat(n.x," Y:").concat(n.y),r,o),o===this.numLetters?(this.grid.setCursorEnabled(!1),this.grid.stopCursorBlink(),this.finishActivity(!0)):(this.playEvent("click"),"ADVANCE_DOWN"===this.advance?this.moveCursor(0,1):"ADVANCE_RIGHT"===this.advance&&this.moveCursor(1,0))}this.update()}},{key:"setBtnStatus",value:function(){this.hClueBtn&&this.hClueBtn.setInactive("ADVANCE_RIGHT"!==this.advance),this.vClueBtn&&this.vClueBtn.setInactive("ADVANCE_DOWN"!==this.advance)}}]),o}();return Object.assign(r.prototype,{LABEL_WIDTH:40,grid:null,style:null,numLetters:0,advance:"NO_ADVANCE",hClue:null,vClue:null,hClueBtn:null,vClueBtn:null,events:["click","keydown","keypress"],hIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNNiAxMGMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTEyIDBjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0tNiAwYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiPjwvcGF0aD48L3N2Zz4K",vIcon:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGZpbGw9IiNGRkZGRkYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjM2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiPjwvcGF0aD48cGF0aCBkPSJNMTIgOGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTItMiAuOS0yIDIgLjkgMiAyIDJ6bTAgMmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6bTAgNmMtMS4xIDAtMiAuOS0yIDJzLjkgMiAyIDIgMi0uOSAyLTItLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+Cg==",icoSize:{w:36,h:36},icoBB:(new e).set("backColor","#4285F4").set("inactiveColor","#70A2F6").set("dontFill",!0)}),i.Panel=r,t.CLASSES["@textGrid.CrossWord"]=i}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(134),n(2)],void 0===(r=function(a,t,r){var e=function(){function i(t){var e;return s(this,i),(e=l(this,f(i).call(this,t))).tasks=[],e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(i,t),u(i,[{key:"getProperty",value:function(t,e){return null!==this.dbProperties&&this.dbProperties.hasOwnProperty(t)?this.dbProperties[t]:e}},{key:"addTask",value:function(t){this.processingTasks?null===this.waitingTasks?this.waitingTasks=[t]:this.waitingTasks.push(t):this.tasks.push(t)}},{key:"flushTasksPromise",value:function(){var o=this;if(this.processingTasks||null===this.currentSessionId||0===this.tasks.length||null===this.serviceUrl)return this.processingTasks&&(this.forceFlush=!0),Promise.resolve(!0);this.processingTasks=!0;for(var t=new c("multiple"),e=0;e<this.tasks.length;e++)t.appendData(this.tasks[e].$bean);return r.log("debug","Reporting:",t.$bean[0]),new Promise(function(i,r){o.transaction(t.$bean).done(function(t,e,n){o.failCount=0,o.waitingTasks?(o.tasks=o.waitingTasks,o.waitingTasks=null):(o.forceFlush=!1,o.tasks=[]),o.forceFlush&&0<o.tasks.length?(o.forceFlush=!1,o.processingTasks=!1,o.flushTasksPromise().then(function(){i(!0)})):(o.forceFlush=!1,i(!0),o.processingTasks=!1)}).fail(function(t,e,n){++o.failCount>o.maxFails&&o.stopReporting().then(),r("Error reporting results to ".concat(o.serviceUrl," [").concat(e," ").concat(n,"]")),o.processingTasks=!1})})}},{key:"init",value:function(o){var s=this;null==o&&(o=this.ps.options),h(f(i.prototype),"init",this).call(this,o),this.initiated=!1,this.stopReporting(),this.serverPath=o.path||this.DEFAULT_SERVER_PATH,this.descriptionDetail=this.serverPath;var t=o.service||this.DEFAULT_SERVER_SERVICE;r.startsWith(t,"/")||(t="/".concat(t));var e=o.protocol||this.DEFAULT_SERVER_PROTOCOL;this.serviceUrl="".concat(e,"://").concat(this.serverPath).concat(t);var n=new c("get_properties");return new Promise(function(i,r){s.transaction(n.$bean).done(function(t,e,n){s.dbProperties={},a(t).find("param").each(function(t,e){var n=a(e);s.dbProperties[n.attr("name")]=n.attr("value")}),s.promptUserId(!1).then(function(t){s.userId=t;var e=o.lap||s.getProperty("TIME_LAP",s.DEFAULT_TIMER_LAP);s.timerLap=Math.min(30,Math.max(1,parseInt(e))),s.timer=window.setInterval(function(){return s.flushTasksPromise().then()},1e3*s.timerLap),s.beforeUnloadFunction=function(t){if(null!==s.serviceUrl&&(0<s.tasks.length||s.processingTasks)){s.flushTasksPromise().then();var e=s.ps.getMsg("Please wait until the results of your activities are sent to the reports system");return t&&(t.returnValue=e),e}},window.addEventListener("beforeunload",s.beforeUnloadFunction),s.initiated=!0,i(!0)}).catch(function(t){s.stopReporting(),r("Error getting the user ID: ".concat(t))})}).fail(function(t,e,n){s.stopReporting(),r("Error initializing reports service ".concat(s.serviceUrl," [").concat(e," ").concat(n,"]"))})})}},{key:"newSession",value:function(t){h(f(i.prototype),"newSession",this).call(this,t),this.serviceUrl&&null!==this.userId&&(this.currentSessionId=null)}},{key:"createDBSession",value:function(t){var o=this;return null===this.currentSessionId||t?new Promise(function(i,r){o.initiated&&null!==o.userId&&null!==o.currentSession?o.flushTasksPromise().then(function(){o.currentSessionId=null;var t=new c("add session");t.setParam("project",o.currentSession.projectName),t.setParam("activities",Number(o.currentSession.reportableActs)),t.setParam("time",Number(o.currentSession.started)),t.setParam("code",o.currentSession.code),t.setParam("user",o.userId),t.setParam("key",o.sessionKey),t.setParam("context",o.sessionContext),o.transaction(t.$bean).done(function(t,e,n){o.currentSessionId=a(t).find('param[name="session"]').attr("value"),i(o.currentSessionId)}).fail(function(t,e,n){o.stopReporting(),r("Error creating new reports session in ".concat(o.serviceUrl," [").concat(e," ").concat(n,"]"))})}):r("Unable to start session in remote server!")}):Promise.resolve(this.currentSessionId)}},{key:"end",value:function(){return this.reportActivity(!0),this.stopReporting().then(h(f(i.prototype),"end",this).call(this))}},{key:"transaction",value:function(t){return null===this.serviceUrl?null:a.ajax({method:"POST",url:this.serviceUrl,data:'<?xml version="1.0" encoding="UTF-8"?>'+(new XMLSerializer).serializeToString(t.get(0)).replace("minactions","minActions").replace("reportactions","reportActions"),contentType:"text/xml",dataType:"xml"})}},{key:"getGroups",value:function(){var o=this;return new Promise(function(r,i){if(o.userBased()){var t=new c("get groups");o.transaction(t.$bean).done(function(t,e,n){var i=[];a(t).find("group").each(function(t,e){var n=a(e);i.push({id:n.attr("id"),name:n.attr("name")})}),r(i)}).fail(function(t,e,n){i("Error retrieving groups list from ".concat(o.serviceUrl," [").concat(e," ").concat(n,"]"))})}else i("This system does not manage users!")})}},{key:"getUsers",value:function(e){var o=this;return new Promise(function(i,r){if(o.userBased()){var t=new c("get users");null!=e&&t.setParam("group",e),o.transaction(t.$bean).done(function(t,e,n){var r=[];a(t).find("user").each(function(t,e){var n=a(e),i={id:n.attr("id"),name:n.attr("name")};n.attr("pwd")&&(i.pwd=n.attr("pwd")),r.push(i)}),i(r)}).fail(function(t,e,n){r("Error retrieving users list from ".concat(o.serviceUrl," [").concat(e," ").concat(n,"]"))})}else r("This system does not manage users!")})}},{key:"getUserData",value:function(e){var s=this;return new Promise(function(o,i){if(s.userBased()){var t=new c("get user data");null!=e?t.setParam("user",e):i("Invalid user ID"),s.transaction(t.$bean).done(function(t,e,n){var i=a(t).find("user");if(1!==i.length)alert(s.ps.getMsg("Invalid user")),o("Invalid user ID");else{var r={id:i.attr("id"),name:i.attr("name")};i.attr("pwd")&&(r.pwd=i.attr("pwd")),o(r)}}).fail(function(t,e,n){i("Error retrieving user data from ".concat(s.serviceUrl," [").concat(e," ").concat(n,"]"))})}else i("This system does not manage users!")})}},{key:"stopReporting",value:function(){var t=this,e=null;return 0<=this.timer&&(window.clearInterval(this.timer),this.timer=-1),this.beforeUnloadFunction&&(window.removeEventListener("beforeunload",this.beforeUnloadFunction),this.beforeUnloadFunction=null),this.initiated&&(e=this.flushTasksPromise().then(function(){t.serviceUrl=null,t.descriptionDetail="".concat(t.serverPath," (").concat(t.ps.getMsg("not connected"),")"),t.initiated=!1})),e||Promise.resolve(!0)}},{key:"reportActivity",value:function(e){var n=this;if(this.lastActivity){this.lastActivity.closed||this.lastActivity.closeActivity();var i=this.actCount++,r=this.lastActivity;this.createDBSession(!1).then(function(){var t=new c("add activity");t.setParam("session",n.currentSessionId),t.setParam("num",i),t.appendData(r.$getXML()),n.addTask(t),e&&n.flushTasksPromise().then()})}null!==this.currentSession&&null!==this.currentSession.currentSequence&&this.currentSession.currentSequence.currentActivity!==this.lastActivity?this.lastActivity=this.currentSession.currentSequence.currentActivity:this.lastActivity=null}},{key:"newActivity",value:function(t){h(f(i.prototype),"newActivity",this).call(this,t),this.reportActivity(!1)}},{key:"endActivity",value:function(t,e,n){h(f(i.prototype),"endActivity",this).call(this,t,e,n),this.reportActivity(!0)}}]),i}();Object.assign(e.prototype,{descriptionKey:"Reporting to remote server",descriptionDetail:"(not connected)",serverPath:"",beforeUnloadFunction:null,currentSessionId:"",lastActivity:null,actCount:0,serviceUrl:null,dbProperties:null,tasks:null,waitingTasks:null,processingTasks:!1,forceFlush:!1,timer:-1,timerLap:5,failCount:0,maxFails:5,DEFAULT_SERVER_PATH:"localhost:9000",DEFAULT_SERVER_SERVICE:"/JClicReportService",DEFAULT_SERVER_PROTOCOL:document&&document.location&&"http:"===document.location.protocol?"http":"https",DEFAULT_TIMER_LAP:20});var c=function(){function n(t,e){s(this,n),this.$bean=a("<bean/>").attr({id:t}),e&&this.appendData(e)}return u(n,[{key:"appendData",value:function(t){t&&this.$bean.append(t)}},{key:"setParam",value:function(t,e){null!=e&&this.appendData(a("<param/>").attr({name:t,value:e}))}}]),n}();return Object.assign(c.prototype,{$bean:null}),e.ReportBean=c,t.CLASSES.TCPReporter=e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}i=[n(1),n(134)],void 0===(r=function(t,e){var n=function(){function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=a(this,u(i).call(this,t))).key="jclic_".concat((new Date).toISOString(),"#").concat(Math.ceil(1e3*Math.random())),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(i,e),function(t,e,n){e&&s(t.prototype,e),n&&s(t,n)}(i,[{key:"init",value:function(t){return null==t&&(t=this.ps.options),"local"===t.storage&&(this.storage=window.localStorage,this.descriptionKey="Reporting to local storage"),e.prototype.init.call(this,t)}},{key:"saveCurrentReport",value:function(){var t=this;window.setTimeout(function(){t.storage.setItem(t.key,JSON.stringify(t.getData()))},0)}},{key:"endSequence",value:function(){c(u(i.prototype),"endSequence",this).call(this),this.saveCurrentReport()}},{key:"endActivity",value:function(t,e,n){c(u(i.prototype),"endActivity",this).call(this,t,e,n),this.saveCurrentReport()}}]),i}();return Object.assign(n.prototype,{storage:window.sessionStorage,descriptionKey:"Reporting to session storage",descriptionDetail:"(browser session)",key:null}),e.CLASSES.SessionStorageReporter=n}.apply(e,i))||(t.exports=r)}]);
//# sourceMappingURL=jclic.min.js.map