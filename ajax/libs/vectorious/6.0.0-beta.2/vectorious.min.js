!function a(o,s,u){function c(e,t){if(!s[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(h)return h(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[e]={exports:{}};o[e][0].call(i.exports,function(t){return c(o[e][1][t]||t)},i,i.exports,a,o,s,u)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,r){},{}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.abs=function(t){return t.copy().abs()},n.NDArray.prototype.abs=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.abs(this.get(t)));return this}},{"./":38}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.acos=function(t){return t.copy().acos()},n.NDArray.prototype.acos=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.acos(this.get(t)));return this}},{"./":38}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.acosh=function(t){return t.copy().acosh()},n.NDArray.prototype.acosh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.acosh(this.get(t)));return this}},{"./":38}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,o=t("../util"),n=t("./");try{a=t("nblas")}catch(t){}n.NDArray.add=function(t,e,r){return void 0===r&&(r=1),t.copy().add(e,r)},n.NDArray.prototype.add=function(e,r){void 0===r&&(r=1),this.equilateral(e),this.equidimensional(e);var n=this.length;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=o.get_type(this.dtype).from(this.data)),"float64"===this.dtype?a.daxpy(n,r,e.data,1,this.data,1):"float32"===this.dtype&&a.sapxy(n,r,e.data,1,this.data,1)}catch(t){var i=void 0;for(i=0;i<n;i+=1)this.set(i,this.get(i)+r*e.get(i))}return this}},{"../util":86,"./":38,nblas:1}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.angle=function(t,e){return t.angle(e)},n.NDArray.prototype.angle=function(t){return Math.acos(this.dot(t)/this.norm()/t.norm())}},{"./":38}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.array=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new(this.bind.apply(this,[void 0].concat(t)))}},{"./":38}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.asin=function(t){return t.copy().asin()},n.NDArray.prototype.asin=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.asin(this.get(t)));return this}},{"./":38}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.asinh=function(t){return t.copy().asinh()},n.NDArray.prototype.asinh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.asinh(this.get(t)));return this}},{"./":38}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.atan=function(t){return t.copy().atan()},n.NDArray.prototype.atan=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.atan(this.get(t)));return this}},{"./":38}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.atanh=function(t){return t.copy().atanh()},n.NDArray.prototype.atanh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.atanh(this.get(t)));return this}},{"./":38}],12:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h=t("./");h.NDArray.augment=function(t,e){return t.copy().augment(e)},h.NDArray.prototype.augment=function(t){var e=this.shape,r=e[0],n=e[1],i=t.shape,a=i[0],o=i[1];if(0===a||0===o)return this;if(r!==a)throw new Error("rows do not match");var s,u,c=h.NDArray.zeros(r,n+o);for(s=0;s<r;s+=1)for(u=0;u<n;u+=1)c.set(s,u,this.get(s,u));for(s=0;s<a;s+=1)for(u=0;u<o;u+=1)c.set(s,u+n,t.get(s,u));return c}},{"./":38}],13:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.binOp=function(t,e,r){return t.copy().binOp(e,r)},n.NDArray.prototype.binOp=function(t,e){this.equilateral(t),this.equidimensional(t);var r,n=this.length;for(r=0;r<n;r+=1)this.set(r,e(this.get(r),t.get(r),r));return this}},{"./":38}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.cbrt=function(t){return t.copy().cbrt()},n.NDArray.prototype.cbrt=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.cbrt(this.get(t)));return this}},{"./":38}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.ceil=function(t){return t.copy().ceil()},n.NDArray.prototype.ceil=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.ceil(this.get(t)));return this}},{"./":38}],16:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.check=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.check.apply(t,e)},n.NDArray.prototype.check=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.shape,n=this.length;if(1===r.length){var i=r[0];if(i<0||n-1<i||!Number.isFinite(i))throw new Error("index out of bounds")}else if(!e.every(function(t,e){return t>r[e]&&Number.isFinite(r[e])&&0<=r[e]}))throw new Error("index out of bounds")}},{"./":38}],17:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("../util"),n=t("./");n.NDArray.combine=function(t,e){return t.copy().combine(e)},n.NDArray.prototype.combine=function(t){if(1!==this.shape.length&&1!==t.shape.length)throw new Error("combine operation not permitted for multidimensional arrays");var e=this.length,r=this.data,n=t.length,i=t.data;if(0===n)return this;if(0===e)return this.data=new(s.get_type(t.dtype))(i),this.length=n,this.dtype=t.dtype,this;var a=e+n,o=new(s.get_type(this.dtype))(a);return o.set(r),o.set(i,e),this.data=o,this.length=a,this.shape=[a],this}},{"../util":86,"./":38}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util"),i=t("./");i.NDArray.copy=function(t){return t.copy()},i.NDArray.prototype.copy=function(){var t=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return t.data=new(n.get_type(this.dtype))(this.data),t.shape=this.shape,t.length=this.length,t.dtype=this.dtype,t}},{"../util":86,"./":38}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.cos=function(t){return t.copy().cos()},n.NDArray.prototype.cos=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.cos(this.get(t)));return this}},{"./":38}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.cosh=function(t){return t.copy().cosh()},n.NDArray.prototype.cosh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.cosh(this.get(t)));return this}},{"./":38}],21:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.cross=function(t,e){return t.copy().cross(e)},n.NDArray.prototype.cross=function(t){var e=this.length,r=t.length;if(3!==e||3!==r)throw new Error("vectors must have three components");var n=this.y*t.z-this.z*t.y,i=this.z*t.x-this.x*t.z,a=this.x*t.y-this.y*t.x;return this.x=n,this.y=i,this.z=a,this}},{"./":38}],22:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.det=function(t){return t.det()},n.NDArray.prototype.det=function(){this.square();var t,e=this.shape[0],r=this.copy().lu_factor(),n=r[0],i=r[1],a=1,o=1;for(t=0;t<e;t+=1)t!==i[t]-1&&(o*=-1);for(t=0;t<e;t+=1)a*=n.get(t,t);return o*a}},{"./":38}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.diagonal=function(t){return t.copy().diagonal()},n.NDArray.prototype.diagonal=function(){this.square();var t=this.length,e=this.shape,r=e[0],n=e[1],i=Math.min(r,n);return this.reshape(t).slice(0,t,i+1)}},{"./":38}],24:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,o=t("../util"),n=t("./");try{a=t("nblas")}catch(t){}n.NDArray.dot=function(t,e){return t.dot(e)},n.NDArray.prototype.dot=function(e){this.equilateral(e),this.equidimensional(e);var r=this.length,n=0;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=o.get_type(this.dtype).from(this.data)),"float64"===this.dtype&&(n=a.ddot(r,e.data,1,this.data,1)),"float32"===this.dtype&&(n=a.sdot(r,e.data,1,this.data,1))}catch(t){var i=void 0;for(i=0;i<r;i+=1)n+=this.get(i)*e.get(i)}return n}},{"../util":86,"./":38,nblas:1}],25:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.each=function(t,e){return t.each(e)},n.NDArray.prototype.each=function(t){var e,r=this.data,n=this.length;for(e=0;e<n;e+=1)t.call(this,this.get(e),e,r);return this}},{"./":38}],26:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var _,A=t("../util"),N=t("./");try{_=t("nlapack")}catch(t){}var D=function(t,e,r,n,i,a,o){var s=t.get(n,i),u=1/(e+r);t.set(n,i,s-r*(t.get(a,o)+u*s)),t.set(a,o,t.get(a,o)+r*(s-u*t.get(a,o)))};N.NDArray.eig=function(t){return t.copy().eig()},N.NDArray.prototype.eig=function(){this.square();var e=this.shape[0];try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=A.get_type(this.dtype).from(this.data));var t=_.NoEigenvector,r=_.Eigenvector,n=N.NDArray.zeros(e),i=N.NDArray.zeros(e),a=N.NDArray.zeros(e,e),o=N.NDArray.zeros(e,e);return"float64"===this.dtype&&_.dgeev(t,r,e,this.data,e,n.data,i.data,a.data,e,o.data,e),"float32"===this.dtype&&_.sgeev(t,r,e,this.data,e,n.data,i.data,a.data,e,o.data,e),[n,o]}catch(t){var s=N.NDArray.eye(e),u=0,c=0,h=0,f=0,l=0;do{for(c=0;c<e;c+=1)for(h=c+1;h<e;h+=1)Math.abs(this.get(c,h))>=u&&(u=Math.abs(this.get(c,h)),f=c,l=h);var y=void 0;if(Math.abs(this.get(f,l))<1e-36*Math.abs(this.get(l,l)))y=this.get(f,l)/this.get(l,l);else{var p=this.get(l,l)/2*this.get(f,l);y=1/(Math.abs(p)+Math.sqrt(p*p+1))}var d=1/Math.sqrt(y*y+1),v=y*d,g=this.get(f,l);for(this.set(f,l,0),this.set(f,f,this.get(f,f)-y*g),this.set(l,l,this.get(l,l)+y*g),c=0;c<f;c+=1)D(this,d,v,c,f,c,l);for(c=f+1;c<l;c+=1)D(this,d,v,f,c,c,l);for(c=l+1;c<e;c+=1)D(this,d,v,f,c,l,c);for(c=0;c<e;c+=1)D(s,d,v,c,f,c,l)}while(1e-9<=u);return[this.diagonal(),s]}}},{"../util":86,"./":38,nlapack:1}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.equals=function(t,e){return t.equals(e)},n.NDArray.prototype.equals=function(t){this.equilateral(t),this.equidimensional(t);var e,r=this.length;for(e=0;e<r;e+=1)if(this.get(e)!==t.get(e))return!1;return!0}},{"./":38}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.equidimensional=function(t,e){t.equidimensional(e)},n.NDArray.prototype.equidimensional=function(t){var e=this.shape,r=t.shape;if(!e.every(function(t,e){return t===r[e]}))throw new Error("shapes "+e+" and "+r+" do not match")}},{"./":38}],29:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.equilateral=function(t,e){t.equilateral(e)},n.NDArray.prototype.equilateral=function(t){var e=this.length,r=t.length;if(e!==r)throw new Error("lengths "+e+" and "+r+" do not match")}},{"./":38}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.exp=function(t){return t.copy().exp()},n.NDArray.prototype.exp=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.exp(this.get(t)));return this}},{"./":38}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.expm1=function(t){return t.copy().expm1()},n.NDArray.prototype.expm1=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.expm1(this.get(t)));return this}},{"./":38}],32:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.eye=function(t){var e,r,n=new this(new Float32Array(t*t),{shape:[t,t]});for(e=0;e<t;e+=1)for(r=0;r<t;r+=1)n.set(e,r,e===r?1:0);return n}},{"./":38}],33:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.fill=function(t,e){return void 0===e&&(e=0),t.copy().fill(e)},n.NDArray.prototype.fill=function(t){void 0===t&&(t=0);var e,r=this.length;for(e=0;e<r;e+=1)this.set(e,t instanceof Function?t(e):t);return this}},{"./":38}],34:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.floor=function(t){return t.copy().floor()},n.NDArray.prototype.floor=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.floor(this.get(t)));return this}},{"./":38}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.fround=function(t){return t.copy().fround()},n.NDArray.prototype.fround=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.fround(this.get(t)));return this}},{"./":38}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.gauss=function(t){return t.copy().gauss()},n.NDArray.prototype.gauss=function(){var t,e,r,n,i,a=this.shape,o=a[0],s=a[1],u=0;for(r=0;r<o;r+=1){if(s<=u)return this;for(n=r;0===this.get(n,u);)if(o===(n+=1)&&(n=r,s===(u+=1)))return this;if(r!==n&&this.swap(r,n),0!==(e=this.get(r,u)))for(i=0;i<s;i+=1)this.set(r,i,this.get(r,i)/e);for(n=0;n<o;n+=1)if(t=this.get(n,u),n!==r)for(i=0;i<s;i+=1)this.set(n,i,this.get(n,i)-this.get(r,i)*t);u+=1}for(r=0;r<o;r+=1){for(n=e=0;n<s;n+=1)0===e&&(e=this.get(r,n));if(0===e)for(i=0;i<s;i+=1)this.set(r,i,this.get(r,i)/e)}return this}},{"./":38}],37:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.get=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.get.apply(t,e)},n.NDArray.prototype.get=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.check.apply(this,t);var r,n=this.shape,i=t[t.length-1];for(r=0;r<t.length-1;r+=1)i+=t[r]*n[r+1];return this.data[i]}},{"./":38}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util"),i=function(){function r(t,e){if(this.data=new Float32Array(0),this.dtype="float32",this.length=0,this.shape=[0],n.is_typed_array(t))this.data=t,this.shape="object"==typeof e&&e.hasOwnProperty("shape")?e.shape:[this.data.length],this.length=this.data.length,this.dtype="object"==typeof e&&e.hasOwnProperty("dtype")?e.dtype:n.get_dtype(t);else if(t instanceof Array)this.data=new(n.get_type(this.dtype))(n.flatten(t)),this.shape=n.get_shape(t),this.length=this.data.length;else if(t instanceof r)return t.copy()}return Object.defineProperty(r.prototype,"x",{get:function(){return this.get(0)},set:function(t){this.set(0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.get(1)},set:function(t){this.set(1,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"z",{get:function(){return this.get(2)},set:function(t){this.set(2,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"w",{get:function(){return this.get(3)},set:function(t){this.set(3,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"T",{get:function(){return this.transpose()},enumerable:!0,configurable:!0}),r}();r.NDArray=i,t("./abs"),t("./acos"),t("./acosh"),t("./add"),t("./angle"),t("./array"),t("./asin"),t("./asinh"),t("./atan"),t("./atanh"),t("./augment"),t("./binOp"),t("./cbrt"),t("./ceil"),t("./check"),t("./combine"),t("./copy"),t("./cos"),t("./cosh"),t("./cross"),t("./det"),t("./diagonal"),t("./dot"),t("./each"),t("./eig"),t("./equals"),t("./equidimensional"),t("./equilateral"),t("./exp"),t("./expm1"),t("./eye"),t("./fill"),t("./floor"),t("./fround"),t("./gauss"),t("./get"),t("./inv"),t("./log"),t("./log10"),t("./log1p"),t("./log2"),t("./lu"),t("./lu_factor"),t("./magic"),t("./map"),t("./matrix"),t("./max"),t("./min"),t("./multiply"),t("./norm"),t("./normalize"),t("./ones"),t("./pow"),t("./product"),t("./project"),t("./push"),t("./random"),t("./range"),t("./rank"),t("./reduce"),t("./reshape"),t("./round"),t("./row_add"),t("./scale"),t("./set"),t("./sign"),t("./sin"),t("./sinh"),t("./slice"),t("./solve"),t("./sqrt"),t("./square"),t("./subtract"),t("./swap"),t("./tan"),t("./tanh"),t("./toArray"),t("./toString"),t("./trace"),t("./transpose"),t("./trunc"),t("./zeros");try{window.v=i}catch(t){}},{"../util":86,"./abs":2,"./acos":3,"./acosh":4,"./add":5,"./angle":6,"./array":7,"./asin":8,"./asinh":9,"./atan":10,"./atanh":11,"./augment":12,"./binOp":13,"./cbrt":14,"./ceil":15,"./check":16,"./combine":17,"./copy":18,"./cos":19,"./cosh":20,"./cross":21,"./det":22,"./diagonal":23,"./dot":24,"./each":25,"./eig":26,"./equals":27,"./equidimensional":28,"./equilateral":29,"./exp":30,"./expm1":31,"./eye":32,"./fill":33,"./floor":34,"./fround":35,"./gauss":36,"./get":37,"./inv":39,"./log":40,"./log10":41,"./log1p":42,"./log2":43,"./lu":44,"./lu_factor":45,"./magic":46,"./map":47,"./matrix":48,"./max":49,"./min":50,"./multiply":51,"./norm":52,"./normalize":53,"./ones":54,"./pow":55,"./product":56,"./project":57,"./push":58,"./random":59,"./range":60,"./rank":61,"./reduce":62,"./reshape":63,"./round":64,"./row_add":65,"./scale":66,"./set":67,"./sign":68,"./sin":69,"./sinh":70,"./slice":71,"./solve":72,"./sqrt":73,"./square":74,"./subtract":75,"./swap":76,"./tan":77,"./tanh":78,"./toArray":79,"./toString":80,"./trace":81,"./transpose":82,"./trunc":83,"./zeros":84}],39:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u,c=t("../util"),h=t("./");try{u=t("nlapack")}catch(t){}h.NDArray.inv=function(t){return t.inv()},h.NDArray.prototype.inv=function(){this.square();var e=this.shape[0];try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=c.get_type(this.dtype).from(this.data));var t=new Int32Array(e);return"float64"===this.dtype?(u.dgetrf(e,e,this.data,e,t),u.dgetri(e,this.data,e,t)):"float32"===this.dtype&&(u.sgetrf(e,e,this.data,e,t),u.sgetri(e,this.data,e,t)),this}catch(t){var r=h.NDArray.eye(e),n=h.NDArray.augment(this,r).gauss(),i=h.NDArray.zeros(e,e),a=h.NDArray.zeros(e,e),o=void 0,s=void 0;for(o=0;o<e;o+=1)for(s=0;s<e+e;s+=1)s<e?i.set(o,s,n.get(o,s)):a.set(o,s-e,n.get(o,s));if(!i.equals(r))throw new Error("matrix is not invertible");return a}}},{"../util":86,"./":38,nlapack:1}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.log=function(t){return t.copy().log()},n.NDArray.prototype.log=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.log(this.get(t)));return this}},{"./":38}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.log10=function(t){return t.copy().log10()},n.NDArray.prototype.log10=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.log10(this.get(t)));return this}},{"./":38}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.log1p=function(t){return t.copy().log1p()},n.NDArray.prototype.log1p=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.log1p(this.get(t)));return this}},{"./":38}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.log2=function(t){return t.copy().log2()},n.NDArray.prototype.log2=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.log2(this.get(t)));return this}},{"./":38}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.lu=function(t){return t.lu()},n.NDArray.prototype.lu=function(){var t,e,r=this.shape,n=r[0],i=r[1],a=this.copy().lu_factor(),o=a[0],s=a[1],u=o.copy(),c=o.copy();for(t=0;t<n;t+=1)for(e=t;e<i;e+=1)u.set(t,e,t===e?1:0);for(t=0;t<n;t+=1)for(e=0;e<t&&e<i;e+=1)c.set(t,e,0);return[u,c,s]}},{"./":38}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h,f=t("../util"),n=t("./");try{h=t("nlapack")}catch(t){}n.NDArray.lu_factor=function(t){return t.copy().lu_factor()},n.NDArray.prototype.lu_factor=function(){var e=this.shape[0],r=new Int32Array(e);try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=f.get_type(this.dtype).from(this.data)),"float64"===this.dtype?h.dgetrf(e,e,this.data,e,r):"float32"===this.dtype&&h.sgetrf(e,e,this.data,e,r)}catch(t){var n=void 0,i=void 0,a=void 0,o=void 0,s=void 0,u=void 0,c=void 0;for(c=0;c<e;c+=1){for(o=c,n=Math.abs(this.get(c,c)),u=c+1;u<e;u+=1)n<(i=Math.abs(this.get(u,c)))&&(n=i,o=u);for(r[c]=o+1,o!==c&&this.swap(c,o),a=this.get(c,c),s=c+1;s<e;s+=1)this.set(s,c,this.get(s,c)/a);for(s=c+1;s<e;s+=1){for(u=c+1;u<e-1;u+=2)this.set(s,u,this.get(s,u)-this.get(s,c)*this.get(c,u)),this.set(s,u+1,this.get(s,u+1)-this.get(s,c)*this.get(c,u+1));u===e-1&&this.set(s,u,this.get(s,u)-this.get(s,c)*this.get(c,u))}}}return[this,r]}},{"../util":86,"./":38,nlapack:1}],46:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./"),i=function(t,e,r){return(e+2*r+1)%t};n.NDArray.magic=function(t){if(t<0)throw new Error("invalid size");var e,r,n=new Float32Array(t*t);for(e=0;e<t;e+=1)for(r=0;r<t;r+=1)n[(t-e-1)*t+(t-r-1)]=i(t,t-r-1,e)*t+i(t,r,e)+1;return new this(n,{shape:[t,t]})}},{"./":38}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("./");a.NDArray.map=function(t,e){return t.map(e)},a.NDArray.prototype.map=function(t){var e,r=this.length,n=a.NDArray.copy(this),i=n.data;for(e=0;e<r;e+=1)i[e]=t.call(n,i[e],e,i);return n}},{"./":38}],48:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.matrix=function(t,e){return new this(new Float32Array(t*e),{shape:[t,e]})}},{"./":38}],49:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a,o=t("../util"),n=t("./");try{a=t("nblas")}catch(t){}n.NDArray.max=function(t){return t.max()},n.NDArray.prototype.max=function(){var e=this.length,r=Number.NEGATIVE_INFINITY;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=o.get_type(this.dtype).from(this.data)),"float64"===this.dtype&&(r=this.data[a.idamax(e,this.data,1)]),"float32"===this.dtype&&(r=this.data[a.isamax(e,this.data,1)])}catch(t){var n=void 0;for(n=0;n<e;n+=1){var i=this.get(n);r=r<i?i:r}}return r}},{"../util":86,"./":38,nblas:1}],50:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.min=function(t){return t.min()},n.NDArray.prototype.min=function(){var t,e=this.data,r=this.length,n=Number.POSITIVE_INFINITY;for(t=0;t<r;t+=1)n=n<e[t]?n:e[t];return n}},{"./":38}],51:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l,y=t("../util"),p=t("./");try{l=t("nblas")}catch(t){}p.NDArray.multiply=function(t,e){return t.multiply(e)},p.NDArray.prototype.multiply=function(e){var t=this.shape,r=t[0],n=t[1],i=e.shape,a=i[0],o=i[1];if(n!==a)throw new Error("sizes do not match");var s=p.NDArray.matrix(r,o);try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=y.get_type(this.dtype).from(this.data)),"float64"===this.dtype?l.dgemm(l.NoTrans,l.NoTrans,r,o,n,1,this.data,n,e.data,o,0,s.data,o):"float32"===this.dtype&&l.sgemm(l.NoTrans,l.NoTrans,r,o,n,1,this.data,n,e.data,o,0,s.data,o)}catch(t){var u=void 0,c=void 0,h=void 0,f=void 0;for(u=0;u<r;u+=1)for(c=0;c<o;c+=1){for(h=f=0;h<n;h+=1)f+=this.get(u,h)*e.get(h,c);s.set(u,c,f)}}return s}},{"../util":86,"./":38,nblas:1}],52:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,i=t("../util"),a=t("./");try{n=t("nblas")}catch(t){}a.NDArray.norm=function(t){return t.norm()},a.NDArray.prototype.norm=function(){var t=this.length,e=0;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=i.get_type(this.dtype).from(this.data)),"float64"===this.dtype&&(e=n.dnrm2(t,this.data,1)),"float32"===this.dtype&&(e=n.snrm2(t,this.data,1))}catch(t){e=Math.sqrt(this.dot(this))}return e}},{"../util":86,"./":38,nblas:1}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.normalize=function(t){return t.copy().normalize()},n.NDArray.prototype.normalize=function(){return this.scale(1/this.norm())}},{"./":38}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.ones=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new this(new Float32Array(t.reduce(function(t,e){return t*e},1)),{shape:t}).fill(1)}},{"./":38}],55:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.pow=function(t,e){return t.copy().pow(e)},n.NDArray.prototype.pow=function(t){var e,r=this.length;for(e=0;e<r;e+=1)this.set(e,Math.pow(this.get(e),t));return this}},{"./":38}],56:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.product=function(t,e){return t.copy().product(e)},n.NDArray.prototype.product=function(t){this.equilateral(t),this.equidimensional(t);var e,r=this.data,n=this.length,i=t.data;for(e=0;e<n;e+=1)r[e]*=i[e];return this}},{"./":38}],57:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.project=function(t,e){return t.copy().project(e)},n.NDArray.prototype.project=function(t){return t.scale(this.dot(t)/t.dot(t))}},{"./":38}],58:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("../util"),n=t("./");n.NDArray.push=function(t,e){return t.copy().push(e)},n.NDArray.prototype.push=function(t){if(1!==this.shape.length)throw new Error("push operation not permitted for multidimensional arrays");var e=this.data,r=this.length,n=r+1,i=new(a.get_type(this.dtype))(n);return i.set(e),i[r]=t,this.data=i,this.length=n,this.shape=[n],this}},{"../util":86,"./":38}],59:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.random=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new this(new Float32Array(t.reduce(function(t,e){return t*e},1)),{shape:t}).map(function(){return Math.random()})}},{"./":38}],60:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.range=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,n,i,a=Float32Array,o=!1;switch(t.length){case 2:i=t.pop(),n=1,r=t.pop();break;case 3:i=t.pop(),n=t.pop(),r=t.pop();break;default:throw new Error("invalid range")}if(i-r<0){var s=i;i=r,r=s,o=!0}if(i-r<n)throw new Error("invalid range");var u=new a(Math.ceil((i-r)/n)),c=r,h=0;if(o)for(;c<i;c+=n,h+=1)u[h]=i-c+r;else for(;c<i;c+=n,h+=1)u[h]=c;return new this(u)}},{"./":38}],61:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.rank=function(t){return t.rank()},n.NDArray.prototype.rank=function(){this.gauss();var t,e,r=this.shape,n=r[0],i=r[1],a=0;for(t=0;t<n;t+=1)for(e=t;e<i;e+=1)a<=t&&0!==this.get(t,e)&&(a+=1);return a}},{"./":38}],62:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.reduce=function(t,e,r){return t.reduce(e,r)},n.NDArray.prototype.reduce=function(t,e){var r=this.length;if(0===r&&void 0===e)throw new Error("Reduce of empty matrix with no initial value.");var n,i,a=this.data;for(n=void 0===e?(i=a[0],1):(i=e,0);n<r;n+=1)i=t.call(this,i,a[n],n,a);return i}},{"./":38}],63:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.reshape=function(t){for(var e,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return(e=t.copy()).reshape.apply(e,r)},n.NDArray.prototype.reshape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.length;if(t.reduce(function(t,e){return t*e},1)!==r)throw new Error("shape "+t+" does not match length "+r);return this.shape=t,this}},{"./":38}],64:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.round=function(t){return t.copy().round()},n.NDArray.prototype.round=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.round(this.get(t)));return this}},{"./":38}],65:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.row_add=function(t,e,r,n){return void 0===n&&(n=1),t.copy().row_add(e,r,n)},n.NDArray.prototype.row_add=function(t,e,r){void 0===r&&(r=1),this.check(t,0),this.check(e,0);var n,i=this.shape[1];for(n=0;n<i;n+=1)this.set(t,n,this.get(t,n)+this.get(e,n)*r);return this}},{"./":38}],66:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i,a=t("../util"),n=t("./");try{i=t("nblas")}catch(t){}n.NDArray.scale=function(t,e){return t.copy().scale(e)},n.NDArray.prototype.scale=function(e){var r=this.length;try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=a.get_type(this.dtype).from(this.data)),"float64"===this.dtype?i.dscal(r,e,this.data,1):"float32"===this.dtype&&i.sscal(r,e,this.data,1)}catch(t){var n=void 0;for(n=0;n<r;n+=1)this.set(n,this.get(n)*e)}return this}},{"../util":86,"./":38,nblas:1}],67:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.set=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.set.apply(t,e)},n.NDArray.prototype.set=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.slice(0,-1),n=t[t.length-1];this.check.apply(this,r);var i,a=this.shape,o=r[r.length-1];for(i=0;i<r.length-1;i+=1)o+=r[i]*a[i+1];this.data[o]=n}},{"./":38}],68:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.sign=function(t){return t.copy().sign()},n.NDArray.prototype.sign=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.sign(this.get(t)));return this}},{"./":38}],69:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.sin=function(t){return t.copy().sin()},n.NDArray.prototype.sin=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.sin(this.get(t)));return this}},{"./":38}],70:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.sinh=function(t){return t.copy().sinh()},n.NDArray.prototype.sinh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.sinh(this.get(t)));return this}},{"./":38}],71:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l=t("../util"),n=t("./");n.NDArray.slice=function(t,e,r,n){return t.copy().slice(e,r,n)},n.NDArray.prototype.slice=function(t,e,r){void 0===t&&(t=0),void 0===e&&(e=this.shape[0]),void 0===r&&(r=1);var n,i=this.data,a=this.shape,o=t<0?a.length+t:t,s=e<0?a.length+e:e,u=r,c=[Math.ceil((s-o)/u)].concat(a.slice(1)),h=c.reduce(function(t,e){return t*e},1),f=new(l.get_type(this.dtype))(h);for(n=0;n<h;n+=1)f[n]=i[o+n*u];return this.length=h,this.data=f,this.reshape.apply(this,c),this}},{"../util":86,"./":38}],72:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var h,f=t("../util"),n=t("./");try{h=t("nlapack")}catch(t){}n.NDArray.solve=function(t,e){return t.copy().solve(e)},n.NDArray.prototype.solve=function(e){var t=e.shape,r=t[0],n=t[1];try{["float32","float64"].includes(this.dtype)||(this.dtype="float32",this.data=f.get_type(this.dtype).from(this.data));var i=new Int32Array(r);"float64"===this.dtype?h.dgesv(r,n,this.data,r,i,e.data,n):"float32"===this.dtype&&h.sgesv(r,n,this.data,r,i,e.data,n)}catch(t){var a=this.lu_factor(),o=a[0],s=(i=a[1],void 0),u=void 0,c=void 0;for(s=0;s<i.length;s+=1)s!==i[s]-1&&e.swap(s,i[s]-1);for(c=0;c<n;c+=1){for(s=0;s<r;s+=1)for(u=0;u<s;u+=1)e.set(s,c,e.get(s,c)-o.get(s,u)*e.get(u,c));for(s=r-1;0<=s;s-=1){for(u=s+1;u<r;u+=1)e.set(s,c,e.get(s,c)-o.get(s,u)*e.get(u,c));e.set(s,c,e.get(s,c)/o.get(s,s))}}}return e}},{"../util":86,"./":38,nlapack:1}],73:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.sqrt=function(t){return t.copy().sqrt()},n.NDArray.prototype.sqrt=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.sqrt(this.get(t)));return this}},{"./":38}],74:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.square=function(t){t.square()},n.NDArray.prototype.square=function(){var t=this.shape.length,e=this.shape,r=e[0],n=e[1];if(2!==t||r!==n)throw new Error("matrix is not square")}},{"./":38}],75:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.subtract=function(t,e){return t.copy().subtract(e)},n.NDArray.prototype.subtract=function(t){return this.add(t,-1)}},{"./":38}],76:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.swap=function(t,e,r){return t.copy().swap(e,r)},n.NDArray.prototype.swap=function(t,e){this.check(t,0),this.check(e,0);var r=this.data,n=this.shape[1],i=r.slice(t*n,(t+1)*n);return r.copyWithin(t*n,e*n,(e+1)*n),r.set(i,e*n),this}},{"./":38}],77:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.tan=function(t){return t.copy().tan()},n.NDArray.prototype.tan=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.tan(this.get(t)));return this}},{"./":38}],78:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.tanh=function(t){return t.copy().tanh()},n.NDArray.prototype.tanh=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.tanh(this.get(t)));return this}},{"./":38}],79:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.toArray=function(t){return t.toArray()},n.NDArray.prototype.toArray=function(){return[].slice.call(this.data)}},{"./":38}],80:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.toString=function(t){return t.toString()},n.NDArray.prototype.toString=function(){var t=this.data,e=this.length,r=["["],n=0;for(n<e&&(r.push(""+t[n]),n+=1);n<e;)r.push(", "+t[n]),n+=1;return r.push("]"),r.join("")}},{"./":38}],81:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.trace=function(t){return t.trace()},n.NDArray.prototype.trace=function(){var t,e=this.shape,r=e[0],n=e[1],i=Math.min(r,n),a=0;for(t=0;t<i;t+=1)a+=this.get(t,t);return a}},{"./":38}],82:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.transpose=function(t){return t.copy().transpose()},n.NDArray.prototype.transpose=function(){var t,e,r=this.shape,n=r[0],i=r[1],a=this.copy().reshape(i,n);for(t=0;t<n;t+=1)for(e=0;e<i;e+=1)a.set(e,t,this.get(t,e));return a}},{"./":38}],83:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./");n.NDArray.trunc=function(t){return t.copy().trunc()},n.NDArray.prototype.trunc=function(){var t,e=this.length;for(t=0;t<e;t+=1)this.set(t,Math.trunc(this.get(t)));return this}},{"./":38}],84:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),t("./").NDArray.zeros=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new this(new Float32Array(t.reduce(function(t,e){return t*e},1)),{shape:t}).fill(0)}},{"./":38}],85:[function(t,e,r){"use strict";var n=t("./core");e.exports=n.NDArray},{"./core":38}],86:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.flatten=function(t){return t.reduce(function(t,e){return t.concat(Array.isArray(e)?r.flatten(e):e)},[])},r.get_shape=function(t){return Array.isArray(t)?[t.length].concat(r.get_shape(t[0])):[]},r.get_dtype=function(t){switch(t.constructor.name){case"Int8Array":return"int8";case"Uint8Array":return"uint8";case"Int16Array":return"int16";case"Uint16Array":return"uint16";case"Int32Array":return"int32";case"Uint32Array":return"uint32";case"Uint8ClampedArray":return"uint8c";case"Float64Array":return"float64";default:return"float32"}},r.get_type=function(t){switch(t){case"int8":return Int8Array;case"uint8":return Uint8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"uint8c":return Uint8ClampedArray;case"float64":return Float64Array;default:return Float32Array}},r.is_typed_array=function(t){return!!(t&&t.buffer instanceof ArrayBuffer&&t.BYTES_PER_ELEMENT)}},{}]},{},[85]);