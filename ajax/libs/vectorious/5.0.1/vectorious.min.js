!function a(i,s,u){function h(r,t){if(!s[r]){if(!i[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(f)return f(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var o=s[r]={exports:{}};i[r][0].call(o.exports,function(t){return h(i[r][1][t]||t)},o,o.exports,a,i,s,u)}return s[r].exports}for(var f="function"==typeof require&&require,t=0;t<u.length;t++)h(u[t]);return h}({1:[function(t,r,e){},{}],2:[function(t,r,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),t("./types");var y,p=t("./Vector");try{y=t("nblas")}catch(t){}var n=function(){function l(t,r){return this.type=Float64Array,this.data=new this.type(0),this.shape=[0,0],t&&t.buffer&&t.buffer instanceof ArrayBuffer?l.fromTypedArray(t,r&&r.shape):t instanceof Array?l.fromArray(t):t instanceof p.default?l.fromVector(t,r&&r.shape):t instanceof l?l.fromMatrix(t):"number"==typeof t&&"number"==typeof r?l.fromShape([t,r]):t&&!t.buffer&&t.shape?l.fromShape(t.shape):void 0}return l.fromTypedArray=function(t,r){if(t.length!==r[0]*r[1])throw new Error("Shape does not match typed array dimensions.");var e=Object.create(l.prototype);return e.shape=r,e.data=t,e.type=t.constructor,e},l.fromArray=function(t){var r,e,n=t.length,o=t[0].length,a=new Float64Array(n*o);for(r=0;r<n;++r)for(e=0;e<o;++e)a[r*o+e]=t[r][e];return l.fromTypedArray(a,[n,o])},l.fromMatrix=function(t){var r=Object.create(l.prototype);return r.shape=[t.shape[0],t.shape[1]],r.data=new t.type(t.data),r.type=t.type,r},l.fromVector=function(t,r){if(r&&t.length!==r[0]*r[1])throw new Error("Shape does not match vector dimensions.");var e=Object.create(l.prototype);return e.shape=r||[t.length,1],e.data=new t.type(t.data),e.type=t.type,e},l.fromShape=function(t){var r=t[0],e=t[1];return l.fromTypedArray(new Float64Array(r*e),t)},l.binOp=function(t,r,e){return new l(t).binOp(r,e)},l.prototype.binOp=function(t,r){var e,n=this.shape,o=n[0],a=n[1],i=o*a,s=this.data,u=t.data;if(o!==t.shape[0]||a!==t.shape[1])throw new Error("sizes do not match!");for(e=0;e<i;e++)s[e]=r(s[e],u[e],e);return this},l.add=function(t,r){return new l(t).add(r)},l.prototype.add=function(t){var r=this.shape,e=r[0],n=r[1],o=t.shape,a=o[0],i=o[1];if(e!==a||n!==i)throw new Error("sizes do not match!");return y&&y.axpy?(y.axpy(t.data,this.data),this):this.binOp(t,function(t,r){return t+r})},l.subtract=function(t,r){return new l(t).subtract(r)},l.prototype.subtract=function(t){var r=this.shape,e=r[0],n=r[1],o=t.shape,a=o[0],i=o[1];if(e!==a||n!==i)throw new Error("sizes do not match!");return y&&y.axpy?(y.axpy(t.data,this.data,-1),this):this.binOp(t,function(t,r){return t-r})},l.product=function(t,r){return new l(t).product(r)},l.prototype.product=function(t){return this.binOp(t,function(t,r){return t*r})},l.scale=function(t,r){return new l(t).scale(r)},l.prototype.scale=function(t){if(y&&y.scal)return y.scal(this.data,t),this;var r,e=this.shape,n=e[0]*e[1],o=this.data;for(r=0;r<n;r++)o[r]*=t;return this},l.fill=function(t,r,e,n){if(t<=0||r<=0)throw new Error("invalid size");e=e||0;var o,a,i=new(n=n||Float64Array)(t*r),s=0;for(o=0;o<t;o++)for(a=0;a<r;a++,s++)i[s]=e instanceof Function?e(o,a):e;return l.fromTypedArray(i,[t,r])},l.zeros=function(t,r,e){return l.fill(t,r,0,e)},l.ones=function(t,r,e){return l.fill(t,r,1,e)},l.random=function(t,r,e,n,o){return void 0===e&&(e=0),void 0===n&&(n=1),l.fill(t,r,function(){return e+Math.random()*(n-e)},o)},l.multiply=function(t,r){return t.multiply(r)},l.prototype.multiply=function(t){var r=this.shape,e=r[0],n=r[1],o=t.shape,a=o[0],i=o[1],s=this.data,u=t.data;if(n!==a)throw new Error("sizes do not match");var h,f,p,c,d=new this.type(e*i);if(y&&y.gemm)return y.gemm(s,u,d,e,i,n),l.fromTypedArray(d,[e,i]);for(h=0;h<e;h++)for(f=0;f<i;f++){for(p=c=0;p<n;p++)c+=s[h*n+p]*u[f+p*i];d[h*i+f]=c}return l.fromTypedArray(d,[e,i])},Object.defineProperty(l.prototype,"T",{get:function(){return this.transpose()},enumerable:!0,configurable:!0}),l.prototype.transpose=function(){var t,r,e=this.shape,n=e[0],o=e[1],a=new this.type(o*n);for(t=0;t<n;t++)for(r=0;r<o;r++)a[r*n+t]=this.data[t*o+r];return l.fromTypedArray(a,[o,n])},l.prototype.inverse=function(){var t=this.shape,r=t[0],e=t[1];if(r!==e)throw new Error("invalid dimensions");var n,o,a=l.identity(r),i=l.augment(this,a).gauss(),s=l.zeros(r,e),u=l.zeros(r,e),h=i.shape[1];for(n=0;n<r;n++)for(o=0;o<h;o++)o<e?s.set(n,o,i.get(n,o)):u.set(n,o-r,i.get(n,o));if(!s.equals(l.identity(r)))throw new Error("matrix is not invertible");return u},l.prototype.gauss=function(){var t,r,e,n,o,a=this.shape,i=a[0],s=a[1],u=new l(this),h=0;for(e=0;e<i;e++){if(s<=h)throw new Error("matrix is singular");for(n=e;0===u.data[n*s+h];)if(i===++n&&(n=e,s===++h))throw new Error("matrix is singular");if(u.swap(e,n),0!==(t=u.data[e*s+h]))for(o=0;o<s;o++)u.data[e*s+o]=u.data[e*s+o]/t;for(n=0;n<i;n++)if(r=u.data[n*s+h],n!==e)for(o=0;o<s;o++)u.data[n*s+o]=u.data[n*s+o]-u.data[e*s+o]*r;h++}for(e=0;e<i;e++){for(n=t=0;n<s;n++)t||(t=u.data[e*s+n]);if(t)for(o=0;o<s;o++)u.data[e*s+o]=u.data[e*s+o]/t}return u},l.prototype.lu=function(){var t,r,e=this.shape,n=e[0],o=e[1],a=l.plu(this),i=a[1],s=new l(a[0]),u=new l(a[0]);for(t=0;t<n;t++)for(r=t;r<o;r++)s.data[t*o+r]=t===r?1:0;for(t=0;t<n;t++)for(r=0;r<t&&r<o;r++)u.data[t*o+r]=0;return[s,u,i]},l.plu=function(t){return new l(t).plu()},l.prototype.plu=function(){var t,r,e,n,o,a,i,s=this.data,u=this.shape[0],h=new Int32Array(u);for(i=0;i<u;++i){for(n=i,t=Math.abs(s[i*u+i]),a=i+1;a<u;++a)t<(r=Math.abs(s[a*u+i]))&&(t=r,n=a);for((h[i]=n)!==i&&this.swap(i,n),e=s[i*u+i],o=i+1;o<u;++o)s[o*u+i]/=e;for(o=i+1;o<u;++o){for(a=i+1;a<u-1;++a)s[o*u+a]-=s[o*u+i]*s[i*u+a],s[o*u+ ++a]-=s[o*u+i]*s[i*u+a];a===u-1&&(s[o*u+a]-=s[o*u+i]*s[i*u+a])}}return[this,h]},l.prototype.lusolve=function(t,r){var e,n,o,a=this.data,i=t.shape,s=i[0],u=i[1],h=t.data;for(e=0;e<r.length;e++)e!==r[e]&&t.swap(e,r[e]);for(o=0;o<u;o++){for(e=0;e<s;e++)for(n=0;n<e;n++)h[e*u+o]-=a[e*s+n]*h[n*u+o];for(e=s-1;0<=e;e--){for(n=e+1;n<s;n++)h[e*u+o]-=a[e*s+n]*h[n*u+o];h[e*u+o]/=a[e*s+e]}}return t},l.prototype.solve=function(t){var r=l.plu(this),e=r[0],n=r[1];return e.lusolve(new l(t),n)},l.augment=function(t,r){return new l(t).augment(r)},l.prototype.augment=function(t){var r=this.shape,e=r[0],n=r[1],o=t.shape,a=o[0],i=o[1],s=this.data,u=t.data;if(0===a&&0===i)return this;if(e!==a)throw new Error("Rows do not match.");var h,f,p=n+i,c=new this.type(p*e);for(h=0;h<e;h++)for(f=0;f<n;f++)c[h*p+f]=s[h*n+f];for(h=0;h<a;h++)for(f=0;f<i;f++)c[h*p+f+n]=u[h*i+f];return this.shape=[e,p],this.data=c,this},l.identity=function(t,r){return l.fill(t,t,function(t,r){return t===r?1:0},r)},l.magic=function(t,r){if(t<0)throw new Error("invalid size");function e(t,r,e){return(r+2*e+1)%t}var n,o,a=new(r=r||Float64Array)(t*t);for(n=0;n<t;n++)for(o=0;o<t;o++)a[(t-n-1)*t+(t-o-1)]=e(t,t-o-1,n)*t+e(t,o,n)+1;return l.fromTypedArray(a,[t,t])},l.prototype.diag=function(){var t,r=this.shape,e=r[0],n=r[1],o=new this.type(Math.min(e,n));for(t=0;t<e&&t<n;t++)o[t]=this.data[t*n+t];return new p.default(o)},l.prototype.determinant=function(){var t=this.shape,r=t[0],e=t[1];if(r!==e)throw new Error("matrix is not square");var n,o=l.plu(this),a=o[0],i=o[1],s=1,u=1;for(n=0;n<r;n++)n!==i[n]&&(u*=-1);for(n=0;n<r;n++)s*=a.data[n*e+n];return u*s},l.prototype.trace=function(){var t,r=this.diag(),e=r.length,n=0;for(t=0;t<e;t++)n+=r.get(t);return n},l.equals=function(t,r){return t.equals(r)},l.prototype.equals=function(t){var r,e=this.shape,n=e[0],o=e[1],a=t.shape,i=a[0],s=a[1],u=n*o,h=this.data,f=t.data;if(n!==i||o!==s||this.type!==t.type)return!1;for(r=0;r<u;r++)if(h[r]!==f[r])return!1;return!0},l.prototype.check=function(t,r){var e=this.shape,n=e[0],o=e[1];if(isNaN(t)||isNaN(r))throw new Error("one of the indices is not a number");if(t<0||r<0||n-1<t||o-1<r)throw new Error("index out of bounds")},l.prototype.get=function(t,r){return this.check(t,r),this.data[t*this.shape[1]+r]},l.prototype.set=function(t,r,e){return this.check(t,r),this.data[t*this.shape[1]+r]=e,this},l.prototype.swap=function(t,r){var e=this.shape,n=e[0],o=e[1];if(t<0||r<0||n-1<t||n-1<r)throw new Error("index out of bounds");var a=this.data.slice(t*o,(t+1)*o);return this.data.copyWithin(t*o,r*o,(r+1)*o),this.data.set(a,r*o),this},l.prototype.map=function(t){var r,e=this.shape,n=e[0],o=e[1],a=n*o,i=new l(this),s=i.data;for(r=0;r<a;r++)s[r]=t.call(i,s[r],r/o|0,r%o,s);return i},l.prototype.each=function(t){var r,e=this.shape,n=e[0],o=e[1],a=n*o;for(r=0;r<a;r++)t.call(this,this.data[r],r/o|0,r%o);return this},l.prototype.reduce=function(t,r){var e=this.shape,n=e[0],o=e[1],a=n*o;if(0===a&&!r)throw new Error("Reduce of empty matrix with no initial value.");for(var i=0,s=r||this.data[i++];i<a;i++)s=t.call(this,s,this.data[i],i/o|0,i%o);return s},l.rank=function(t){return new l(t).rank()},l.prototype.rank=function(){var t,r,e,n,o,a,i=this.toArray().map(function(t){return new p.default(t)}),s=this.shape,u=s[0],h=s[1],f=0;for(o=0;o<u-1;o++){for(r=null,a=o;a<u;a++)if(i[o].get(o)){o!==a&&(t=i[o],i[o]=i[a],i[a]=t),r=i[o];break}if(r)for(a=o+1;a<u;a++)n=(e=i[a]).get(o)/r.get(o),i[a]=e.subtract(r.scale(n))}for(o=0;o<u;o++)for(a=0;a<h;a++)if(i[o].get(a)){f++;break}return f},l.prototype.toString=function(){var t,r=this.shape,e=r[0],n=r[1],o=[];for(t=0;t<e;t++)o.push("["+this.data.subarray(t*n,(t+1)*n).toString()+"]");return"["+o.join(", \n")+"]"},l.prototype.toArray=function(){var t,r=this.shape,e=r[0],n=r[1],o=[];for(t=0;t<e;t++)o.push(Array.prototype.slice.call(this.data.subarray(t*n,(t+1)*n)));return o},l}();e.default=n;try{window.Matrix=n}catch(t){}},{"./Vector":3,"./types":4,nblas:1}],3:[function(t,r,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),t("./types");try{i=t("nblas")}catch(t){}var n=function(){function p(t){this.type=Float64Array,this.data=new this.type(0),this.length=0,t instanceof p?this.combine(t):t&&t.shape?(this.data=new t.type(t.data),this.length=t.shape[0]*t.shape[1],this.type=t.type):t instanceof Array?(this.data=new this.type(t),this.length=t.length):t&&t.buffer&&t.buffer instanceof ArrayBuffer&&(this.data=t,this.length=t.length,this.type=t.constructor)}return p.binOp=function(t,r,e){return new p(t).binOp(r,e)},p.prototype.binOp=function(t,r){var e,n=this.length,o=t.length;if(n!==o)throw new Error("sizes do not match!");if(!n&&!o)return this;for(e=0;e<n;e++)this.data[e]=r(this.data[e],t.data[e],e);return this},p.add=function(t,r){return new p(t).add(r)},p.prototype.add=function(t){if(this.length!==t.length)throw new Error("sizes do not match!");return i&&i.axpy?(i.axpy(t.data,this.data),this):this.binOp(t,function(t,r){return t+r})},p.subtract=function(t,r){return new p(t).subtract(r)},p.prototype.subtract=function(t){if(this.length!==t.length)throw new Error("sizes do not match!");return i&&i.axpy?(i.axpy(t.data,this.data,-1),this):this.binOp(t,function(t,r){return t-r})},p.scale=function(t,r){return new p(t).scale(r)},p.prototype.scale=function(n){return i&&i.scal?(i.scal(this.data,n),this):this.each(function(t,r,e){e[r]*=n})},p.normalize=function(t){return new p(t).normalize()},p.prototype.normalize=function(){return this.scale(1/this.magnitude())},p.project=function(t,r){return t.project(new p(r))},p.prototype.project=function(t){return t.scale(this.dot(t)/t.dot(t))},p.fill=function(t,r,e){if(t<0)throw new Error("invalid size");if(0===t)return new p;null==r&&(r=0),null==e&&(e=Float64Array);var n,o=new e(t);if("function"==typeof r)for(n=0;n<t;n++)o[n]=r(n);else for(n=0;n<t;n++)o[n]=r;return new p(o)},p.zeros=function(t,r){return p.fill(t,0,r)},p.ones=function(t,r){return p.fill(t,1,r)},p.random=function(t,r,e,n){return void 0===r&&(r=0),void 0===e&&(e=1),p.fill(t,function(){return r+Math.random()*(e-r)},n)},p.range=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var e,n,o,a=Float64Array,i=!1;switch("function"==typeof t[t.length-1]&&(a=t.pop()),t.length){case 2:o=t.pop(),n=1,e=t.pop();break;case 3:o=t.pop(),n=t.pop(),e=t.pop();break;default:throw new Error("invalid range")}if(o-e<0){var s=o;o=e,e=s,i=!0}if(o-e<n)throw new Error("invalid range");var u=new a(Math.ceil((o-e)/n)),h=e,f=0;if(i)for(;h<o;h+=n,f++)u[f]=o-h+e;else for(;h<o;h+=n,f++)u[f]=h;return new p(u)},p.dot=function(t,r){return t.dot(r)},p.prototype.dot=function(t){var r=this.length;if(r!==t.length)throw new Error("sizes do not match");if(i&&i.dot)return i.dot(this.data,t.data);var e,n=this.data,o=t.data,a=0;for(e=0;e<r;e++)a+=n[e]*o[e];return a},p.prototype.magnitude=function(){var t=this.length;if(!t)return 0;if(i&&i.nrm2)return i.nrm2(this.data);var r,e=this.data,n=0;for(r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)},p.angle=function(t,r){return t.angle(r)},p.prototype.angle=function(t){return Math.acos(this.dot(t)/this.magnitude()/t.magnitude())},p.equals=function(t,r){return t.equals(r)},p.prototype.equals=function(t){var r=this.length;if(r!==t.length)return!1;for(var e=0;e<r&&this.data[e]===t.data[e];)e++;return e===r},p.prototype.min=function(){return this.reduce(function(t,r){return t<r?t:r},Number.POSITIVE_INFINITY)},p.prototype.max=function(){return i&&i.iamax?this.data[i.iamax(this.data)]:this.reduce(function(t,r){return t<r?r:t},Number.NEGATIVE_INFINITY)},p.prototype.check=function(t){if(!isFinite(t)||t<0||t>this.length-1)throw new Error("index out of bounds")},p.prototype.get=function(t){return this.check(t),this.data[t]},p.prototype.set=function(t,r){return this.check(t),this.data[t]=r,this},Object.defineProperty(p.prototype,"x",{get:function(){return this.get(0)},set:function(t){this.set(0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"y",{get:function(){return this.get(1)},set:function(t){this.set(1,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"z",{get:function(){return this.get(2)},set:function(t){this.set(2,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"w",{get:function(){return this.get(3)},set:function(t){this.set(3,t)},enumerable:!0,configurable:!0}),p.combine=function(t,r){return new p(t).combine(r)},p.prototype.combine=function(t){var r=this.length,e=t.length;if(!e)return this;if(!r)return this.data=new t.type(t.data),this.length=e,this.type=t.type,this;var n=this.data,o=t.data,a=new this.type(r+e);return a.set(n),a.set(o,r),this.data=a,this.length=r+e,this},p.prototype.push=function(t){return this.combine(new p([t]))},p.prototype.map=function(t){var r,e=this.length,n=new p(this),o=n.data;for(r=0;r<e;r++)o[r]=t.call(n,o[r],r,o);return n},p.prototype.each=function(t){var r;for(r=0;r<this.length;r++)t.call(this,this.data[r],r,this.data);return this},p.prototype.reduce=function(t,r){var e=this.length;if(!e&&!r)throw new Error("Reduce of empty matrix with no initial value.");for(var n=0,o=null!=r?r:this.data[n++];n<e;n++)o=t.call(this,o,this.data[n],n,this.data);return o},p.prototype.toString=function(){var t=this.length,r=["["],e=0;for(e<t&&r.push(String(this.data[e++]));e<t;)r.push(", "+this.data[e++]);return r.push("]"),r.join("")},p.prototype.toArray=function(){return this.data?[].slice.call(this.data):[]},p}();e.default=n;try{window.Vector=n}catch(t){}},{"./types":4,nblas:1}],4:[function(t,r,e){},{}]},{},[3,2]);