!function(Y){Y.extend(!0,window,{Slick:{Data:{DataView:function(i){var r,o,a,l,s,u=this,g="id",c=[],f=[],h={},d=null,p=null,m=null,v=!1,_=!0,w={},$={},y=[],C=[],I={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},R=[],x=[],S=[],M=":|:",F=0,E=0,b=0,A=new Slick.Event,N=new Slick.Event,T=new Slick.Event,G=new Slick.Event;function O(t){for(var e,n=t=t||0,r=c.length;n<r;n++){if(void 0===(e=c[n][g]))throw new Error("Each data element must implement a unique 'id' property");h[e]=n}}function k(){var t=F?Math.max(1,Math.ceil(b/F)):1;return{pageSize:F,pageNum:E,totalRows:b,totalPages:t,dataView:u}}function t(t,e){o=t,r=null,!1===(_=e)&&c.reverse(),c.sort(t),!1===e&&c.reverse(),h={},O(),X()}function e(t,e){_=e,r=t,o=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&c.reverse(),c.sort(),Object.prototype.toString=n,!1===e&&c.reverse(),h={},O(),X()}function D(t){i.groupItemMetadataProvider||(i.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),x=[],S=[],R=(t=t||[])instanceof Array?t:[t];for(var e=0;e<R.length;e++){var n=R[e]=Y.extend(!0,{},I,R[e]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var r=n.aggregators.length;r--;)n.compiledAccumulators[r]=H(n.aggregators[r]);S[e]={}}X()}function j(){if(!d){d={};for(var t=0,e=f.length;t<e;t++)d[f[t][g]]=t}}function P(t){return c[h[t]]}function z(t,e){if(void 0===h[t])throw new Error("Invalid id");if(t!==e[g]){var n=e[g];if(null==n)throw new Error("Cannot update item to associate with a null id");if(void 0!==h[n])throw new Error("Cannot update item to associate with a non-unique id");h[n]=h[t],delete h[t],m&&m[t]&&delete m[t],t=n}c[h[t]]=e,(m=m||{})[t]=!0,X()}function n(t,e){c.splice(t,0,e),O(t),X()}function B(t){var e=h[t];if(void 0===e)throw new Error("Invalid id");delete h[t],c.splice(e,1),O(e),X()}function V(t){if(!o)throw new Error("sortedAddItem() requires a sort comparer, use sort()");n(function(t){var e=0,n=c.length;for(;e<n;){var r=e+n>>>1;-1===o(c[r],t)?e=1+r:n=r}return e}(t),t)}function q(t,e){if(null==t)for(var n=0;n<R.length;n++)S[n]={},R[n].collapsed=e;else S[t]={},R[t].collapsed=e;X()}function K(t,e,n){S[t][e]=R[t].collapsed^n,X()}function U(t){var e,n=t.group,r=R[n.level],i=n.level==R.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||U(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function L(t){var e=t.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:e[1].split(","),body:e[2]}}function H(t){var e=L(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function Q(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)p(t[i],e)&&(n[r++]=t[i]);return n}function W(t,e,n){for(var r,i=[],o=0,a=0,l=t.length;a<l;a++)r=t[a],n[a]?i[o++]=r:p(r,e)&&(i[o++]=r,n[a]=!0);return i}function J(t){d=null,w.isFilterNarrowing==$.isFilterNarrowing&&w.isFilterExpanding==$.isFilterExpanding||(C=[]);var e=function(t){if(p){var e=i.inlineFilters?l:Q,n=i.inlineFilters?s:W;w.isFilterNarrowing?y=e(y,a):w.isFilterExpanding?y=n(t,a,C):w.isFilterUnchanged||(y=e(t,a))}else y=F?t:t.concat();var r;return r=F?(y.length<=E*F&&(E=0===y.length?0:Math.floor((y.length-1)/F)),y.slice(F*E,F*E+F)):y,{totalRows:y.length,rows:r}}(t);b=e.totalRows;var n=e.rows;x=[],R.length&&(x=function t(e,n){for(var r,i,o,a=[],l={},s=n?n.level+1:0,u=R[s],g=0,c=u.predefinedValues.length;g<c;g++)(r=l[i=u.predefinedValues[g]])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+M:"")+i,a[a.length]=r,l[i]=r);for(g=0,c=e.length;g<c;g++)o=e[g],(r=l[i=u.getterIsAFn?u.getter(o):o[u.getter]])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+M:"")+i,a[a.length]=r,l[i]=r),r.rows[r.count++]=o;if(s<R.length-1)for(g=0;g<a.length;g++)(r=a[g]).groups=t(r.rows,r);return a.sort(R[s].comparer),a}(n)).length&&(function t(e,n){for(var r,i,o,a,l=R[n=n||0],s=l.collapsed,u=S[n],g=e.length;g--;)(r=e[g]).collapsed&&!l.aggregateCollapsed||(r.groups&&t(r.groups,n+1),l.aggregators.length&&(l.aggregateEmpty||r.rows.length||r.groups&&r.groups.length)&&(a=void 0,o=R[(i=r).level],((a=new Slick.GroupTotals).group=i).totals=a,o.lazyTotalsCalculation||U(a)),r.collapsed=s^u[r.groupingKey],r.title=l.formatter?l.formatter(r):r.value)}(x),n=function t(e,n){for(var r,i,o=R[n=n||0],a=[],l=0,s=0,u=e.length;s<u;s++){if(i=e[s],!(a[l++]=i).collapsed)for(var g=0,c=(r=i.groups?t(i.groups,n+1):i.rows).length;g<c;g++)a[l++]=r[g];i.totals&&o.displayTotalsRow&&(!i.collapsed||o.aggregateCollapsed)&&(a[l++]=i.totals)}return a}(x));var r=function(t,e){var n,r,i,o=[],a=0,l=e.length;w&&w.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,w.ignoreDiffsBefore))),w&&w.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,w.ignoreDiffsAfter)));for(var s=a,u=t.length;s<l;s++)u<=s?o[o.length]=s:(n=e[s],r=t[s],(R.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[g]!=r[g]||m&&m[n[g]])&&(o[o.length]=s));return o}(f,n);return f=n,r}function X(){if(!v){var t=f.length,e=b,n=J(c);F&&b<E*F&&(E=Math.max(0,Math.ceil(b/F)-1),n=J(c)),m=null,$=w,w={},e!==b&&G.notify(k(),null,u),t!==f.length&&A.notify({previous:t,current:f.length,dataView:u,callingOnRowsChanged:0<n.length},null,u),0<n.length&&N.notify({rows:n,dataView:u,calledOnRowCountChanged:t!==f.length},null,u),(t!==f.length||0<n.length)&&T.notify({rowsDiff:n,previousRowCount:t,currentRowCount:f.length,rowCountChanged:t!==f.length,rowsChanged:0<n.length,dataView:u},null,u)}}i=Y.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},i),Y.extend(this,{beginUpdate:function(){v=!0},endUpdate:function(){v=!1,X()},setPagingOptions:function(t){null!=t.pageSize&&(F=t.pageSize,E=F?Math.min(E,Math.max(0,Math.ceil(b/F)-1)):0),null!=t.pageNum&&(E=Math.min(t.pageNum,Math.max(0,Math.ceil(b/F)-1))),G.notify(k(),null,u),X()},getPagingInfo:k,getItems:function(){return c},setItems:function(t,e){void 0!==e&&(g=e),c=y=t,h={},O(),function(){for(var t,e=0,n=c.length;e<n;e++)if(void 0===(t=c[e][g])||h[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}(),X()},setFilter:function(t){p=t,i.inlineFilters&&(l=function(){var t=L(p),e="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",i);return o.displayName=o.name="compiledFilter",o}(),s=function(){var t=L(p),e="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",i);return o.displayName=o.name="compiledFilterWithCaching",o}()),X()},getFilter:function(){return p},getFilteredItems:function(){return y},sort:t,fastSort:e,reSort:function(){o?t(o,_):r&&e(r,_)},setGrouping:D,getGrouping:function(){return R},groupBy:function(t,e,n){D(null!=t?{getter:t,formatter:e,comparer:n}:[])},setAggregators:function(t,e){if(!R.length)throw new Error("At least one grouping must be specified before calling setAggregators().");R[0].aggregators=t,R[0].aggregateCollapsed=e,D(R)},collapseAllGroups:function(t){q(t,!0)},expandAllGroups:function(t){q(t,!1)},collapseGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(M)?K(n.split(M).length-1,n,!0):K(e.length-1,e.join(M),!0)},expandGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(M)?K(n.split(M).length-1,n,!1):K(e.length-1,e.join(M),!1)},getGroups:function(){return x},getIdxById:function(t){return h[t]},getRowByItem:function(t){return j(),d[t[g]]},getRowById:function(t){return j(),d[t]},getItemById:P,getItemByIdx:function(t){return c[t]},mapItemsToRows:function(t){var e=[];j();for(var n=0,r=t.length;n<r;n++){var i=d[t[n][g]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<f.length&&(e[e.length]=f[t[n]][g]);return e},mapIdsToRows:function(t){var e=[];j();for(var n=0,r=t.length;n<r;n++){var i=d[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){w=t},setFilterArgs:function(t){a=t},refresh:X,updateItem:z,insertItem:n,addItem:function(t){c.push(t),O(c.length-1),X()},deleteItem:B,sortedAddItem:V,sortedUpdateItem:function(t,e){if(void 0===h[t]||t!==e[g])throw new Error("Invalid or non-matching id "+h[t]);if(!o)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=P(t);0!==o(n,e)?(B(t),V(e)):z(t,e)},syncGridSelection:function(r,e,i){var o,a=this,l=a.mapRowsToIds(r.getSelectedRows()),n=new Slick.Event;function s(t){l.join(",")!=t.join(",")&&(l=t,n.notify({grid:r,ids:l,dataView:a},new Slick.EventData,a))}return r.onSelectedRowsChanged.subscribe(function(t,e){if(!o){var n=a.mapRowsToIds(r.getSelectedRows());if(i&&r.getOptions().multiSelect)s(Y.grep(l,function(t){return void 0===a.getRowById(t)}).concat(n));else s(n)}}),this.onRowsOrCountChanged.subscribe(function(){if(0<l.length){o=!0;var t=a.mapIdsToRows(l);e||s(a.mapRowsToIds(t)),r.setSelectedRows(t),o=!1}}),n},syncGridCellCssStyles:function(r,i){var o,a;function n(t){for(var e in o={},t){var n=f[e][g];o[n]=t[e]}}function l(){if(o){a=!0,j();var t={};for(var e in o){var n=d[e];null!=n&&(t[n]=o[e])}r.setCellCssStyles(i,t),a=!1}}n(r.getCellCssStyles(i)),r.onCellCssStylesChanged.subscribe(function(t,e){a||i==e.key&&(e.hash?n(e.hash):(r.onCellCssStylesChanged.unsubscribe(styleChanged),u.onRowsOrCountChanged.unsubscribe(l)))}),this.onRowsOrCountChanged.subscribe(l)},getLength:function(){return f.length},getItem:function(t){var e=f[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=R[e.level];n.displayTotalsRow||(U(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&U(e);return e},getItemMetadata:function(t){var e=f[t];return void 0===e?null:e.__group?i.groupItemMetadataProvider.getGroupRowMetadata(e):e.__groupTotals?i.groupItemMetadataProvider.getTotalsRowMetadata(e):null},onRowCountChanged:A,onRowsChanged:N,onRowsOrCountChanged:T,onPagingInfoChanged:G})},Aggregators:{Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}}}}})}(jQuery);