!function(et){et.extend(!0,window,{Slick:{Data:{DataView:function(i){var r,o,a,l,s,u=this,g="id",c=[],f=[],h={},p=null,d=null,m=null,v=!1,_=!0,w={},$={},y=[],I=[],C={getter:null,formatter:null,comparer:function(t,e){return t.value===e.value?0:t.value>e.value?1:-1},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},R=[],x=[],S=[],b=":|:",M=0,F=0,A=0,N=new Slick.Event,E=new Slick.Event,T=new Slick.Event;function G(t){for(var e,n=t=t||0,r=c.length;n<r;n++){if(void 0===(e=c[n][g]))throw new Error("Each data element must implement a unique 'id' property");h[e]=n}}function n(){for(var t,e=0,n=c.length;e<n;e++)if(void 0===(t=c[e][g])||h[t]!==e)throw new Error("Each data element must implement a unique 'id' property")}function k(){var t=M?Math.max(1,Math.ceil(A/M)):1;return{pageSize:M,pageNum:F,totalRows:A,totalPages:t,dataView:u}}function t(t,e){o=t,r=null,!1===(_=e)&&c.reverse(),c.sort(t),!1===e&&c.reverse(),h={},G(),tt()}function e(t,e){_=e,r=t,o=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},!1===e&&c.reverse(),c.sort(),Object.prototype.toString=n,!1===e&&c.reverse(),h={},G(),tt()}function j(t){i.groupItemMetadataProvider||(i.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),x=[],S=[],R=(t=t||[])instanceof Array?t:[t];for(var e=0;e<R.length;e++){var n=R[e]=et.extend(!0,{},C,R[e]);n.getterIsAFn="function"==typeof n.getter,n.compiledAccumulators=[];for(var r=n.aggregators.length;r--;)n.compiledAccumulators[r]=Q(n.aggregators[r]);S[e]={}}tt()}function D(){if(!p){p={};for(var t=0,e=f.length;t<e;t++)p[f[t][g]]=t}}function P(t){return c[h[t]]}function z(t,e){if(void 0===h[t]||t!==e[g])throw new Error("Invalid or non-matching id");c[h[t]]=e,m||(m={}),m[t]=!0,tt()}function B(t,e){c.splice(t,0,e),G(t),tt()}function V(t){var e=h[t];if(void 0===e)throw new Error("Invalid id");delete h[t],c.splice(e,1),G(e),tt()}function O(t){if(!o)throw new Error("sortedAddItem() requires a sort comparer, use sort()");B(function(t){var e=0,n=c.length;for(;e<n;){var r=e+n>>>1;-1===o(c[r],t)?e=r+1:n=r}return e}(t),t)}function q(t,e){if(null==t)for(var n=0;n<R.length;n++)S[n]={},R[n].collapsed=e;else S[t]={},R[t].collapsed=e;tt()}function K(t,e,n){S[t][e]=R[t].collapsed^n,tt()}function U(t){var e,n=t.group,r=R[n.level],i=n.level==R.length,o=r.aggregators.length;if(!i&&r.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].totals.initialized||U(n.groups[a].totals);for(;o--;)(e=r.aggregators[o]).init(),!i&&r.aggregateChildGroups?r.compiledAccumulators[o].call(e,n.groups):r.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function L(t){var e=R[t.level],n=new Slick.GroupTotals;(n.group=t).totals=n,e.lazyTotalsCalculation||U(n)}function H(t){var e=t.toString().match(/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/);return{params:e[1].split(","),body:e[2]}}function Q(t){var e=H(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function W(){var t=H(d),e="{ continue _coreloop; }$1",n="{ _retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args",i);return o.displayName=o.name="compiledFilter",o}function J(){var t=H(d),e="{ continue _coreloop; }$1",n="{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1",r=t.body.replace(/return false\s*([;}]|\}|$)/gi,e).replace(/return!1([;}]|\}|$)/gi,e).replace(/return true\s*([;}]|\}|$)/gi,n).replace(/return!0([;}]|\}|$)/gi,n).replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),i=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");i=(i=(i=i.replace(/\$filter\$/gi,r)).replace(/\$item\$/gi,t.params[0])).replace(/\$args\$/gi,t.params[1]);var o=new Function("_items,_args,_cache",i);return o.displayName=o.name="compiledFilterWithCaching",o}function X(t,e){for(var n=[],r=0,i=0,o=t.length;i<o;i++)d(t[i],e)&&(n[r++]=t[i]);return n}function Y(t,e,n){for(var r,i=[],o=0,a=0,l=t.length;a<l;a++)r=t[a],n[a]?i[o++]=r:d(r,e)&&(i[o++]=r,n[a]=!0);return i}function Z(t){p=null,w.isFilterNarrowing==$.isFilterNarrowing&&w.isFilterExpanding==$.isFilterExpanding||(I=[]);var e=function(t){if(d){var e=i.inlineFilters?l:X,n=i.inlineFilters?s:Y;w.isFilterNarrowing?y=e(y,a):w.isFilterExpanding?y=n(t,a,I):w.isFilterUnchanged||(y=e(t,a))}else y=M?t:t.concat();var r;r=M?(y.length<=F*M&&(F=0===y.length?0:Math.floor((y.length-1)/M)),y.slice(M*F,M*F+M)):y;return{totalRows:y.length,rows:r}}(t);A=e.totalRows;var n=e.rows;x=[],R.length&&(x=function t(e,n){var r;var i;var o=[];var a={};var l;var s=n?n.level+1:0;var u=R[s];for(var g=0,c=u.predefinedValues.length;g<c;g++)i=u.predefinedValues[g],(r=a[i])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+b:"")+i,o[o.length]=r,a[i]=r);for(var g=0,c=e.length;g<c;g++)l=e[g],i=u.getterIsAFn?u.getter(l):l[u.getter],(r=a[i])||((r=new Slick.Group).value=i,r.level=s,r.groupingKey=(n?n.groupingKey+b:"")+i,o[o.length]=r,a[i]=r),r.rows[r.count++]=l;if(s<R.length-1)for(var g=0;g<o.length;g++)(r=o[g]).groups=t(r.rows,r);o.sort(R[s].comparer);return o}(n)).length&&(!function t(e,n){n=n||0;var r=R[n];var i=r.collapsed;var o=S[n];var a,l=e.length;for(;l--;)(a=e[l]).collapsed&&!r.aggregateCollapsed||(a.groups&&t(a.groups,n+1),r.aggregators.length&&(r.aggregateEmpty||a.rows.length||a.groups&&a.groups.length)&&L(a),a.collapsed=i^o[a.groupingKey],a.title=r.formatter?r.formatter(a):a.value)}(x),n=function t(e,n){n=n||0;var r=R[n];var i,o,a=[],l=0;for(var s=0,u=e.length;s<u;s++){if(o=e[s],!(a[l++]=o).collapsed){i=o.groups?t(o.groups,n+1):o.rows;for(var g=0,c=i.length;g<c;g++)a[l++]=i[g]}o.totals&&r.displayTotalsRow&&(!o.collapsed||r.aggregateCollapsed)&&(a[l++]=o.totals)}return a}(x));var r=function(t,e){var n,r,i,o=[],a=0,l=e.length;w&&w.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,w.ignoreDiffsBefore)));w&&w.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,w.ignoreDiffsAfter)));for(var s=a,u=t.length;s<l;s++)u<=s?o[o.length]=s:(n=e[s],r=t[s],(R.length&&(i=n.__nonDataRow||r.__nonDataRow)&&n.__group!==r.__group||n.__group&&!n.equals(r)||i&&(n.__groupTotals||r.__groupTotals)||n[g]!=r[g]||m&&m[n[g]])&&(o[o.length]=s));return o}(f,n);return f=n,r}function tt(){if(!v){var t=f.length,e=A,n=Z(c);M&&A<F*M&&(F=Math.max(0,Math.ceil(A/M)-1),n=Z(c)),m=null,$=w,w={},e!==A&&T.notify(k(),null,u),t!==f.length&&N.notify({previous:t,current:f.length,dataView:u},null,u),0<n.length&&E.notify({rows:n,dataView:u},null,u)}}i=et.extend(!0,{},{groupItemMetadataProvider:null,inlineFilters:!1},i),et.extend(this,{beginUpdate:function(){v=!0},endUpdate:function(){v=!1,tt()},setPagingOptions:function(t){null!=t.pageSize&&(M=t.pageSize,F=M?Math.min(F,Math.max(0,Math.ceil(A/M)-1)):0);null!=t.pageNum&&(F=Math.min(t.pageNum,Math.max(0,Math.ceil(A/M)-1)));T.notify(k(),null,u),tt()},getPagingInfo:k,getItems:function(){return c},setItems:function(t,e){void 0!==e&&(g=e);c=y=t,h={},G(),n(),tt()},setFilter:function(t){d=t,i.inlineFilters&&(l=W(),s=J());tt()},getFilter:function(){return d},getFilteredItems:function(){return y},sort:t,fastSort:e,reSort:function(){o?t(o,_):r&&e(r,_)},setGrouping:j,getGrouping:function(){return R},groupBy:function(t,e,n){if(null==t)return void j([]);j({getter:t,formatter:e,comparer:n})},setAggregators:function(t,e){if(!R.length)throw new Error("At least one grouping must be specified before calling setAggregators().");R[0].aggregators=t,R[0].aggregateCollapsed=e,j(R)},collapseAllGroups:function(t){q(t,!0)},expandAllGroups:function(t){q(t,!1)},collapseGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(b)?K(n.split(b).length-1,n,!0):K(e.length-1,e.join(b),!0)},expandGroup:function(t){var e=Array.prototype.slice.call(arguments),n=e[0];1==e.length&&-1!=n.indexOf(b)?K(n.split(b).length-1,n,!1):K(e.length-1,e.join(b),!1)},getGroups:function(){return x},getIdxById:function(t){return h[t]},getRowByItem:function(t){return D(),p[t[g]]},getRowById:function(t){return D(),p[t]},getItemById:P,getItemByIdx:function(t){return c[t]},mapItemsToRows:function(t){var e=[];D();for(var n=0,r=t.length;n<r;n++){var i=p[t[n][g]];null!=i&&(e[e.length]=i)}return e},mapRowsToIds:function(t){for(var e=[],n=0,r=t.length;n<r;n++)t[n]<f.length&&(e[e.length]=f[t[n]][g]);return e},mapIdsToRows:function(t){var e=[];D();for(var n=0,r=t.length;n<r;n++){var i=p[t[n]];null!=i&&(e[e.length]=i)}return e},setRefreshHints:function(t){w=t},setFilterArgs:function(t){a=t},refresh:tt,updateItem:z,insertItem:B,addItem:function(t){c.push(t),G(c.length-1),tt()},deleteItem:V,sortedAddItem:O,sortedUpdateItem:function(t,e){if(void 0===h[t]||t!==e[g])throw new Error("Invalid or non-matching id "+h[t]);if(!o)throw new Error("sortedUpdateItem() requires a sort comparer, use sort()");var n=P(t);0!==o(n,e)?(V(t),O(e)):z(t,e)},syncGridSelection:function(r,e,i){var o,a=this,l=a.mapRowsToIds(r.getSelectedRows()),n=new Slick.Event;function s(t){l.join(",")!=t.join(",")&&(l=t,n.notify({grid:r,ids:l,dataView:a},new Slick.EventData,a))}function t(){if(0<l.length){o=!0;var t=a.mapIdsToRows(l);e||s(a.mapRowsToIds(t)),r.setSelectedRows(t),o=!1}}return r.onSelectedRowsChanged.subscribe(function(t,e){if(!o){var n=a.mapRowsToIds(r.getSelectedRows());i&&r.getOptions().multiSelect?s(et.grep(l,function(t){return void 0===a.getRowById(t)}).concat(n)):s(n)}}),this.onRowsChanged.subscribe(t),this.onRowCountChanged.subscribe(t),n},syncGridCellCssStyles:function(r,i){var o,a;function n(t){for(var e in o={},t){var n=f[e][g];o[n]=t[e]}}function l(){if(o){a=!0,D();var t={};for(var e in o){var n=p[e];null!=n&&(t[n]=o[e])}r.setCellCssStyles(i,t),a=!1}}n(r.getCellCssStyles(i)),r.onCellCssStylesChanged.subscribe(function(t,e){a||i==e.key&&(e.hash?n(e.hash):(r.onCellCssStylesChanged.unsubscribe(styleChanged),u.onRowsChanged.unsubscribe(l),u.onRowCountChanged.unsubscribe(l)))}),this.onRowsChanged.subscribe(l),this.onRowCountChanged.subscribe(l)},getLength:function(){return f.length},getItem:function(t){var e=f[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=R[e.level];n.displayTotalsRow||(U(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&U(e);return e},getItemMetadata:function(t){var e=f[t];if(void 0===e)return null;if(e.__group)return i.groupItemMetadataProvider.getGroupRowMetadata(e);if(e.__groupTotals)return i.groupItemMetadataProvider.getTotalsRowMetadata(e);return null},onRowCountChanged:N,onRowsChanged:E,onPagingInfoChanged:T})},Aggregators:{Avg:function(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null==e||""===e||isNaN(e)||(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}},Min:function(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}},Max:function(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}},Sum:function(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null==e||""===e||isNaN(e)||(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}}}}})}(jQuery);