!function(v){v.extend(!0,window,{Slick:{CheckboxSelectColumn:function(e){var a,s=null,u=g(),o=new Slick.EventHandler,h={},f=!1,p=v.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,hideSelectAllCheckbox:!1,toolTip:"Select/Deselect All",width:30,hideInColumnTitleRow:!1,hideInFilterHeaderRow:!0},e);"function"==typeof p.selectableOverride&&R(p.selectableOverride);function l(){a.updateColumnHeader(p.columnId,"","")}function n(){v("#filter-checkbox-selectall-container").hide()}function t(e,t){var o,l,n=a.getSelectedRows(),c={},i=0;if("function"==typeof s)for(k=0;k<a.getDataLength();k++){w(l,a.getDataItem(k),a)||i++}var r=[];for(l=0;l<n.length;l++){o=n[l],w(l,a.getDataItem(o),a)?(c[o]=!0,c[o]!==h[o]&&(a.invalidateRow(o),delete h[o])):r.push(o)}for(l in h)a.invalidateRow(l);h=c,a.render(),f=n.length&&n.length+i>=a.getDataLength(),p.hideInColumnTitleRow||p.hideSelectAllCheckbox||C(f),p.hideInFilterHeaderRow||v("#header-filter-selector"+u).prop("checked",f);if(0<r.length){for(l=0;l<r.length;l++){var d=n.indexOf(r[l]);n.splice(d,1)}a.setSelectedRows(n)}}function c(e,t){32==e.which&&a.getColumns()[t.cell].id===p.columnId&&(a.getEditorLock().isActive()&&!a.getEditorLock().commitCurrentEdit()||r(t.row),e.preventDefault(),e.stopImmediatePropagation())}function i(e,t){if(a.getColumns()[t.cell].id===p.columnId&&v(e.target).is(":checkbox")){if(a.getEditorLock().isActive()&&!a.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();r(t.row),e.stopPropagation(),e.stopImmediatePropagation()}}function r(t){var e=a.getDataItem(t);w(t,e,a)&&(h[t]?a.setSelectedRows(v.grep(a.getSelectedRows(),function(e){return e!=t})):a.setSelectedRows(a.getSelectedRows().concat(t)),a.setActiveCell(t,function(){if(null===b){b=0;for(var e=a.getColumns(),t=0;t<e.length;t++)e[t].id==p.columnId&&(b=t)}return b}()))}function d(e,t){if(t.column.id==p.columnId&&v(e.target).is(":checkbox")){if(a.getEditorLock().isActive()&&!a.getEditorLock().commitCurrentEdit())return e.preventDefault(),void e.stopImmediatePropagation();if(v(e.target).is(":checked")){for(var o=[],l=0;l<a.getDataLength();l++){!1!==a.getDataItem(l).selectableRow&&o.push(l)}a.setSelectedRows(o)}else a.setSelectedRows([]);e.stopPropagation(),e.stopImmediatePropagation()}}var b=null;function g(){return Math.round(1e7*Math.random())}function m(e,t,o,l,n,c){var i=g()+e;return n&&w(e,n,c)?h[e]?"<input id='selector"+i+"' type='checkbox' checked='checked'><label for='selector"+i+"'></label>":"<input id='selector"+i+"' type='checkbox'><label for='selector"+i+"'></label>":null}function w(e,t,o){return"function"!=typeof s||s(e,t,o)}function C(e){e?a.updateColumnHeader(p.columnId,"<input id='header-selector"+u+"' type='checkbox' checked='checked'><label for='header-selector"+u+"'></label>",p.toolTip):a.updateColumnHeader(p.columnId,"<input id='header-selector"+u+"' type='checkbox'><label for='header-selector"+u+"'></label>",p.toolTip)}function R(e){s=e}v.extend(this,{init:function(e){a=e,o.subscribe(a.onSelectedRowsChanged,t).subscribe(a.onClick,i).subscribe(a.onKeyDown,c),p.hideInFilterHeaderRow||function(e){e.onHeaderRowCellRendered.subscribe(function(e,t){"sel"===t.column.field&&(v(t.node).empty(),v("<span id='filter-checkbox-selectall-container'><input id='header-filter-selector"+u+"' type='checkbox'><label for='header-filter-selector"+u+"'></label></span>").appendTo(t.node).on("click",function(e){d(e,t)}))})}(e),p.hideInColumnTitleRow||o.subscribe(a.onHeaderClick,d)},destroy:function(){o.unsubscribeAll()},pluginName:"CheckboxSelectColumn",deSelectRows:function(e){var t,o=e.length,l=[];for(t=0;t<o;t++)h[e[t]]&&(l[l.length]=e[t]);a.setSelectedRows(v.grep(a.getSelectedRows(),function(e){return l.indexOf(e)<0}))},selectRows:function(e){var t,o=e.length,l=[];for(t=0;t<o;t++)h[e[t]]||(l[l.length]=e[t]);a.setSelectedRows(a.getSelectedRows().concat(l))},getColumnDefinition:function(){return{id:p.columnId,name:p.hideSelectAllCheckbox||p.hideInColumnTitleRow?"":"<input id='header-selector"+u+"' type='checkbox'><label for='header-selector"+u+"'></label>",toolTip:p.toolTip,field:"sel",width:p.width,resizable:!1,sortable:!1,cssClass:p.cssClass,hideSelectAllCheckbox:p.hideSelectAllCheckbox,formatter:m}},getOptions:function(){return p},selectableOverride:R,setOptions:function(e){if((p=v.extend(!0,{},p,e)).hideSelectAllCheckbox)l(),n();else if(p.hideInColumnTitleRow?l():(C(f),o.subscribe(a.onHeaderClick,d)),p.hideInFilterHeaderRow)n();else{var t=v("#filter-checkbox-selectall-container");t.show(),t.find('input[type="checkbox"]').prop("checked",f)}}})}}})}(jQuery);