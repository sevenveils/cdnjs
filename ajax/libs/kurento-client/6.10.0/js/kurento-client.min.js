require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
function findIndex(e,n){for(var t,r=0;t=e[r];r++)if(n(t))return r;return-1}function serializeParams(e){for(var n in e){var t=e[n];(t instanceof MediaObject||t&&(void 0!==e.object||void 0!==e.hub||void 0!==e.sink))&&t&&null!=t.id&&(e[n]=t.id)}return e}function serializeOperation(e,n){var t=e.params;switch(e.method){case"create":t.constructorParams=serializeParams(t.constructorParams);break;default:t=serializeParams(t),t.operationParams=serializeParams(t.operationParams)}e.jsonrpc="2.0",e.id=n}function deferred(e,n,t,r){var i=[];void 0!=e&&i.push(e);for(var o in n){var a=n[o];void 0!==a&&i.push(a)}return void 0!=t&&i.push(t),promiseCallback(Promise.all(i),r)}function noop(e,n){return e&&console.trace(e),n}function KurentoClient(e,n,t){function r(e){var n=e.method,t=e.params.value,r=t.object,i=O[r];if(!i)return console.warn("Unknown object id '"+r+"'",e);switch(n){case"onEvent":i.emit(t.type,t.data);break;default:console.warn("Unknown message type '"+n+"'")}}function i(e){T.emit("reconnected",e)}function o(){T.emit("disconnected")}function a(){T.emit("connected")}function s(e){var n=e.method,t=e.params,r=e.callback,i=(e.stack,Date.now());N.encode(n,t,function(e,n){if(e){var t=Date.now(),o=Error;switch(e.code){case MEDIA_OBJECT_TYPE_NOT_FOUND:o=TypeError;break;case MEDIA_OBJECT_NOT_FOUND:o=ReferenceError;break;case MEDIA_OBJECT_METHOD_NOT_FOUND:o=SyntaxError}e=extend(new o(e.message||e),e),Object.defineProperties(e,{requestTimestamp:{value:i},responseTimestamp:{value:t},stack:{value:[e.toString()].concat(e.stack.split("\n")[1],e.stack.split("\n").slice(2)).join("\n")}})}else T.sessionId!==n.sessionId&&"pong"!==n.value&&Object.defineProperty(T,"sessionId",{configurable:!0,value:n.sessionId});r(e,n)})}function c(e,n){var t=e.callback||noop,r=this.value[n];if(void 0==r)return t(new Error("Command not executed in the server"));var i,o=r.error,a=r.result;switch(a&&(i=a.value),e.method){case"create":var s=e.params.object;if(o)return s.emit("_id",o),t(o);t(null,h(s,i));break;default:t(o,a)}}function u(e){function n(n,t){if(n)return console.error("Implicit transaction failed");e.forEach(c,t)}e.forEach(serializeOperation),s({method:"transaction",params:{operations:e},callback:n})}function l(){var e=w.shift();if(w.length){for(;e&&"transaction"===e.method;)s(e),e=w.shift();for(var n=[];e;)"transaction"===e.method?(n.length&&(u(n),n=[]),s(e)):n.push(e),e=w.shift();n.length&&u(n)}else s(e)}function d(e,t,r){var i=(new Error).stack;t.sessionId=T.sessionId,T.then(function(){n.useImplicitTransactions&&!w.length&&async.setImmediate(l);var o={method:e,params:t,callback:r};Object.defineProperty(o,"stack",{value:i}),n.useImplicitTransactions?w.push(o):s(o)},r)}function f(e,n,t){function r(e,r){var i=n.object;if(i===r)return t(null,i);if(e)return i.emit("_id",e),t(e);var o=r.value;t(null,h(i,o))}return e?transactionOperation.call(e,"create",n,t):C.length?transactionOperation.call(C,"create",n,t):(t=t||noop,deferred(null,n.constructorParams,null,function(e){if(e)throw e;return n.constructorParams=serializeParams(n.constructorParams),d("create",n,r)}).catch(t))}function m(e,n,t,r){if(e)return transactionOperation.call(e,n,t,r);var i=t.object;if(i&&i.transactions&&i.transactions.length){var o=new TransactionNotCommitedException;return o.method=n,o.params=t,setTimeout(r,0,o)}for(var a in t.operationParams){var i=t.operationParams[a];if(i&&i.transactions&&i.transactions.length){var o=new TransactionNotCommitedException;return o.method=n,o.params=t,setTimeout(r,0,o)}}if(C.length)return transactionOperation.call(C,n,t,r);var s=new Promise(function(e,r){function i(n,t){if(n)return r(n);e(t)}E=deferred(t.object,t.operationParams,E,function(e){if(e)throw e;return t=serializeParams(t),t.operationParams=serializeParams(t.operationParams),d(n,t,i)}).catch(r)});P=promiseCallback(s,r),"release"==n&&(E=P)}function p(e,n){function t(e,n){if(n instanceof MediaObject&&void 0===n.id){var t=findIndex(i,function(t){return e!=t&&t.params.object===n});if(t>=0)return"newref:"+t;o.push(n)}return n}function r(e,t){if(e)return n(e);i.forEach(c,t),n(null,t)}if(C.length)return transactionOperation.call(C,"transaction",e,n);n=n||noop;var i=e.operations,o=[];i.forEach(function(e){var n=e.params;switch(e.method){case"create":var r=n.constructorParams;for(var i in r)r[i]=t(e,r[i]);break;default:n.object=t(e,n.object);var o=n.operationParams;for(var i in o)o[i]=t(e,o[i])}}),Promise.all(o).then(function(){i.forEach(serializeOperation),d("transaction",e,r)},n)}function v(e,n){if(C.length)return transactionOperation.call(C,"transaction",e,n);var t=e.operations;async.each(t,function(e){switch(e.method){case"create":f(void 0,e.params,e.callback);break;case"transaction":v(e.params.operations,e.callback);break;default:m(void 0,e.method,e.params,e.callback)}},n)}function h(e,n){var t=O[n];return t||(e.emit("_id",null,n),O[n]=e,e.once("release",function(){delete O[n]}),e)}function g(e,n){function t(t,r){if(t)return n(t);var i=j.createInmediate(r);return n(null,h(i,e))}if(void 0==e)return n(new TypeError("'id' can't be null or undefined"));var r=O[e];if(r)return n(null,r);d("describe",{object:e},t)}function b(t){function r(){enabledPings=!0,pingPongStarted||(pingPongStarted=!0,pingInterval=setInterval(c,HEARTBEAT),c())}function o(){notReconnectIfNumLessThan=pingNextNum,console.log("notReconnectIfNumLessThan = "+notReconnectIfNumLessThan)}function c(){if(enabledPings){var e=null;0!=pingNextNum&&pingNextNum!=notReconnectIfNumLessThan||(e={interval:PING_INTERVAL}),pingNextNum++;s({method:"ping",params:e,callback:function(e){return function(n,t){n&&e>notReconnectIfNumLessThan&&(enabledPings=!1,o(),console.log("Server did not respond to ping message "+e+"."),clearInterval(pingInterval),pingPongStarted=!1)}}(pingNextNum)})}else console.log("Trying to send ping, but ping is not enabled")}t=(t||noop).bind(this);var u=!1,l=!1,d=reconnect({failAfter:I},function(e){if(u&&(e.writable=!1),N.transport=e,r(),l){s({method:"connect",params:{sessionId:T.sessionId},callback:function(e,n){e?e.code===INVALID_SESSION&&(console.log("Invalid Session"),O={},i(!1)):i(!0)}})}else a()}).connect(e);Object.defineProperty(this,"_re",{get:function(){return d}}),this.close=function(){u=!0,P.then(d.disconnect.bind(d))},d.on("fail",this.emit.bind(this,"disconnect")),d.on("reconnect",function(e,n){console.log("reconnect to server",e,n,T.sessionId),void 0!=pingInterval&&(clearInterval(pingInterval),pingPongStarted=!1),l=!0}),this.then=function(e,n){if(d.connected)var t=Promise.resolve(disguise.unthenable(this));else if(d.reconnect)var r=this,t=new Promise(function(e,n){function t(){d.removeListener("fail",i),e(disguise.unthenable(r))}function i(){d.removeListener("connection",t),n(new Error("Connection error"))}d.once("connection",t),d.once("fail",i)});else var t=Promise.reject(new Error("Connection error"));return t=t.then(e?e.bind(this):function(e){return Promise.resolve(e)},n?n.bind(this):function(e){return Promise.reject(e)}),disguise(t,this)},this.catch=this.then.bind(this,null);var f=this;n.strict&&(f=this.getServerManager().then(function(e){return e.getInfo()}).then(function(e){var n=e.modules.map(function(e){return e.name}),t=KurentoClient.register.modules.filter(function(e){return n.indexOf(e)<0}),r=t.length;if(r){if(1===r)var i="Module '"+t[0]+"' is not installed in the Kurento Media Server";else var i="Modules '"+t.slice(0,-1).join("', '")+"' and '"+t[r-1]+"' are not installed in the Kurento Media Server";var o=new SyntaxError(i);return o.modules=t,Promise.reject(o)}return Promise.resolve(T)})),promiseCallback(f,t)}if(!(this instanceof KurentoClient))return new KurentoClient(e,n,t);var T=this;EventEmitter.call(this);var E=Promise.resolve(),P=Promise.resolve();n instanceof Function&&(t=n,n=void 0),n=n||{};var I=n.failAfter;void 0==I&&(I=1/0),void 0===n.enableTransactions&&(n.enableTransactions=!0),void 0===n.strict&&(n.strict=!0),n.request_timeout=n.request_timeout||BASE_TIMEOUT,n.response_timeout=n.response_timeout||BASE_TIMEOUT,n.duplicates_timeout=n.duplicates_timeout||BASE_TIMEOUT;var O={};if("string"==typeof e){var _=n.access_token;void 0!=_&&(e=url.parse(e,!0),e.query.access_token=_,e=url.format(e),delete n.access_token)}var N=new RpcBuilder(JsonRPC,n,function(e){if(e instanceof RpcBuilder.RpcNotification)return void 0!=e.duplicated?console.warning("Unexpected request:",e):r(e);console.error("Invalid request instance",e)}),k=n.enableTransactions?p:v,C=new TransactionsManager(this,function(e,n){k({object:T,operations:e},n)});this.beginTransaction=C.beginTransaction.bind(C),this.endTransaction=C.endTransaction.bind(C),this.transaction=C.transaction.bind(C),Object.defineProperty(this,"sessionId",{configurable:!0}),this.on("disconnect",function(){o(),Object.defineProperty(this,"sessionId",{configurable:!1,get:function(){throw new SyntaxError("Client has been disconnected")}});for(var e in O)O[e].emit("release")});var w=[];this.getMediaobjectById=function(e,n){return disguise(createPromise(e,g,n),this)};var j=new MediaObjectCreator(this,f,m,k,this.getMediaobjectById.bind(this),n.strict);Object.defineProperty(this,"_resetCache",{value:function(){O={}}}),this.create=j.create.bind(j),b.call(T,t)}var EventEmitter=require("events").EventEmitter,url=require("url"),async=require("async"),extend=require("extend"),inherits=require("inherits"),reconnect=require("reconnect-ws"),checkType=require("./checkType"),RpcBuilder=require("kurento-jsonrpc"),JsonRPC=RpcBuilder.packers.JsonRPC,promiseCallback=require("promisecallback"),disguise=require("./disguise"),createPromise=require("./createPromise"),MediaObjectCreator=require("./MediaObjectCreator"),TransactionsManager=require("./TransactionsManager"),TransactionNotCommitedException=TransactionsManager.TransactionNotCommitedException,transactionOperation=TransactionsManager.transactionOperation,MediaObject=require("kurento-client-core").abstracts.MediaObject;const MEDIA_OBJECT_TYPE_NOT_FOUND=40100,MEDIA_OBJECT_NOT_FOUND=40101,MEDIA_OBJECT_METHOD_NOT_FOUND=40105,INVALID_SESSION=40007,BASE_TIMEOUT=2e4;var PING_INTERVAL=5e3,HEARTBEAT=6e4,pingNextNum=0,enabledPings=!0,pingPongStarted=!1,pingInterval,notReconnectIfNumLessThan=-1;inherits(KurentoClient,EventEmitter),KurentoClient.prototype.connect=function(e,n){if(e instanceof Array||(e=Array.prototype.slice.call(arguments,0),n="function"==typeof e[e.length-1]?e.pop():void 0),n=(n||noop).bind(this),e.length<2)throw new SyntaxError("Need at least two media elements to connect");return e[0].connect(e.slice(1),n)},KurentoClient.prototype.getServerManager=function(e){return this.getMediaobjectById("manager_ServerManager",e)};var singletons={};KurentoClient.getSingleton=function(e,n,t){var r=singletons[e];return r||(n instanceof Function&&(t=n,n=void 0),r=KurentoClient(e,n,function(n,r){if(n)return t(n);singletons[e]=r,r.on("disconnect",function(){delete singletons[e]})})),disguise(promiseCallback(r,t),r)},KurentoClient.getComplexType=function(e){return KurentoClient.register.complexTypes[e]},module.exports=KurentoClient;
},{"./MediaObjectCreator":2,"./TransactionsManager":3,"./checkType":5,"./createPromise":6,"./disguise":7,"async":"async","events":108,"extend":110,"inherits":"inherits","kurento-client-core":"kurento-client-core","kurento-jsonrpc":220,"promisecallback":"promisecallback","reconnect-ws":280,"url":301}],2:[function(require,module,exports){
function getConstructor(e,r){var t=register.classes[e.qualifiedType]||register.abstracts[e.qualifiedType]||register.classes[e.type]||register.abstracts[e.type]||register.classes[e]||register.abstracts[e];if(t)return t;if(void 0!=e.hierarchy)for(var a=0;a<=e.hierarchy.length-1;a++){var t=register.classes[e.hierarchy[a]]||register.abstracts[e.hierarchy[a]];if(t)return t}if(r){var n=new SyntaxError("Unknown type '"+e+"'");throw n.type=e,n}return console.warn("Unknown type '",e,"', using MediaObject instead"),register.abstracts.MediaObject}function createConstructor(e,r){var t=getConstructor(e,r);if(t.create){e=t.create(e.params);var a=t.prototype;inherits(t,getConstructor(e,r)),extend(t.prototype,a)}return t.item=e,t}function MediaObjectCreator(e,r,t,a,n,i){function c(e){var c=new e(i);return c.on("_describe",n),c.on("_rpc",t),(c instanceof register.abstracts["kurento.Hub"]||c instanceof register.classes["kurento.MediaPipeline"])&&c.on("_create",r),c instanceof register.classes["kurento.MediaPipeline"]&&c.on("_transaction",a),c}function s(t,a){var n=t.transaction;delete t.transaction;var s=createConstructor(t,i);t=s.item,delete s.item;var o=t.params||{};delete t.params,void 0==o.mediaPipeline&&e instanceof register.classes.MediaPipeline&&(o.mediaPipeline=e);var u=extend({},o);t.constructorParams=checkParams(u,s.constructorParams,t.type),Object.keys(u)&&(t.properties=u),Object.keys(t.constructorParams).length||delete t.constructorParams;try{var d=c(s)}catch(e){return a(e)}return Object.defineProperty(t,"object",{value:d}),r(n,t,a),d}if(!(this instanceof MediaObjectCreator))return new MediaObjectCreator(e,r,t,a,n);this.create=function(r,t,a){function n(r,n){return r?a(r):!0===t&&e.connect?e.connect(n.filter(function(e){try{return checkMediaElement(e),!0}catch(e){}}),function(e){if(e)return a(e);a(null,n)}):void a(null,n)}var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(arguments.length){case 1:t=void 0;case 2:a=void 0}if(t instanceof Function){if(a)throw new SyntaxError("Nothing can be defined after the callback");a=t,t=void 0}if(r instanceof Array){var c=!1;return r.forEach(function(e){"number"==typeof(e.params||{}).mediaPipeline&&(c=!0)}),c?e.transaction(function(){var e=[];async.map(r,function(r,t){var a=r.params||{};"number"==typeof a.mediaPipeline&&(a.mediaPipeline=e[a.mediaPipeline]),e.push(s(r,t))},n)}):createPromise(r,s,n)}return r={params:t,transaction:i,type:r},s(r,a)},this.createInmediate=function(e){var r=createConstructor(e,i);return delete r.item,c(r)}}var async=require("async"),checkType=require("./checkType"),checkParams=checkType.checkParams,extend=require("extend"),createPromise=require("./createPromise"),register=require("./register"),Transaction=require("./TransactionsManager").Transaction,checkMediaElement=checkType.bind(null,"MediaElement","media");module.exports=MediaObjectCreator;
},{"./TransactionsManager":3,"./checkType":5,"./createPromise":6,"./register":8,"async":"async","extend":110}],3:[function(require,module,exports){
function onerror(t){this._transactionError=t}function TransactionNotExecutedException(t){TransactionNotExecutedException.super_.call(this,t)}function TransactionNotCommitedException(t){TransactionNotCommitedException.super_.call(this,t)}function TransactionRollbackException(t){TransactionRollbackException.super_.call(this,t)}function Transaction(t){Transaction.super_.call(this);var n=[];Object.defineProperty(this,"length",{get:function(){return n.length}}),this.push=n.push.bind(n),Object.defineProperty(this,"commited",{configurable:!0,value:!1}),this.commit=function(i){this.exit&&this.exit(),this.removeListener("error",onerror);var e;if(this._transactionError)e=Promise.reject(this._transactionError);else{n.forEach(function(t){var n=t.params.object;n&&n.transactions&&(n.transactions.shift(),n.transactions||delete n.transactions)});var r=this;e=new Promise(function(i,e){function a(t,n){if(Object.defineProperty(r,"commited",{value:void 0==t}),t)return e(t);i(n)}t(n,a)})}return e=promiseCallback(e,i),this.catch=e.catch.bind(e),this.then=e.then.bind(e),delete this.push,delete this.commit,delete this.endTransaction,this},this.rollback=function(t){Object.defineProperty(this,"commited",{value:!1});var i=new TransactionRollbackException("Transaction rollback by user");return n.forEach(function(t){"create"==t.method&&t.params.object.emit("_id",i);var n=t.callback;n instanceof Function&&n(i)}),t instanceof Function&&t(i),this},this.once("error",onerror),this.enter&&this.enter()}function TransactionsManager(t,n){var i=[];Object.defineProperty(this,"length",{get:function(){return i.length}}),this.beginTransaction=function(){return new Transaction(n)},this.endTransaction=function(t){},this.transaction=function(n,e){var r=this.beginTransaction();return i.unshift(r),r.run(n.bind(t)),i.shift().commit(e)},this.push=function(t){i[0].push(t)}}function transactionOperation(t,n,i){var e={method:t,params:n,callback:i},r=n.object;r&&(r.transactions?r.transactions.unshift(this):Object.defineProperty(r,"transactions",{configurable:!0,value:[this]})),this.push(e)}var inherits=require("inherits"),Domain=require("domain").Domain||function(){function t(){}return inherits(t,require("events").EventEmitter),t.prototype.run=function(t){try{t()}catch(t){this.emit("error",t)}return this},t}(),promiseCallback=require("promisecallback");inherits(TransactionNotExecutedException,Error),inherits(TransactionNotCommitedException,TransactionNotExecutedException),inherits(TransactionRollbackException,TransactionNotExecutedException),inherits(Transaction,Domain),module.exports=TransactionsManager,TransactionsManager.Transaction=Transaction,TransactionsManager.transactionOperation=transactionOperation,TransactionsManager.TransactionNotExecutedException=TransactionNotExecutedException,TransactionsManager.TransactionNotCommitedException=TransactionNotCommitedException,TransactionsManager.TransactionRollbackException=TransactionRollbackException;
},{"domain":90,"events":108,"inherits":"inherits","promisecallback":"promisecallback"}],4:[function(require,module,exports){
"undefined"==typeof kurentoClient&&(window.kurentoClient=require("."));
},{".":"kurento-client"}],5:[function(require,module,exports){
function ChecktypeError(e,r,c){return SyntaxError(e+" param should be a "+(r.name||r)+", not "+c.constructor.name)}function checkArray(e,r,c){if(!(c instanceof Array))throw ChecktypeError(r,"Array of "+e,c);c.forEach(function(c,t){checkType(e,r+"["+t+"]",c)})}function checkBoolean(e,r){if("boolean"!=typeof r)throw ChecktypeError(e,Boolean,r)}function checkNumber(e,r){if("number"!=typeof r)throw ChecktypeError(e,Number,r)}function checkInteger(e,r){if(!Number.isInteger(r))throw ChecktypeError(e,"Integer",r)}function checkObject(e,r){if("object"!=typeof r)throw ChecktypeError(e,Object,r)}function checkString(e,r){if("string"!=typeof r)throw ChecktypeError(e,String,r)}function checkType(e,r,c,t){if(t=t||{},void 0!=c){if(t.isArray)return checkArray(e,r,c);var n=checkType[e];if(n)return n(r,c);console.warn("Could not check "+r+", unknown type "+e)}else if(t.required)throw SyntaxError(r+" param is required")}function checkParams(e,r,c){var t={};for(var n in r){var o=e[n],h=r[n];checkType(h.type,n,o,h),void 0!=o&&(t[n]=o,delete e[n])}return t}function checkMethodParams(e,r){for(var c,t={},n=0;c=r[n];n++){var o=c.name,h=e[n];checkType(c.type,o,h,c),t[o]=h}var a=e.slice(n);return a.length&&console.warning("Unused params:",a),t}Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e}),module.exports=checkType,checkType.checkArray=checkArray,checkType.checkParams=checkParams,checkType.ChecktypeError=ChecktypeError,checkType.boolean=checkBoolean,checkType.double=checkNumber,checkType.float=checkNumber,checkType.int=checkInteger,checkType.Object=checkObject,checkType.String=checkString;
},{}],6:[function(require,module,exports){
function createPromise(e,r,i){var a=new Promise(function(i,a){function s(e,r){if(e)return a(e);i(disguise.unthenable(r))}e instanceof Array?async.map(e,r,s):r(e,s)});return promiseCallback(a,i)}var async=require("async"),disguise=require("./disguise"),promiseCallback=require("promisecallback");module.exports=createPromise;
},{"./disguise":7,"async":"async","promisecallback":"promisecallback"}],7:[function(require,module,exports){
function promiseCatch(e){return this.then(null,e)}function disguise(e,n,i){if(null==n||e===n)return e;for(var t in n)if(void 0===e[t]&&(!i||"then"!==t&&"catch"!==t)){if("function"==typeof n[t])var u={value:n[t]};else var u={get:function(){return n[t]},set:function(e){n[t]=e}};u.enumerable=!0,Object.defineProperty(e,t,u)}return e}function disguiseThenable(e,n){function i(i,u){return null!=i&&(i=i.bind(e)),null!=u&&(u=u.bind(e)),disguiseThenable(t.call(e,i,u),n)}if(e===n)return e;if(e.then instanceof Function){var t=e.then;Object.defineProperties(e,{then:{value:i},catch:{value:promiseCatch}})}return disguise(e,n)}function unthenable(e){var n=Object.assign({},e);return delete n.then,void 0!==e&&(n.constructor=e.constructor),e&&e.then instanceof Function?disguise(n,e,!0):e}disguiseThenable.disguise=disguise,disguiseThenable.disguiseThenable=disguiseThenable,disguiseThenable.unthenable=unthenable,module.exports=disguiseThenable;
},{}],8:[function(require,module,exports){
function registerAbstracts(e,r){for(var s in e){var t=e[s],c=t.check;c&&(checkType[s]=c),abstracts[s]=t,abstracts[r+"."+s]=t}}function registerClass(e,r){var s=r.check;s&&(checkType[e]=s),classes[e]=r}function registerComplexTypes(e,r){for(var s in e){var t=e[s],c=t.check;c?(checkType[s]=c,checkType[r+"."+s]=c,complexTypes[s]=t,complexTypes[r+"."+s]=t):(checkType[s]=t,checkType[r+"."+s]=t)}}function registerModule(e){modules.push(e),modules.sort()}function register(e,r){if(!e)throw SyntaxError("Need to define an object, a module or a function");if("string"!=typeof e&&(r=e,e=void 0),void 0==r)return register(require(e));if("string"==typeof r)return register(e,require(r));if(r instanceof Function){if(e||(e=r.name),void 0==e)throw new SyntaxError("Can't register an anonymous module");return registerClass(e,r)}e||(e=r.name),e&&registerModule(e);for(var s in r){var t=r[s];"core"!==e&&"elements"!==e&&"filters"!==e||(e="kurento");var c=e+"."+s;if("string"!=typeof t)switch(s){case"abstracts":registerAbstracts(t,e);break;case"complexTypes":registerComplexTypes(t,e);break;default:registerClass(c,t),registerClass(s,t)}}}var checkType=require("./checkType"),abstracts={},classes={},complexTypes={},modules=[];module.exports=register,register.abstracts=abstracts,register.classes=classes,register.complexTypes=complexTypes,register.modules=modules;
},{"./checkType":5}],9:[function(require,module,exports){
var asn1=exports;asn1.bignum=require("bn.js"),asn1.define=require("./asn1/api").define,asn1.base=require("./asn1/base"),asn1.constants=require("./asn1/constants"),asn1.decoders=require("./asn1/decoders"),asn1.encoders=require("./asn1/encoders");
},{"./asn1/api":10,"./asn1/base":12,"./asn1/constants":16,"./asn1/decoders":18,"./asn1/encoders":21,"bn.js":34}],10:[function(require,module,exports){
function Entity(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var asn1=require("../asn1"),inherits=require("inherits"),api=exports;api.define=function(e,t){return new Entity(e,t)},Entity.prototype._createNamed=function(e){var t;try{t=require("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return inherits(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},Entity.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(asn1.decoders[e])),this.decoders[e]},Entity.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},Entity.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(asn1.encoders[e])),this.encoders[e]},Entity.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)};
},{"../asn1":9,"inherits":"inherits","vm":308}],11:[function(require,module,exports){
(function (Buffer){
function DecoderBuffer(e,t){if(Reporter.call(this,t),!Buffer.isBuffer(e))return void this.error("Input not Buffer");this.base=e,this.offset=0,this.length=e.length}function EncoderBuffer(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof EncoderBuffer||(e=new EncoderBuffer(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=Buffer.byteLength(e);else{if(!Buffer.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var inherits=require("inherits"),Reporter=require("../base").Reporter,Buffer=require("buffer").Buffer;inherits(DecoderBuffer,Reporter),exports.DecoderBuffer=DecoderBuffer,DecoderBuffer.prototype.save=function(){return{offset:this.offset,reporter:Reporter.prototype.save.call(this)}},DecoderBuffer.prototype.restore=function(e){var t=new DecoderBuffer(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,Reporter.prototype.restore.call(this,e.reporter),t},DecoderBuffer.prototype.isEmpty=function(){return this.offset===this.length},DecoderBuffer.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},DecoderBuffer.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new DecoderBuffer(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},DecoderBuffer.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},exports.EncoderBuffer=EncoderBuffer,EncoderBuffer.prototype.join=function(e,t){return e||(e=new Buffer(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):Buffer.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)};
}).call(this,require("buffer").Buffer)

},{"../base":12,"buffer":68,"inherits":"inherits"}],12:[function(require,module,exports){
var base=exports;base.Reporter=require("./reporter").Reporter,base.DecoderBuffer=require("./buffer").DecoderBuffer,base.EncoderBuffer=require("./buffer").EncoderBuffer,base.Node=require("./node");
},{"./buffer":11,"./node":13,"./reporter":14}],13:[function(require,module,exports){
function Node(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}var Reporter=require("../base").Reporter,EncoderBuffer=require("../base").EncoderBuffer,DecoderBuffer=require("../base").DecoderBuffer,assert=require("minimalistic-assert"),tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];module.exports=Node;var stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node.prototype.clone=function(){var e=this._baseState,t={};stateProps.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},Node.prototype._wrap=function(){var e=this._baseState;methods.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},Node.prototype._init=function(e){var t=this._baseState;assert(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),assert.equal(t.children.length,1,"Root node can have only one child")},Node.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(assert(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(assert(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var i=e[r];t[i]=r}),t}))},overrided.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),tags.forEach(function(e){Node.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return assert(null===t.tag),t.tag=e,this._useArgs(r),this}}),Node.prototype.use=function(e){assert(e);var t=this._baseState;return assert(null===t.use),t.use=e,this},Node.prototype.optional=function(){return this._baseState.optional=!0,this},Node.prototype.def=function(e){var t=this._baseState;return assert(null===t.default),t.default=e,t.optional=!0,this},Node.prototype.explicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.explicit=e,this},Node.prototype.implicit=function(e){var t=this._baseState;return assert(null===t.explicit&&null===t.implicit),t.implicit=e,this},Node.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},Node.prototype.key=function(e){var t=this._baseState;return assert(null===t.key),t.key=e,this},Node.prototype.any=function(){return this._baseState.any=!0,this},Node.prototype.choice=function(e){var t=this._baseState;return assert(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},Node.prototype.contains=function(e){var t=this._baseState;return assert(null===t.use),t.contains=e,this},Node.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var i=r.default,n=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var s=null;if(null!==r.explicit?s=r.explicit:null!==r.implicit?s=r.implicit:null!==r.tag&&(s=r.tag),null!==s||r.any){if(n=this._peekTag(e,s,r.any),e.isError(n))return n}else{var a=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),n=!0}catch(e){n=!1}e.restore(a)}}var c;if(r.obj&&n&&(c=e.enterObject()),n){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var u=e.offset;if(null===r.use&&null===r.choice){if(r.any)var a=e.save();var d=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(d))return d;r.any?i=e.raw(a):e=d}if(t&&t.track&&null!==r.tag&&t.track(e.path(),u,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),i=r.any?i:null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var h=new DecoderBuffer(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(h,t)}}return r.obj&&n&&(i=e.leaveObject(c)),null===r.key||null===i&&!0!==n?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,i),i},Node.prototype._decodeGeneric=function(e,t,r){var i=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,i.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&i.args?this._decodeObjid(t,i.args[0],i.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,i.args&&i.args[0],r):null!==i.use?this._getUse(i.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},Node.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),assert(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},Node.prototype._decodeChoice=function(e,t){var r=this._baseState,i=null,n=!1;return Object.keys(r.choice).some(function(o){var s=e.save(),a=r.choice[o];try{var c=a._decode(e,t);if(e.isError(c))return!1;i={type:o,value:c},n=!0}catch(t){return e.restore(s),!1}return!0},this),n?i:e.error("Choice not matched")},Node.prototype._createEncoderBuffer=function(e){return new EncoderBuffer(e,this.reporter)},Node.prototype._encode=function(e,t,r){var i=this._baseState;if(null===i.default||i.default!==e){var n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},Node.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new Reporter);var n=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var o=null,s=!1;if(i.any)n=this._createEncoderBuffer(e);else if(i.choice)n=this._encodeChoice(e,t);else if(i.contains)o=this._getUse(i.contains,r)._encode(e,t),s=!0;else if(i.children)o=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var i=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var n=r._encode(e[r._baseState.key],t,e);return t.leaveKey(i),n},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var a=this.clone();a._baseState.implicit=null,o=this._createEncoderBuffer(e.map(function(r){var i=this._baseState;return this._getUse(i.args[0],e)._encode(r,t)},a))}else null!==i.use?n=this._getUse(i.use,r)._encode(e,t):(o=this._encodePrimitive(i.tag,e),s=!0);var n;if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(n=this._encodeComposite(c,s,l,o))}return null!==i.explicit&&(n=this._encodeComposite(i.explicit,!1,"context",n)),n},Node.prototype._encodeChoice=function(e,t){var r=this._baseState,i=r.choice[e.type];return i||assert(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),i._encode(e.value,t)},Node.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},Node.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},Node.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)};
},{"../base":12,"minimalistic-assert":226}],14:[function(require,module,exports){
function Reporter(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}function ReporterError(r,t){this.path=r,this.rethrow(t)}var inherits=require("inherits");exports.Reporter=Reporter,Reporter.prototype.isError=function(r){return r instanceof ReporterError},Reporter.prototype.save=function(){var r=this._reporterState;return{obj:r.obj,pathLen:r.path.length}},Reporter.prototype.restore=function(r){var t=this._reporterState;t.obj=r.obj,t.path=t.path.slice(0,r.pathLen)},Reporter.prototype.enterKey=function(r){return this._reporterState.path.push(r)},Reporter.prototype.exitKey=function(r){var t=this._reporterState;t.path=t.path.slice(0,r-1)},Reporter.prototype.leaveKey=function(r,t,e){var o=this._reporterState;this.exitKey(r),null!==o.obj&&(o.obj[t]=e)},Reporter.prototype.path=function(){return this._reporterState.path.join("/")},Reporter.prototype.enterObject=function(){var r=this._reporterState,t=r.obj;return r.obj={},t},Reporter.prototype.leaveObject=function(r){var t=this._reporterState,e=t.obj;return t.obj=r,e},Reporter.prototype.error=function(r){var t,e=this._reporterState,o=r instanceof ReporterError;if(t=o?r:new ReporterError(e.path.map(function(r){return"["+JSON.stringify(r)+"]"}).join(""),r.message||r,r.stack),!e.options.partial)throw t;return o||e.errors.push(t),t},Reporter.prototype.wrapResult=function(r){var t=this._reporterState;return t.options.partial?{result:this.isError(r)?null:r,errors:t.errors}:r},inherits(ReporterError,Error),ReporterError.prototype.rethrow=function(r){if(this.message=r+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};
},{"inherits":"inherits"}],15:[function(require,module,exports){
var constants=require("../constants");exports.tagClass={0:"universal",1:"application",2:"context",3:"private"},exports.tagClassByName=constants._reverse(exports.tagClass),exports.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},exports.tagByName=constants._reverse(exports.tag);
},{"../constants":16}],16:[function(require,module,exports){
var constants=exports;constants._reverse=function(r){var e={};return Object.keys(r).forEach(function(n){(0|n)==n&&(n|=0);var t=r[n];e[t]=n}),e},constants.der=require("./der");
},{"./der":15}],17:[function(require,module,exports){
function DERDecoder(r){this.enc="der",this.name=r.name,this.entity=r,this.tree=new DERNode,this.tree._init(r.body)}function DERNode(r){base.Node.call(this,"der",r)}function derDecodeTag(r,e){var t=r.readUInt8(e);if(r.isError(t))return t;var i=der.tagClass[t>>6],o=0==(32&t);if(31==(31&t)){var n=t;for(t=0;128==(128&n);){if(n=r.readUInt8(e),r.isError(n))return n;t<<=7,t|=127&n}}else t&=31;return{cls:i,primitive:o,tag:t,tagStr:der.tag[t]}}function derDecodeLen(r,e,t){var i=r.readUInt8(t);if(r.isError(i))return i;if(!e&&128===i)return null;if(0==(128&i))return i;var o=127&i;if(o>4)return r.error("length octect is too long");i=0;for(var n=0;n<o;n++){i<<=8;var s=r.readUInt8(t);if(r.isError(s))return s;i|=s}return i}var inherits=require("inherits"),asn1=require("../../asn1"),base=asn1.base,bignum=asn1.bignum,der=asn1.constants.der;module.exports=DERDecoder,DERDecoder.prototype.decode=function(r,e){return r instanceof base.DecoderBuffer||(r=new base.DecoderBuffer(r,e)),this.tree._decode(r,e)},inherits(DERNode,base.Node),DERNode.prototype._peekTag=function(r,e,t){if(r.isEmpty())return!1;var i=r.save(),o=derDecodeTag(r,'Failed to peek tag: "'+e+'"');return r.isError(o)?o:(r.restore(i),o.tag===e||o.tagStr===e||o.tagStr+"of"===e||t)},DERNode.prototype._decodeTag=function(r,e,t){var i=derDecodeTag(r,'Failed to decode tag of "'+e+'"');if(r.isError(i))return i;var o=derDecodeLen(r,i.primitive,'Failed to get length of "'+e+'"');if(r.isError(o))return o;if(!t&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return r.error('Failed to match tag: "'+e+'"');if(i.primitive||null!==o)return r.skip(o,'Failed to match body of: "'+e+'"');var n=r.save(),s=this._skipUntilEnd(r,'Failed to skip indefinite length body: "'+this.tag+'"');return r.isError(s)?s:(o=r.offset-n.offset,r.restore(n),r.skip(o,'Failed to match body of: "'+e+'"'))},DERNode.prototype._skipUntilEnd=function(r,e){for(;;){var t=derDecodeTag(r,e);if(r.isError(t))return t;var i=derDecodeLen(r,t.primitive,e);if(r.isError(i))return i;var o;if(o=t.primitive||null!==i?r.skip(i):this._skipUntilEnd(r,e),r.isError(o))return o;if("end"===t.tagStr)break}},DERNode.prototype._decodeList=function(r,e,t,i){for(var o=[];!r.isEmpty();){var n=this._peekTag(r,"end");if(r.isError(n))return n;var s=t.decode(r,"der",i);if(r.isError(s)&&n)break;o.push(s)}return o},DERNode.prototype._decodeStr=function(r,e){if("bitstr"===e){var t=r.readUInt8();return r.isError(t)?t:{unused:t,data:r.raw()}}if("bmpstr"===e){var i=r.raw();if(i.length%2==1)return r.error("Decoding of string type: bmpstr length mismatch");for(var o="",n=0;n<i.length/2;n++)o+=String.fromCharCode(i.readUInt16BE(2*n));return o}if("numstr"===e){var s=r.raw().toString("ascii");return this._isNumstr(s)?s:r.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return r.raw();if("objDesc"===e)return r.raw();if("printstr"===e){var a=r.raw().toString("ascii");return this._isPrintstr(a)?a:r.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?r.raw().toString():r.error("Decoding of string type: "+e+" unsupported")},DERNode.prototype._decodeObjid=function(r,e,t){for(var i,o=[],n=0;!r.isEmpty();){var s=r.readUInt8();n<<=7,n|=127&s,0==(128&s)&&(o.push(n),n=0)}128&s&&o.push(n);var a=o[0]/40|0,d=o[0]%40;if(i=t?o:[a,d].concat(o.slice(1)),e){var u=e[i.join(" ")];void 0===u&&(u=e[i.join(".")]),void 0!==u&&(i=u)}return i},DERNode.prototype._decodeTime=function(r,e){var t=r.raw().toString();if("gentime"===e)var i=0|t.slice(0,4),o=0|t.slice(4,6),n=0|t.slice(6,8),s=0|t.slice(8,10),a=0|t.slice(10,12),d=0|t.slice(12,14);else{if("utctime"!==e)return r.error("Decoding "+e+" time is not supported yet");var i=0|t.slice(0,2),o=0|t.slice(2,4),n=0|t.slice(4,6),s=0|t.slice(6,8),a=0|t.slice(8,10),d=0|t.slice(10,12);i=i<70?2e3+i:1900+i}return Date.UTC(i,o-1,n,s,a,d,0)},DERNode.prototype._decodeNull=function(r){return null},DERNode.prototype._decodeBool=function(r){var e=r.readUInt8();return r.isError(e)?e:0!==e},DERNode.prototype._decodeInt=function(r,e){var t=r.raw(),i=new bignum(t);return e&&(i=e[i.toString(10)]||i),i},DERNode.prototype._use=function(r,e){return"function"==typeof r&&(r=r(e)),r._getDecoder("der").tree};
},{"../../asn1":9,"inherits":"inherits"}],18:[function(require,module,exports){
var decoders=exports;decoders.der=require("./der"),decoders.pem=require("./pem");
},{"./der":17,"./pem":19}],19:[function(require,module,exports){
function PEMDecoder(e){DERDecoder.call(this,e),this.enc="pem"}var inherits=require("inherits"),Buffer=require("buffer").Buffer,DERDecoder=require("./der");inherits(PEMDecoder,DERDecoder),module.exports=PEMDecoder,PEMDecoder.prototype.decode=function(e,r){for(var o=e.toString().split(/[\r\n]+/g),i=r.label.toUpperCase(),t=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,n=-1,f=0;f<o.length;f++){var a=o[f].match(t);if(null!==a&&a[2]===i){if(-1!==c){if("END"!==a[1])break;n=f;break}if("BEGIN"!==a[1])break;c=f}}if(-1===c||-1===n)throw new Error("PEM section not found for: "+i);var d=o.slice(c+1,n).join("");d.replace(/[^a-z0-9\+\/=]+/gi,"");var D=new Buffer(d,"base64");return DERDecoder.prototype.decode.call(this,D,r)};
},{"./der":17,"buffer":68,"inherits":"inherits"}],20:[function(require,module,exports){
function DEREncoder(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new DERNode,this.tree._init(e.body)}function DERNode(e){base.Node.call(this,"der",e)}function two(e){return e<10?"0"+e:e}function encodeTag(e,r,t,n){var o;if("seqof"===e?e="seq":"setof"===e&&(e="set"),der.tagByName.hasOwnProperty(e))o=der.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);o=e}return o>=31?n.error("Multi-octet tag encoding unsupported"):(r||(o|=32),o|=der.tagClassByName[t||"universal"]<<6)}var inherits=require("inherits"),Buffer=require("buffer").Buffer,asn1=require("../../asn1"),base=asn1.base,der=asn1.constants.der;module.exports=DEREncoder,DEREncoder.prototype.encode=function(e,r){return this.tree._encode(e,r).join()},inherits(DERNode,base.Node),DERNode.prototype._encodeComposite=function(e,r,t,n){var o=encodeTag(e,r,t,this.reporter);if(n.length<128){var i=new Buffer(2);return i[0]=o,i[1]=n.length,this._createEncoderBuffer([i,n])}for(var f=1,s=n.length;s>=256;s>>=8)f++;var i=new Buffer(2+f);i[0]=o,i[1]=128|f;for(var s=1+f,u=n.length;u>0;s--,u>>=8)i[s]=255&u;return this._createEncoderBuffer([i,n])},DERNode.prototype._encodeStr=function(e,r){if("bitstr"===r)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===r){for(var t=new Buffer(2*e.length),n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===r?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===r?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(r)?this._createEncoderBuffer(e):"objDesc"===r?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+r+" unsupported")},DERNode.prototype._encodeObjid=function(e,r,t){if("string"==typeof e){if(!r)return this.reporter.error("string objid given, but no values map found");if(!r.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=r[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!t){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var o=0,n=0;n<e.length;n++){var i=e[n];for(o++;i>=128;i>>=7)o++}for(var f=new Buffer(o),s=f.length-1,n=e.length-1;n>=0;n--){var i=e[n];for(f[s--]=127&i;(i>>=7)>0;)f[s--]=128|127&i}return this._createEncoderBuffer(f)},DERNode.prototype._encodeTime=function(e,r){var t,n=new Date(e);return"gentime"===r?t=[two(n.getFullYear()),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):"utctime"===r?t=[two(n.getFullYear()%100),two(n.getUTCMonth()+1),two(n.getUTCDate()),two(n.getUTCHours()),two(n.getUTCMinutes()),two(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+r+" time is not supported yet"),this._encodeStr(t,"octstr")},DERNode.prototype._encodeNull=function(){return this._createEncoderBuffer("")},DERNode.prototype._encodeInt=function(e,r){if("string"==typeof e){if(!r)return this.reporter.error("String int or enum given, but no values map");if(!r.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=r[e]}if("number"!=typeof e&&!Buffer.isBuffer(e)){var t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=new Buffer(t)}if(Buffer.isBuffer(e)){var n=e.length;0===e.length&&n++;var o=new Buffer(n);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);for(var n=1,i=e;i>=256;i>>=8)n++;for(var o=new Array(n),i=o.length-1;i>=0;i--)o[i]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new Buffer(o))},DERNode.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},DERNode.prototype._use=function(e,r){return"function"==typeof e&&(e=e(r)),e._getEncoder("der").tree},DERNode.prototype._skipDefault=function(e,r,t){var n,o=this._baseState;if(null===o.default)return!1;var i=e.join();if(void 0===o.defaultBuffer&&(o.defaultBuffer=this._encodeValue(o.default,r,t).join()),i.length!==o.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==o.defaultBuffer[n])return!1;return!0};
},{"../../asn1":9,"buffer":68,"inherits":"inherits"}],21:[function(require,module,exports){
var encoders=exports;encoders.der=require("./der"),encoders.pem=require("./pem");
},{"./der":20,"./pem":22}],22:[function(require,module,exports){
function PEMEncoder(e){DEREncoder.call(this,e),this.enc="pem"}var inherits=require("inherits"),DEREncoder=require("./der");inherits(PEMEncoder,DEREncoder),module.exports=PEMEncoder,PEMEncoder.prototype.encode=function(e,r){for(var n=DEREncoder.prototype.encode.call(this,e),o=n.toString("base64"),E=["-----BEGIN "+r.label+"-----"],t=0;t<o.length;t+=64)E.push(o.slice(t,t+64));return E.push("-----END "+r.label+"-----"),E.join("\n")};
},{"./der":20,"inherits":"inherits"}],23:[function(require,module,exports){
(function (global){
"use strict";function compare(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function isBuffer(e){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function pToString(e){return Object.prototype.toString.call(e)}function isView(e){return!isBuffer(e)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function getName(e){if(util.isFunction(e)){if(functionsHaveNames)return e.name;var t=e.toString(),r=t.match(regex);return r&&r[1]}}function truncate(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function inspect(e){if(functionsHaveNames||!util.isFunction(e))return util.inspect(e);var t=getName(e);return"[Function"+(t?": "+t:"")+"]"}function getMessage(e){return truncate(inspect(e.actual),128)+" "+e.operator+" "+truncate(inspect(e.expected),128)}function fail(e,t,r,n,i){throw new assert.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ok(e,t){e||fail(e,!0,t,"==",assert.ok)}function _deepEqual(e,t,r,n){if(e===t)return!0;if(isBuffer(e)&&isBuffer(t))return 0===compare(e,t);if(util.isDate(e)&&util.isDate(t))return e.getTime()===t.getTime();if(util.isRegExp(e)&&util.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(isView(e)&&isView(t)&&pToString(e)===pToString(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===compare(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(isBuffer(e)!==isBuffer(t))return!1;n=n||{actual:[],expected:[]};var i=n.actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),objEquiv(e,t,r,n))}return r?e===t:e==t}function isArguments(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function objEquiv(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(util.isPrimitive(e)||util.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=isArguments(e),a=isArguments(t);if(i&&!a||!i&&a)return!1;if(i)return e=pSlice.call(e),t=pSlice.call(t),_deepEqual(e,t,r);var s,u,o=objectKeys(e),f=objectKeys(t);if(o.length!==f.length)return!1;for(o.sort(),f.sort(),u=o.length-1;u>=0;u--)if(o[u]!==f[u])return!1;for(u=o.length-1;u>=0;u--)if(s=o[u],!_deepEqual(e[s],t[s],r,n))return!1;return!0}function notDeepStrictEqual(e,t,r){_deepEqual(e,t,!0)&&fail(e,t,r,"notDeepStrictEqual",notDeepStrictEqual)}function expectedException(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _tryBlock(e){var t;try{e()}catch(e){t=e}return t}function _throws(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=_tryBlock(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&fail(i,r,"Missing expected exception"+n);var a="string"==typeof n,s=!e&&util.isError(i),u=!e&&i&&!r;if((s&&a&&expectedException(i,r)||u)&&fail(i,r,"Got unwanted exception"+n),e&&i&&r&&!expectedException(i,r)||!e&&i)throw i}var util=require("util/"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames=function(){return"foo"===function(){}.name}(),assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;assert.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var t=e.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=getName(t),a=n.indexOf("\n"+i);if(a>=0){var s=n.indexOf("\n",a+1);n=n.substring(s+1)}this.stack=n}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(e,t,r){e!=t&&fail(e,t,r,"==",assert.equal)},assert.notEqual=function(e,t,r){e==t&&fail(e,t,r,"!=",assert.notEqual)},assert.deepEqual=function(e,t,r){_deepEqual(e,t,!1)||fail(e,t,r,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(e,t,r){_deepEqual(e,t,!0)||fail(e,t,r,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(e,t,r){_deepEqual(e,t,!1)&&fail(e,t,r,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=notDeepStrictEqual,assert.strictEqual=function(e,t,r){e!==t&&fail(e,t,r,"===",assert.strictEqual)},assert.notStrictEqual=function(e,t,r){e===t&&fail(e,t,r,"!==",assert.notStrictEqual)},assert.throws=function(e,t,r){_throws(!0,e,t,r)},assert.doesNotThrow=function(e,t,r){_throws(!1,e,t,r)},assert.ifError=function(e){if(e)throw e};var objectKeys=Object.keys||function(e){var t=[];for(var r in e)hasOwn.call(e,r)&&t.push(r);return t};
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"util/":25}],24:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],25:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){c=" [Function"+(r.name?": "+r.name:"")+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var p;return p=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(p,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0;return e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(!0===process.noDeprecation)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":24,"_process":252,"inherits":"inherits"}],26:[function(require,module,exports){
var Backoff=require("./lib/backoff"),ExponentialBackoffStrategy=require("./lib/strategy/exponential"),FibonacciBackoffStrategy=require("./lib/strategy/fibonacci"),FunctionCall=require("./lib/function_call.js");module.exports.Backoff=Backoff,module.exports.FunctionCall=FunctionCall,module.exports.FibonacciStrategy=FibonacciBackoffStrategy,module.exports.ExponentialStrategy=ExponentialBackoffStrategy,module.exports.fibonacci=function(e){return new Backoff(new FibonacciBackoffStrategy(e))},module.exports.exponential=function(e){return new Backoff(new ExponentialBackoffStrategy(e))},module.exports.call=function(e,o,t){var a=Array.prototype.slice.call(arguments);return e=a[0],o=a.slice(1,a.length-1),t=a[a.length-1],new FunctionCall(e,o,t)};
},{"./lib/backoff":27,"./lib/function_call.js":28,"./lib/strategy/exponential":29,"./lib/strategy/fibonacci":30}],27:[function(require,module,exports){
function Backoff(t){events.EventEmitter.call(this),this.backoffStrategy_=t,this.maxNumberOfRetry_=-1,this.backoffNumber_=0,this.backoffDelay_=0,this.timeoutID_=-1,this.handlers={backoff:this.onBackoff_.bind(this)}}var events=require("events"),util=require("util");util.inherits(Backoff,events.EventEmitter),Backoff.prototype.failAfter=function(t){if(t<1)throw new Error("Maximum number of retry must be greater than 0. Actual: "+t);this.maxNumberOfRetry_=t},Backoff.prototype.backoff=function(t){if(-1!==this.timeoutID_)throw new Error("Backoff in progress.");this.backoffNumber_===this.maxNumberOfRetry_?(this.emit("fail",t),this.reset()):(this.backoffDelay_=this.backoffStrategy_.next(),this.timeoutID_=setTimeout(this.handlers.backoff,this.backoffDelay_),this.emit("backoff",this.backoffNumber_,this.backoffDelay_,t))},Backoff.prototype.onBackoff_=function(){this.timeoutID_=-1,this.emit("ready",this.backoffNumber_,this.backoffDelay_),this.backoffNumber_++},Backoff.prototype.reset=function(){this.backoffNumber_=0,this.backoffStrategy_.reset(),clearTimeout(this.timeoutID_),this.timeoutID_=-1},module.exports=Backoff;
},{"events":108,"util":307}],28:[function(require,module,exports){
function isFunction(t){return"function"==typeof t}function FunctionCall(t,n,i){if(events.EventEmitter.call(this),!isFunction(t))throw new Error("fn should be a function.Actual: "+typeof t);if(!isFunction(i))throw new Error("callback should be a function.Actual: "+typeof t);this.function_=t,this.arguments_=n,this.callback_=i,this.results_=[],this.backoff_=null,this.strategy_=null,this.failAfter_=-1,this.state_=FunctionCall.State_.PENDING}var events=require("events"),util=require("util"),Backoff=require("./backoff"),FibonacciBackoffStrategy=require("./strategy/fibonacci");util.inherits(FunctionCall,events.EventEmitter),FunctionCall.State_={PENDING:0,RUNNING:1,COMPLETED:2,ABORTED:3},FunctionCall.prototype.isPending=function(){return this.state_==FunctionCall.State_.PENDING},FunctionCall.prototype.isRunning=function(){return this.state_==FunctionCall.State_.RUNNING},FunctionCall.prototype.isCompleted=function(){return this.state_==FunctionCall.State_.COMPLETED},FunctionCall.prototype.isAborted=function(){return this.state_==FunctionCall.State_.ABORTED},FunctionCall.prototype.setStrategy=function(t){if(!this.isPending())throw new Error("FunctionCall in progress.");return this.strategy_=t,this},FunctionCall.prototype.getResults=function(){return this.results_.concat()},FunctionCall.prototype.failAfter=function(t){if(!this.isPending())throw new Error("FunctionCall in progress.");return this.failAfter_=t,this},FunctionCall.prototype.abort=function(){if(this.isCompleted())throw new Error("FunctionCall already completed.");this.isRunning()&&this.backoff_.reset(),this.state_=FunctionCall.State_.ABORTED},FunctionCall.prototype.start=function(t){if(this.isAborted())throw new Error("FunctionCall aborted.");if(!this.isPending())throw new Error("FunctionCall already started.");var n=this.strategy_||new FibonacciBackoffStrategy;this.backoff_=t?t(n):new Backoff(n),this.backoff_.on("ready",this.doCall_.bind(this)),this.backoff_.on("fail",this.doCallback_.bind(this)),this.backoff_.on("backoff",this.handleBackoff_.bind(this)),this.failAfter_>0&&this.backoff_.failAfter(this.failAfter_),this.state_=FunctionCall.State_.RUNNING,this.doCall_()},FunctionCall.prototype.doCall_=function(){var t=["call"].concat(this.arguments_);events.EventEmitter.prototype.emit.apply(this,t);var n=this.handleFunctionCallback_.bind(this);this.function_.apply(null,this.arguments_.concat(n))},FunctionCall.prototype.doCallback_=function(){var t=this.results_[this.results_.length-1];this.callback_.apply(null,t)},FunctionCall.prototype.handleFunctionCallback_=function(){if(!this.isAborted()){var t=Array.prototype.slice.call(arguments);this.results_.push(t),events.EventEmitter.prototype.emit.apply(this,["callback"].concat(t)),t[0]?this.backoff_.backoff(t[0]):(this.state_=FunctionCall.State_.COMPLETED,this.doCallback_())}},FunctionCall.prototype.handleBackoff_=function(t,n,i){this.emit("backoff",t,n,i)},module.exports=FunctionCall;
},{"./backoff":27,"./strategy/fibonacci":30,"events":108,"util":307}],29:[function(require,module,exports){
function ExponentialBackoffStrategy(t){BackoffStrategy.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}var util=require("util"),BackoffStrategy=require("./strategy");util.inherits(ExponentialBackoffStrategy,BackoffStrategy),ExponentialBackoffStrategy.prototype.next_=function(){return this.backoffDelay_=Math.min(this.nextBackoffDelay_,this.getMaxDelay()),this.nextBackoffDelay_=2*this.backoffDelay_,this.backoffDelay_},ExponentialBackoffStrategy.prototype.reset_=function(){this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()},module.exports=ExponentialBackoffStrategy;
},{"./strategy":31,"util":307}],30:[function(require,module,exports){
function FibonacciBackoffStrategy(t){BackoffStrategy.call(this,t),this.backoffDelay_=0,this.nextBackoffDelay_=this.getInitialDelay()}var util=require("util"),BackoffStrategy=require("./strategy");util.inherits(FibonacciBackoffStrategy,BackoffStrategy),FibonacciBackoffStrategy.prototype.next_=function(){var t=Math.min(this.nextBackoffDelay_,this.getMaxDelay());return this.nextBackoffDelay_+=this.backoffDelay_,this.backoffDelay_=t,t},FibonacciBackoffStrategy.prototype.reset_=function(){this.nextBackoffDelay_=this.getInitialDelay(),this.backoffDelay_=0},module.exports=FibonacciBackoffStrategy;
},{"./strategy":31,"util":307}],31:[function(require,module,exports){
function isDef(t){return void 0!==t&&null!==t}function BackoffStrategy(t){if(t=t||{},isDef(t.initialDelay)&&t.initialDelay<1)throw new Error("The initial timeout must be greater than 0.");if(isDef(t.maxDelay)&&t.maxDelay<1)throw new Error("The maximal timeout must be greater than 0.");if(this.initialDelay_=t.initialDelay||100,this.maxDelay_=t.maxDelay||1e4,this.maxDelay_<=this.initialDelay_)throw new Error("The maximal backoff delay must be greater than the initial backoff delay.");if(isDef(t.randomisationFactor)&&(t.randomisationFactor<0||t.randomisationFactor>1))throw new Error("The randomisation factor must be between 0 and 1.");this.randomisationFactor_=t.randomisationFactor||0}var events=require("events"),util=require("util");BackoffStrategy.prototype.getMaxDelay=function(){return this.maxDelay_},BackoffStrategy.prototype.getInitialDelay=function(){return this.initialDelay_},BackoffStrategy.prototype.next=function(){var t=this.next_(),e=1+Math.random()*this.randomisationFactor_;return Math.round(t*e)},BackoffStrategy.prototype.next_=function(){throw new Error("BackoffStrategy.next_() unimplemented.")},BackoffStrategy.prototype.reset=function(){this.reset_()},BackoffStrategy.prototype.reset_=function(){throw new Error("BackoffStrategy.reset_() unimplemented.")},module.exports=BackoffStrategy;
},{"events":108,"util":307}],32:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){for(var r,e=getLens(o),t=e[0],n=e[1],u=new Arr(_byteLength(o,t,n)),p=0,a=n>0?t-4:t,h=0;h<a;h+=4)r=revLookup[o.charCodeAt(h)]<<18|revLookup[o.charCodeAt(h+1)]<<12|revLookup[o.charCodeAt(h+2)]<<6|revLookup[o.charCodeAt(h+3)],u[p++]=r>>16&255,u[p++]=r>>8&255,u[p++]=255&r;return 2===n&&(r=revLookup[o.charCodeAt(h)]<<2|revLookup[o.charCodeAt(h+1)]>>4,u[p++]=255&r),1===n&&(r=revLookup[o.charCodeAt(h)]<<10|revLookup[o.charCodeAt(h+1)]<<4|revLookup[o.charCodeAt(h+2)]>>2,u[p++]=r>>8&255,u[p++]=255&r),u}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;
},{}],33:[function(require,module,exports){
(function (process,__filename){
function bindings(e){"string"==typeof e?e={bindings:e}:e||(e={}),e.__proto__=defaults,e.module_root||(e.module_root=exports.getRoot(exports.getFileName())),".node"!=path.extname(e.bindings)&&(e.bindings+=".node");for(var r,o,i,n=[],t=0,s=e.try.length;t<s;t++){r=join.apply(null,e.try[t].map(function(r){return e[r]||r})),n.push(r);try{return o=e.path?require.resolve(r):require(r),e.path||(o.path=r),o}catch(e){if(!/not find/i.test(e.message))throw e}}throw i=new Error("Could not locate the bindings file. Tried:\n"+n.map(function(r){return e.arrow+r}).join("\n")),i.tries=n,i}var fs=require("fs"),path=require("path"),join=path.join,dirname=path.dirname,exists=fs.existsSync||path.existsSync,defaults={arrow:process.env.NODE_BINDINGS_ARROW||" → ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"]]};module.exports=exports=bindings,exports.getFileName=function(e){var r,o=Error.prepareStackTrace,i=Error.stackTraceLimit,n={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(o,i){for(var n=0,t=i.length;n<t;n++)if((r=i[n].getFileName())!==__filename){if(!e)return;if(r!==e)return}},Error.captureStackTrace(n),Error.prepareStackTrace=o,Error.stackTraceLimit=i,r},exports.getRoot=function(e){for(var r,o=dirname(e);;){if("."===o&&(o=process.cwd()),exists(join(o,"package.json"))||exists(join(o,"node_modules")))return o;if(r===o)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');r=o,o=join(o,"..")}};
}).call(this,require('_process'),"/node_modules/bindings/bindings.js")

},{"_process":252,"fs":66,"path":245}],34:[function(require,module,exports){
!function(t,i){"use strict";function r(t,i){if(!t)throw new Error(i||"Assertion failed")}function h(t,i){t.super_=i;var r=function(){};r.prototype=i.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,i,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==i&&"be"!==i||(r=i,i=10),this._init(t||0,i||10,r||"be"))}function e(t,i,r){for(var h=0,n=Math.min(t.length,r),e=i;e<n;e++){var o=t.charCodeAt(e)-48;h<<=4,h|=o>=49&&o<=54?o-49+10:o>=17&&o<=22?o-17+10:15&o}return h}function o(t,i,r,h){for(var n=0,e=Math.min(t.length,r),o=i;o<e;o++){var s=t.charCodeAt(o)-48;n*=h,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}function s(t){for(var i=new Array(t.bitLength()),r=0;r<i.length;r++){var h=r/26|0,n=r%26;i[r]=(t.words[h]&1<<n)>>>n}return i}function u(t,i,r){r.negative=i.negative^t.negative;var h=t.length+i.length|0;r.length=h,h=h-1|0;var n=0|t.words[0],e=0|i.words[0],o=n*e,s=67108863&o,u=o/67108864|0;r.words[0]=s;for(var a=1;a<h;a++){for(var l=u>>>26,m=67108863&u,f=Math.min(a,i.length-1),d=Math.max(0,a-t.length+1);d<=f;d++){var p=a-d|0;n=0|t.words[p],e=0|i.words[d],o=n*e+m,l+=o/67108864|0,m=67108863&o}r.words[a]=0|m,u=0|l}return 0!==u?r.words[a]=0|u:r.length--,r.strip()}function a(t,i,r){r.negative=i.negative^t.negative,r.length=t.length+i.length;for(var h=0,n=0,e=0;e<r.length-1;e++){var o=n;n=0;for(var s=67108863&h,u=Math.min(e,i.length-1),a=Math.max(0,e-t.length+1);a<=u;a++){var l=e-a,m=0|t.words[l],f=0|i.words[a],d=m*f,p=67108863&d;o=o+(d/67108864|0)|0,p=p+s|0,s=67108863&p,o=o+(p>>>26)|0,n+=o>>>26,o&=67108863}r.words[e]=s,h=o,o=n}return 0!==h?r.words[e]=h:r.length--,r.strip()}function l(t,i,r){return(new m).mulp(t,i,r)}function m(t,i){this.x=t,this.y=i}function f(t,i){this.name=t,this.p=new n(i,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function d(){f.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){f.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){f.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){f.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"==typeof t){var i=n._prime(t);this.m=i.p,this.prime=i}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function c(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=n:i.BN=n,n.BN=n,n.wordSize=26;var w;try{w=require("buffer").Buffer}catch(t){}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,i){return t.cmp(i)>0?t:i},n.min=function(t,i){return t.cmp(i)<0?t:i},n.prototype._init=function(t,i,h){if("number"==typeof t)return this._initNumber(t,i,h);if("object"==typeof t)return this._initArray(t,i,h);"hex"===i&&(i=16),r(i===(0|i)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var n=0;"-"===t[0]&&n++,16===i?this._parseHex(t,n):this._parseBase(t,i,n),"-"===t[0]&&(this.negative=1),this.strip(),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initNumber=function(t,i,h){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===h&&this._initArray(this.toArray(),i,h)},n.prototype._initArray=function(t,i,h){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var e,o,s=0;if("be"===h)for(n=t.length-1,e=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);else if("le"===h)for(n=0,e=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[e]|=o<<s&67108863,this.words[e+1]=o>>>26-s&67108863,(s+=24)>=26&&(s-=26,e++);return this.strip()},n.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var h,n,o=0;for(r=t.length-6,h=0;r>=i;r-=6)n=e(t,r,r+6),this.words[h]|=n<<o&67108863,this.words[h+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,h++);r+6!==i&&(n=e(t,i,r+6),this.words[h]|=n<<o&67108863,this.words[h+1]|=n>>>26-o&4194303),this.strip()},n.prototype._parseBase=function(t,i,r){this.words=[0],this.length=1;for(var h=0,n=1;n<=67108863;n*=i)h++;h--,n=n/i|0;for(var e=t.length-r,s=e%h,u=Math.min(e,e-s)+r,a=0,l=r;l<u;l+=h)a=o(t,l,l+h,i),this.imuln(n),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(0!==s){var m=1;for(a=o(t,l,t.length,i),l=0;l<s;l++)m*=i;this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(t,i){t=t||10,i=0|i||1;var h;if(16===t||"hex"===t){h="";for(var n=0,e=0,o=0;o<this.length;o++){var s=this.words[o],u=(16777215&(s<<n|e)).toString(16);e=s>>>24-n&16777215,h=0!==e||o!==this.length-1?y[6-u.length]+u+h:u+h,n+=2,n>=26&&(n-=26,o--)}for(0!==e&&(h=e.toString(16)+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}if(t===(0|t)&&t>=2&&t<=36){var a=b[t],l=_[t];h="";var m=this.clone();for(m.negative=0;!m.isZero();){var f=m.modn(l).toString(t);m=m.idivn(l),h=m.isZero()?f+h:y[a-f.length]+f+h}for(this.isZero()&&(h="0"+h);h.length%i!=0;)h="0"+h;return 0!==this.negative&&(h="-"+h),h}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,i){return r(void 0!==w),this.toArrayLike(w,t,i)},n.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)},n.prototype.toArrayLike=function(t,i,h){var n=this.byteLength(),e=h||Math.max(1,n);r(n<=e,"byte array longer than desired length"),r(e>0,"Requested array length <= 0"),this.strip();var o,s,u="le"===i,a=new t(e),l=this.clone();if(u){for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[s]=o;for(;s<e;s++)a[s]=0}else{for(s=0;s<e-n;s++)a[s]=0;for(s=0;!l.isZero();s++)o=l.andln(255),l.iushrn(8),a[e-s-1]=o}return a},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var i=t,r=0;return i>=4096&&(r+=13,i>>>=13),i>=64&&(r+=7,i>>>=7),i>=8&&(r+=4,i>>>=4),i>=2&&(r+=2,i>>>=2),r+i},n.prototype._zeroBits=function(t){if(0===t)return 26;var i=t,r=0;return 0==(8191&i)&&(r+=13,i>>>=13),0==(127&i)&&(r+=7,i>>>=7),0==(15&i)&&(r+=4,i>>>=4),0==(3&i)&&(r+=2,i>>>=2),0==(1&i)&&r++,r},n.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return 26*(this.length-1)+i},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var r=this._zeroBits(this.words[i]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var i;i=this.length>t.length?t:this;for(var r=0;r<i.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=i.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var i,r;this.length>t.length?(i=this,r=t):(i=t,r=this);for(var h=0;h<r.length;h++)this.words[h]=i.words[h]^r.words[h];if(this!==i)for(;h<i.length;h++)this.words[h]=i.words[h];return this.length=i.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var i=0|Math.ceil(t/26),h=t%26;this._expand(i),h>0&&i--;for(var n=0;n<i;n++)this.words[n]=67108863&~this.words[n];return h>0&&(this.words[n]=~this.words[n]&67108863>>26-h),this.strip()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,i){r("number"==typeof t&&t>=0);var h=t/26|0,n=t%26;return this._expand(h+1),this.words[h]=i?this.words[h]|1<<n:this.words[h]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var i;if(0!==this.negative&&0===t.negative)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var r,h;this.length>t.length?(r=this,h=t):(r=t,h=this);for(var n=0,e=0;e<h.length;e++)i=(0|r.words[e])+(0|h.words[e])+n,this.words[e]=67108863&i,n=i>>>26;for(;0!==n&&e<r.length;e++)i=(0|r.words[e])+n,this.words[e]=67108863&i,n=i>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;e<r.length;e++)this.words[e]=r.words[e];return this},n.prototype.add=function(t){var i;return 0!==t.negative&&0===this.negative?(t.negative=0,i=this.sub(t),t.negative^=1,i):0===t.negative&&0!==this.negative?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;var h,n;r>0?(h=this,n=t):(h=t,n=this);for(var e=0,o=0;o<n.length;o++)i=(0|h.words[o])-(0|n.words[o])+e,e=i>>26,this.words[o]=67108863&i;for(;0!==e&&o<h.length;o++)i=(0|h.words[o])+e,e=i>>26,this.words[o]=67108863&i;if(0===e&&o<h.length&&h!==this)for(;o<h.length;o++)this.words[o]=h.words[o];return this.length=Math.max(this.length,o),h!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var k=function(t,i,r){var h,n,e,o=t.words,s=i.words,u=r.words,a=0,l=0|o[0],m=8191&l,f=l>>>13,d=0|o[1],p=8191&d,M=d>>>13,v=0|o[2],g=8191&v,c=v>>>13,w=0|o[3],y=8191&w,b=w>>>13,_=0|o[4],k=8191&_,A=_>>>13,x=0|o[5],S=8191&x,Z=x>>>13,q=0|o[6],R=8191&q,B=q>>>13,N=0|o[7],L=8191&N,I=N>>>13,z=0|o[8],T=8191&z,E=z>>>13,O=0|o[9],j=8191&O,K=O>>>13,P=0|s[0],F=8191&P,C=P>>>13,D=0|s[1],H=8191&D,J=D>>>13,U=0|s[2],G=8191&U,Q=U>>>13,V=0|s[3],W=8191&V,X=V>>>13,Y=0|s[4],$=8191&Y,tt=Y>>>13,it=0|s[5],rt=8191&it,ht=it>>>13,nt=0|s[6],et=8191&nt,ot=nt>>>13,st=0|s[7],ut=8191&st,at=st>>>13,lt=0|s[8],mt=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,Mt=dt>>>13;r.negative=t.negative^i.negative,r.length=19,h=Math.imul(m,F),n=Math.imul(m,C),n=n+Math.imul(f,F)|0,e=Math.imul(f,C);var vt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,h=Math.imul(p,F),n=Math.imul(p,C),n=n+Math.imul(M,F)|0,e=Math.imul(M,C),h=h+Math.imul(m,H)|0,n=n+Math.imul(m,J)|0,n=n+Math.imul(f,H)|0,e=e+Math.imul(f,J)|0;var gt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,h=Math.imul(g,F),n=Math.imul(g,C),n=n+Math.imul(c,F)|0,e=Math.imul(c,C),h=h+Math.imul(p,H)|0,n=n+Math.imul(p,J)|0,n=n+Math.imul(M,H)|0,e=e+Math.imul(M,J)|0,h=h+Math.imul(m,G)|0,n=n+Math.imul(m,Q)|0,n=n+Math.imul(f,G)|0,e=e+Math.imul(f,Q)|0;var ct=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(ct>>>26)|0,ct&=67108863,h=Math.imul(y,F),n=Math.imul(y,C),n=n+Math.imul(b,F)|0,e=Math.imul(b,C),h=h+Math.imul(g,H)|0,n=n+Math.imul(g,J)|0,n=n+Math.imul(c,H)|0,e=e+Math.imul(c,J)|0,h=h+Math.imul(p,G)|0,n=n+Math.imul(p,Q)|0,n=n+Math.imul(M,G)|0,e=e+Math.imul(M,Q)|0,h=h+Math.imul(m,W)|0,n=n+Math.imul(m,X)|0,n=n+Math.imul(f,W)|0,e=e+Math.imul(f,X)|0;var wt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,h=Math.imul(k,F),n=Math.imul(k,C),n=n+Math.imul(A,F)|0,e=Math.imul(A,C),h=h+Math.imul(y,H)|0,n=n+Math.imul(y,J)|0,n=n+Math.imul(b,H)|0,e=e+Math.imul(b,J)|0,h=h+Math.imul(g,G)|0,n=n+Math.imul(g,Q)|0,n=n+Math.imul(c,G)|0,e=e+Math.imul(c,Q)|0,h=h+Math.imul(p,W)|0,n=n+Math.imul(p,X)|0,n=n+Math.imul(M,W)|0,e=e+Math.imul(M,X)|0,h=h+Math.imul(m,$)|0,n=n+Math.imul(m,tt)|0,n=n+Math.imul(f,$)|0,e=e+Math.imul(f,tt)|0;var yt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,h=Math.imul(S,F),n=Math.imul(S,C),n=n+Math.imul(Z,F)|0,e=Math.imul(Z,C),h=h+Math.imul(k,H)|0,n=n+Math.imul(k,J)|0,n=n+Math.imul(A,H)|0,e=e+Math.imul(A,J)|0,h=h+Math.imul(y,G)|0,n=n+Math.imul(y,Q)|0,n=n+Math.imul(b,G)|0,e=e+Math.imul(b,Q)|0,h=h+Math.imul(g,W)|0,n=n+Math.imul(g,X)|0,n=n+Math.imul(c,W)|0,e=e+Math.imul(c,X)|0,h=h+Math.imul(p,$)|0,n=n+Math.imul(p,tt)|0,n=n+Math.imul(M,$)|0,e=e+Math.imul(M,tt)|0,h=h+Math.imul(m,rt)|0,n=n+Math.imul(m,ht)|0,n=n+Math.imul(f,rt)|0,e=e+Math.imul(f,ht)|0;var bt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,h=Math.imul(R,F),n=Math.imul(R,C),n=n+Math.imul(B,F)|0,e=Math.imul(B,C),h=h+Math.imul(S,H)|0,n=n+Math.imul(S,J)|0,n=n+Math.imul(Z,H)|0,e=e+Math.imul(Z,J)|0,h=h+Math.imul(k,G)|0,n=n+Math.imul(k,Q)|0,n=n+Math.imul(A,G)|0,e=e+Math.imul(A,Q)|0,h=h+Math.imul(y,W)|0,n=n+Math.imul(y,X)|0,n=n+Math.imul(b,W)|0,e=e+Math.imul(b,X)|0,h=h+Math.imul(g,$)|0,n=n+Math.imul(g,tt)|0,n=n+Math.imul(c,$)|0,e=e+Math.imul(c,tt)|0,h=h+Math.imul(p,rt)|0,n=n+Math.imul(p,ht)|0,n=n+Math.imul(M,rt)|0,e=e+Math.imul(M,ht)|0,h=h+Math.imul(m,et)|0,n=n+Math.imul(m,ot)|0,n=n+Math.imul(f,et)|0,e=e+Math.imul(f,ot)|0;var _t=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,h=Math.imul(L,F),n=Math.imul(L,C),n=n+Math.imul(I,F)|0,e=Math.imul(I,C),h=h+Math.imul(R,H)|0,n=n+Math.imul(R,J)|0,n=n+Math.imul(B,H)|0,e=e+Math.imul(B,J)|0,h=h+Math.imul(S,G)|0,n=n+Math.imul(S,Q)|0,n=n+Math.imul(Z,G)|0,e=e+Math.imul(Z,Q)|0,h=h+Math.imul(k,W)|0,n=n+Math.imul(k,X)|0,n=n+Math.imul(A,W)|0,e=e+Math.imul(A,X)|0,h=h+Math.imul(y,$)|0,n=n+Math.imul(y,tt)|0,n=n+Math.imul(b,$)|0,e=e+Math.imul(b,tt)|0,h=h+Math.imul(g,rt)|0,n=n+Math.imul(g,ht)|0,n=n+Math.imul(c,rt)|0,e=e+Math.imul(c,ht)|0,h=h+Math.imul(p,et)|0,n=n+Math.imul(p,ot)|0,n=n+Math.imul(M,et)|0,e=e+Math.imul(M,ot)|0,h=h+Math.imul(m,ut)|0,n=n+Math.imul(m,at)|0,n=n+Math.imul(f,ut)|0,e=e+Math.imul(f,at)|0;var kt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,h=Math.imul(T,F),n=Math.imul(T,C),n=n+Math.imul(E,F)|0,e=Math.imul(E,C),h=h+Math.imul(L,H)|0,n=n+Math.imul(L,J)|0,n=n+Math.imul(I,H)|0,e=e+Math.imul(I,J)|0,h=h+Math.imul(R,G)|0,n=n+Math.imul(R,Q)|0,n=n+Math.imul(B,G)|0,e=e+Math.imul(B,Q)|0,h=h+Math.imul(S,W)|0,n=n+Math.imul(S,X)|0,n=n+Math.imul(Z,W)|0,e=e+Math.imul(Z,X)|0,h=h+Math.imul(k,$)|0,n=n+Math.imul(k,tt)|0,n=n+Math.imul(A,$)|0,e=e+Math.imul(A,tt)|0,h=h+Math.imul(y,rt)|0,n=n+Math.imul(y,ht)|0,n=n+Math.imul(b,rt)|0,e=e+Math.imul(b,ht)|0,h=h+Math.imul(g,et)|0,n=n+Math.imul(g,ot)|0,n=n+Math.imul(c,et)|0,e=e+Math.imul(c,ot)|0,h=h+Math.imul(p,ut)|0,n=n+Math.imul(p,at)|0,n=n+Math.imul(M,ut)|0,e=e+Math.imul(M,at)|0,h=h+Math.imul(m,mt)|0,n=n+Math.imul(m,ft)|0,n=n+Math.imul(f,mt)|0,e=e+Math.imul(f,ft)|0;var At=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(At>>>26)|0,At&=67108863,h=Math.imul(j,F),n=Math.imul(j,C),n=n+Math.imul(K,F)|0,e=Math.imul(K,C),h=h+Math.imul(T,H)|0,n=n+Math.imul(T,J)|0,n=n+Math.imul(E,H)|0,e=e+Math.imul(E,J)|0,h=h+Math.imul(L,G)|0,n=n+Math.imul(L,Q)|0,n=n+Math.imul(I,G)|0,e=e+Math.imul(I,Q)|0,h=h+Math.imul(R,W)|0,n=n+Math.imul(R,X)|0,n=n+Math.imul(B,W)|0,e=e+Math.imul(B,X)|0,h=h+Math.imul(S,$)|0,n=n+Math.imul(S,tt)|0,n=n+Math.imul(Z,$)|0,e=e+Math.imul(Z,tt)|0,h=h+Math.imul(k,rt)|0,n=n+Math.imul(k,ht)|0,n=n+Math.imul(A,rt)|0,e=e+Math.imul(A,ht)|0,h=h+Math.imul(y,et)|0,n=n+Math.imul(y,ot)|0,n=n+Math.imul(b,et)|0,e=e+Math.imul(b,ot)|0,h=h+Math.imul(g,ut)|0,n=n+Math.imul(g,at)|0,n=n+Math.imul(c,ut)|0,e=e+Math.imul(c,at)|0,h=h+Math.imul(p,mt)|0,n=n+Math.imul(p,ft)|0,n=n+Math.imul(M,mt)|0,e=e+Math.imul(M,ft)|0,h=h+Math.imul(m,pt)|0,n=n+Math.imul(m,Mt)|0,n=n+Math.imul(f,pt)|0,e=e+Math.imul(f,Mt)|0;var xt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,h=Math.imul(j,H),n=Math.imul(j,J),n=n+Math.imul(K,H)|0,e=Math.imul(K,J),h=h+Math.imul(T,G)|0,n=n+Math.imul(T,Q)|0,n=n+Math.imul(E,G)|0,e=e+Math.imul(E,Q)|0,h=h+Math.imul(L,W)|0,n=n+Math.imul(L,X)|0,n=n+Math.imul(I,W)|0,e=e+Math.imul(I,X)|0,h=h+Math.imul(R,$)|0,n=n+Math.imul(R,tt)|0,n=n+Math.imul(B,$)|0,e=e+Math.imul(B,tt)|0,h=h+Math.imul(S,rt)|0,n=n+Math.imul(S,ht)|0,n=n+Math.imul(Z,rt)|0,e=e+Math.imul(Z,ht)|0,h=h+Math.imul(k,et)|0,n=n+Math.imul(k,ot)|0,n=n+Math.imul(A,et)|0,e=e+Math.imul(A,ot)|0,h=h+Math.imul(y,ut)|0,n=n+Math.imul(y,at)|0,n=n+Math.imul(b,ut)|0,e=e+Math.imul(b,at)|0,h=h+Math.imul(g,mt)|0,n=n+Math.imul(g,ft)|0,n=n+Math.imul(c,mt)|0,e=e+Math.imul(c,ft)|0,h=h+Math.imul(p,pt)|0,n=n+Math.imul(p,Mt)|0,n=n+Math.imul(M,pt)|0,e=e+Math.imul(M,Mt)|0;var St=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(St>>>26)|0,St&=67108863,h=Math.imul(j,G),n=Math.imul(j,Q),n=n+Math.imul(K,G)|0,e=Math.imul(K,Q),h=h+Math.imul(T,W)|0,n=n+Math.imul(T,X)|0,n=n+Math.imul(E,W)|0,e=e+Math.imul(E,X)|0,h=h+Math.imul(L,$)|0,n=n+Math.imul(L,tt)|0,n=n+Math.imul(I,$)|0,e=e+Math.imul(I,tt)|0,h=h+Math.imul(R,rt)|0,n=n+Math.imul(R,ht)|0,n=n+Math.imul(B,rt)|0,e=e+Math.imul(B,ht)|0,h=h+Math.imul(S,et)|0,n=n+Math.imul(S,ot)|0,n=n+Math.imul(Z,et)|0,e=e+Math.imul(Z,ot)|0,h=h+Math.imul(k,ut)|0,n=n+Math.imul(k,at)|0,n=n+Math.imul(A,ut)|0,e=e+Math.imul(A,at)|0,h=h+Math.imul(y,mt)|0,n=n+Math.imul(y,ft)|0,n=n+Math.imul(b,mt)|0,e=e+Math.imul(b,ft)|0,h=h+Math.imul(g,pt)|0,n=n+Math.imul(g,Mt)|0,n=n+Math.imul(c,pt)|0,e=e+Math.imul(c,Mt)|0;var Zt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,h=Math.imul(j,W),n=Math.imul(j,X),n=n+Math.imul(K,W)|0,e=Math.imul(K,X),h=h+Math.imul(T,$)|0,n=n+Math.imul(T,tt)|0,n=n+Math.imul(E,$)|0,e=e+Math.imul(E,tt)|0,h=h+Math.imul(L,rt)|0,n=n+Math.imul(L,ht)|0,n=n+Math.imul(I,rt)|0,e=e+Math.imul(I,ht)|0,h=h+Math.imul(R,et)|0,n=n+Math.imul(R,ot)|0,n=n+Math.imul(B,et)|0,e=e+Math.imul(B,ot)|0,h=h+Math.imul(S,ut)|0,n=n+Math.imul(S,at)|0,n=n+Math.imul(Z,ut)|0,e=e+Math.imul(Z,at)|0,h=h+Math.imul(k,mt)|0,n=n+Math.imul(k,ft)|0,n=n+Math.imul(A,mt)|0,e=e+Math.imul(A,ft)|0,h=h+Math.imul(y,pt)|0,n=n+Math.imul(y,Mt)|0,n=n+Math.imul(b,pt)|0,e=e+Math.imul(b,Mt)|0;var qt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(qt>>>26)|0,qt&=67108863,h=Math.imul(j,$),n=Math.imul(j,tt),n=n+Math.imul(K,$)|0,e=Math.imul(K,tt),h=h+Math.imul(T,rt)|0,n=n+Math.imul(T,ht)|0,n=n+Math.imul(E,rt)|0,e=e+Math.imul(E,ht)|0,h=h+Math.imul(L,et)|0,n=n+Math.imul(L,ot)|0,n=n+Math.imul(I,et)|0,e=e+Math.imul(I,ot)|0,h=h+Math.imul(R,ut)|0,n=n+Math.imul(R,at)|0,n=n+Math.imul(B,ut)|0,e=e+Math.imul(B,at)|0,h=h+Math.imul(S,mt)|0,n=n+Math.imul(S,ft)|0,n=n+Math.imul(Z,mt)|0,e=e+Math.imul(Z,ft)|0,h=h+Math.imul(k,pt)|0,n=n+Math.imul(k,Mt)|0,n=n+Math.imul(A,pt)|0,e=e+Math.imul(A,Mt)|0;var Rt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h=Math.imul(j,rt),n=Math.imul(j,ht),n=n+Math.imul(K,rt)|0,e=Math.imul(K,ht),h=h+Math.imul(T,et)|0,n=n+Math.imul(T,ot)|0,n=n+Math.imul(E,et)|0,e=e+Math.imul(E,ot)|0,h=h+Math.imul(L,ut)|0,n=n+Math.imul(L,at)|0,n=n+Math.imul(I,ut)|0,e=e+Math.imul(I,at)|0,h=h+Math.imul(R,mt)|0,n=n+Math.imul(R,ft)|0,n=n+Math.imul(B,mt)|0,e=e+Math.imul(B,ft)|0,h=h+Math.imul(S,pt)|0,n=n+Math.imul(S,Mt)|0,n=n+Math.imul(Z,pt)|0,e=e+Math.imul(Z,Mt)|0;var Bt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h=Math.imul(j,et),n=Math.imul(j,ot),n=n+Math.imul(K,et)|0,e=Math.imul(K,ot),h=h+Math.imul(T,ut)|0,n=n+Math.imul(T,at)|0,n=n+Math.imul(E,ut)|0,e=e+Math.imul(E,at)|0,h=h+Math.imul(L,mt)|0,n=n+Math.imul(L,ft)|0,n=n+Math.imul(I,mt)|0,e=e+Math.imul(I,ft)|0,h=h+Math.imul(R,pt)|0,n=n+Math.imul(R,Mt)|0,n=n+Math.imul(B,pt)|0,e=e+Math.imul(B,Mt)|0;var Nt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,h=Math.imul(j,ut),n=Math.imul(j,at),n=n+Math.imul(K,ut)|0,e=Math.imul(K,at),h=h+Math.imul(T,mt)|0,n=n+Math.imul(T,ft)|0,n=n+Math.imul(E,mt)|0,e=e+Math.imul(E,ft)|0,h=h+Math.imul(L,pt)|0,n=n+Math.imul(L,Mt)|0,n=n+Math.imul(I,pt)|0,e=e+Math.imul(I,Mt)|0;var Lt=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h=Math.imul(j,mt),n=Math.imul(j,ft),n=n+Math.imul(K,mt)|0,e=Math.imul(K,ft),h=h+Math.imul(T,pt)|0,n=n+Math.imul(T,Mt)|0,n=n+Math.imul(E,pt)|0,e=e+Math.imul(E,Mt)|0;var It=(a+h|0)+((8191&n)<<13)|0;a=(e+(n>>>13)|0)+(It>>>26)|0,It&=67108863,h=Math.imul(j,pt),n=Math.imul(j,Mt),n=n+Math.imul(K,pt)|0,e=Math.imul(K,Mt);var zt=(a+h|0)+((8191&n)<<13)|0;return a=(e+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,u[0]=vt,u[1]=gt,u[2]=ct,u[3]=wt,u[4]=yt,u[5]=bt,u[6]=_t,u[7]=kt,u[8]=At,u[9]=xt,u[10]=St,u[11]=Zt,u[12]=qt,u[13]=Rt,u[14]=Bt,u[15]=Nt,u[16]=Lt,u[17]=It,u[18]=zt,0!==a&&(u[19]=a,r.length++),r};Math.imul||(k=u),n.prototype.mulTo=function(t,i){var r=this.length+t.length;return 10===this.length&&10===t.length?k(this,t,i):r<63?u(this,t,i):r<1024?a(this,t,i):l(this,t,i)},m.prototype.makeRBT=function(t){for(var i=new Array(t),r=n.prototype._countBits(t)-1,h=0;h<t;h++)i[h]=this.revBin(h,r,t);return i},m.prototype.revBin=function(t,i,r){if(0===t||t===r-1)return t;for(var h=0,n=0;n<i;n++)h|=(1&t)<<i-n-1,t>>=1;return h},m.prototype.permute=function(t,i,r,h,n,e){for(var o=0;o<e;o++)h[o]=i[t[o]],n[o]=r[t[o]]},m.prototype.transform=function(t,i,r,h,n,e){this.permute(e,t,i,r,h,n);for(var o=1;o<n;o<<=1)for(var s=o<<1,u=Math.cos(2*Math.PI/s),a=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var m=u,f=a,d=0;d<o;d++){var p=r[l+d],M=h[l+d],v=r[l+d+o],g=h[l+d+o],c=m*v-f*g;g=m*g+f*v,v=c,r[l+d]=p+v,h[l+d]=M+g,r[l+d+o]=p-v,h[l+d+o]=M-g,d!==s&&(c=u*m-a*f,f=u*f+a*m,m=c)}},m.prototype.guessLen13b=function(t,i){var r=1|Math.max(i,t),h=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+h},m.prototype.conjugate=function(t,i,r){if(!(r<=1))for(var h=0;h<r/2;h++){var n=t[h];t[h]=t[r-h-1],t[r-h-1]=n,n=i[h],i[h]=-i[r-h-1],i[r-h-1]=-n}},m.prototype.normalize13b=function(t,i){for(var r=0,h=0;h<i/2;h++){var n=8192*Math.round(t[2*h+1]/i)+Math.round(t[2*h]/i)+r;t[h]=67108863&n,r=n<67108864?0:n/67108864|0}return t},m.prototype.convert13b=function(t,i,h,n){for(var e=0,o=0;o<i;o++)e+=0|t[o],h[2*o]=8191&e,e>>>=13,h[2*o+1]=8191&e,e>>>=13;for(o=2*i;o<n;++o)h[o]=0;r(0===e),r(0==(-8192&e))},m.prototype.stub=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=0;return i},m.prototype.mulp=function(t,i,r){var h=2*this.guessLen13b(t.length,i.length),n=this.makeRBT(h),e=this.stub(h),o=new Array(h),s=new Array(h),u=new Array(h),a=new Array(h),l=new Array(h),m=new Array(h),f=r.words;f.length=h,this.convert13b(t.words,t.length,o,h),this.convert13b(i.words,i.length,a,h),this.transform(o,e,s,u,h,n),this.transform(a,e,l,m,h,n);for(var d=0;d<h;d++){var p=s[d]*l[d]-u[d]*m[d];u[d]=s[d]*m[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,h),this.transform(s,u,f,e,h,n),this.conjugate(f,e,h),this.normalize13b(f,h),r.negative=t.negative^i.negative,r.length=t.length+i.length,r.strip()},n.prototype.mul=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},n.prototype.mulf=function(t){var i=new n(null);return i.words=new Array(this.length+t.length),l(this,t,i)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var i=0,h=0;h<this.length;h++){var n=(0|this.words[h])*t,e=(67108863&n)+(67108863&i);i>>=26,i+=n/67108864|0,i+=e>>>26,this.words[h]=67108863&e}return 0!==i&&(this.words[h]=i,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var i=s(t);if(0===i.length)return new n(1);for(var r=this,h=0;h<i.length&&0===i[h];h++,r=r.sqr());if(++h<i.length)for(var e=r.sqr();h<i.length;h++,e=e.sqr())0!==i[h]&&(r=r.mul(e));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var i,h=t%26,n=(t-h)/26,e=67108863>>>26-h<<26-h;if(0!==h){var o=0;for(i=0;i<this.length;i++){var s=this.words[i]&e,u=(0|this.words[i])-s<<h;this.words[i]=u|o,o=s>>>26-h}o&&(this.words[i]=o,this.length++)}if(0!==n){for(i=this.length-1;i>=0;i--)this.words[i+n]=this.words[i];for(i=0;i<n;i++)this.words[i]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,i,h){r("number"==typeof t&&t>=0);var n;n=i?(i-i%26)/26:0;var e=t%26,o=Math.min((t-e)/26,this.length),s=67108863^67108863>>>e<<e,u=h;if(n-=o,n=Math.max(0,n),u){for(var a=0;a<o;a++)u.words[a]=this.words[a];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,a=0;a<this.length;a++)this.words[a]=this.words[a+o];else this.words[0]=0,this.length=1;var l=0;for(a=this.length-1;a>=0&&(0!==l||a>=n);a--){var m=0|this.words[a];this.words[a]=l<<26-e|m>>>e,l=m&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,i,h){return r(0===this.negative),this.iushrn(t,i,h)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26,n=1<<i;return!(this.length<=h)&&!!(this.words[h]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var i=t%26,h=(t-i)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=h)return this;if(0!==i&&h++,this.length=Math.min(h,this.length),0!==i){var n=67108863^67108863>>>i<<i;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,i,h){var n,e=t.length+h;this._expand(e);var o,s=0;for(n=0;n<t.length;n++){o=(0|this.words[n+h])+s;var u=(0|t.words[n])*i;o-=67108863&u,s=(o>>26)-(u/67108864|0),this.words[n+h]=67108863&o}for(;n<this.length-h;n++)o=(0|this.words[n+h])+s,s=o>>26,this.words[n+h]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)o=-(0|this.words[n])+s,s=o>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,i){var r=this.length-t.length,h=this.clone(),e=t,o=0|e.words[e.length-1];0!==(r=26-this._countBits(o))&&(e=e.ushln(r),h.iushln(r),o=0|e.words[e.length-1]);var s,u=h.length-e.length;if("mod"!==i){s=new n(null),s.length=u+1,s.words=new Array(s.length);for(var a=0;a<s.length;a++)s.words[a]=0}var l=h.clone()._ishlnsubmul(e,1,u);0===l.negative&&(h=l,s&&(s.words[u]=1));for(var m=u-1;m>=0;m--){var f=67108864*(0|h.words[e.length+m])+(0|h.words[e.length+m-1]);for(f=Math.min(f/o|0,67108863),h._ishlnsubmul(e,f,m);0!==h.negative;)f--,h.negative=0,h._ishlnsubmul(e,1,m),h.isZero()||(h.negative^=1);s&&(s.words[m]=f)}return s&&s.strip(),h.strip(),"div"!==i&&0!==r&&h.iushrn(r),{div:s||null,mod:h}},n.prototype.divmod=function(t,i,h){if(r(!t.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var e,o,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,i),"mod"!==i&&(e=s.div.neg()),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.iadd(t)),{div:e,mod:o}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),i),"mod"!==i&&(e=s.div.neg()),{div:e,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),i),"div"!==i&&(o=s.mod.neg(),h&&0!==o.negative&&o.isub(t)),{div:s.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===i?{div:this.divn(t.words[0]),mod:null}:"mod"===i?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,i)},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var r=0!==i.div.negative?i.mod.isub(t):i.mod,h=t.ushrn(1),n=t.andln(1),e=r.cmp(h)
;return e<0||1===n&&0===e?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var i=(1<<26)%t,h=0,n=this.length-1;n>=0;n--)h=(i*h+(0|this.words[n]))%t;return h},n.prototype.idivn=function(t){r(t<=67108863);for(var i=0,h=this.length-1;h>=0;h--){var n=(0|this.words[h])+67108864*i;this.words[h]=n/t|0,i=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=new n(0),u=new n(1),a=0;i.isEven()&&h.isEven();)i.iushrn(1),h.iushrn(1),++a;for(var l=h.clone(),m=i.clone();!i.isZero();){for(var f=0,d=1;0==(i.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(i.iushrn(f);f-- >0;)(e.isOdd()||o.isOdd())&&(e.iadd(l),o.isub(m)),e.iushrn(1),o.iushrn(1);for(var p=0,M=1;0==(h.words[0]&M)&&p<26;++p,M<<=1);if(p>0)for(h.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(m)),s.iushrn(1),u.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(s),o.isub(u)):(h.isub(i),s.isub(e),u.isub(o))}return{a:s,b:u,gcd:h.iushln(a)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var i=this,h=t.clone();i=0!==i.negative?i.umod(t):i.clone();for(var e=new n(1),o=new n(0),s=h.clone();i.cmpn(1)>0&&h.cmpn(1)>0;){for(var u=0,a=1;0==(i.words[0]&a)&&u<26;++u,a<<=1);if(u>0)for(i.iushrn(u);u-- >0;)e.isOdd()&&e.iadd(s),e.iushrn(1);for(var l=0,m=1;0==(h.words[0]&m)&&l<26;++l,m<<=1);if(l>0)for(h.iushrn(l);l-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);i.cmp(h)>=0?(i.isub(h),e.isub(o)):(h.isub(i),o.isub(e))}var f;return f=0===i.cmpn(1)?e:o,f.cmpn(0)<0&&f.iadd(t),f},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),r=t.clone();i.negative=0,r.negative=0;for(var h=0;i.isEven()&&r.isEven();h++)i.iushrn(1),r.iushrn(1);for(;;){for(;i.isEven();)i.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=i.cmp(r);if(n<0){var e=i;i=r,r=e}else if(0===n||0===r.cmpn(1))break;i.isub(r)}return r.iushln(h)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var i=t%26,h=(t-i)/26,n=1<<i;if(this.length<=h)return this._expand(h+1),this.words[h]|=n,this;for(var e=n,o=h;0!==e&&o<this.length;o++){var s=0|this.words[o];s+=e,e=s>>>26,s&=67108863,this.words[o]=s}return 0!==e&&(this.words[o]=e,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;this.strip();var h;if(this.length>1)h=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];h=n===t?0:n<t?-1:1}return 0!==this.negative?0|-h:h},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var i=this.ucmp(t);return 0!==this.negative?0|-i:i},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,r=this.length-1;r>=0;r--){var h=0|this.words[r],n=0|t.words[r];if(h!==n){h<n?i=-1:h>n&&(i=1);break}}return i},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new g(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var A={k256:null,p224:null,p192:null,p25519:null};f.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},f.prototype.ireduce=function(t){var i,r=t;do{this.split(r,this.tmp),r=this.imulK(r),r=r.iadd(this.tmp),i=r.bitLength()}while(i>this.n);var h=i<this.n?-1:r.ucmp(this.p);return 0===h?(r.words[0]=0,r.length=1):h>0?r.isub(this.p):r.strip(),r},f.prototype.split=function(t,i){t.iushrn(this.n,0,i)},f.prototype.imulK=function(t){return t.imul(this.k)},h(d,f),d.prototype.split=function(t,i){for(var r=Math.min(t.length,9),h=0;h<r;h++)i.words[h]=t.words[h];if(i.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var n=t.words[9];for(i.words[i.length++]=4194303&n,h=10;h<t.length;h++){var e=0|t.words[h];t.words[h-10]=(4194303&e)<<4|n>>>22,n=e}n>>>=22,t.words[h-10]=n,0===n&&t.length>10?t.length-=10:t.length-=9},d.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,r=0;r<t.length;r++){var h=0|t.words[r];i+=977*h,t.words[r]=67108863&i,i=64*h+(i/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},h(p,f),h(M,f),h(v,f),v.prototype.imulK=function(t){for(var i=0,r=0;r<t.length;r++){var h=19*(0|t.words[r])+i,n=67108863&h;h>>>=26,t.words[r]=n,i=h}return 0!==i&&(t.words[t.length++]=i),t},n._prime=function(t){if(A[t])return A[t];var i;if("k256"===t)i=new d;else if("p224"===t)i=new p;else if("p192"===t)i=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);i=new v}return A[t]=i,i},g.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,i){r(0==(t.negative|i.negative),"red works only with positives"),r(t.red&&t.red===i.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},g.prototype.add=function(t,i){this._verify2(t,i);var r=t.add(i);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},g.prototype.iadd=function(t,i){this._verify2(t,i);var r=t.iadd(i);return r.cmp(this.m)>=0&&r.isub(this.m),r},g.prototype.sub=function(t,i){this._verify2(t,i);var r=t.sub(i);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},g.prototype.isub=function(t,i){this._verify2(t,i);var r=t.isub(i);return r.cmpn(0)<0&&r.iadd(this.m),r},g.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},g.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},g.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},g.prototype.isqr=function(t){return this.imul(t,t.clone())},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(r(i%2==1),3===i){var h=this.m.add(new n(1)).iushrn(2);return this.pow(t,h)}for(var e=this.m.subn(1),o=0;!e.isZero()&&0===e.andln(1);)o++,e.iushrn(1);r(!e.isZero());var s=new n(1).toRed(this),u=s.redNeg(),a=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new n(2*l*l).toRed(this);0!==this.pow(l,a).cmp(u);)l.redIAdd(u);for(var m=this.pow(l,e),f=this.pow(t,e.addn(1).iushrn(1)),d=this.pow(t,e),p=o;0!==d.cmp(s);){for(var M=d,v=0;0!==M.cmp(s);v++)M=M.redSqr();r(v<p);var g=this.pow(m,new n(1).iushln(p-v-1));f=f.redMul(g),m=g.redSqr(),d=d.redMul(m),p=v}return f},g.prototype.invm=function(t){var i=t._invmp(this.m);return 0!==i.negative?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},g.prototype.pow=function(t,i){if(i.isZero())return new n(1).toRed(this);if(0===i.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var h=2;h<r.length;h++)r[h]=this.mul(r[h-1],t);var e=r[0],o=0,s=0,u=i.bitLength()%26;for(0===u&&(u=26),h=i.length-1;h>=0;h--){for(var a=i.words[h],l=u-1;l>=0;l--){var m=a>>l&1;e!==r[0]&&(e=this.sqr(e)),0!==m||0!==o?(o<<=1,o|=m,(4===++s||0===h&&0===l)&&(e=this.mul(e,r[o]),s=0,o=0)):s=0}u=26}return e},g.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},g.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},n.mont=function(t){return new c(t)},h(c,g),c.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},c.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},c.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(h).iushrn(this.shift),e=n;return n.cmp(this.m)>=0?e=n.isub(this.m):n.cmpn(0)<0&&(e=n.iadd(this.m)),e._forceRed(this)},c.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new n(0)._forceRed(this);var r=t.mul(i),h=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=r.isub(h).iushrn(this.shift),o=e;return e.cmp(this.m)>=0?o=e.isub(this.m):e.cmpn(0)<0&&(o=e.iadd(this.m)),o._forceRed(this)},c.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"==typeof module||module,this);
},{"buffer":36}],35:[function(require,module,exports){
function Rand(t){this.rand=t}var r;if(module.exports=function(t){return r||(r=new Rand(null)),r.generate(t)},module.exports.Rand=Rand,Rand.prototype.generate=function(t){return this._rand(t)},Rand.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var r=new Uint8Array(t),e=0;e<r.length;e++)r[e]=this.rand.getByte();return r},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(t){var r=new Uint8Array(t);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(t){var r=new Uint8Array(t);return self.msCrypto.getRandomValues(r),r}:"object"==typeof window&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto=require("crypto");if("function"!=typeof crypto.randomBytes)throw new Error("Not supported");Rand.prototype._rand=function(t){return crypto.randomBytes(t)}}catch(t){}
},{"crypto":36}],36:[function(require,module,exports){

},{}],37:[function(require,module,exports){
(function (Buffer){
function asUInt32Array(r){Buffer.isBuffer(r)||(r=Buffer.from(r));for(var e=r.length/4|0,t=new Array(e),n=0;n<e;n++)t[n]=r.readUInt32BE(4*n);return t}function scrubVec(r){for(;0<r.length;r++)r[0]=0}function cryptBlock(r,e,t,n,o){for(var S,B,c,i,u=t[0],f=t[1],s=t[2],a=t[3],y=r[0]^e[0],_=r[1]^e[1],I=r[2]^e[2],l=r[3]^e[3],X=4,h=1;h<o;h++)S=u[y>>>24]^f[_>>>16&255]^s[I>>>8&255]^a[255&l]^e[X++],B=u[_>>>24]^f[I>>>16&255]^s[l>>>8&255]^a[255&y]^e[X++],c=u[I>>>24]^f[l>>>16&255]^s[y>>>8&255]^a[255&_]^e[X++],i=u[l>>>24]^f[y>>>16&255]^s[_>>>8&255]^a[255&I]^e[X++],y=S,_=B,I=c,l=i;return S=(n[y>>>24]<<24|n[_>>>16&255]<<16|n[I>>>8&255]<<8|n[255&l])^e[X++],B=(n[_>>>24]<<24|n[I>>>16&255]<<16|n[l>>>8&255]<<8|n[255&y])^e[X++],c=(n[I>>>24]<<24|n[l>>>16&255]<<16|n[y>>>8&255]<<8|n[255&_])^e[X++],i=(n[l>>>24]<<24|n[y>>>16&255]<<16|n[_>>>8&255]<<8|n[255&I])^e[X++],S>>>=0,B>>>=0,c>>>=0,i>>>=0,[S,B,c,i]}function AES(r){this._key=asUInt32Array(r),this._reset()}var Buffer=require("safe-buffer").Buffer,RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var r=new Array(256),e=0;e<256;e++)r[e]=e<128?e<<1:e<<1^283;for(var t=[],n=[],o=[[],[],[],[]],S=[[],[],[],[]],B=0,c=0,i=0;i<256;++i){var u=c^c<<1^c<<2^c<<3^c<<4;u=u>>>8^255&u^99,t[B]=u,n[u]=B;var f=r[B],s=r[f],a=r[s],y=257*r[u]^16843008*u;o[0][B]=y<<24|y>>>8,o[1][B]=y<<16|y>>>16,o[2][B]=y<<8|y>>>24,o[3][B]=y,y=16843009*a^65537*s^257*f^16843008*B,S[0][u]=y<<24|y>>>8,S[1][u]=y<<16|y>>>16,S[2][u]=y<<8|y>>>24,S[3][u]=y,0===B?B=c=1:(B=f^r[r[r[a^f]]],c^=r[r[c]])}return{SBOX:t,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:S}}();AES.blockSize=16,AES.keySize=32,AES.prototype.blockSize=AES.blockSize,AES.prototype.keySize=AES.keySize,AES.prototype._reset=function(){for(var r=this._key,e=r.length,t=e+6,n=4*(t+1),o=[],S=0;S<e;S++)o[S]=r[S];for(S=e;S<n;S++){var B=o[S-1];S%e==0?(B=B<<8|B>>>24,B=G.SBOX[B>>>24]<<24|G.SBOX[B>>>16&255]<<16|G.SBOX[B>>>8&255]<<8|G.SBOX[255&B],B^=RCON[S/e|0]<<24):e>6&&S%e==4&&(B=G.SBOX[B>>>24]<<24|G.SBOX[B>>>16&255]<<16|G.SBOX[B>>>8&255]<<8|G.SBOX[255&B]),o[S]=o[S-e]^B}for(var c=[],i=0;i<n;i++){var u=n-i,f=o[u-(i%4?0:4)];c[i]=i<4||u<=4?f:G.INV_SUB_MIX[0][G.SBOX[f>>>24]]^G.INV_SUB_MIX[1][G.SBOX[f>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[f>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[255&f]]}this._nRounds=t,this._keySchedule=o,this._invKeySchedule=c},AES.prototype.encryptBlockRaw=function(r){return r=asUInt32Array(r),cryptBlock(r,this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)},AES.prototype.encryptBlock=function(r){var e=this.encryptBlockRaw(r),t=Buffer.allocUnsafe(16);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[1],4),t.writeUInt32BE(e[2],8),t.writeUInt32BE(e[3],12),t},AES.prototype.decryptBlock=function(r){r=asUInt32Array(r);var e=r[1];r[1]=r[3],r[3]=e;var t=cryptBlock(r,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),n=Buffer.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[3],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[1],12),n},AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)},module.exports.AES=AES;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],38:[function(require,module,exports){
(function (Buffer){
function xorTest(t,e){var r=0;t.length!==e.length&&r++;for(var a=Math.min(t.length,e.length),i=0;i<a;++i)r+=t[i]^e[i];return r}function calcIv(t,e,r){if(12===e.length)return t._finID=Buffer.concat([e,Buffer.from([0,0,0,1])]),Buffer.concat([e,Buffer.from([0,0,0,2])]);var a=new GHASH(r),i=e.length,h=i%16;a.update(e),h&&(h=16-h,a.update(Buffer.alloc(h,0))),a.update(Buffer.alloc(8,0));var n=8*i,s=Buffer.alloc(8);s.writeUIntBE(n,0,8),a.update(s),t._finID=a.state;var u=Buffer.from(t._finID);return incr32(u),u}function StreamCipher(t,e,r,a){Transform.call(this);var i=Buffer.alloc(4,0);this._cipher=new aes.AES(e);var h=this._cipher.encryptBlock(i);this._ghash=new GHASH(h),r=calcIv(this,r,h),this._prev=Buffer.from(r),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base"),inherits=require("inherits"),GHASH=require("./ghash"),xor=require("buffer-xor"),incr32=require("./incr32");inherits(StreamCipher,Transform),StreamCipher.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Buffer.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},StreamCipher.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=xor(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},StreamCipher.prototype.getAuthTag=function(){if(this._decrypt||!Buffer.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},StreamCipher.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},StreamCipher.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},module.exports=StreamCipher;
}).call(this,require("buffer").Buffer)

},{"./aes":37,"./ghash":42,"./incr32":43,"buffer":68,"buffer-xor":67,"cipher-base":72,"inherits":"inherits","safe-buffer":282}],39:[function(require,module,exports){
function getCiphers(){return Object.keys(modes)}var ciphers=require("./encrypter"),deciphers=require("./decrypter"),modes=require("./modes/list.json");exports.createCipher=exports.Cipher=ciphers.createCipher,exports.createCipheriv=exports.Cipheriv=ciphers.createCipheriv,exports.createDecipher=exports.Decipher=deciphers.createDecipher,exports.createDecipheriv=exports.Decipheriv=deciphers.createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers;
},{"./decrypter":40,"./encrypter":41,"./modes/list.json":51}],40:[function(require,module,exports){
(function (Buffer){
function Decipher(e,r,t){Transform.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes.AES(r),this._prev=Buffer.from(t),this._mode=e,this._autopadding=!0}function Splitter(){this.cache=Buffer.allocUnsafe(0)}function unpad(e){var r=e[15];if(r<1||r>16)throw new Error("unable to decrypt data");for(var t=-1;++t<r;)if(e[t+(16-r)]!==r)throw new Error("unable to decrypt data");if(16!==r)return e.slice(0,16-r)}function createDecipheriv(e,r,t){var i=MODES[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=Buffer.from(t)),"GCM"!==i.mode&&t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);if("string"==typeof r&&(r=Buffer.from(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);return"stream"===i.type?new StreamCipher(i.module,r,t,!0):"auth"===i.type?new AuthCipher(i.module,r,t,!0):new Decipher(i.module,r,t)}function createDecipher(e,r){var t=MODES[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createDecipheriv(e,i.key,i.iv)}var AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,MODES=require("./modes"),StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey"),inherits=require("inherits");inherits(Decipher,Transform),Decipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,r),i.push(t);return Buffer.concat(i)},Decipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},Decipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(e){var r;if(e){if(this.cache.length>16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r}else if(this.cache.length>=16)return r=this.cache.slice(0,16),this.cache=this.cache.slice(16),r;return null},Splitter.prototype.flush=function(){if(this.cache.length)return this.cache},exports.createDecipher=createDecipher,exports.createDecipheriv=createDecipheriv;
}).call(this,require("buffer").Buffer)

},{"./aes":37,"./authCipher":38,"./modes":50,"./streamCipher":53,"buffer":68,"cipher-base":72,"evp_bytestokey":109,"inherits":"inherits","safe-buffer":282}],41:[function(require,module,exports){
(function (Buffer){
function Cipher(e,r,t){Transform.call(this),this._cache=new Splitter,this._cipher=new aes.AES(r),this._prev=Buffer.from(t),this._mode=e,this._autopadding=!0}function Splitter(){this.cache=Buffer.allocUnsafe(0)}function createCipheriv(e,r,t){var i=MODES[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=Buffer.from(r)),r.length!==i.key/8)throw new TypeError("invalid key length "+r.length);if("string"==typeof t&&(t=Buffer.from(t)),"GCM"!==i.mode&&t.length!==i.iv)throw new TypeError("invalid iv length "+t.length);return"stream"===i.type?new StreamCipher(i.module,r,t):"auth"===i.type?new AuthCipher(i.module,r,t):new Cipher(i.module,r,t)}function createCipher(e,r){var t=MODES[e.toLowerCase()];if(!t)throw new TypeError("invalid suite type");var i=ebtk(r,!1,t.key,t.iv);return createCipheriv(e,i.key,i.iv)}var MODES=require("./modes"),AuthCipher=require("./authCipher"),Buffer=require("safe-buffer").Buffer,StreamCipher=require("./streamCipher"),Transform=require("cipher-base"),aes=require("./aes"),ebtk=require("evp_bytestokey"),inherits=require("inherits");inherits(Cipher,Transform),Cipher.prototype._update=function(e){this._cache.add(e);for(var r,t,i=[];r=this._cache.get();)t=this._mode.encrypt(this,r),i.push(t);return Buffer.concat(i)};var PADDING=Buffer.alloc(16,16);Cipher.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")},Cipher.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},Splitter.prototype.add=function(e){this.cache=Buffer.concat([this.cache,e])},Splitter.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},Splitter.prototype.flush=function(){for(var e=16-this.cache.length,r=Buffer.allocUnsafe(e),t=-1;++t<e;)r.writeUInt8(e,t);return Buffer.concat([this.cache,r])},exports.createCipheriv=createCipheriv,exports.createCipher=createCipher;
}).call(this,require("buffer").Buffer)

},{"./aes":37,"./authCipher":38,"./modes":50,"./streamCipher":53,"buffer":68,"cipher-base":72,"evp_bytestokey":109,"inherits":"inherits","safe-buffer":282}],42:[function(require,module,exports){
(function (Buffer){
function toArray(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function fromArray(t){var r=Buffer.allocUnsafe(16);return r.writeUInt32BE(t[0]>>>0,0),r.writeUInt32BE(t[1]>>>0,4),r.writeUInt32BE(t[2]>>>0,8),r.writeUInt32BE(t[3]>>>0,12),r}function GHASH(t){this.h=t,this.state=Buffer.alloc(16,0),this.cache=Buffer.allocUnsafe(0)}var Buffer=require("safe-buffer").Buffer,ZEROES=Buffer.alloc(16,0);GHASH.prototype.ghash=function(t){for(var r=-1;++r<t.length;)this.state[r]^=t[r];this._multiply()},GHASH.prototype._multiply=function(){for(var t,r,e,a=toArray(this.h),h=[0,0,0,0],i=-1;++i<128;){for(r=0!=(this.state[~~(i/8)]&1<<7-i%8),r&&(h[0]^=a[0],h[1]^=a[1],h[2]^=a[2],h[3]^=a[3]),e=0!=(1&a[3]),t=3;t>0;t--)a[t]=a[t]>>>1|(1&a[t-1])<<31;a[0]=a[0]>>>1,e&&(a[0]=a[0]^225<<24)}this.state=fromArray(h)},GHASH.prototype.update=function(t){this.cache=Buffer.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},GHASH.prototype.final=function(t,r){return this.cache.length&&this.ghash(Buffer.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,t,0,r])),this.state},module.exports=GHASH;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],43:[function(require,module,exports){
function incr32(r){for(var n,t=r.length;t--;){if(255!==(n=r.readUInt8(t))){n++,r.writeUInt8(n,t);break}r.writeUInt8(0,t)}}module.exports=incr32;
},{}],44:[function(require,module,exports){
var xor=require("buffer-xor");exports.encrypt=function(r,e){var p=xor(e,r._prev);return r._prev=r._cipher.encryptBlock(p),r._prev},exports.decrypt=function(r,e){var p=r._prev;r._prev=e;var c=r._cipher.decryptBlock(e);return xor(c,p)};
},{"buffer-xor":67}],45:[function(require,module,exports){
(function (Buffer){
function encryptStart(e,r,c){var f=r.length,t=xor(r,e._cache);return e._cache=e._cache.slice(f),e._prev=Buffer.concat([e._prev,c?r:t]),t}var Buffer=require("safe-buffer").Buffer,xor=require("buffer-xor");exports.encrypt=function(e,r,c){for(var f,t=Buffer.allocUnsafe(0);r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=Buffer.allocUnsafe(0)),!(e._cache.length<=r.length)){t=Buffer.concat([t,encryptStart(e,r,c)]);break}f=e._cache.length,t=Buffer.concat([t,encryptStart(e,r.slice(0,f),c)]),r=r.slice(f)}return t};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"buffer-xor":67,"safe-buffer":282}],46:[function(require,module,exports){
(function (Buffer){
function encryptByte(r,e,f){for(var n,t,u,c=-1,o=0;++c<8;)n=r._cipher.encryptBlock(r._prev),t=e&1<<7-c?128:0,u=n[0]^t,o+=(128&u)>>c%8,r._prev=shiftIn(r._prev,f?t:u);return o}function shiftIn(r,e){var f=r.length,n=-1,t=Buffer.allocUnsafe(r.length);for(r=Buffer.concat([r,Buffer.from([e])]);++n<f;)t[n]=r[n]<<1|r[n+1]>>7;return t}var Buffer=require("safe-buffer").Buffer;exports.encrypt=function(r,e,f){for(var n=e.length,t=Buffer.allocUnsafe(n),u=-1;++u<n;)t[u]=encryptByte(r,e[u],f);return t};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],47:[function(require,module,exports){
(function (Buffer){
function encryptByte(r,e,f){var n=r._cipher.encryptBlock(r._prev),t=n[0]^e;return r._prev=Buffer.concat([r._prev.slice(1),Buffer.from([f?e:t])]),t}var Buffer=require("safe-buffer").Buffer;exports.encrypt=function(r,e,f){for(var n=e.length,t=Buffer.allocUnsafe(n),c=-1;++c<n;)t[c]=encryptByte(r,e[c],f);return t};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],48:[function(require,module,exports){
function getBlock(e){var c=e._cipher.encryptBlockRaw(e._prev);return incr32(e._prev),c}var xor=require("buffer-xor"),Buffer=require("safe-buffer").Buffer,incr32=require("../incr32"),blockSize=16;exports.encrypt=function(e,c){var r=Math.ceil(c.length/blockSize),t=e._cache.length;e._cache=Buffer.concat([e._cache,Buffer.allocUnsafe(r*blockSize)]);for(var a=0;a<r;a++){var n=getBlock(e),i=t+a*blockSize;e._cache.writeUInt32BE(n[0],i+0),e._cache.writeUInt32BE(n[1],i+4),e._cache.writeUInt32BE(n[2],i+8),e._cache.writeUInt32BE(n[3],i+12)}var f=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,f)};
},{"../incr32":43,"buffer-xor":67,"safe-buffer":282}],49:[function(require,module,exports){
exports.encrypt=function(r,c){return r._cipher.encryptBlock(c)},exports.decrypt=function(r,c){return r._cipher.decryptBlock(c)};
},{}],50:[function(require,module,exports){
var modeModules={ECB:require("./ecb"),CBC:require("./cbc"),CFB:require("./cfb"),CFB8:require("./cfb8"),CFB1:require("./cfb1"),OFB:require("./ofb"),CTR:require("./ctr"),GCM:require("./ctr")},modes=require("./list.json");for(var key in modes)modes[key].module=modeModules[modes[key].mode];module.exports=modes;
},{"./cbc":44,"./cfb":45,"./cfb1":46,"./cfb8":47,"./ctr":48,"./ecb":49,"./list.json":51,"./ofb":52}],51:[function(require,module,exports){
module.exports={"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}
},{}],52:[function(require,module,exports){
(function (Buffer){
function getBlock(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var xor=require("buffer-xor");exports.encrypt=function(e,c){for(;e._cache.length<c.length;)e._cache=Buffer.concat([e._cache,getBlock(e)]);var r=e._cache.slice(0,c.length);return e._cache=e._cache.slice(c.length),xor(c,r)};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"buffer-xor":67}],53:[function(require,module,exports){
(function (Buffer){
function StreamCipher(e,r,i,t){Transform.call(this),this._cipher=new aes.AES(r),this._prev=Buffer.from(i),this._cache=Buffer.allocUnsafe(0),this._secCache=Buffer.allocUnsafe(0),this._decrypt=t,this._mode=e}var aes=require("./aes"),Buffer=require("safe-buffer").Buffer,Transform=require("cipher-base"),inherits=require("inherits");inherits(StreamCipher,Transform),StreamCipher.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},StreamCipher.prototype._final=function(){this._cipher.scrub()},module.exports=StreamCipher;
}).call(this,require("buffer").Buffer)

},{"./aes":37,"buffer":68,"cipher-base":72,"inherits":"inherits","safe-buffer":282}],54:[function(require,module,exports){
function createCipher(e,r){e=e.toLowerCase();var s,i;if(aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createCipheriv(e,t.key,t.iv)}function createDecipher(e,r){e=e.toLowerCase();var s,i;if(aesModes[e])s=aesModes[e].key,i=aesModes[e].iv;else{if(!desModes[e])throw new TypeError("invalid suite type");s=8*desModes[e].key,i=desModes[e].iv}var t=ebtk(r,!1,s,i);return createDecipheriv(e,t.key,t.iv)}function createCipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createCipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e});throw new TypeError("invalid suite type")}function createDecipheriv(e,r,s){if(e=e.toLowerCase(),aesModes[e])return aes.createDecipheriv(e,r,s);if(desModes[e])return new DES({key:r,iv:s,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes.getCiphers())}var DES=require("browserify-des"),aes=require("browserify-aes/browser"),aesModes=require("browserify-aes/modes"),desModes=require("browserify-des/modes"),ebtk=require("evp_bytestokey");exports.createCipher=exports.Cipher=createCipher,exports.createCipheriv=exports.Cipheriv=createCipheriv,exports.createDecipher=exports.Decipher=createDecipher,exports.createDecipheriv=exports.Decipheriv=createDecipheriv,exports.listCiphers=exports.getCiphers=getCiphers;
},{"browserify-aes/browser":39,"browserify-aes/modes":50,"browserify-des":55,"browserify-des/modes":56,"evp_bytestokey":109}],55:[function(require,module,exports){
(function (Buffer){
function DES(e){CipherBase.call(this);var s,r=e.mode.toLowerCase(),d=modes[r];s=e.decrypt?"decrypt":"encrypt";var t=e.key;Buffer.isBuffer(t)||(t=Buffer.from(t)),"des-ede"!==r&&"des-ede-cbc"!==r||(t=Buffer.concat([t,t.slice(0,8)]));var f=e.iv;Buffer.isBuffer(f)||(f=Buffer.from(f)),this._des=d.create({key:t,iv:f,type:s})}var CipherBase=require("cipher-base"),des=require("des.js"),inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,modes={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes.des=modes["des-cbc"],modes.des3=modes["des-ede3-cbc"],module.exports=DES,inherits(DES,CipherBase),DES.prototype._update=function(e){return Buffer.from(this._des.update(e))},DES.prototype._final=function(){return Buffer.from(this._des.final())};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"cipher-base":72,"des.js":80,"inherits":"inherits","safe-buffer":282}],56:[function(require,module,exports){
exports["des-ecb"]={key:8,iv:0},exports["des-cbc"]=exports.des={key:8,iv:8},exports["des-ede3-cbc"]=exports.des3={key:24,iv:8},exports["des-ede3"]={key:24,iv:0},exports["des-ede-cbc"]={key:16,iv:8},exports["des-ede"]={key:16,iv:0};
},{}],57:[function(require,module,exports){
(function (Buffer){
function blind(e){var n=getr(e);return{blinder:n.toRed(bn.mont(e.modulus)).redPow(new bn(e.publicExponent)).fromRed(),unblinder:n.invm(e.modulus)}}function crt(e,n){var r=blind(n),o=n.modulus.byteLength(),u=(bn.mont(n.modulus),new bn(e).mul(r.blinder).umod(n.modulus)),m=u.toRed(bn.mont(n.prime1)),d=u.toRed(bn.mont(n.prime2)),t=n.coefficient,i=n.prime1,b=n.prime2,l=m.redPow(n.exponent1),s=d.redPow(n.exponent2);l=l.fromRed(),s=s.fromRed();var p=l.isub(s).imul(t).umod(i);return p.imul(b),s.iadd(p),new Buffer(s.imul(r.unblinder).umod(n.modulus).toArray(!1,o))}function getr(e){for(var n=e.modulus.byteLength(),r=new bn(randomBytes(n));r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2);)r=new bn(randomBytes(n));return r}var bn=require("bn.js"),randomBytes=require("randombytes");module.exports=crt,crt.getr=getr;
}).call(this,require("buffer").Buffer)

},{"bn.js":34,"buffer":68,"randombytes":263}],58:[function(require,module,exports){
module.exports=require("./browser/algorithms.json");
},{"./browser/algorithms.json":59}],59:[function(require,module,exports){
module.exports={"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}
},{}],60:[function(require,module,exports){
module.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}
},{}],61:[function(require,module,exports){
(function (Buffer){
function Sign(e){stream.Writable.call(this);var t=algorithms[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function Verify(e){stream.Writable.call(this);var t=algorithms[e];if(!t)throw new Error("Unknown message digest");this._hash=createHash(t.hash),this._tag=t.id,this._signType=t.sign}function createSign(e){return new Sign(e)}function createVerify(e){return new Verify(e)}var createHash=require("create-hash"),stream=require("stream"),inherits=require("inherits"),sign=require("./sign"),verify=require("./verify"),algorithms=require("./algorithms.json");Object.keys(algorithms).forEach(function(e){algorithms[e].id=new Buffer(algorithms[e].id,"hex"),algorithms[e.toLowerCase()]=algorithms[e]}),inherits(Sign,stream.Writable),Sign.prototype._write=function(e,t,i){this._hash.update(e),i()},Sign.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Sign.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=sign(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},inherits(Verify,stream.Writable),Verify.prototype._write=function(e,t,i){this._hash.update(e),i()},Verify.prototype.update=function(e,t){return"string"==typeof e&&(e=new Buffer(e,t)),this._hash.update(e),this},Verify.prototype.verify=function(e,t,i){"string"==typeof t&&(t=new Buffer(t,i)),this.end();var r=this._hash.digest();return verify(t,r,e,this._signType,this._tag)},module.exports={Sign:createSign,Verify:createVerify,createSign:createSign,createVerify:createVerify};
}).call(this,require("buffer").Buffer)

},{"./algorithms.json":59,"./sign":62,"./verify":63,"buffer":68,"create-hash":75,"inherits":"inherits","stream":291}],62:[function(require,module,exports){
(function (Buffer){
function sign(e,r,t,n,a){var u=parseKeys(r);if(u.curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");return ecSign(e,u)}if("dsa"===u.type){if("dsa"!==n)throw new Error("wrong private key type");return dsaSign(e,u,t)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");e=Buffer.concat([a,e]);for(var i=u.modulus.byteLength(),o=[0,1];e.length+o.length+1<i;)o.push(255);o.push(0);for(var c=-1;++c<e.length;)o.push(e[c]);return crt(o,u)}function ecSign(e,r){var t=curves[r.curve.join(".")];if(!t)throw new Error("unknown curve "+r.curve.join("."));var n=new EC(t),a=n.keyFromPrivate(r.privateKey),u=a.sign(e);return new Buffer(u.toDER())}function dsaSign(e,r,t){for(var n,a=r.params.priv_key,u=r.params.p,i=r.params.q,o=r.params.g,c=new BN(0),f=bits2int(e,i).mod(i),s=!1,g=getKey(a,i,e,t);!1===s;)n=makeKey(i,g,t),c=makeR(o,n,u,i),s=n.invm(i).imul(f.add(a.mul(c))).mod(i),0===s.cmpn(0)&&(s=!1,c=new BN(0));return toDER(c,s)}function toDER(e,r){e=e.toArray(),r=r.toArray(),128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r));var t=e.length+r.length+4,n=[48,t,2,e.length];return n=n.concat(e,[2,r.length],r),new Buffer(n)}function getKey(e,r,t,n){if(e=new Buffer(e.toArray()),e.length<r.byteLength()){var a=new Buffer(r.byteLength()-e.length);a.fill(0),e=Buffer.concat([a,e])}var u=t.length,i=bits2octets(t,r),o=new Buffer(u);o.fill(1);var c=new Buffer(u);return c.fill(0),c=createHmac(n,c).update(o).update(new Buffer([0])).update(e).update(i).digest(),o=createHmac(n,c).update(o).digest(),c=createHmac(n,c).update(o).update(new Buffer([1])).update(e).update(i).digest(),o=createHmac(n,c).update(o).digest(),{k:c,v:o}}function bits2int(e,r){var t=new BN(e),n=(e.length<<3)-r.bitLength();return n>0&&t.ishrn(n),t}function bits2octets(e,r){e=bits2int(e,r),e=e.mod(r);var t=new Buffer(e.toArray());if(t.length<r.byteLength()){var n=new Buffer(r.byteLength()-t.length);n.fill(0),t=Buffer.concat([n,t])}return t}function makeKey(e,r,t){var n,a;do{for(n=new Buffer(0);8*n.length<e.bitLength();)r.v=createHmac(t,r.k).update(r.v).digest(),n=Buffer.concat([n,r.v]);a=bits2int(n,e),r.k=createHmac(t,r.k).update(r.v).update(new Buffer([0])).digest(),r.v=createHmac(t,r.k).update(r.v).digest()}while(-1!==a.cmp(e));return a}function makeR(e,r,t,n){return e.toRed(BN.mont(t)).redPow(r).fromRed().mod(n)}var createHmac=require("create-hmac"),crt=require("browserify-rsa"),EC=require("elliptic").ec,BN=require("bn.js"),parseKeys=require("parse-asn1"),curves=require("./curves.json");module.exports=sign,module.exports.getKey=getKey,module.exports.makeKey=makeKey;
}).call(this,require("buffer").Buffer)

},{"./curves.json":60,"bn.js":34,"browserify-rsa":57,"buffer":68,"create-hmac":77,"elliptic":91,"parse-asn1":244}],63:[function(require,module,exports){
(function (Buffer){
function verify(e,r,n,a,t){var o=parseKeys(n);if("ec"===o.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return ecVerify(e,r,o)}if("dsa"===o.type){if("dsa"!==a)throw new Error("wrong public key type");return dsaVerify(e,r,o)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");r=Buffer.concat([t,r]);for(var u=o.modulus.byteLength(),i=[1],d=0;r.length+i.length+2<u;)i.push(255),d++;i.push(0);for(var c=-1;++c<r.length;)i.push(r[c]);i=new Buffer(i);var s=BN.mont(o.modulus);e=new BN(e).toRed(s),e=e.redPow(new BN(o.publicExponent)),e=new Buffer(e.fromRed().toArray());var f=d<8?1:0;for(u=Math.min(e.length,i.length),e.length!==i.length&&(f=1),c=-1;++c<u;)f|=e[c]^i[c];return 0===f}function ecVerify(e,r,n){var a=curves[n.data.algorithm.curve.join(".")];if(!a)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var t=new EC(a),o=n.data.subjectPrivateKey.data;return t.verify(r,e,o)}function dsaVerify(e,r,n){var a=n.data.p,t=n.data.q,o=n.data.g,u=n.data.pub_key,i=parseKeys.signature.decode(e,"der"),d=i.s,c=i.r;checkValue(d,t),checkValue(c,t);var s=BN.mont(a),f=d.invm(t);return 0===o.toRed(s).redPow(new BN(r).mul(f).mod(t)).fromRed().mul(u.toRed(s).redPow(c.mul(f).mod(t)).fromRed()).mod(a).mod(t).cmp(c)}function checkValue(e,r){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(r)>=r)throw new Error("invalid sig")}var BN=require("bn.js"),EC=require("elliptic").ec,parseKeys=require("parse-asn1"),curves=require("./curves.json");module.exports=verify;
}).call(this,require("buffer").Buffer)

},{"./curves.json":60,"bn.js":34,"buffer":68,"elliptic":91,"parse-asn1":244}],64:[function(require,module,exports){
(function (process,Buffer){
"use strict";function Zlib(t){if("number"!=typeof t||t<exports.DEFLATE||t>exports.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=t,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var assert=require("assert"),Zstream=require("pako/lib/zlib/zstream"),zlib_deflate=require("pako/lib/zlib/deflate.js"),zlib_inflate=require("pako/lib/zlib/inflate.js"),constants=require("pako/lib/zlib/constants");for(var key in constants)exports[key]=constants[key];exports.NONE=0,exports.DEFLATE=1,exports.INFLATE=2,exports.GZIP=3,exports.GUNZIP=4,exports.DEFLATERAW=5,exports.INFLATERAW=6,exports.UNZIP=7;var GZIP_HEADER_ID1=31,GZIP_HEADER_ID2=139;Zlib.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,assert(this.init_done,"close before init"),assert(this.mode<=exports.UNZIP),this.mode===exports.DEFLATE||this.mode===exports.GZIP||this.mode===exports.DEFLATERAW?zlib_deflate.deflateEnd(this.strm):this.mode!==exports.INFLATE&&this.mode!==exports.GUNZIP&&this.mode!==exports.INFLATERAW&&this.mode!==exports.UNZIP||zlib_inflate.inflateEnd(this.strm),this.mode=exports.NONE,this.dictionary=null},Zlib.prototype.write=function(t,e,s,i,r,o,n){return this._write(!0,t,e,s,i,r,o,n)},Zlib.prototype.writeSync=function(t,e,s,i,r,o,n){return this._write(!1,t,e,s,i,r,o,n)},Zlib.prototype._write=function(t,e,s,i,r,o,n,h){if(assert.equal(arguments.length,8),assert(this.init_done,"write before init"),assert(this.mode!==exports.NONE,"already finalized"),assert.equal(!1,this.write_in_progress,"write already in progress"),assert.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,assert.equal(!1,void 0===e,"must provide flush value"),this.write_in_progress=!0,e!==exports.Z_NO_FLUSH&&e!==exports.Z_PARTIAL_FLUSH&&e!==exports.Z_SYNC_FLUSH&&e!==exports.Z_FULL_FLUSH&&e!==exports.Z_FINISH&&e!==exports.Z_BLOCK)throw new Error("Invalid flush value");if(null==s&&(s=Buffer.alloc(0),r=0,i=0),this.strm.avail_in=r,this.strm.input=s,this.strm.next_in=i,this.strm.avail_out=h,this.strm.output=o,this.strm.next_out=n,this.flush=e,t){var a=this;return process.nextTick(function(){a._process(),a._after()}),this}if(this._process(),this._checkError())return this._afterSync()},Zlib.prototype._afterSync=function(){var t=this.strm.avail_out,e=this.strm.avail_in;return this.write_in_progress=!1,[e,t]},Zlib.prototype._process=function(){var t=null;switch(this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflate(this.strm,this.flush);break;case exports.UNZIP:switch(this.strm.avail_in>0&&(t=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===t)break;if(this.strm.input[t]!==GZIP_HEADER_ID1){this.mode=exports.INFLATE;break}if(this.gzip_id_bytes_read=1,t++,1===this.strm.avail_in)break;case 1:if(null===t)break;this.strm.input[t]===GZIP_HEADER_ID2?(this.gzip_id_bytes_read=2,this.mode=exports.GUNZIP):this.mode=exports.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:for(this.err=zlib_inflate.inflate(this.strm,this.flush),this.err===exports.Z_NEED_DICT&&this.dictionary&&(this.err=zlib_inflate.inflateSetDictionary(this.strm,this.dictionary),this.err===exports.Z_OK?this.err=zlib_inflate.inflate(this.strm,this.flush):this.err===exports.Z_DATA_ERROR&&(this.err=exports.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===exports.GUNZIP&&this.err===exports.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=zlib_inflate.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},Zlib.prototype._checkError=function(){switch(this.err){case exports.Z_OK:case exports.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===exports.Z_FINISH)return this._error("unexpected end of file"),!1;break;case exports.Z_STREAM_END:break;case exports.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},Zlib.prototype._after=function(){if(this._checkError()){var t=this.strm.avail_out,e=this.strm.avail_in;this.write_in_progress=!1,this.callback(e,t),this.pending_close&&this.close()}},Zlib.prototype._error=function(t){this.strm.msg&&(t=this.strm.msg),this.onerror(t,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},Zlib.prototype.init=function(t,e,s,i,r){assert(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),assert(t>=8&&t<=15,"invalid windowBits"),assert(e>=-1&&e<=9,"invalid compression level"),assert(s>=1&&s<=9,"invalid memlevel"),assert(i===exports.Z_FILTERED||i===exports.Z_HUFFMAN_ONLY||i===exports.Z_RLE||i===exports.Z_FIXED||i===exports.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(e,t,s,i,r),this._setDictionary()},Zlib.prototype.params=function(){throw new Error("deflateParams Not supported")},Zlib.prototype.reset=function(){this._reset(),this._setDictionary()},Zlib.prototype._init=function(t,e,s,i,r){switch(this.level=t,this.windowBits=e,this.memLevel=s,this.strategy=i,this.flush=exports.Z_NO_FLUSH,this.err=exports.Z_OK,this.mode!==exports.GZIP&&this.mode!==exports.GUNZIP||(this.windowBits+=16),this.mode===exports.UNZIP&&(this.windowBits+=32),this.mode!==exports.DEFLATERAW&&this.mode!==exports.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new Zstream,this.mode){case exports.DEFLATE:case exports.GZIP:case exports.DEFLATERAW:this.err=zlib_deflate.deflateInit2(this.strm,this.level,exports.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case exports.INFLATE:case exports.GUNZIP:case exports.INFLATERAW:case exports.UNZIP:this.err=zlib_inflate.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==exports.Z_OK&&this._error("Init error"),this.dictionary=r,this.write_in_progress=!1,this.init_done=!0},Zlib.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:this.err=zlib_deflate.deflateSetDictionary(this.strm,this.dictionary)}this.err!==exports.Z_OK&&this._error("Failed to set dictionary")}},Zlib.prototype._reset=function(){switch(this.err=exports.Z_OK,this.mode){case exports.DEFLATE:case exports.DEFLATERAW:case exports.GZIP:this.err=zlib_deflate.deflateReset(this.strm);break;case exports.INFLATE:case exports.INFLATERAW:case exports.GUNZIP:this.err=zlib_inflate.inflateReset(this.strm)}this.err!==exports.Z_OK&&this._error("Failed to reset stream")},exports.Zlib=Zlib;
}).call(this,require('_process'),require("buffer").Buffer)

},{"_process":252,"assert":23,"buffer":68,"pako/lib/zlib/constants":231,"pako/lib/zlib/deflate.js":233,"pako/lib/zlib/inflate.js":235,"pako/lib/zlib/zstream":239}],65:[function(require,module,exports){
(function (process,Buffer){
"use strict";function zlibBuffer(e,n,i){function t(){for(var n;null!==(n=e.read());)f.push(n),o+=n.length;e.once("readable",t)}function r(n){e.removeListener("end",s),e.removeListener("readable",t),i(n)}function s(){var n,t=null;o>=kMaxLength?t=new RangeError(kRangeErrorMessage):n=Buffer.concat(f,o),f=[],e.close(),i(t,n)}var f=[],o=0;e.on("error",r),e.on("end",s),e.end(n),t()}function zlibBufferSync(e,n){if("string"==typeof n&&(n=Buffer.from(n)),!Buffer.isBuffer(n))throw new TypeError("Not a string or buffer");var i=e._finishFlushFlag;return e._processChunk(n,i)}function Deflate(e){if(!(this instanceof Deflate))return new Deflate(e);Zlib.call(this,e,binding.DEFLATE)}function Inflate(e){if(!(this instanceof Inflate))return new Inflate(e);Zlib.call(this,e,binding.INFLATE)}function Gzip(e){if(!(this instanceof Gzip))return new Gzip(e);Zlib.call(this,e,binding.GZIP)}function Gunzip(e){if(!(this instanceof Gunzip))return new Gunzip(e);Zlib.call(this,e,binding.GUNZIP)}function DeflateRaw(e){if(!(this instanceof DeflateRaw))return new DeflateRaw(e);Zlib.call(this,e,binding.DEFLATERAW)}function InflateRaw(e){if(!(this instanceof InflateRaw))return new InflateRaw(e);Zlib.call(this,e,binding.INFLATERAW)}function Unzip(e){if(!(this instanceof Unzip))return new Unzip(e);Zlib.call(this,e,binding.UNZIP)}function isValidFlushFlag(e){return e===binding.Z_NO_FLUSH||e===binding.Z_PARTIAL_FLUSH||e===binding.Z_SYNC_FLUSH||e===binding.Z_FULL_FLUSH||e===binding.Z_FINISH||e===binding.Z_BLOCK}function Zlib(e,n){var i=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||exports.Z_DEFAULT_CHUNK,Transform.call(this,e),e.flush&&!isValidFlushFlag(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!isValidFlushFlag(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||binding.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:binding.Z_FINISH,e.chunkSize&&(e.chunkSize<exports.Z_MIN_CHUNK||e.chunkSize>exports.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<exports.Z_MIN_WINDOWBITS||e.windowBits>exports.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<exports.Z_MIN_LEVEL||e.level>exports.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<exports.Z_MIN_MEMLEVEL||e.memLevel>exports.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=exports.Z_FILTERED&&e.strategy!=exports.Z_HUFFMAN_ONLY&&e.strategy!=exports.Z_RLE&&e.strategy!=exports.Z_FIXED&&e.strategy!=exports.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!Buffer.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new binding.Zlib(n);var t=this;this._hadError=!1,this._handle.onerror=function(e,n){_close(t),t._hadError=!0;var i=new Error(e);i.errno=n,i.code=exports.codes[n],t.emit("error",i)};var r=exports.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(r=e.level);var s=exports.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(s=e.strategy),this._handle.init(e.windowBits||exports.Z_DEFAULT_WINDOWBITS,r,e.memLevel||exports.Z_DEFAULT_MEMLEVEL,s,e.dictionary),this._buffer=Buffer.allocUnsafe(this._chunkSize),this._offset=0,this._level=r,this._strategy=s,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!i._handle},configurable:!0,enumerable:!0})}function _close(e,n){n&&process.nextTick(n),e._handle&&(e._handle.close(),e._handle=null)}function emitCloseNT(e){e.emit("close")}var Buffer=require("buffer").Buffer,Transform=require("stream").Transform,binding=require("./binding"),util=require("util"),assert=require("assert").ok,kMaxLength=require("buffer").kMaxLength,kRangeErrorMessage="Cannot create final Buffer. It would be larger than 0x"+kMaxLength.toString(16)+" bytes";binding.Z_MIN_WINDOWBITS=8,binding.Z_MAX_WINDOWBITS=15,binding.Z_DEFAULT_WINDOWBITS=15,binding.Z_MIN_CHUNK=64,binding.Z_MAX_CHUNK=1/0,binding.Z_DEFAULT_CHUNK=16384,binding.Z_MIN_MEMLEVEL=1,binding.Z_MAX_MEMLEVEL=9,binding.Z_DEFAULT_MEMLEVEL=8,binding.Z_MIN_LEVEL=-1,binding.Z_MAX_LEVEL=9,binding.Z_DEFAULT_LEVEL=binding.Z_DEFAULT_COMPRESSION;for(var bkeys=Object.keys(binding),bk=0;bk<bkeys.length;bk++){var bkey=bkeys[bk];bkey.match(/^Z/)&&Object.defineProperty(exports,bkey,{enumerable:!0,value:binding[bkey],writable:!1})}for(var codes={Z_OK:binding.Z_OK,Z_STREAM_END:binding.Z_STREAM_END,Z_NEED_DICT:binding.Z_NEED_DICT,Z_ERRNO:binding.Z_ERRNO,Z_STREAM_ERROR:binding.Z_STREAM_ERROR,Z_DATA_ERROR:binding.Z_DATA_ERROR,Z_MEM_ERROR:binding.Z_MEM_ERROR,Z_BUF_ERROR:binding.Z_BUF_ERROR,Z_VERSION_ERROR:binding.Z_VERSION_ERROR},ckeys=Object.keys(codes),ck=0;ck<ckeys.length;ck++){var ckey=ckeys[ck];codes[codes[ckey]]=ckey}Object.defineProperty(exports,"codes",{enumerable:!0,value:Object.freeze(codes),writable:!1}),exports.Deflate=Deflate,exports.Inflate=Inflate,exports.Gzip=Gzip,exports.Gunzip=Gunzip,exports.DeflateRaw=DeflateRaw,exports.InflateRaw=InflateRaw,exports.Unzip=Unzip,exports.createDeflate=function(e){return new Deflate(e)},exports.createInflate=function(e){return new Inflate(e)},exports.createDeflateRaw=function(e){return new DeflateRaw(e)},exports.createInflateRaw=function(e){return new InflateRaw(e)},exports.createGzip=function(e){return new Gzip(e)},exports.createGunzip=function(e){return new Gunzip(e)},exports.createUnzip=function(e){return new Unzip(e)},exports.deflate=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Deflate(n),e,i)},exports.deflateSync=function(e,n){return zlibBufferSync(new Deflate(n),e)},exports.gzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Gzip(n),e,i)},exports.gzipSync=function(e,n){return zlibBufferSync(new Gzip(n),e)},exports.deflateRaw=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new DeflateRaw(n),e,i)},exports.deflateRawSync=function(e,n){return zlibBufferSync(new DeflateRaw(n),e)},exports.unzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Unzip(n),e,i)},exports.unzipSync=function(e,n){return zlibBufferSync(new Unzip(n),e)},exports.inflate=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Inflate(n),e,i)},exports.inflateSync=function(e,n){return zlibBufferSync(new Inflate(n),e)},exports.gunzip=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new Gunzip(n),e,i)},exports.gunzipSync=function(e,n){return zlibBufferSync(new Gunzip(n),e)},exports.inflateRaw=function(e,n,i){return"function"==typeof n&&(i=n,n={}),zlibBuffer(new InflateRaw(n),e,i)},exports.inflateRawSync=function(e,n){return zlibBufferSync(new InflateRaw(n),e)},util.inherits(Zlib,Transform),Zlib.prototype.params=function(e,n,i){if(e<exports.Z_MIN_LEVEL||e>exports.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(n!=exports.Z_FILTERED&&n!=exports.Z_HUFFMAN_ONLY&&n!=exports.Z_RLE&&n!=exports.Z_FIXED&&n!=exports.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==e||this._strategy!==n){var t=this;this.flush(binding.Z_SYNC_FLUSH,function(){assert(t._handle,"zlib binding closed"),t._handle.params(e,n),t._hadError||(t._level=e,t._strategy=n,i&&i())})}else process.nextTick(i)},Zlib.prototype.reset=function(){return assert(this._handle,"zlib binding closed"),this._handle.reset()},Zlib.prototype._flush=function(e){this._transform(Buffer.alloc(0),"",e)},Zlib.prototype.flush=function(e,n){var i=this,t=this._writableState;("function"==typeof e||void 0===e&&!n)&&(n=e,e=binding.Z_FULL_FLUSH),t.ended?n&&process.nextTick(n):t.ending?n&&this.once("end",n):t.needDrain?n&&this.once("drain",function(){return i.flush(e,n)}):(this._flushFlag=e,this.write(Buffer.alloc(0),"",n))},Zlib.prototype.close=function(e){_close(this,e),process.nextTick(emitCloseNT,this)},Zlib.prototype._transform=function(e,n,i){var t,r=this._writableState,s=r.ending||r.ended,f=s&&(!e||r.length===e.length);return null===e||Buffer.isBuffer(e)?this._handle?(f?t=this._finishFlushFlag:(t=this._flushFlag,e.length>=r.length&&(this._flushFlag=this._opts.flush||binding.Z_NO_FLUSH)),void this._processChunk(e,t,i)):i(new Error("zlib binding closed")):i(new Error("invalid input"))},Zlib.prototype._processChunk=function(e,n,i){function t(a,c){if(this&&(this.buffer=null,this.callback=null),!o._hadError){var h=s-c;if(assert(h>=0,"have should not go down"),h>0){var d=o._buffer.slice(o._offset,o._offset+h);o._offset+=h,l?o.push(d):(u.push(d),_+=d.length)}if((0===c||o._offset>=o._chunkSize)&&(s=o._chunkSize,o._offset=0,o._buffer=Buffer.allocUnsafe(o._chunkSize)),0===c){if(f+=r-a,r=a,!l)return!0;var b=o._handle.write(n,e,f,r,o._buffer,o._offset,o._chunkSize);return b.callback=t,void(b.buffer=e)}if(!l)return!1;i()}}var r=e&&e.length,s=this._chunkSize-this._offset,f=0,o=this,l="function"==typeof i;if(!l){var a,u=[],_=0;this.on("error",function(e){a=e}),assert(this._handle,"zlib binding closed");do{var c=this._handle.writeSync(n,e,f,r,this._buffer,this._offset,s)}while(!this._hadError&&t(c[0],c[1]));if(this._hadError)throw a;if(_>=kMaxLength)throw _close(this),new RangeError(kRangeErrorMessage);var h=Buffer.concat(u,_);return _close(this),h}assert(this._handle,"zlib binding closed");var d=this._handle.write(n,e,f,r,this._buffer,this._offset,s);d.buffer=e,d.callback=t},util.inherits(Deflate,Zlib),util.inherits(Inflate,Zlib),util.inherits(Gzip,Zlib),util.inherits(Gunzip,Zlib),util.inherits(DeflateRaw,Zlib),util.inherits(InflateRaw,Zlib),util.inherits(Unzip,Zlib);
}).call(this,require('_process'),require("buffer").Buffer)

},{"./binding":64,"_process":252,"assert":23,"buffer":68,"stream":291,"util":307}],66:[function(require,module,exports){
arguments[4][36][0].apply(exports,arguments)
},{"dup":36}],67:[function(require,module,exports){
(function (Buffer){
module.exports=function(e,n){for(var r=Math.min(e.length,n.length),t=new Buffer(r),f=0;f<r;++f)t[f]=e[f]^n[f];return t};
}).call(this,require("buffer").Buffer)

},{"buffer":68}],68:[function(require,module,exports){
(function (Buffer){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return fromString(e,t);if(ArrayBuffer.isView(e))return fromArrayLike(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var f=fromObject(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}return void 0!==e.length?"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(f)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),f=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:Buffer.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
}).call(this,require("buffer").Buffer)

},{"base64-js":32,"buffer":68,"ieee754":126}],69:[function(require,module,exports){
"use strict";module.exports.BufferUtil={merge:function(e,t){for(var r=0,a=0,n=t.length;r<n;++r){var c=t[r];c.copy(e,a),a+=c.length}},mask:function(e,t,r,a,n){for(var c,s=t.readUInt32LE(0,!0),i=0;i<n-3;i+=4)c=s^e.readUInt32LE(i,!0),c<0&&(c=4294967296+c),r.writeUInt32LE(c,a+i,!0);switch(n%4){case 3:r[a+i+2]=e[i+2]^t[2];case 2:r[a+i+1]=e[i+1]^t[1];case 1:r[a+i]=e[i]^t[0]}},unmask:function(e,t){for(var r,a=t.readUInt32LE(0,!0),n=e.length,c=0;c<n-3;c+=4)r=a^e.readUInt32LE(c,!0),r<0&&(r=4294967296+r),e.writeUInt32LE(r,c,!0);switch(n%4){case 3:e[c+2]=e[c+2]^t[2];case 2:e[c+1]=e[c+1]^t[1];case 1:e[c]=e[c]^t[0]}}};
},{}],70:[function(require,module,exports){
"use strict";try{module.exports=require("bindings")("bufferutil")}catch(e){module.exports=require("./fallback")}
},{"./fallback":69,"bindings":33}],71:[function(require,module,exports){
module.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};
},{}],72:[function(require,module,exports){
function CipherBase(t){Transform.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var Buffer=require("safe-buffer").Buffer,Transform=require("stream").Transform,StringDecoder=require("string_decoder").StringDecoder,inherits=require("inherits");inherits(CipherBase,Transform),CipherBase.prototype.update=function(t,e,r){"string"==typeof t&&(t=Buffer.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(t,e,r){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{r(i)}},CipherBase.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},CipherBase.prototype._finalOrDigest=function(t){var e=this.__final()||Buffer.alloc(0);return t&&(e=this._toString(e,t,!0)),e},CipherBase.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new StringDecoder(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var i=this._decoder.write(t);return r&&(i+=this._decoder.end()),i},module.exports=CipherBase;
},{"inherits":"inherits","safe-buffer":282,"stream":291,"string_decoder":296}],73:[function(require,module,exports){
(function (Buffer){
function isArray(r){return Array.isArray?Array.isArray(r):"[object Array]"===objectToString(r)}function isBoolean(r){return"boolean"==typeof r}function isNull(r){return null===r}function isNullOrUndefined(r){return null==r}function isNumber(r){return"number"==typeof r}function isString(r){return"string"==typeof r}function isSymbol(r){return"symbol"==typeof r}function isUndefined(r){return void 0===r}function isRegExp(r){return"[object RegExp]"===objectToString(r)}function isObject(r){return"object"==typeof r&&null!==r}function isDate(r){return"[object Date]"===objectToString(r)}function isError(r){return"[object Error]"===objectToString(r)||r instanceof Error}function isFunction(r){return"function"==typeof r}function isPrimitive(r){return null===r||"boolean"==typeof r||"number"==typeof r||"string"==typeof r||"symbol"==typeof r||void 0===r}function objectToString(r){return Object.prototype.toString.call(r)}exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=Buffer.isBuffer;
}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":127}],74:[function(require,module,exports){
(function (Buffer){
function ECDH(e){this.curveType=aliases[e],this.curveType||(this.curveType={name:e}),this.curve=new elliptic.ec(this.curveType.name),this.keys=void 0}function formatReturnValue(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new Buffer(e);if(r&&i.length<r){var s=new Buffer(r-i.length);s.fill(0),i=Buffer.concat([s,i])}return t?i.toString(t):i}var elliptic=require("elliptic"),BN=require("bn.js");module.exports=function(e){return new ECDH(e)};var aliases={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};aliases.p224=aliases.secp224r1,aliases.p256=aliases.secp256r1=aliases.prime256v1,aliases.p192=aliases.secp192r1=aliases.prime192v1,aliases.p384=aliases.secp384r1,aliases.p521=aliases.secp521r1,ECDH.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},ECDH.prototype.computeSecret=function(e,t,r){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),formatReturnValue(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},ECDH.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),formatReturnValue(r,e)},ECDH.prototype.getPrivateKey=function(e){return formatReturnValue(this.keys.getPrivate(),e)},ECDH.prototype.setPublicKey=function(e,t){return t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t)),this.keys._importPublic(e),this},ECDH.prototype.setPrivateKey=function(e,t){t=t||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,t));var r=new BN(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this};
}).call(this,require("buffer").Buffer)

},{"bn.js":34,"buffer":68,"elliptic":91}],75:[function(require,module,exports){
"use strict";function Hash(e){Base.call(this,"digest"),this._hash=e}var inherits=require("inherits"),MD5=require("md5.js"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),Base=require("cipher-base");inherits(Hash,Base),Hash.prototype._update=function(e){this._hash.update(e)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function(e){return e=e.toLowerCase(),"md5"===e?new MD5:"rmd160"===e||"ripemd160"===e?new RIPEMD160:new Hash(sha(e))};
},{"cipher-base":72,"inherits":"inherits","md5.js":224,"ripemd160":281,"sha.js":284}],76:[function(require,module,exports){
var MD5=require("md5.js");module.exports=function(e){return(new MD5).update(e).digest()};
},{"md5.js":224}],77:[function(require,module,exports){
(function (Buffer){
"use strict";function Hmac(e,a){Base.call(this,"digest"),"string"==typeof a&&(a=Buffer.from(a));var r="sha512"===e||"sha384"===e?128:64;if(this._alg=e,this._key=a,a.length>r){a=("rmd160"===e?new RIPEMD160:sha(e)).update(a).digest()}else a.length<r&&(a=Buffer.concat([a,ZEROS],r));for(var s=this._ipad=Buffer.allocUnsafe(r),t=this._opad=Buffer.allocUnsafe(r),i=0;i<r;i++)s[i]=54^a[i],t[i]=92^a[i];this._hash="rmd160"===e?new RIPEMD160:sha(e),this._hash.update(s)}var inherits=require("inherits"),Legacy=require("./legacy"),Base=require("cipher-base"),Buffer=require("safe-buffer").Buffer,md5=require("create-hash/md5"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),ZEROS=Buffer.alloc(128);inherits(Hmac,Base),Hmac.prototype._update=function(e){this._hash.update(e)},Hmac.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new RIPEMD160:sha(this._alg)).update(this._opad).update(e).digest()},module.exports=function(e,a){return e=e.toLowerCase(),"rmd160"===e||"ripemd160"===e?new Hmac("rmd160",a):"md5"===e?new Legacy(md5,a):new Hmac(e,a)};
}).call(this,require("buffer").Buffer)

},{"./legacy":78,"buffer":68,"cipher-base":72,"create-hash/md5":76,"inherits":"inherits","ripemd160":281,"safe-buffer":282,"sha.js":284}],78:[function(require,module,exports){
(function (Buffer){
"use strict";function Hmac(e,s){Base.call(this,"digest"),"string"==typeof s&&(s=Buffer.from(s)),this._alg=e,this._key=s,s.length>blocksize?s=e(s):s.length<blocksize&&(s=Buffer.concat([s,ZEROS],blocksize));for(var i=this._ipad=Buffer.allocUnsafe(blocksize),t=this._opad=Buffer.allocUnsafe(blocksize),a=0;a<blocksize;a++)i[a]=54^s[a],t[a]=92^s[a];this._hash=[i]}var inherits=require("inherits"),Buffer=require("safe-buffer").Buffer,Base=require("cipher-base"),ZEROS=Buffer.alloc(128),blocksize=64;inherits(Hmac,Base),Hmac.prototype._update=function(e){this._hash.push(e)},Hmac.prototype._final=function(){var e=this._alg(Buffer.concat(this._hash));return this._alg(Buffer.concat([this._opad,e]))},module.exports=Hmac;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"cipher-base":72,"inherits":"inherits","safe-buffer":282}],79:[function(require,module,exports){
"use strict";exports.randomBytes=exports.rng=exports.pseudoRandomBytes=exports.prng=require("randombytes"),exports.createHash=exports.Hash=require("create-hash"),exports.createHmac=exports.Hmac=require("create-hmac");var algos=require("browserify-sign/algos"),algoKeys=Object.keys(algos),hashes=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(algoKeys);exports.getHashes=function(){return hashes};var p=require("pbkdf2");exports.pbkdf2=p.pbkdf2,exports.pbkdf2Sync=p.pbkdf2Sync;var aes=require("browserify-cipher");exports.Cipher=aes.Cipher,exports.createCipher=aes.createCipher,exports.Cipheriv=aes.Cipheriv,exports.createCipheriv=aes.createCipheriv,exports.Decipher=aes.Decipher,exports.createDecipher=aes.createDecipher,exports.Decipheriv=aes.Decipheriv,exports.createDecipheriv=aes.createDecipheriv,exports.getCiphers=aes.getCiphers,exports.listCiphers=aes.listCiphers;var dh=require("diffie-hellman");exports.DiffieHellmanGroup=dh.DiffieHellmanGroup,exports.createDiffieHellmanGroup=dh.createDiffieHellmanGroup,exports.getDiffieHellman=dh.getDiffieHellman,exports.createDiffieHellman=dh.createDiffieHellman,exports.DiffieHellman=dh.DiffieHellman;var sign=require("browserify-sign");exports.createSign=sign.createSign,exports.Sign=sign.Sign,exports.createVerify=sign.createVerify,exports.Verify=sign.Verify,exports.createECDH=require("create-ecdh");var publicEncrypt=require("public-encrypt");exports.publicEncrypt=publicEncrypt.publicEncrypt,exports.privateEncrypt=publicEncrypt.privateEncrypt,exports.publicDecrypt=publicEncrypt.publicDecrypt,exports.privateDecrypt=publicEncrypt.privateDecrypt;var rf=require("randomfill");exports.randomFill=rf.randomFill,exports.randomFillSync=rf.randomFillSync,exports.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},exports.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6};
},{"browserify-cipher":54,"browserify-sign":61,"browserify-sign/algos":58,"create-ecdh":74,"create-hash":75,"create-hmac":77,"diffie-hellman":86,"pbkdf2":246,"public-encrypt":253,"randombytes":263,"randomfill":264}],80:[function(require,module,exports){
"use strict";exports.utils=require("./des/utils"),exports.Cipher=require("./des/cipher"),exports.DES=require("./des/des"),exports.CBC=require("./des/cbc"),exports.EDE=require("./des/ede");
},{"./des/cbc":81,"./des/cipher":82,"./des/des":83,"./des/ede":84,"./des/utils":85}],81:[function(require,module,exports){
"use strict";function CBCState(t){assert.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var i=0;i<this.iv.length;i++)this.iv[i]=t[i]}function instantiate(t){function i(i){t.call(this,i),this._cbcInit()}inherits(i,t);for(var e=Object.keys(proto),r=0;r<e.length;r++){var n=e[r];i.prototype[n]=proto[n]}return i.create=function(t){return new i(t)},i}var assert=require("minimalistic-assert"),inherits=require("inherits"),proto={};exports.instantiate=instantiate,proto._cbcInit=function(){var t=new CBCState(this.options.iv);this._cbcState=t},proto._update=function(t,i,e,r){var n=this._cbcState,s=this.constructor.super_.prototype,o=n.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)o[a]^=t[i+a];s._update.call(this,o,0,e,r);for(var a=0;a<this.blockSize;a++)o[a]=e[r+a]}else{s._update.call(this,t,i,e,r);for(var a=0;a<this.blockSize;a++)e[r+a]^=o[a];for(var a=0;a<this.blockSize;a++)o[a]=t[i+a]}};
},{"inherits":"inherits","minimalistic-assert":226}],82:[function(require,module,exports){
"use strict";function Cipher(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var assert=require("minimalistic-assert");module.exports=Cipher,Cipher.prototype._init=function(){},Cipher.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},Cipher.prototype._buffer=function(t,e){for(var r=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<r;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=r,r},Cipher.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},Cipher.prototype._updateEncrypt=function(t){var e=0,r=0,i=(this.bufferOff+t.length)/this.blockSize|0,f=new Array(i*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(f,r)));for(var h=t.length-(t.length-e)%this.blockSize;e<h;e+=this.blockSize)this._update(t,e,f,r),r+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return f},Cipher.prototype._updateDecrypt=function(t){for(var e=0,r=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,f=new Array(i*this.blockSize);i>0;i--)e+=this._buffer(t,e),r+=this._flushBuffer(f,r);return e+=this._buffer(t,e),f},Cipher.prototype.final=function(t){var e;t&&(e=this.update(t));var r;return r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(r):r},Cipher.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},Cipher.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},Cipher.prototype._unpad=function(t){return t},Cipher.prototype._finalDecrypt=function(){assert.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};
},{"minimalistic-assert":226}],83:[function(require,module,exports){
"use strict";function DESState(){this.tmp=new Array(2),this.keys=null}function DES(t){Cipher.call(this,t);var e=new DESState;this._desState=e,this.deriveKeys(e,t.key)}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),utils=des.utils,Cipher=des.Cipher;inherits(DES,Cipher),module.exports=DES,DES.create=function(t){return new DES(t)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES.prototype.deriveKeys=function(t,e){t.keys=new Array(32),assert.equal(e.length,this.blockSize,"Invalid key length");var r=utils.readUInt32BE(e,0),s=utils.readUInt32BE(e,4);utils.pc1(r,s,t.tmp,0),r=t.tmp[0],s=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var n=shiftTable[i>>>1];r=utils.r28shl(r,n),s=utils.r28shl(s,n),utils.pc2(r,s,t.keys,i)}},DES.prototype._update=function(t,e,r,s){var i=this._desState,n=utils.readUInt32BE(t,e),p=utils.readUInt32BE(t,e+4);utils.ip(n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],"encrypt"===this.type?this._encrypt(i,n,p,i.tmp,0):this._decrypt(i,n,p,i.tmp,0),n=i.tmp[0],p=i.tmp[1],utils.writeUInt32BE(r,n,s),utils.writeUInt32BE(r,p,s+4)},DES.prototype._pad=function(t,e){for(var r=t.length-e,s=e;s<t.length;s++)t[s]=r;return!0},DES.prototype._unpad=function(t){for(var e=t[t.length-1],r=t.length-e;r<t.length;r++)assert.equal(t[r],e);return t.slice(0,t.length-e)},DES.prototype._encrypt=function(t,e,r,s,i){for(var n=e,p=r,u=0;u<t.keys.length;u+=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(p,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=p;p=(n^o)>>>0,n=y}utils.rip(p,n,s,i)},DES.prototype._decrypt=function(t,e,r,s,i){for(var n=r,p=e,u=t.keys.length-2;u>=0;u-=2){var l=t.keys[u],a=t.keys[u+1];utils.expand(n,t.tmp,0),l^=t.tmp[0],a^=t.tmp[1];var h=utils.substitute(l,a),o=utils.permute(h),y=n;n=(p^o)>>>0,p=y}utils.rip(n,p,s,i)};
},{"../des":80,"inherits":"inherits","minimalistic-assert":226}],84:[function(require,module,exports){
"use strict";function EDEState(e,t){assert.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),p=t.slice(8,16),i=t.slice(16,24);this.ciphers="encrypt"===e?[DES.create({type:"encrypt",key:r}),DES.create({type:"decrypt",key:p}),DES.create({type:"encrypt",key:i})]:[DES.create({type:"decrypt",key:i}),DES.create({type:"encrypt",key:p}),DES.create({type:"decrypt",key:r})]}function EDE(e){Cipher.call(this,e);var t=new EDEState(this.type,this.options.key);this._edeState=t}var assert=require("minimalistic-assert"),inherits=require("inherits"),des=require("../des"),Cipher=des.Cipher,DES=des.DES;inherits(EDE,Cipher),module.exports=EDE,EDE.create=function(e){return new EDE(e)},EDE.prototype._update=function(e,t,r,p){var i=this._edeState;i.ciphers[0]._update(e,t,r,p),i.ciphers[1]._update(r,p,r,p),i.ciphers[2]._update(r,p,r,p)},EDE.prototype._pad=DES.prototype._pad,EDE.prototype._unpad=DES.prototype._unpad;
},{"../des":80,"inherits":"inherits","minimalistic-assert":226}],85:[function(require,module,exports){
"use strict";exports.readUInt32BE=function(r,o){return(r[0+o]<<24|r[1+o]<<16|r[2+o]<<8|r[3+o])>>>0},exports.writeUInt32BE=function(r,o,t){r[0+t]=o>>>24,r[1+t]=o>>>16&255,r[2+t]=o>>>8&255,r[3+t]=255&o},exports.ip=function(r,o,t,a){for(var e=0,f=0,n=6;n>=0;n-=2){for(var v=0;v<=24;v+=8)e<<=1,e|=o>>>v+n&1;for(var v=0;v<=24;v+=8)e<<=1,e|=r>>>v+n&1}for(var n=6;n>=0;n-=2){for(var v=1;v<=25;v+=8)f<<=1,f|=o>>>v+n&1;for(var v=1;v<=25;v+=8)f<<=1,f|=r>>>v+n&1}t[a+0]=e>>>0,t[a+1]=f>>>0},exports.rip=function(r,o,t,a){for(var e=0,f=0,n=0;n<4;n++)for(var v=24;v>=0;v-=8)e<<=1,e|=o>>>v+n&1,e<<=1,e|=r>>>v+n&1;for(var n=4;n<8;n++)for(var v=24;v>=0;v-=8)f<<=1,f|=o>>>v+n&1,f<<=1,f|=r>>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.pc1=function(r,o,t,a){for(var e=0,f=0,n=7;n>=5;n--){for(var v=0;v<=24;v+=8)e<<=1,e|=o>>v+n&1;for(var v=0;v<=24;v+=8)e<<=1,e|=r>>v+n&1}for(var v=0;v<=24;v+=8)e<<=1,e|=o>>v+n&1;for(var n=1;n<=3;n++){for(var v=0;v<=24;v+=8)f<<=1,f|=o>>v+n&1;for(var v=0;v<=24;v+=8)f<<=1,f|=r>>v+n&1}for(var v=0;v<=24;v+=8)f<<=1,f|=r>>v+n&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.r28shl=function(r,o){return r<<o&268435455|r>>>28-o};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];exports.pc2=function(r,o,t,a){for(var e=0,f=0,n=pc2table.length>>>1,v=0;v<n;v++)e<<=1,e|=r>>>pc2table[v]&1;for(var v=n;v<pc2table.length;v++)f<<=1,f|=o>>>pc2table[v]&1;t[a+0]=e>>>0,t[a+1]=f>>>0},exports.expand=function(r,o,t){var a=0,e=0;a=(1&r)<<5|r>>>27;for(var f=23;f>=15;f-=4)a<<=6,a|=r>>>f&63;for(var f=11;f>=3;f-=4)e|=r>>>f&63,e<<=6;e|=(31&r)<<1|r>>>31,o[t+0]=a>>>0,o[t+1]=e>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];exports.substitute=function(r,o){for(var t=0,a=0;a<4;a++){var e=r>>>18-6*a&63,f=sTable[64*a+e];t<<=4,t|=f}for(var a=0;a<4;a++){var e=o>>>18-6*a&63,f=sTable[256+64*a+e];t<<=4,t|=f}return t>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];exports.permute=function(r){for(var o=0,t=0;t<permuteTable.length;t++)o<<=1,o|=r>>>permuteTable[t]&1;return o>>>0},exports.padSplit=function(r,o,t){for(var a=r.toString(2);a.length<o;)a="0"+a;for(var e=[],f=0;f<o;f+=t)e.push(a.slice(f,f+t));return e.join(" ")};
},{}],86:[function(require,module,exports){
(function (Buffer){
function getDiffieHellman(e){var r=new Buffer(primes[e].prime,"hex"),f=new Buffer(primes[e].gen,"hex");return new DH(r,f)}function createDiffieHellman(e,r,f,i){return Buffer.isBuffer(r)||void 0===ENCODINGS[r]?createDiffieHellman(e,"binary",r,f):(r=r||"binary",i=i||"binary",f=f||new Buffer([2]),Buffer.isBuffer(f)||(f=new Buffer(f,i)),"number"==typeof e?new DH(generatePrime(e,f),f,!0):(Buffer.isBuffer(e)||(e=new Buffer(e,r)),new DH(e,f,!0)))}var generatePrime=require("./lib/generatePrime"),primes=require("./lib/primes.json"),DH=require("./lib/dh"),ENCODINGS={binary:!0,hex:!0,base64:!0};exports.DiffieHellmanGroup=exports.createDiffieHellmanGroup=exports.getDiffieHellman=getDiffieHellman,exports.createDiffieHellman=exports.DiffieHellman=createDiffieHellman;
}).call(this,require("buffer").Buffer)

},{"./lib/dh":87,"./lib/generatePrime":88,"./lib/primes.json":89,"buffer":68}],87:[function(require,module,exports){
(function (Buffer){
function setPublicKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._pub=new BN(e),this}function setPrivateKey(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this._priv=new BN(e),this}function checkPrime(e,r){var t=r.toString("hex"),i=[t,e.toString(16)].join("_");if(i in primeCache)return primeCache[i];var n=0;if(e.isEven()||!primes.simpleSieve||!primes.fermatTest(e)||!millerRabin.test(e))return n+=1,n+="02"===t||"05"===t?8:4,primeCache[i]=n,n;millerRabin.test(e.shrn(1))||(n+=2);var u;switch(t){case"02":e.mod(TWENTYFOUR).cmp(ELEVEN)&&(n+=8);break;case"05":u=e.mod(TEN),u.cmp(THREE)&&u.cmp(SEVEN)&&(n+=8);break;default:n+=4}return primeCache[i]=n,n}function DH(e,r,t){this.setGenerator(r),this.__prime=new BN(e),this._prime=BN.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,t?(this.setPublicKey=setPublicKey,this.setPrivateKey=setPrivateKey):this._primeCode=8}function formatReturnValue(e,r){var t=new Buffer(e.toArray());return r?t.toString(r):t}var BN=require("bn.js"),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,TWENTYFOUR=new BN(24),ELEVEN=new BN(11),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),primes=require("./generatePrime"),randomBytes=require("randombytes");module.exports=DH;var primeCache={};Object.defineProperty(DH.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=checkPrime(this.__prime,this.__gen)),this._primeCode}}),DH.prototype.generateKeys=function(){return this._priv||(this._priv=new BN(randomBytes(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},DH.prototype.computeSecret=function(e){e=new BN(e),e=e.toRed(this._prime);var r=e.redPow(this._priv).fromRed(),t=new Buffer(r.toArray()),i=this.getPrime();if(t.length<i.length){var n=new Buffer(i.length-t.length);n.fill(0),t=Buffer.concat([n,t])}return t},DH.prototype.getPublicKey=function(e){return formatReturnValue(this._pub,e)},DH.prototype.getPrivateKey=function(e){return formatReturnValue(this._priv,e)},DH.prototype.getPrime=function(e){return formatReturnValue(this.__prime,e)},DH.prototype.getGenerator=function(e){return formatReturnValue(this._gen,e)},DH.prototype.setGenerator=function(e,r){return r=r||"utf8",Buffer.isBuffer(e)||(e=new Buffer(e,r)),this.__gen=e,this._gen=new BN(e),this};
}).call(this,require("buffer").Buffer)

},{"./generatePrime":88,"bn.js":34,"buffer":68,"miller-rabin":225,"randombytes":263}],88:[function(require,module,exports){
function _getPrimes(){if(null!==primes)return primes;var e=[];e[0]=2;for(var r=1,i=3;i<1048576;i+=2){for(var n=Math.ceil(Math.sqrt(i)),t=0;t<r&&e[t]<=n&&i%e[t]!=0;t++);r!==t&&e[t]<=n||(e[r++]=i)}return primes=e,e}function simpleSieve(e){for(var r=_getPrimes(),i=0;i<r.length;i++)if(0===e.modn(r[i]))return 0===e.cmpn(r[i]);return!0}function fermatTest(e){var r=BN.mont(e);return 0===TWO.toRed(r).redPow(e.subn(1)).fromRed().cmpn(1)}function findPrime(e,r){if(e<16)return new BN(2===r||5===r?[140,123]:[140,39]);r=new BN(r);for(var i,n;;){for(i=new BN(randomBytes(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(ONE),i.testn(1)||i.iadd(TWO),r.cmp(TWO)){if(!r.cmp(FIVE))for(;i.mod(TEN).cmp(THREE);)i.iadd(FOUR)}else for(;i.mod(TWENTYFOUR).cmp(ELEVEN);)i.iadd(FOUR);if(n=i.shrn(1),simpleSieve(n)&&simpleSieve(i)&&fermatTest(n)&&fermatTest(i)&&millerRabin.test(n)&&millerRabin.test(i))return i}}var randomBytes=require("randombytes");module.exports=findPrime,findPrime.simpleSieve=simpleSieve,findPrime.fermatTest=fermatTest;var BN=require("bn.js"),TWENTYFOUR=new BN(24),MillerRabin=require("miller-rabin"),millerRabin=new MillerRabin,ONE=new BN(1),TWO=new BN(2),FIVE=new BN(5),SIXTEEN=new BN(16),EIGHT=new BN(8),TEN=new BN(10),THREE=new BN(3),SEVEN=new BN(7),ELEVEN=new BN(11),FOUR=new BN(4),TWELVE=new BN(12),primes=null;
},{"bn.js":34,"miller-rabin":225,"randombytes":263}],89:[function(require,module,exports){
module.exports={"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}
},{}],90:[function(require,module,exports){
"use strict";module.exports=function(){var r=require("events"),t={};return t.createDomain=t.create=function(){function t(r){e.emit("error",r)}var e=new r.EventEmitter;return e.add=function(r){r.on("error",t)},e.remove=function(r){r.removeListener("error",t)},e.bind=function(r){return function(){var e=Array.prototype.slice.call(arguments);try{r.apply(null,e)}catch(r){t(r)}}},e.intercept=function(r){return function(e){if(e)t(e);else{var n=Array.prototype.slice.call(arguments,1);try{r.apply(null,n)}catch(e){t(e)}}}},e.run=function(r){try{r()}catch(r){t(r)}return this},e.dispose=function(){return this.removeAllListeners(),this},e.enter=e.exit=function(){return this},e},t}.call(this);
},{"events":108}],91:[function(require,module,exports){
"use strict";var elliptic=exports;elliptic.version=require("../package.json").version,elliptic.utils=require("./elliptic/utils"),elliptic.rand=require("brorand"),elliptic.curve=require("./elliptic/curve"),elliptic.curves=require("./elliptic/curves"),elliptic.ec=require("./elliptic/ec"),elliptic.eddsa=require("./elliptic/eddsa");
},{"../package.json":106,"./elliptic/curve":94,"./elliptic/curves":97,"./elliptic/ec":98,"./elliptic/eddsa":101,"./elliptic/utils":105,"brorand":35}],92:[function(require,module,exports){
"use strict";function BaseCurve(t,e){this.type=t,this.p=new BN(e.p,16),this.red=e.prime?BN.red(e.prime):BN.mont(this.p),this.zero=new BN(0).toRed(this.red),this.one=new BN(1).toRed(this.red),this.two=new BN(2).toRed(this.red),this.n=e.n&&new BN(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function BasePoint(t,e){this.curve=t,this.type=e,this.precomputed=null}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,getNAF=utils.getNAF,getJSF=utils.getJSF,assert=utils.assert;module.exports=BaseCurve,BaseCurve.prototype.point=function(){throw new Error("Not implemented")},BaseCurve.prototype.validate=function(){throw new Error("Not implemented")},BaseCurve.prototype._fixedNafMul=function(t,e){assert(t.precomputed);var r=t._getDoubles(),n=getNAF(e,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var o=[],s=0;s<n.length;s+=r.step){for(var a=0,e=s+r.step-1;e>=s;e--)a=(a<<1)+n[e];o.push(a)}for(var p=this.jpoint(null,null,null),u=this.jpoint(null,null,null),d=i;d>0;d--){for(var s=0;s<o.length;s++){var a=o[s];a===d?u=u.mixedAdd(r.points[s]):a===-d&&(u=u.mixedAdd(r.points[s].neg()))}p=p.add(u)}return p.toP()},BaseCurve.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=getNAF(e,r),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var e=0;a>=0&&0===o[a];a--)e++;if(a>=0&&e++,s=s.dblp(e),a<0)break;var p=o[a];assert(0!==p),s="affine"===t.type?p>0?s.mixedAdd(i[p-1>>1]):s.mixedAdd(i[-p-1>>1].neg()):p>0?s.add(i[p-1>>1]):s.add(i[-p-1>>1].neg())}return"affine"===t.type?s.toP():s},BaseCurve.prototype._wnafMulAdd=function(t,e,r,n,i){for(var o=this._wnafT1,s=this._wnafT2,a=this._wnafT3,p=0,u=0;u<n;u++){var d=e[u],l=d._getNAFPoints(t);o[u]=l.wnd,s[u]=l.points}for(var u=n-1;u>=1;u-=2){var h=u-1,f=u;if(1===o[h]&&1===o[f]){var c=[e[h],null,null,e[f]];0===e[h].y.cmp(e[f].y)?(c[1]=e[h].add(e[f]),c[2]=e[h].toJ().mixedAdd(e[f].neg())):0===e[h].y.cmp(e[f].y.redNeg())?(c[1]=e[h].toJ().mixedAdd(e[f]),c[2]=e[h].add(e[f].neg())):(c[1]=e[h].toJ().mixedAdd(e[f]),c[2]=e[h].toJ().mixedAdd(e[f].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=getJSF(r[h],r[f]);p=Math.max(g[0].length,p),a[h]=new Array(p),a[f]=new Array(p);for(var m=0;m<p;m++){var y=0|g[0][m],w=0|g[1][m];a[h][m]=v[3*(y+1)+(w+1)],a[f][m]=0,s[h]=c}}else a[h]=getNAF(r[h],o[h]),a[f]=getNAF(r[f],o[f]),p=Math.max(a[h].length,p),p=Math.max(a[f].length,p)}for(var B=this.jpoint(null,null,null),A=this._wnafT4,u=p;u>=0;u--){for(var b=0;u>=0;){for(var N=!0,m=0;m<n;m++)A[m]=0|a[m][u],0!==A[m]&&(N=!1);if(!N)break;b++,u--}if(u>=0&&b++,B=B.dblp(b),u<0)break;for(var m=0;m<n;m++){var d,_=A[m];0!==_&&(_>0?d=s[m][_-1>>1]:_<0&&(d=s[m][-_-1>>1].neg()),B="affine"===d.type?B.mixedAdd(d):B.add(d))}}for(var u=0;u<n;u++)s[u]=null;return i?B:B.toP()},BaseCurve.BasePoint=BasePoint,BasePoint.prototype.eq=function(){throw new Error("Not implemented")},BasePoint.prototype.validate=function(){return this.curve.validate(this)},BaseCurve.prototype.decodePoint=function(t,e){t=utils.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r){6===t[0]?assert(t[t.length-1]%2==0):7===t[0]&&assert(t[t.length-1]%2==1);return this.point(t.slice(1,1+r),t.slice(1+r,1+2*r))}if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},BasePoint.prototype.encodeCompressed=function(t){return this.encode(t,!0)},BasePoint.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},BasePoint.prototype.encode=function(t,e){return utils.encode(this._encode(e),t)},BasePoint.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},BasePoint.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},BasePoint.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)n=n.dbl();r.push(n)}return{step:t,points:r}},BasePoint.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},BasePoint.prototype._getBeta=function(){return null},BasePoint.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};
},{"../../elliptic":91,"bn.js":34}],93:[function(require,module,exports){
"use strict";function EdwardsCurve(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,Base.call(this,"edwards",t),this.a=new BN(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function Point(t,r,e,i,d){Base.BasePoint.call(this,t,"projective"),null===r&&null===e&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN(r,16),this.y=new BN(e,16),this.z=i?new BN(i,16):this.curve.one,this.t=d&&new BN(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(EdwardsCurve,Base),module.exports=EdwardsCurve,EdwardsCurve.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},EdwardsCurve.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},EdwardsCurve.prototype.jpoint=function(t,r,e,i){return this.point(t,r,e,i)},EdwardsCurve.prototype.pointFromX=function(t,r){t=new BN(t,16),t.red||(t=t.toRed(this.red));var e=t.redSqr(),i=this.c2.redSub(this.a.redMul(e)),d=this.one.redSub(this.c2.redMul(this.d).redMul(e)),s=i.redMul(d.redInvm()),u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var n=u.fromRed().isOdd();return(r&&!n||!r&&n)&&(u=u.redNeg()),this.point(t,u)},EdwardsCurve.prototype.pointFromY=function(t,r){t=new BN(t,16),t.red||(t=t.toRed(this.red));var e=t.redSqr(),i=e.redSub(this.c2),d=e.redMul(this.d).redMul(this.c2).redSub(this.a),s=i.redMul(d.redInvm());if(0===s.cmp(this.zero)){if(r)throw new Error("invalid point");return this.point(this.zero,t)}var u=s.redSqrt();if(0!==u.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return u.fromRed().isOdd()!==r&&(u=u.redNeg()),this.point(u,t)},EdwardsCurve.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var r=t.x.redSqr(),e=t.y.redSqr(),i=r.redMul(this.a).redAdd(e),d=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(e)));return 0===i.cmp(d)},inherits(Point,Base.BasePoint),EdwardsCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},EdwardsCurve.prototype.point=function(t,r,e,i){return new Point(this,t,r,e,i)},Point.fromJSON=function(t,r){return new Point(t,r[0],r[1],r[2])},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Point.prototype._extDbl=function(){var t=this.x.redSqr(),r=this.y.redSqr(),e=this.z.redSqr();e=e.redIAdd(e);var i=this.curve._mulA(t),d=this.x.redAdd(this.y).redSqr().redISub(t).redISub(r),s=i.redAdd(r),u=s.redSub(e),n=i.redSub(r),h=d.redMul(u),o=s.redMul(n),l=d.redMul(n),c=u.redMul(s);return this.curve.point(h,o,c,l)},Point.prototype._projDbl=function(){var t,r,e,i=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var u=this.curve._mulA(d),n=u.redAdd(s);if(this.zOne)t=i.redSub(d).redSub(s).redMul(n.redSub(this.curve.two)),r=n.redMul(u.redSub(s)),e=n.redSqr().redSub(n).redSub(n);else{var h=this.z.redSqr(),o=n.redSub(h).redISub(h);t=i.redSub(d).redISub(s).redMul(o),r=n.redMul(u.redSub(s)),e=n.redMul(o)}}else{var u=d.redAdd(s),h=this.curve._mulC(this.z).redSqr(),o=u.redSub(h).redSub(h);t=this.curve._mulC(i.redISub(u)).redMul(o),r=this.curve._mulC(u).redMul(d.redISub(s)),e=u.redMul(o)}return this.curve.point(t,r,e)},Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Point.prototype._extAdd=function(t){var r=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),e=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),d=this.z.redMul(t.z.redAdd(t.z)),s=e.redSub(r),u=d.redSub(i),n=d.redAdd(i),h=e.redAdd(r),o=s.redMul(u),l=n.redMul(h),c=s.redMul(h),p=u.redMul(n);return this.curve.point(o,l,p,c)},Point.prototype._projAdd=function(t){var r,e,i=this.z.redMul(t.z),d=i.redSqr(),s=this.x.redMul(t.x),u=this.y.redMul(t.y),n=this.curve.d.redMul(s).redMul(u),h=d.redSub(n),o=d.redAdd(n),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(u),c=i.redMul(h).redMul(l);return this.curve.twisted?(r=i.redMul(o).redMul(u.redSub(this.curve._mulA(s))),e=h.redMul(o)):(r=i.redMul(o).redMul(u.redSub(s)),e=this.curve._mulC(h).redMul(o)),this.curve.point(c,r,e)},Point.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Point.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Point.prototype.mulAdd=function(t,r,e){return this.curve._wnafMulAdd(1,[this,r],[t,e],2,!1)},Point.prototype.jmulAdd=function(t,r,e){return this.curve._wnafMulAdd(1,[this,r],[t,e],2,!0)},Point.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Point.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},Point.prototype.eqXToP=function(t){var r=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(r))return!0;for(var e=t.clone(),i=this.curve.redN.redMul(this.z);;){if(e.iadd(this.curve.n),e.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Point.prototype.toP=Point.prototype.normalize,Point.prototype.mixedAdd=Point.prototype.add;
},{"../../elliptic":91,"../curve":94,"bn.js":34,"inherits":"inherits"}],94:[function(require,module,exports){
"use strict";var curve=exports;curve.base=require("./base"),curve.short=require("./short"),curve.mont=require("./mont"),curve.edwards=require("./edwards");
},{"./base":92,"./edwards":93,"./mont":95,"./short":96}],95:[function(require,module,exports){
"use strict";function MontCurve(t){Base.call(this,"mont",t),this.a=new BN(t.a,16).toRed(this.red),this.b=new BN(t.b,16).toRed(this.red),this.i4=new BN(4).toRed(this.red).redInvm(),this.two=new BN(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function Point(t,r,e){Base.BasePoint.call(this,t,"projective"),null===r&&null===e?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN(r,16),this.z=new BN(e,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var curve=require("../curve"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,elliptic=require("../../elliptic"),utils=elliptic.utils;inherits(MontCurve,Base),module.exports=MontCurve,MontCurve.prototype.validate=function(t){var r=t.normalize().x,e=r.redSqr(),i=e.redMul(r).redAdd(e.redMul(this.a)).redAdd(r);return 0===i.redSqrt().redSqr().cmp(i)},inherits(Point,Base.BasePoint),MontCurve.prototype.decodePoint=function(t,r){return this.point(utils.toArray(t,r),1)},MontCurve.prototype.point=function(t,r){return new Point(this,t,r)},MontCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)},Point.prototype.precompute=function(){},Point.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Point.fromJSON=function(t,r){return new Point(t,r[0],r[1]||t.one)},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Point.prototype.dbl=function(){var t=this.x.redAdd(this.z),r=t.redSqr(),e=this.x.redSub(this.z),i=e.redSqr(),o=r.redSub(i),n=r.redMul(i),u=o.redMul(i.redAdd(this.curve.a24.redMul(o)));return this.curve.point(n,u)},Point.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.diffAdd=function(t,r){var e=this.x.redAdd(this.z),i=this.x.redSub(this.z),o=t.x.redAdd(t.z),n=t.x.redSub(t.z),u=n.redMul(e),d=o.redMul(i),s=r.z.redMul(u.redAdd(d).redSqr()),h=r.x.redMul(u.redISub(d).redSqr());return this.curve.point(s,h)},Point.prototype.mul=function(t){for(var r=t.clone(),e=this,i=this.curve.point(null,null),o=this,n=[];0!==r.cmpn(0);r.iushrn(1))n.push(r.andln(1));for(var u=n.length-1;u>=0;u--)0===n[u]?(e=e.diffAdd(i,o),i=i.dbl()):(i=e.diffAdd(i,o),e=e.dbl());return i},Point.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Point.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Point.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};
},{"../../elliptic":91,"../curve":94,"bn.js":34,"inherits":"inherits"}],96:[function(require,module,exports){
"use strict";function ShortCurve(r){Base.call(this,"short",r),this.a=new BN(r.a,16).toRed(this.red),this.b=new BN(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function Point(r,e,t,d){Base.BasePoint.call(this,r,"affine"),null===e&&null===t?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN(e,16),this.y=new BN(t,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function JPoint(r,e,t,d){Base.BasePoint.call(this,r,"jacobian"),null===e&&null===t&&null===d?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN(0)):(this.x=new BN(e,16),this.y=new BN(t,16),this.z=new BN(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var curve=require("../curve"),elliptic=require("../../elliptic"),BN=require("bn.js"),inherits=require("inherits"),Base=curve.base,assert=elliptic.utils.assert;inherits(ShortCurve,Base),module.exports=ShortCurve,ShortCurve.prototype._getEndomorphism=function(r){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,t;if(r.beta)e=new BN(r.beta,16).toRed(this.red);else{var d=this._getEndoRoots(this.p);e=d[0].cmp(d[1])<0?d[0]:d[1],e=e.toRed(this.red)}if(r.lambda)t=new BN(r.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?t=i[0]:(t=i[1],assert(0===this.g.mul(t).x.cmp(this.g.x.redMul(e))))}var n;return n=r.basis?r.basis.map(function(r){return{a:new BN(r.a,16),b:new BN(r.b,16)}}):this._getEndoBasis(t),{beta:e,lambda:t,basis:n}}},ShortCurve.prototype._getEndoRoots=function(r){var e=r===this.p?this.red:BN.mont(r),t=new BN(2).toRed(e).redInvm(),d=t.redNeg(),i=new BN(3).toRed(e).redNeg().redSqrt().redMul(t);return[d.redAdd(i).fromRed(),d.redSub(i).fromRed()]},ShortCurve.prototype._getEndoBasis=function(r){for(var e,t,d,i,n,u,s,o,h,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),p=r,a=this.n.clone(),c=new BN(1),f=new BN(0),v=new BN(0),S=new BN(1),b=0;0!==p.cmpn(0);){var I=a.div(p);o=a.sub(I.mul(p)),h=v.sub(I.mul(c));var y=S.sub(I.mul(f));if(!d&&o.cmp(l)<0)e=s.neg(),t=c,d=o.neg(),i=h;else if(d&&2==++b)break;s=o,a=p,p=o,v=c,c=h,S=f,f=y}n=o.neg(),u=h;var A=d.sqr().add(i.sqr());return n.sqr().add(u.sqr()).cmp(A)>=0&&(n=e,u=t),d.negative&&(d=d.neg(),i=i.neg()),n.negative&&(n=n.neg(),u=u.neg()),[{a:d,b:i},{a:n,b:u}]},ShortCurve.prototype._endoSplit=function(r){var e=this.endo.basis,t=e[0],d=e[1],i=d.b.mul(r).divRound(this.n),n=t.b.neg().mul(r).divRound(this.n),u=i.mul(t.a),s=n.mul(d.a),o=i.mul(t.b),h=n.mul(d.b);return{k1:r.sub(u).sub(s),k2:o.add(h).neg()}},ShortCurve.prototype.pointFromX=function(r,e){r=new BN(r,16),r.red||(r=r.toRed(this.red));var t=r.redSqr().redMul(r).redIAdd(r.redMul(this.a)).redIAdd(this.b),d=t.redSqrt();if(0!==d.redSqr().redSub(t).cmp(this.zero))throw new Error("invalid point");var i=d.fromRed().isOdd();return(e&&!i||!e&&i)&&(d=d.redNeg()),this.point(r,d)},ShortCurve.prototype.validate=function(r){if(r.inf)return!0;var e=r.x,t=r.y,d=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(d).redIAdd(this.b);return 0===t.redSqr().redISub(i).cmpn(0)},ShortCurve.prototype._endoWnafMulAdd=function(r,e,t){for(var d=this._endoWnafT1,i=this._endoWnafT2,n=0;n<r.length;n++){var u=this._endoSplit(e[n]),s=r[n],o=s._getBeta();u.k1.negative&&(u.k1.ineg(),s=s.neg(!0)),u.k2.negative&&(u.k2.ineg(),o=o.neg(!0)),d[2*n]=s,d[2*n+1]=o,i[2*n]=u.k1,i[2*n+1]=u.k2}for(var h=this._wnafMulAdd(1,d,i,2*n,t),l=0;l<2*n;l++)d[l]=null,i[l]=null;return h},inherits(Point,Base.BasePoint),ShortCurve.prototype.point=function(r,e,t){return new Point(this,r,e,t)},ShortCurve.prototype.pointFromJSON=function(r,e){return Point.fromJSON(this,r,e)},Point.prototype._getBeta=function(){if(this.curve.endo){var r=this.precomputed;if(r&&r.beta)return r.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(r){var t=this.curve,d=function(r){return t.point(r.x.redMul(t.endo.beta),r.y)};r.beta=e,e.precomputed={beta:null,naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(d)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(d)}}}return e}},Point.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Point.fromJSON=function(r,e,t){function d(e){return r.point(e[0],e[1],t)}"string"==typeof e&&(e=JSON.parse(e));var i=r.point(e[0],e[1],t);if(!e[2])return i;var n=e[2];return i.precomputed={beta:null,doubles:n.doubles&&{step:n.doubles.step,points:[i].concat(n.doubles.points.map(d))},naf:n.naf&&{wnd:n.naf.wnd,points:[i].concat(n.naf.points.map(d))}},i},Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Point.prototype.isInfinity=function(){return this.inf},Point.prototype.add=function(r){if(this.inf)return r;if(r.inf)return this;if(this.eq(r))return this.dbl();if(this.neg().eq(r))return this.curve.point(null,null);if(0===this.x.cmp(r.x))return this.curve.point(null,null);var e=this.y.redSub(r.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(r.x).redInvm()));var t=e.redSqr().redISub(this.x).redISub(r.x),d=e.redMul(this.x.redSub(t)).redISub(this.y);return this.curve.point(t,d)},Point.prototype.dbl=function(){if(this.inf)return this;var r=this.y.redAdd(this.y);if(0===r.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,t=this.x.redSqr(),d=r.redInvm(),i=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(d),n=i.redSqr().redISub(this.x.redAdd(this.x)),u=i.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,u)},Point.prototype.getX=function(){return this.x.fromRed()},Point.prototype.getY=function(){return this.y.fromRed()},Point.prototype.mul=function(r){return r=new BN(r,16),this._hasDoubles(r)?this.curve._fixedNafMul(this,r):this.curve.endo?this.curve._endoWnafMulAdd([this],[r]):this.curve._wnafMul(this,r)},Point.prototype.mulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i):this.curve._wnafMulAdd(1,d,i,2)},Point.prototype.jmulAdd=function(r,e,t){var d=[this,e],i=[r,t];return this.curve.endo?this.curve._endoWnafMulAdd(d,i,!0):this.curve._wnafMulAdd(1,d,i,2,!0)},Point.prototype.eq=function(r){return this===r||this.inf===r.inf&&(this.inf||0===this.x.cmp(r.x)&&0===this.y.cmp(r.y))},Point.prototype.neg=function(r){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(r&&this.precomputed){var t=this.precomputed,d=function(r){return r.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(d)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(d)}}}return e},Point.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},inherits(JPoint,Base.BasePoint),ShortCurve.prototype.jpoint=function(r,e,t){return new JPoint(this,r,e,t)},JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var r=this.z.redInvm(),e=r.redSqr(),t=this.x.redMul(e),d=this.y.redMul(e).redMul(r);return this.curve.point(t,d)},JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},JPoint.prototype.add=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var e=r.z.redSqr(),t=this.z.redSqr(),d=this.x.redMul(e),i=r.x.redMul(t),n=this.y.redMul(e.redMul(r.z)),u=r.y.redMul(t.redMul(this.z)),s=d.redSub(i),o=n.redSub(u);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=s.redSqr(),l=h.redMul(s),p=d.redMul(h),a=o.redSqr().redIAdd(l).redISub(p).redISub(p),c=o.redMul(p.redISub(a)).redISub(n.redMul(l)),f=this.z.redMul(r.z).redMul(s);return this.curve.jpoint(a,c,f)},JPoint.prototype.mixedAdd=function(r){if(this.isInfinity())return r.toJ();if(r.isInfinity())return this;var e=this.z.redSqr(),t=this.x,d=r.x.redMul(e),i=this.y,n=r.y.redMul(e).redMul(this.z),u=t.redSub(d),s=i.redSub(n);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var o=u.redSqr(),h=o.redMul(u),l=t.redMul(o),p=s.redSqr().redIAdd(h).redISub(l).redISub(l),a=s.redMul(l.redISub(p)).redISub(i.redMul(h)),c=this.z.redMul(u);return this.curve.jpoint(p,a,c)},JPoint.prototype.dblp=function(r){if(0===r)return this;if(this.isInfinity())return this;if(!r)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,t=0;t<r;t++)e=e.dbl();return e}for(var d=this.curve.a,i=this.curve.tinv,n=this.x,u=this.y,s=this.z,o=s.redSqr().redSqr(),h=u.redAdd(u),t=0;t<r;t++){var l=n.redSqr(),p=h.redSqr(),a=p.redSqr(),c=l.redAdd(l).redIAdd(l).redIAdd(d.redMul(o)),f=n.redMul(p),v=c.redSqr().redISub(f.redAdd(f)),S=f.redISub(v),b=c.redMul(S);b=b.redIAdd(b).redISub(a);var I=h.redMul(s);t+1<r&&(o=o.redMul(a)),n=v,s=I,h=b}return this.curve.jpoint(n,h.redMul(i),s)},JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},JPoint.prototype._zeroDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d),o=s.redSqr().redISub(u).redISub(u),h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),r=o,e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),p=this.y.redSqr(),a=p.redSqr(),c=this.x.redAdd(p).redSqr().redISub(l).redISub(a);c=c.redIAdd(c);var f=l.redAdd(l).redIAdd(l),v=f.redSqr(),S=a.redIAdd(a);S=S.redIAdd(S),S=S.redIAdd(S),r=v.redISub(c).redISub(c),e=f.redMul(c.redISub(r)).redISub(S),t=this.y.redMul(this.z),t=t.redIAdd(t)}return this.curve.jpoint(r,e,t)},JPoint.prototype._threeDbl=function(){var r,e,t;if(this.zOne){var d=this.x.redSqr(),i=this.y.redSqr(),n=i.redSqr(),u=this.x.redAdd(i).redSqr().redISub(d).redISub(n);u=u.redIAdd(u);var s=d.redAdd(d).redIAdd(d).redIAdd(this.curve.a),o=s.redSqr().redISub(u).redISub(u);r=o;var h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),e=s.redMul(u.redISub(o)).redISub(h),t=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),p=this.y.redSqr(),a=this.x.redMul(p),c=this.x.redSub(l).redMul(this.x.redAdd(l));c=c.redAdd(c).redIAdd(c);var f=a.redIAdd(a);f=f.redIAdd(f);var v=f.redAdd(f);r=c.redSqr().redISub(v),t=this.y.redAdd(this.z).redSqr().redISub(p).redISub(l);var S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),e=c.redMul(f.redISub(r)).redISub(S)}return this.curve.jpoint(r,e,t)},JPoint.prototype._dbl=function(){var r=this.curve.a,e=this.x,t=this.y,d=this.z,i=d.redSqr().redSqr(),n=e.redSqr(),u=t.redSqr(),s=n.redAdd(n).redIAdd(n).redIAdd(r.redMul(i)),o=e.redAdd(e);o=o.redIAdd(o);var h=o.redMul(u),l=s.redSqr().redISub(h.redAdd(h)),p=h.redISub(l),a=u.redSqr();a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var c=s.redMul(p).redISub(a),f=t.redAdd(t).redMul(d);return this.curve.jpoint(l,c,f)},JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var r=this.x.redSqr(),e=this.y.redSqr(),t=this.z.redSqr(),d=e.redSqr(),i=r.redAdd(r).redIAdd(r),n=i.redSqr(),u=this.x.redAdd(e).redSqr().redISub(r).redISub(d);u=u.redIAdd(u),u=u.redAdd(u).redIAdd(u),u=u.redISub(n);var s=u.redSqr(),o=d.redIAdd(d);o=o.redIAdd(o),o=o.redIAdd(o),o=o.redIAdd(o);var h=i.redIAdd(u).redSqr().redISub(n).redISub(s).redISub(o),l=e.redMul(h);l=l.redIAdd(l),l=l.redIAdd(l);var p=this.x.redMul(s).redISub(l);p=p.redIAdd(p),p=p.redIAdd(p);var a=this.y.redMul(h.redMul(o.redISub(h)).redISub(u.redMul(s)));a=a.redIAdd(a),a=a.redIAdd(a),a=a.redIAdd(a);var c=this.z.redAdd(u).redSqr().redISub(t).redISub(s);return this.curve.jpoint(p,a,c)},JPoint.prototype.mul=function(r,e){return r=new BN(r,e),this.curve._wnafMul(this,r)},JPoint.prototype.eq=function(r){if("affine"===r.type)return this.eq(r.toJ());if(this===r)return!0;var e=this.z.redSqr(),t=r.z.redSqr();if(0!==this.x.redMul(t).redISub(r.x.redMul(e)).cmpn(0))return!1;var d=e.redMul(this.z),i=t.redMul(r.z);return 0===this.y.redMul(i).redISub(r.y.redMul(d)).cmpn(0)},JPoint.prototype.eqXToP=function(r){var e=this.z.redSqr(),t=r.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(t))return!0;for(var d=r.clone(),i=this.curve.redN.redMul(e);;){if(d.iadd(this.curve.n),d.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(i),0===this.x.cmp(t))return!0}},JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},JPoint.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};
},{"../../elliptic":91,"../curve":94,"bn.js":34,"inherits":"inherits"}],97:[function(require,module,exports){
"use strict";function PresetCurve(f){"short"===f.type?this.curve=new elliptic.curve.short(f):"edwards"===f.type?this.curve=new elliptic.curve.edwards(f):this.curve=new elliptic.curve.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,assert(this.g.validate(),"Invalid curve"),assert(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function defineCurve(f,e){Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,get:function(){var a=new PresetCurve(e);return Object.defineProperty(curves,f,{configurable:!0,enumerable:!0,value:a}),a}})}var curves=exports,hash=require("hash.js"),elliptic=require("../elliptic"),assert=elliptic.utils.assert;curves.PresetCurve=PresetCurve,defineCurve("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hash.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),defineCurve("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hash.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),defineCurve("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hash.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),defineCurve("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hash.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),defineCurve("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hash.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),defineCurve("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["9"]}),defineCurve("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hash.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var pre;try{pre=require("./precomputed/secp256k1")}catch(f){pre=void 0}defineCurve("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hash.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",pre]});
},{"../elliptic":91,"./precomputed/secp256k1":104,"hash.js":112}],98:[function(require,module,exports){
"use strict";function EC(e){if(!(this instanceof EC))return new EC(e);"string"==typeof e&&(assert(elliptic.curves.hasOwnProperty(e),"Unknown curve "+e),e=elliptic.curves[e]),e instanceof elliptic.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var BN=require("bn.js"),HmacDRBG=require("hmac-drbg"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,KeyPair=require("./key"),Signature=require("./signature");module.exports=EC,EC.prototype.keyPair=function(e){return new KeyPair(this,e)},EC.prototype.keyFromPrivate=function(e,t){return KeyPair.fromPrivate(this,e,t)},EC.prototype.keyFromPublic=function(e,t){return KeyPair.fromPublic(this,e,t)},EC.prototype.genKeyPair=function(e){e||(e={});for(var t=new HmacDRBG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||elliptic.rand(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new BN(2));;){var i=new BN(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},EC.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},EC.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new BN(e,16));for(var i=this.n.byteLength(),s=t.getPrivate().toArray("be",i),u=e.toArray("be",i),o=new HmacDRBG({hash:this.hash,entropy:s,nonce:u,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new BN(1)),h=0;!0;h++){var a=n.k?n.k(h):new BN(o.generate(this.n.byteLength()));if(a=this._truncateToN(a,!0),!(a.cmpn(1)<=0||a.cmp(c)>=0)){var p=this.g.mul(a);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var y=a.invm(this.n).mul(v.mul(t.getPrivate()).iadd(e));if(y=y.umod(this.n),0!==y.cmpn(0)){var l=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return n.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),l^=1),new Signature({r:v,s:y,recoveryParam:l})}}}}}},EC.prototype.verify=function(e,t,r,n){e=this._truncateToN(new BN(e,16)),r=this.keyFromPublic(r,n),t=new Signature(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),o=u.mul(e).umod(this.n),c=u.mul(i).umod(this.n);if(!this.curve._maxwellTrick){var h=this.g.mulAdd(o,r.getPublic(),c);return!h.isInfinity()&&0===h.getX().umod(this.n).cmp(i)}var h=this.g.jmulAdd(o,r.getPublic(),c);return!h.isInfinity()&&h.eqXToP(i)},EC.prototype.recoverPubKey=function(e,t,r,n){assert((3&r)===r,"The recovery param is more than two bits"),t=new Signature(t,n);var i=this.n,s=new BN(e),u=t.r,o=t.s,c=1&r,h=r>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");u=h?this.curve.pointFromX(u.add(this.curve.n),c):this.curve.pointFromX(u,c);var a=t.r.invm(i),p=i.sub(s).mul(a).umod(i),m=o.mul(a).umod(i);return this.g.mulAdd(p,u,m)},EC.prototype.getKeyRecoveryParam=function(e,t,r,n){if(t=new Signature(t,n),null!==t.recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};
},{"../../elliptic":91,"./key":99,"./signature":100,"bn.js":34,"hmac-drbg":124}],99:[function(require,module,exports){
"use strict";function KeyPair(i,t){this.ec=i,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=KeyPair,KeyPair.fromPublic=function(i,t,e){return t instanceof KeyPair?t:new KeyPair(i,{pub:t,pubEnc:e})},KeyPair.fromPrivate=function(i,t,e){return t instanceof KeyPair?t:new KeyPair(i,{priv:t,privEnc:e})},KeyPair.prototype.validate=function(){var i=this.getPublic();return i.isInfinity()?{result:!1,reason:"Invalid public key"}:i.validate()?i.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},KeyPair.prototype.getPublic=function(i,t){return"string"==typeof i&&(t=i,i=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,i):this.pub},KeyPair.prototype.getPrivate=function(i){return"hex"===i?this.priv.toString(16,2):this.priv},KeyPair.prototype._importPrivate=function(i,t){this.priv=new BN(i,t||16),this.priv=this.priv.umod(this.ec.curve.n)},KeyPair.prototype._importPublic=function(i,t){if(i.x||i.y)return"mont"===this.ec.curve.type?assert(i.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||assert(i.x&&i.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(i.x,i.y));this.pub=this.ec.curve.decodePoint(i,t)},KeyPair.prototype.derive=function(i){return i.mul(this.priv).getX()},KeyPair.prototype.sign=function(i,t,e){return this.ec.sign(i,this,t,e)},KeyPair.prototype.verify=function(i,t){return this.ec.verify(i,t,this)},KeyPair.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};
},{"../../elliptic":91,"bn.js":34}],100:[function(require,module,exports){
"use strict";function Signature(t,r){if(t instanceof Signature)return t;this._importDER(t,r)||(assert(t.r&&t.s,"Signature without r or s"),this.r=new BN(t.r,16),this.s=new BN(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function Position(){this.place=0}function getLength(t,r){var e=t[r.place++];if(!(128&e))return e;for(var n=15&e,i=0,a=0,c=r.place;a<n;a++,c++)i<<=8,i|=t[c];return r.place=c,i}function rmPadding(t){for(var r=0,e=t.length-1;!t[r]&&!(128&t[r+1])&&r<e;)r++;return 0===r?t:t.slice(r)}function constructLength(t,r){if(r<128)return void t.push(r);var e=1+(Math.log(r)/Math.LN2>>>3);for(t.push(128|e);--e;)t.push(r>>>(e<<3)&255);t.push(r)}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert;module.exports=Signature,Signature.prototype._importDER=function(t,r){t=utils.toArray(t,r);var e=new Position;if(48!==t[e.place++])return!1;if(getLength(t,e)+e.place!==t.length)return!1;if(2!==t[e.place++])return!1;var n=getLength(t,e),i=t.slice(e.place,n+e.place);if(e.place+=n,2!==t[e.place++])return!1;var a=getLength(t,e);if(t.length!==a+e.place)return!1;var c=t.slice(e.place,a+e.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new BN(i),this.s=new BN(c),this.recoveryParam=null,!0},Signature.prototype.toDER=function(t){var r=this.r.toArray(),e=this.s.toArray();for(128&r[0]&&(r=[0].concat(r)),128&e[0]&&(e=[0].concat(e)),r=rmPadding(r),e=rmPadding(e);!(e[0]||128&e[1]);)e=e.slice(1);var n=[2];constructLength(n,r.length),n=n.concat(r),n.push(2),constructLength(n,e.length);var i=n.concat(e),a=[48];return constructLength(a,i.length),a=a.concat(i),utils.encode(a,t)};
},{"../../elliptic":91,"bn.js":34}],101:[function(require,module,exports){
"use strict";function EDDSA(t){if(assert("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(t);var t=elliptic.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=hash.sha512}var hash=require("hash.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,KeyPair=require("./key"),Signature=require("./signature");module.exports=EDDSA,EDDSA.prototype.sign=function(t,e){t=parseBytes(t);var i=this.keyFromSecret(e),r=this.hashInt(i.messagePrefix(),t),n=this.g.mul(r),s=this.encodePoint(n),o=this.hashInt(s,i.pubBytes(),t).mul(i.priv()),u=r.add(o).umod(this.curve.n);return this.makeSignature({R:n,S:u,Rencoded:s})},EDDSA.prototype.verify=function(t,e,i){t=parseBytes(t),e=this.makeSignature(e);var r=this.keyFromPublic(i),n=this.hashInt(e.Rencoded(),r.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(r.pub().mul(n)).eq(s)},EDDSA.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return utils.intFromLE(t.digest()).umod(this.curve.n)},EDDSA.prototype.keyFromPublic=function(t){return KeyPair.fromPublic(this,t)},EDDSA.prototype.keyFromSecret=function(t){return KeyPair.fromSecret(this,t)},EDDSA.prototype.makeSignature=function(t){return t instanceof Signature?t:new Signature(this,t)},EDDSA.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},EDDSA.prototype.decodePoint=function(t){t=utils.parseBytes(t);var e=t.length-1,i=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),n=utils.intFromLE(i);return this.curve.pointFromY(n,r)},EDDSA.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},EDDSA.prototype.decodeInt=function(t){return utils.intFromLE(t)},EDDSA.prototype.isPoint=function(t){return t instanceof this.pointClass};
},{"../../elliptic":91,"./key":102,"./signature":103,"hash.js":112}],102:[function(require,module,exports){
"use strict";function KeyPair(e,t){this.eddsa=e,this._secret=parseBytes(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes(t.pub)}var elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,parseBytes=utils.parseBytes,cachedProperty=utils.cachedProperty;KeyPair.fromPublic=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{pub:t})},KeyPair.fromSecret=function(e,t){return t instanceof KeyPair?t:new KeyPair(e,{secret:t})},KeyPair.prototype.secret=function(){return this._secret},cachedProperty(KeyPair,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),cachedProperty(KeyPair,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),cachedProperty(KeyPair,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r}),cachedProperty(KeyPair,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),cachedProperty(KeyPair,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),cachedProperty(KeyPair,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),KeyPair.prototype.sign=function(e){return assert(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},KeyPair.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},KeyPair.prototype.getSecret=function(e){return assert(this._secret,"KeyPair is public only"),utils.encode(this.secret(),e)},KeyPair.prototype.getPublic=function(e){return utils.encode(this.pubBytes(),e)},module.exports=KeyPair;
},{"../../elliptic":91}],103:[function(require,module,exports){
"use strict";function Signature(e,t){this.eddsa=e,"object"!=typeof t&&(t=parseBytes(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),assert(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var BN=require("bn.js"),elliptic=require("../../elliptic"),utils=elliptic.utils,assert=utils.assert,cachedProperty=utils.cachedProperty,parseBytes=utils.parseBytes;cachedProperty(Signature,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),cachedProperty(Signature,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),cachedProperty(Signature,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),cachedProperty(Signature,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),Signature.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Signature.prototype.toHex=function(){return utils.encode(this.toBytes(),"hex").toUpperCase()},module.exports=Signature;
},{"../../elliptic":91,"bn.js":34}],104:[function(require,module,exports){
module.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}};
},{}],105:[function(require,module,exports){
"use strict";function getNAF(t,r){for(var i=[],e=1<<r+1,n=t.clone();n.cmpn(1)>=0;){var s;if(n.isOdd()){var u=n.andln(e-1);s=u>(e>>1)-1?(e>>1)-u:u,n.isubn(s)}else s=0;i.push(s);for(var l=0!==n.cmpn(0)&&0===n.andln(e-1)?r+1:1,a=1;a<l;a++)i.push(0);n.iushrn(l)}return i}function getJSF(t,r){var i=[[],[]];t=t.clone(),r=r.clone();for(var e=0,n=0;t.cmpn(-e)>0||r.cmpn(-n)>0;){var s=t.andln(3)+e&3,u=r.andln(3)+n&3;3===s&&(s=-1),3===u&&(u=-1);var l;if(0==(1&s))l=0;else{var a=t.andln(7)+e&7;l=3!==a&&5!==a||2!==u?s:-s}i[0].push(l);var o;if(0==(1&u))o=0;else{var a=r.andln(7)+n&7;o=3!==a&&5!==a||2!==s?u:-u}i[1].push(o),2*e===l+1&&(e=1-e),2*n===o+1&&(n=1-n),t.iushrn(1),r.iushrn(1)}return i}function cachedProperty(t,r,i){var e="_"+r;t.prototype[r]=function(){return void 0!==this[e]?this[e]:this[e]=i.call(this)}}function parseBytes(t){return"string"==typeof t?utils.toArray(t,"hex"):t}function intFromLE(t){return new BN(t,"hex","le")}var utils=exports,BN=require("bn.js"),minAssert=require("minimalistic-assert"),minUtils=require("minimalistic-crypto-utils");utils.assert=minAssert,utils.toArray=minUtils.toArray,utils.zero2=minUtils.zero2,utils.toHex=minUtils.toHex,utils.encode=minUtils.encode,utils.getNAF=getNAF,utils.getJSF=getJSF,utils.cachedProperty=cachedProperty,utils.parseBytes=parseBytes,utils.intFromLE=intFromLE;
},{"bn.js":34,"minimalistic-assert":226,"minimalistic-crypto-utils":227}],106:[function(require,module,exports){
module.exports={"_from":"elliptic@^6.0.0","_id":"elliptic@6.4.1","_inBundle":false,"_integrity":"sha512-BsXLz5sqX8OHcsh7CqBMztyXARmGQ3LWPtGjJi6DiJHq5C/qvi9P3OqgswKSDftbu8+IoI/QDTAm2fFnQ9SZSQ==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"elliptic@^6.0.0","name":"elliptic","escapedName":"elliptic","rawSpec":"^6.0.0","saveSpec":null,"fetchSpec":"^6.0.0"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.4.1.tgz","_shasum":"c2d0b7776911b86722c632c3c06c60f2f819939a","_spec":"elliptic@^6.0.0","_where":"/opt/kurento/node_modules/browserify-sign","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"bundleDependencies":false,"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},"deprecated":false,"description":"EC cryptography","devDependencies":{"brfs":"^1.4.3","coveralls":"^2.11.3","grunt":"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2","istanbul":"^0.4.2","jscs":"^2.9.0","jshint":"^2.6.0","mocha":"^2.1.0"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.4.1"}
},{}],107:[function(require,module,exports){
Object.defineProperty(Error.prototype,"toJSON",{value:function(){var t={};return Object.getOwnPropertyNames(this).forEach(function(r){t[r]=this[r]},this),t},configurable:!0});
},{}],108:[function(require,module,exports){
function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),s=0;s<r;++s)i[s].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function emitThree(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(n,r,i,s)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(n,r)}function _addListener(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if(s=e._events,s?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=objectCreate(null),e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else o=s[t]=n,++e._eventsCount;return e}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=bind.call(onceWrapper,r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10,hasDefineProperty;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(e){hasDefineProperty=!1}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,u,this);break;case 2:emitOne(n,u,this,arguments[1]);break;case 3:emitTwo(n,u,this,arguments[1],arguments[2]);break;case 4:emitThree(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];emitMany(n,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete n[e]),this;if(0===arguments.length){var i,s=objectKeys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};
},{}],109:[function(require,module,exports){
(function (Buffer){
function EVP_BytesToKey(e,f,r,t){if(Buffer.isBuffer(e)||(e=Buffer.from(e,"binary")),f&&(Buffer.isBuffer(f)||(f=Buffer.from(f,"binary")),8!==f.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var u=r/8,a=Buffer.alloc(u),l=Buffer.alloc(t||0),n=Buffer.alloc(0);u>0||t>0;){var i=new MD5;i.update(n),i.update(e),f&&i.update(f),n=i.digest();var o=0;if(u>0){var B=a.length-u;o=Math.min(u,n.length),n.copy(a,B,0,o),u-=o}if(o<n.length&&t>0){var h=l.length-t,s=Math.min(t,n.length-o);n.copy(l,h,o,o+s),t-=s}}return n.fill(0),{key:a,iv:l}}var Buffer=require("safe-buffer").Buffer,MD5=require("md5.js");module.exports=EVP_BytesToKey;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"md5.js":224,"safe-buffer":282}],110:[function(require,module,exports){
"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===toStr.call(r)},isPlainObject=function(r){if(!r||"[object Object]"!==toStr.call(r))return!1;var t=hasOwn.call(r,"constructor"),e=r.constructor&&r.constructor.prototype&&hasOwn.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!t&&!e)return!1;var o;for(o in r);return void 0===o||hasOwn.call(r,o)},setProperty=function(r,t){defineProperty&&"__proto__"===t.name?defineProperty(r,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):r[t.name]=t.newValue},getProperty=function(r,t){if("__proto__"===t){if(!hasOwn.call(r,t))return;if(gOPD)return gOPD(r,t).value}return r[t]};module.exports=function r(){var t,e,o,n,a,i,c=arguments[0],u=1,l=arguments.length,p=!1;for("boolean"==typeof c&&(p=c,c=arguments[1]||{},u=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});u<l;++u)if(null!=(t=arguments[u]))for(e in t)o=getProperty(c,e),n=getProperty(t,e),c!==n&&(p&&n&&(isPlainObject(n)||(a=isArray(n)))?(a?(a=!1,i=o&&isArray(o)?o:[]):i=o&&isPlainObject(o)?o:{},setProperty(c,{name:e,newValue:r(p,i,n)})):void 0!==n&&setProperty(c,{name:e,newValue:n}));return c};
},{}],111:[function(require,module,exports){
(function (Buffer){
"use strict";function throwIfNotStringOrBuffer(t,e){if(!Buffer.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}function HashBase(t){Transform.call(this),this._block=Buffer.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var Buffer=require("safe-buffer").Buffer,Transform=require("stream").Transform,inherits=require("inherits");inherits(HashBase,Transform),HashBase.prototype._transform=function(t,e,r){var s=null;try{this.update(t,e)}catch(t){s=t}r(s)},HashBase.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},HashBase.prototype.update=function(t,e){if(throwIfNotStringOrBuffer(t,"Data"),this._finalized)throw new Error("Digest already called");Buffer.isBuffer(t)||(t=Buffer.from(t,e));for(var r=this._block,s=0;this._blockOffset+t.length-s>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=t[s++];this._update(),this._blockOffset=0}for(;s<t.length;)r[this._blockOffset++]=t[s++];for(var f=0,o=8*t.length;o>0;++f)this._length[f]+=o,(o=this._length[f]/4294967296|0)>0&&(this._length[f]-=4294967296*o);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=HashBase;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"inherits":"inherits","safe-buffer":282,"stream":291}],112:[function(require,module,exports){
var hash=exports;hash.utils=require("./hash/utils"),hash.common=require("./hash/common"),hash.sha=require("./hash/sha"),hash.ripemd=require("./hash/ripemd"),hash.hmac=require("./hash/hmac"),hash.sha1=hash.sha.sha1,hash.sha256=hash.sha.sha256,hash.sha224=hash.sha.sha224,hash.sha384=hash.sha.sha384,hash.sha512=hash.sha.sha512,hash.ripemd160=hash.ripemd.ripemd160;
},{"./hash/common":113,"./hash/hmac":114,"./hash/ripemd":115,"./hash/sha":116,"./hash/utils":123}],113:[function(require,module,exports){
"use strict";function BlockHash(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var utils=require("./utils"),assert=require("minimalistic-assert");exports.BlockHash=BlockHash,BlockHash.prototype.update=function(t,i){if(t=utils.toArray(t,i),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=utils.join32(t,0,t.length-n,this.endian);for(var s=0;s<t.length;s+=this._delta32)this._update(t,s,s+this._delta32)}return this},BlockHash.prototype.digest=function(t){return this.update(this._pad()),assert(null===this.pending),this._digest(t)},BlockHash.prototype._pad=function(){var t=this.pendingTotal,i=this._delta8,n=i-(t+this.padLength)%i,s=new Array(n+this.padLength);s[0]=128;for(var e=1;e<n;e++)s[e]=0;if(t<<=3,"big"===this.endian){for(var h=8;h<this.padLength;h++)s[e++]=0;s[e++]=0,s[e++]=0,s[e++]=0,s[e++]=0,s[e++]=t>>>24&255,s[e++]=t>>>16&255,s[e++]=t>>>8&255,s[e++]=255&t}else for(s[e++]=255&t,s[e++]=t>>>8&255,s[e++]=t>>>16&255,s[e++]=t>>>24&255,s[e++]=0,s[e++]=0,s[e++]=0,s[e++]=0,h=8;h<this.padLength;h++)s[e++]=0;return s};
},{"./utils":123,"minimalistic-assert":226}],114:[function(require,module,exports){
"use strict";function Hmac(t,i,e){if(!(this instanceof Hmac))return new Hmac(t,i,e);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(i,e))}var utils=require("./utils"),assert=require("minimalistic-assert");module.exports=Hmac,Hmac.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),assert(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=(new this.Hash).update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=(new this.Hash).update(t)},Hmac.prototype.update=function(t,i){return this.inner.update(t,i),this},Hmac.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};
},{"./utils":123,"minimalistic-assert":226}],115:[function(require,module,exports){
"use strict";function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,s,h,i){return t<=15?s^h^i:t<=31?s&h|~s&i:t<=47?(s|~h)^i:t<=63?s&i|h&~i:s^(h|~i)}function K(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Kh(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var utils=require("./utils"),common=require("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_3=utils.sum32_3,sum32_4=utils.sum32_4,BlockHash=common.BlockHash;utils.inherits(RIPEMD160,BlockHash),exports.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(t,h){for(var i=this.h[0],u=this.h[1],o=this.h[2],e=this.h[3],l=this.h[4],n=i,m=u,c=o,a=e,_=l,D=0;D<80;D++){var E=sum32(rotl32(sum32_4(i,f(D,u,o,e),t[r[D]+h],K(D)),s[D]),l);i=l,l=e,e=rotl32(o,10),o=u,u=E,E=sum32(rotl32(sum32_4(n,f(79-D,m,c,a),t[rh[D]+h],Kh(D)),sh[D]),_),n=_,_=a,a=rotl32(c,10),c=m,m=E}E=sum32_3(this.h[1],o,a),this.h[1]=sum32_3(this.h[2],e,_),this.h[2]=sum32_3(this.h[3],l,n),this.h[3]=sum32_3(this.h[4],i,m),this.h[4]=sum32_3(this.h[0],u,c),this.h[0]=E},RIPEMD160.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"little"):utils.split32(this.h,"little")};var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];
},{"./common":113,"./utils":123}],116:[function(require,module,exports){
"use strict";exports.sha1=require("./sha/1"),exports.sha224=require("./sha/224"),exports.sha256=require("./sha/256"),exports.sha384=require("./sha/384"),exports.sha512=require("./sha/512");
},{"./sha/1":117,"./sha/224":118,"./sha/256":119,"./sha/384":120,"./sha/512":121}],117:[function(require,module,exports){
"use strict";function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var utils=require("../utils"),common=require("../common"),shaCommon=require("./common"),rotl32=utils.rotl32,sum32=utils.sum32,sum32_5=utils.sum32_5,ft_1=shaCommon.ft_1,BlockHash=common.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];utils.inherits(SHA1,BlockHash),module.exports=SHA1,SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(t,h){for(var s=this.W,i=0;i<16;i++)s[i]=t[h+i];for(;i<s.length;i++)s[i]=rotl32(s[i-3]^s[i-8]^s[i-14]^s[i-16],1);var o=this.h[0],r=this.h[1],u=this.h[2],e=this.h[3],l=this.h[4];for(i=0;i<s.length;i++){var m=~~(i/20),n=sum32_5(rotl32(o,5),ft_1(m,r,u,e),l,s[i],sha1_K[m]);l=e,e=u,u=rotl32(r,30),r=o,o=n}this.h[0]=sum32(this.h[0],o),this.h[1]=sum32(this.h[1],r),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],e),this.h[4]=sum32(this.h[4],l)},SHA1.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};
},{"../common":113,"../utils":123,"./common":122}],118:[function(require,module,exports){
"use strict";function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var utils=require("../utils"),SHA256=require("./256");utils.inherits(SHA224,SHA256),module.exports=SHA224,SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,7),"big"):utils.split32(this.h.slice(0,7),"big")};
},{"../utils":123,"./256":119}],119:[function(require,module,exports){
"use strict";function SHA256(){if(!(this instanceof SHA256))return new SHA256;BlockHash.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}var utils=require("../utils"),common=require("../common"),shaCommon=require("./common"),assert=require("minimalistic-assert"),sum32=utils.sum32,sum32_4=utils.sum32_4,sum32_5=utils.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash=common.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];utils.inherits(SHA256,BlockHash),module.exports=SHA256,SHA256.blockSize=512,SHA256.outSize=256,SHA256.hmacStrength=192,SHA256.padLength=64,SHA256.prototype._update=function(s,h){for(var t=this.W,i=0;i<16;i++)t[i]=s[h+i];for(;i<t.length;i++)t[i]=sum32_4(g1_256(t[i-2]),t[i-7],g0_256(t[i-15]),t[i-16]);var m=this.h[0],o=this.h[1],u=this.h[2],e=this.h[3],n=this.h[4],a=this.h[5],r=this.h[6],l=this.h[7];for(assert(this.k.length===t.length),i=0;i<t.length;i++){var _=sum32_5(l,s1_256(n),ch32(n,a,r),this.k[i],t[i]),c=sum32(s0_256(m),maj32(m,o,u));l=r,r=a,a=n,n=sum32(e,_),e=u,u=o,o=m,m=sum32(_,c)}this.h[0]=sum32(this.h[0],m),this.h[1]=sum32(this.h[1],o),this.h[2]=sum32(this.h[2],u),this.h[3]=sum32(this.h[3],e),this.h[4]=sum32(this.h[4],n),this.h[5]=sum32(this.h[5],a),this.h[6]=sum32(this.h[6],r),this.h[7]=sum32(this.h[7],l)},SHA256.prototype._digest=function(s){return"hex"===s?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};
},{"../common":113,"../utils":123,"./common":122,"minimalistic-assert":226}],120:[function(require,module,exports){
"use strict";function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var utils=require("../utils"),SHA512=require("./512");utils.inherits(SHA384,SHA512),module.exports=SHA384,SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h.slice(0,12),"big"):utils.split32(this.h.slice(0,12),"big")};
},{"../utils":123,"./512":121}],121:[function(require,module,exports){
"use strict";function SHA512(){if(!(this instanceof SHA512))return new SHA512;BlockHash.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}function ch64_hi(t,h,r,i,s){var _=t&r^~t&s;return _<0&&(_+=4294967296),_}function ch64_lo(t,h,r,i,s,_){var o=h&i^~h&_;return o<0&&(o+=4294967296),o}function maj64_hi(t,h,r,i,s){var _=t&r^t&s^r&s;return _<0&&(_+=4294967296),_}function maj64_lo(t,h,r,i,s,_){var o=h&i^h&_^i&_;return o<0&&(o+=4294967296),o}function s0_512_hi(t,h){var r=rotr64_hi(t,h,28),i=rotr64_hi(h,t,2),s=rotr64_hi(h,t,7),_=r^i^s;return _<0&&(_+=4294967296),_}function s0_512_lo(t,h){var r=rotr64_lo(t,h,28),i=rotr64_lo(h,t,2),s=rotr64_lo(h,t,7),_=r^i^s;return _<0&&(_+=4294967296),_}function s1_512_hi(t,h){var r=rotr64_hi(t,h,14),i=rotr64_hi(t,h,18),s=rotr64_hi(h,t,9),_=r^i^s;return _<0&&(_+=4294967296),_}function s1_512_lo(t,h){var r=rotr64_lo(t,h,14),i=rotr64_lo(t,h,18),s=rotr64_lo(h,t,9),_=r^i^s;return _<0&&(_+=4294967296),_}function g0_512_hi(t,h){var r=rotr64_hi(t,h,1),i=rotr64_hi(t,h,8),s=shr64_hi(t,h,7),_=r^i^s;return _<0&&(_+=4294967296),_}function g0_512_lo(t,h){var r=rotr64_lo(t,h,1),i=rotr64_lo(t,h,8),s=shr64_lo(t,h,7),_=r^i^s;return _<0&&(_+=4294967296),_}function g1_512_hi(t,h){var r=rotr64_hi(t,h,19),i=rotr64_hi(h,t,29),s=shr64_hi(t,h,6),_=r^i^s;return _<0&&(_+=4294967296),_}function g1_512_lo(t,h){var r=rotr64_lo(t,h,19),i=rotr64_lo(h,t,29),s=shr64_lo(t,h,6),_=r^i^s;return _<0&&(_+=4294967296),_}var utils=require("../utils"),common=require("../common"),assert=require("minimalistic-assert"),rotr64_hi=utils.rotr64_hi,rotr64_lo=utils.rotr64_lo,shr64_hi=utils.shr64_hi,shr64_lo=utils.shr64_lo,sum64=utils.sum64,sum64_hi=utils.sum64_hi,sum64_lo=utils.sum64_lo,sum64_4_hi=utils.sum64_4_hi,sum64_4_lo=utils.sum64_4_lo,sum64_5_hi=utils.sum64_5_hi,sum64_5_lo=utils.sum64_5_lo,BlockHash=common.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];utils.inherits(SHA512,BlockHash),module.exports=SHA512,SHA512.blockSize=1024,SHA512.outSize=512,SHA512.hmacStrength=192,SHA512.padLength=128,SHA512.prototype._prepareBlock=function(t,h){for(var r=this.W,i=0;i<32;i++)r[i]=t[h+i];for(;i<r.length;i+=2){var s=g1_512_hi(r[i-4],r[i-3]),_=g1_512_lo(r[i-4],r[i-3]),o=r[i-14],u=r[i-13],l=g0_512_hi(r[i-30],r[i-29]),n=g0_512_lo(r[i-30],r[i-29]),e=r[i-32],m=r[i-31];r[i]=sum64_4_hi(s,_,o,u,l,n,e,m),r[i+1]=sum64_4_lo(s,_,o,u,l,n,e,m)}},SHA512.prototype._update=function(t,h){this._prepareBlock(t,h);var r=this.W,i=this.h[0],s=this.h[1],_=this.h[2],o=this.h[3],u=this.h[4],l=this.h[5],n=this.h[6],e=this.h[7],m=this.h[8],a=this.h[9],c=this.h[10],f=this.h[11],v=this.h[12],g=this.h[13],H=this.h[14],S=this.h[15];assert(this.k.length===r.length);for(var p=0;p<r.length;p+=2){var A=H,k=S,B=s1_512_hi(m,a),d=s1_512_lo(m,a),j=ch64_hi(m,a,c,f,v,g),y=ch64_lo(m,a,c,f,v,g),b=this.k[p],q=this.k[p+1],x=r[p],W=r[p+1],w=sum64_5_hi(A,k,B,d,j,y,b,q,x,W),z=sum64_5_lo(A,k,B,d,j,y,b,q,x,W);A=s0_512_hi(i,s),k=s0_512_lo(i,s),B=maj64_hi(i,s,_,o,u,l),d=maj64_lo(i,s,_,o,u,l);var K=sum64_hi(A,k,B,d),L=sum64_lo(A,k,B,d);H=v,S=g,v=c,g=f,c=m,f=a,m=sum64_hi(n,e,w,z),a=sum64_lo(e,e,w,z),n=u,e=l,u=_,l=o,_=i,o=s,i=sum64_hi(w,z,K,L),s=sum64_lo(w,z,K,L)}sum64(this.h,0,i,s),sum64(this.h,2,_,o),sum64(this.h,4,u,l),sum64(this.h,6,n,e),sum64(this.h,8,m,a),sum64(this.h,10,c,f),sum64(this.h,12,v,g),sum64(this.h,14,H,S)},SHA512.prototype._digest=function(t){return"hex"===t?utils.toHex32(this.h,"big"):utils.split32(this.h,"big")};
},{"../common":113,"../utils":123,"minimalistic-assert":226}],122:[function(require,module,exports){
"use strict";function ft_1(r,t,o,n){return 0===r?ch32(t,o,n):1===r||3===r?p32(t,o,n):2===r?maj32(t,o,n):void 0}function ch32(r,t,o){return r&t^~r&o}function maj32(r,t,o){return r&t^r&o^t&o}function p32(r,t,o){return r^t^o}function s0_256(r){return rotr32(r,2)^rotr32(r,13)^rotr32(r,22)}function s1_256(r){return rotr32(r,6)^rotr32(r,11)^rotr32(r,25)}function g0_256(r){return rotr32(r,7)^rotr32(r,18)^r>>>3}function g1_256(r){return rotr32(r,17)^rotr32(r,19)^r>>>10}var utils=require("../utils"),rotr32=utils.rotr32;exports.ft_1=ft_1,exports.ch32=ch32,exports.maj32=maj32,exports.p32=p32,exports.s0_256=s0_256,exports.s1_256=s1_256,exports.g0_256=g0_256,exports.g1_256=g1_256;
},{"../utils":123}],123:[function(require,module,exports){
"use strict";function isSurrogatePair(r,t){return 55296==(64512&r.charCodeAt(t))&&(!(t<0||t+1>=r.length)&&56320==(64512&r.charCodeAt(t+1)))}function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var o=[];if("string"==typeof r)if(t){if("hex"===t)for(r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!=0&&(r="0"+r),n=0;n<r.length;n+=2)o.push(parseInt(r[n]+r[n+1],16))}else for(var e=0,n=0;n<r.length;n++){var u=r.charCodeAt(n);u<128?o[e++]=u:u<2048?(o[e++]=u>>6|192,o[e++]=63&u|128):isSurrogatePair(r,n)?(u=65536+((1023&u)<<10)+(1023&r.charCodeAt(++n)),o[e++]=u>>18|240,o[e++]=u>>12&63|128,o[e++]=u>>6&63|128,o[e++]=63&u|128):(o[e++]=u>>12|224,o[e++]=u>>6&63|128,o[e++]=63&u|128)}else for(n=0;n<r.length;n++)o[n]=0|r[n];return o}function toHex(r){for(var t="",o=0;o<r.length;o++)t+=zero2(r[o].toString(16));return t}function htonl(r){return(r>>>24|r>>>8&65280|r<<8&16711680|(255&r)<<24)>>>0}function toHex32(r,t){for(var o="",e=0;e<r.length;e++){var n=r[e];"little"===t&&(n=htonl(n)),o+=zero8(n.toString(16))}return o}function zero2(r){return 1===r.length?"0"+r:r}function zero8(r){return 7===r.length?"0"+r:6===r.length?"00"+r:5===r.length?"000"+r:4===r.length?"0000"+r:3===r.length?"00000"+r:2===r.length?"000000"+r:1===r.length?"0000000"+r:r}function join32(r,t,o,e){var n=o-t;assert(n%4==0);for(var u=new Array(n/4),s=0,i=t;s<u.length;s++,i+=4){var h;h="big"===e?r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]:r[i+3]<<24|r[i+2]<<16|r[i+1]<<8|r[i],u[s]=h>>>0}return u}function split32(r,t){for(var o=new Array(4*r.length),e=0,n=0;e<r.length;e++,n+=4){var u=r[e];"big"===t?(o[n]=u>>>24,o[n+1]=u>>>16&255,o[n+2]=u>>>8&255,o[n+3]=255&u):(o[n+3]=u>>>24,o[n+2]=u>>>16&255,o[n+1]=u>>>8&255,o[n]=255&u)}return o}function rotr32(r,t){return r>>>t|r<<32-t}function rotl32(r,t){return r<<t|r>>>32-t}function sum32(r,t){return r+t>>>0}function sum32_3(r,t,o){return r+t+o>>>0}function sum32_4(r,t,o,e){return r+t+o+e>>>0}function sum32_5(r,t,o,e,n){return r+t+o+e+n>>>0}function sum64(r,t,o,e){var n=r[t],u=r[t+1],s=e+u>>>0,i=(s<e?1:0)+o+n;r[t]=i>>>0,r[t+1]=s}function sum64_hi(r,t,o,e){return(t+e>>>0<t?1:0)+r+o>>>0}function sum64_lo(r,t,o,e){return t+e>>>0}function sum64_4_hi(r,t,o,e,n,u,s,i){var h=0,_=t;return _=_+e>>>0,h+=_<t?1:0,_=_+u>>>0,h+=_<u?1:0,_=_+i>>>0,h+=_<i?1:0,r+o+n+s+h>>>0}function sum64_4_lo(r,t,o,e,n,u,s,i){return t+e+u+i>>>0}function sum64_5_hi(r,t,o,e,n,u,s,i,h,_){var l=0,f=t;return f=f+e>>>0,l+=f<t?1:0,f=f+u>>>0,l+=f<u?1:0,f=f+i>>>0,l+=f<i?1:0,f=f+_>>>0,l+=f<_?1:0,r+o+n+s+h+l>>>0}function sum64_5_lo(r,t,o,e,n,u,s,i,h,_){return t+e+u+i+_>>>0}function rotr64_hi(r,t,o){return(t<<32-o|r>>>o)>>>0}function rotr64_lo(r,t,o){return(r<<32-o|t>>>o)>>>0}function shr64_hi(r,t,o){return r>>>o}function shr64_lo(r,t,o){return(r<<32-o|t>>>o)>>>0}var assert=require("minimalistic-assert"),inherits=require("inherits");exports.inherits=inherits,exports.toArray=toArray,exports.toHex=toHex,exports.htonl=htonl,exports.toHex32=toHex32,exports.zero2=zero2,exports.zero8=zero8,exports.join32=join32,exports.split32=split32,exports.rotr32=rotr32,exports.rotl32=rotl32,exports.sum32=sum32,exports.sum32_3=sum32_3,exports.sum32_4=sum32_4,exports.sum32_5=sum32_5,exports.sum64=sum64,exports.sum64_hi=sum64_hi,exports.sum64_lo=sum64_lo,exports.sum64_4_hi=sum64_4_hi,exports.sum64_4_lo=sum64_4_lo,exports.sum64_5_hi=sum64_5_hi,exports.sum64_5_lo=sum64_5_lo,exports.rotr64_hi=rotr64_hi,exports.rotr64_lo=rotr64_lo,exports.shr64_hi=shr64_hi,exports.shr64_lo=shr64_lo;
},{"inherits":"inherits","minimalistic-assert":226}],124:[function(require,module,exports){
"use strict";function HmacDRBG(t){if(!(this instanceof HmacDRBG))return new HmacDRBG(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=utils.toArray(t.entropy,t.entropyEnc||"hex"),i=utils.toArray(t.nonce,t.nonceEnc||"hex"),s=utils.toArray(t.pers,t.persEnc||"hex");assert(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,i,s)}var hash=require("hash.js"),utils=require("minimalistic-crypto-utils"),assert=require("minimalistic-assert");module.exports=HmacDRBG,HmacDRBG.prototype._init=function(t,e,i){var s=t.concat(e).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656},HmacDRBG.prototype._hmac=function(){return new hash.hmac(this.hash,this.K)},HmacDRBG.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},HmacDRBG.prototype.reseed=function(t,e,i,s){"string"!=typeof e&&(s=i,i=e,e=null),t=utils.toArray(t,e),i=utils.toArray(i,s),assert(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(i||[])),this._reseed=1},HmacDRBG.prototype.generate=function(t,e,i,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(s=i,i=e,e=null),i&&(i=utils.toArray(i,s||"hex"),this._update(i));for(var h=[];h.length<t;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var r=h.slice(0,t);return this._update(i),this._reseed++,utils.encode(r,e)};
},{"hash.js":112,"minimalistic-assert":226,"minimalistic-crypto-utils":227}],125:[function(require,module,exports){
function validateParams(t){if("string"==typeof t&&(t=url.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}var http=require("http"),url=require("url"),https=module.exports;for(var key in http)http.hasOwnProperty(key)&&(https[key]=http[key]);https.request=function(t,r){return t=validateParams(t),http.request.call(this,t,r)},https.get=function(t,r){return t=validateParams(t),http.get.call(this,t,r)};
},{"http":292,"url":301}],126:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],127:[function(require,module,exports){
function isBuffer(f){return!!f.constructor&&"function"==typeof f.constructor.isBuffer&&f.constructor.isBuffer(f)}function isSlowBuffer(f){return"function"==typeof f.readFloatLE&&"function"==typeof f.slice&&isBuffer(f.slice(0,0))}module.exports=function(f){return null!=f&&(isBuffer(f)||isSlowBuffer(f)||!!f._isBuffer)};
},{}],128:[function(require,module,exports){
var toString={}.toString;module.exports=Array.isArray||function(r){return"[object Array]"==toString.call(r)};
},{}],129:[function(require,module,exports){
(function (Buffer){
function isBuffer(r){return Buffer.isBuffer(r)||/\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(r))}var Buffer=require("buffer").Buffer;module.exports=isBuffer;
}).call(this,{"isBuffer":require("../is-buffer/index.js")})

},{"../is-buffer/index.js":127,"buffer":68}],130:[function(require,module,exports){
function HubPort(){HubPort.super_.call(this)}function checkHubPort(e,r){if(!(r instanceof HubPort))throw ChecktypeError(e,HubPort,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,MediaElement=require("./abstracts/MediaElement");inherits(HubPort,MediaElement),HubPort.constructorParams={hub:{type:"kurento.Hub",required:!0}},HubPort.events=MediaElement.events,module.exports=HubPort,HubPort.check=checkHubPort;
},{"./abstracts/MediaElement":137,"inherits":"inherits","kurento-client":"kurento-client"}],131:[function(require,module,exports){
function noop(e,t){return e&&console.trace(e),t}function MediaPipeline(e){function t(e,t,n){return e?transactionOperation.call(e,"create",t,n):r.length?transactionOperation.call(r,"create",t,n):void a.emit("_create",void 0,t,n)}function n(e,t,n,i){return e?transactionOperation.call(e,t,n,i):r.length?transactionOperation.call(r,t,n,i):void a.emit("_rpc",void 0,t,n,i)}function i(e,t){var n={operations:e};if(r.length)return transactionOperation.call(r,"transaction",n,t);a.emit("_transaction",n,t)}MediaPipeline.super_.call(this);var a=this,r=new TransactionsManager(this,i);this.beginTransaction=r.beginTransaction.bind(r),this.endTransaction=r.endTransaction.bind(r),this.transaction=r.transaction.bind(r);var o=this.emit.bind(this,"_describe"),c=new MediaObjectCreator(this,t,n,i,o,e);this.create=c.create.bind(c)}function checkMediaPipeline(e,t){if(!(t instanceof MediaPipeline))throw ChecktypeError(e,MediaPipeline,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,MediaObjectCreator=kurentoClient.MediaObjectCreator,TransactionsManager=kurentoClient.TransactionsManager,transactionOperation=TransactionsManager.transactionOperation,MediaObject=require("./abstracts/MediaObject");inherits(MediaPipeline,MediaObject),MediaPipeline.prototype.getLatencyStats=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getLatencyStats",e),this)},MediaPipeline.prototype.setLatencyStats=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,i={latencyStats:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"setLatencyStats",i,t),this)},MediaPipeline.prototype.getGstreamerDot=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(t=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:e=void 0;break;case 1:break;default:var i=new RangeError("Number of params ("+arguments.length+") not in range [0-1]");throw i.length=arguments.length,i.min=0,i.max=1,i}var a={details:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"getGstreamerDot",a,t),this)},MediaPipeline.prototype.connect=function(e,t){if(e instanceof Array||(e=Array.prototype.slice.call(arguments,0),t="function"==typeof e[e.length-1]?e.pop():void 0),t=(t||noop).bind(this),e.length<2)throw new SyntaxError("Need at least two media elements to connect");return e[0].connect(e.slice(1),t)},MediaPipeline.constructorParams={},MediaPipeline.events=MediaObject.events,module.exports=MediaPipeline,MediaPipeline.check=checkMediaPipeline;
},{"./abstracts/MediaObject":138,"inherits":"inherits","kurento-client":"kurento-client"}],132:[function(require,module,exports){
function PassThrough(){PassThrough.super_.call(this)}function checkPassThrough(e,r){if(!(r instanceof PassThrough))throw ChecktypeError(e,PassThrough,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,MediaElement=require("./abstracts/MediaElement");inherits(PassThrough,MediaElement),PassThrough.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},PassThrough.events=MediaElement.events,module.exports=PassThrough,PassThrough.check=checkPassThrough;
},{"./abstracts/MediaElement":137,"inherits":"inherits","kurento-client":"kurento-client"}],133:[function(require,module,exports){
function noop(t,n){return t&&console.trace(t),n}function BaseRtpEndpoint(){BaseRtpEndpoint.super_.call(this)}function checkBaseRtpEndpoint(t,n){if(!(n instanceof BaseRtpEndpoint))throw ChecktypeError(t,BaseRtpEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,SdpEndpoint=require("./SdpEndpoint");inherits(BaseRtpEndpoint,SdpEndpoint),BaseRtpEndpoint.prototype.getConnectionState=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getConnectionState",t),this)},BaseRtpEndpoint.prototype.getMaxVideoSendBandwidth=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getMaxVideoSendBandwidth",t),this)},BaseRtpEndpoint.prototype.setMaxVideoSendBandwidth=function(t,n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,e={maxVideoSendBandwidth:t};return n=(n||noop).bind(this),disguise(this._invoke(i,"setMaxVideoSendBandwidth",e,n),this)},BaseRtpEndpoint.prototype.getMediaState=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getMediaState",t),this)},BaseRtpEndpoint.prototype.getMinVideoRecvBandwidth=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getMinVideoRecvBandwidth",t),this)},BaseRtpEndpoint.prototype.setMinVideoRecvBandwidth=function(t,n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,e={minVideoRecvBandwidth:t};return n=(n||noop).bind(this),disguise(this._invoke(i,"setMinVideoRecvBandwidth",e,n),this)},BaseRtpEndpoint.prototype.getMinVideoSendBandwidth=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getMinVideoSendBandwidth",t),this)},BaseRtpEndpoint.prototype.setMinVideoSendBandwidth=function(t,n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,e={minVideoSendBandwidth:t};return n=(n||noop).bind(this),disguise(this._invoke(i,"setMinVideoSendBandwidth",e,n),this)},BaseRtpEndpoint.prototype.getRembParams=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getRembParams",t),this)},BaseRtpEndpoint.prototype.setRembParams=function(t,n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,e={rembParams:t};return n=(n||noop).bind(this),disguise(this._invoke(i,"setRembParams",e,n),this)},BaseRtpEndpoint.constructorParams={},BaseRtpEndpoint.events=SdpEndpoint.events.concat(["ConnectionStateChanged","MediaStateChanged"]),module.exports=BaseRtpEndpoint,BaseRtpEndpoint.check=checkBaseRtpEndpoint;
},{"./SdpEndpoint":139,"inherits":"inherits","kurento-client":"kurento-client"}],134:[function(require,module,exports){
function Endpoint(){Endpoint.super_.call(this)}function checkEndpoint(e,n){if(!(n instanceof Endpoint))throw ChecktypeError(e,Endpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,MediaElement=require("./MediaElement");inherits(Endpoint,MediaElement),Endpoint.constructorParams={},Endpoint.events=MediaElement.events,module.exports=Endpoint,Endpoint.check=checkEndpoint;
},{"./MediaElement":137,"inherits":"inherits","kurento-client":"kurento-client"}],135:[function(require,module,exports){
function Filter(){Filter.super_.call(this)}function checkFilter(e,r){if(!(r instanceof Filter))throw ChecktypeError(e,Filter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,MediaElement=require("./MediaElement");inherits(Filter,MediaElement),Filter.constructorParams={},Filter.events=MediaElement.events,module.exports=Filter,Filter.check=checkFilter;
},{"./MediaElement":137,"inherits":"inherits","kurento-client":"kurento-client"}],136:[function(require,module,exports){
function noop(e,t){return e&&console.trace(e),t}function Hub(){Hub.super_.call(this)}function checkHub(e,t){if(!(t instanceof Hub))throw ChecktypeError(e,Hub,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,HubPort=require("../HubPort"),MediaObject=require("./MediaObject");inherits(Hub,MediaObject),Hub.prototype.getGstreamerDot=function(e,t){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(t=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:e=void 0;break;case 1:break;default:var n=new RangeError("Number of params ("+arguments.length+") not in range [0-1]");throw n.length=arguments.length,n.min=0,n.max=1,n}var o={details:e};return t=(t||noop).bind(this),disguise(this._invoke(r,"getGstreamerDot",o,t),this)},Hub.prototype.createHubPort=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;arguments.length||(e=void 0),e=(e||noop).bind(this);var r=new HubPort;r.on("_rpc",this.emit.bind(this,"_rpc"));var n={type:"HubPort",constructorParams:{hub:this}};return Object.defineProperty(n,"object",{value:r}),this.emit("_create",t,n,e),r},Hub.constructorParams={},Hub.events=MediaObject.events,module.exports=Hub,Hub.check=checkHub;
},{"../HubPort":130,"./MediaObject":138,"inherits":"inherits","kurento-client":"kurento-client"}],137:[function(require,module,exports){
function noop(t,e){return t&&console.trace(t),e}function MediaElement(){MediaElement.super_.call(this)}function checkMediaElement(t,e){if(!(e instanceof MediaElement))throw ChecktypeError(t,MediaElement,e)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,checkArray=checkType.checkArray,Transaction=kurentoClient.TransactionsManager.Transaction,each=require("async").each,promiseCallback=require("promisecallback"),MediaObject=require("./MediaObject");inherits(MediaElement,MediaObject),MediaElement.prototype.getMaxOuputBitrate=function(t){var e=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(e,"getMaxOuputBitrate",t),this)},MediaElement.prototype.setMaxOuputBitrate=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={maxOuputBitrate:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setMaxOuputBitrate",n,e),this)},MediaElement.prototype.getMaxOutputBitrate=function(t){var e=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(e,"getMaxOutputBitrate",t),this)},MediaElement.prototype.setMaxOutputBitrate=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={maxOutputBitrate:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setMaxOutputBitrate",n,e),this)},MediaElement.prototype.getMinOuputBitrate=function(t){var e=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(e,"getMinOuputBitrate",t),this)},MediaElement.prototype.setMinOuputBitrate=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={minOuputBitrate:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setMinOuputBitrate",n,e),this)},MediaElement.prototype.getMinOutputBitrate=function(t){var e=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(e,"getMinOutputBitrate",t),this)},MediaElement.prototype.setMinOutputBitrate=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={minOutputBitrate:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setMinOutputBitrate",n,e),this)},MediaElement.prototype.connect=function(t,e,i,n,o){var a,r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;if(t instanceof Array){o=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0;var s=t,p=this;if(t=s[s.length-1],!s.length)throw new SyntaxError("Need at least one media element to connect");checkArray("MediaElement","media",s),a=new Promise(function(t,e){function i(i,n){if(i)return e(i);t(n)}each(s,function(t,e){p=p.connect(t,e)},i)}),a=promiseCallback(a,o)}else{var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(o=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 1:e=void 0;case 2:i=void 0;case 3:n=void 0;break;case 4:break;default:var c=new RangeError("Number of params ("+arguments.length+") not in range [1-4]");throw c.length=arguments.length,c.min=1,c.max=4,c}var d={sink:t,mediaType:e,sourceMediaDescription:i,sinkMediaDescription:n};o=(o||noop).bind(this),a=this._invoke(r,"connect",d,o)}return disguise(a,t)},MediaElement.prototype.disconnect=function(t,e,i,n,o){var a=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(o=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 1:e=void 0;case 2:i=void 0;case 3:n=void 0;break;case 4:break;default:var r=new RangeError("Number of params ("+arguments.length+") not in range [1-4]");throw r.length=arguments.length,r.min=1,r.max=4,r}var s={sink:t,mediaType:e,sourceMediaDescription:i,sinkMediaDescription:n};return o=(o||noop).bind(this),disguise(this._invoke(a,"disconnect",s,o),this)},MediaElement.prototype.getGstreamerDot=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(e=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:t=void 0;break;case 1:break;default:var n=new RangeError("Number of params ("+arguments.length+") not in range [0-1]");throw n.length=arguments.length,n.min=0,n.max=1,n}var o={details:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"getGstreamerDot",o,e),this)},MediaElement.prototype.getSinkConnections=function(t,e,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(i=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:t=void 0;case 1:e=void 0;break;case 2:break;default:var o=new RangeError("Number of params ("+arguments.length+") not in range [0-2]");throw o.length=arguments.length,o.min=0,o.max=2,o}var a={mediaType:t,description:e};return i=(i||noop).bind(this),disguise(this._invoke(n,"getSinkConnections",a,i),this)},MediaElement.prototype.getSourceConnections=function(t,e,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(i=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:t=void 0;case 1:e=void 0;break;case 2:break;default:var o=new RangeError("Number of params ("+arguments.length+") not in range [0-2]");throw o.length=arguments.length,o.min=0,o.max=2,o}var a={mediaType:t,description:e};return i=(i||noop).bind(this),disguise(this._invoke(n,"getSourceConnections",a,i),this)},MediaElement.prototype.getStats=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(e=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:t=void 0;break;case 1:break;default:var n=new RangeError("Number of params ("+arguments.length+") not in range [0-1]");throw n.length=arguments.length,n.min=0,n.max=1,n}var o={mediaType:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"getStats",o,e),this)},MediaElement.prototype.isMediaFlowingIn=function(t,e,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(i=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 1:e=void 0;break;case 2:break;default:var o=new RangeError("Number of params ("+arguments.length+") not in range [1-2]");throw o.length=arguments.length,o.min=1,o.max=2,o}var a={mediaType:t,sinkMediaDescription:e};return i=(i||noop).bind(this),disguise(this._invoke(n,"isMediaFlowingIn",a,i),this)},MediaElement.prototype.isMediaFlowingOut=function(t,e,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(i=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 1:e=void 0;break;case 2:break;default:var o=new RangeError("Number of params ("+arguments.length+") not in range [1-2]");throw o.length=arguments.length,o.min=1,o.max=2,o}var a={mediaType:t,sourceMediaDescription:e};return i=(i||noop).bind(this),disguise(this._invoke(n,"isMediaFlowingOut",a,i),this)},MediaElement.prototype.isMediaTranscoding=function(t,e,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(i=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 1:e=void 0;break;case 2:break;default:var o=new RangeError("Number of params ("+arguments.length+") not in range [1-2]");throw o.length=arguments.length,o.min=1,o.max=2,o}var a={mediaType:t,binName:e};return i=(i||noop).bind(this),disguise(this._invoke(n,"isMediaTranscoding",a,i),this)},MediaElement.prototype.setAudioFormat=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={caps:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setAudioFormat",n,e),this)},MediaElement.prototype.setOutputBitrate=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={bitrate:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setOutputBitrate",n,e),this)},MediaElement.prototype.setVideoFormat=function(t,e){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={caps:t};return e=(e||noop).bind(this),disguise(this._invoke(i,"setVideoFormat",n,e),this)},MediaElement.constructorParams={},MediaElement.events=MediaObject.events.concat(["ElementConnected","ElementDisconnected","MediaFlowInStateChange","MediaFlowOutStateChange","MediaTranscodingStateChange"]),module.exports=MediaElement,MediaElement.check=checkMediaElement;
},{"./MediaObject":138,"async":"async","inherits":"inherits","kurento-client":"kurento-client","promisecallback":"promisecallback"}],138:[function(require,module,exports){
function noop(e,t){return e&&console.trace(e),t}function MediaObject(){MediaObject.super_.call(this);var e=this;this.once("_id",function(e,t){if(e)return Object.defineProperties(this,{_createError:{value:e},id:{value:null,enumerable:!0}});Object.defineProperty(this,"id",{configurable:!0,enumerable:!0,value:t})});var t={};this.on("removeListener",function(i,n){if("_"!=i[0]&&"release"!=i&&"newListener"!=i){if(!EventEmitter.listenerCount(this,i)){var r=t[i],o={object:this,subscription:r.value,sessionId:r.sessionId};this.emit("_rpc",void 0,"unsubscribe",o,function(n){if(n)return e.emit("error",n);delete t[i]})}}}),this.on("newListener",function(i,n){if("_"!=i[0]&&"release"!=i){var r=this.constructor;if(r.events.indexOf(i)<0)throw new SyntaxError(r.name+" doesn't accept events of type '"+i+"'");if(!EventEmitter.listenerCount(this,i)){var o={object:this,type:i};this.emit("_rpc",void 0,"subscribe",o,function(n,r){if(n)return e.emit("error",n);t[i]=r})}}})}function throwRpcNotReady(){throw new SyntaxError("RPC result is not ready, use .then() method instead")}function checkMediaObject(e,t){if(!(t instanceof MediaObject))throw ChecktypeError(e,MediaObject,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,promiseCallback=require("promisecallback"),EventEmitter=require("events").EventEmitter;inherits(MediaObject,EventEmitter),MediaObject.prototype.getChildren=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,i=!1;if(void 0==e&&(i=!0),arguments.length||(e=void 0),e=(e||noop).bind(this),i){var n=this;return new Promise(function(i,r){function o(e,t){i(t)}n._invoke(t,"getChildren",function(t,i){if(t)return e(t);n.emit("_describe",i,o)})})}return disguise(this._invoke(t,"getChildren",function(t,i){if(t)return e(t);this.emit("_describe",i,e)}),this)},MediaObject.prototype.getChilds=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,i=!1;if(void 0==e&&(i=!0),arguments.length||(e=void 0),e=(e||noop).bind(this),i){var n=this;return new Promise(function(i,r){function o(e,t){i(t)}n._invoke(t,"getChilds",function(t,i){if(t)return e(t);n.emit("_describe",i,o)})})}return disguise(this._invoke(t,"getChilds",function(t,i){if(t)return e(t);this.emit("_describe",i,e)}),this)},MediaObject.prototype.getCreationTime=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getCreationTime",e),this)},MediaObject.prototype.getMediaPipeline=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,i=!1;if(void 0==e&&(i=!0),arguments.length||(e=void 0),e=(e||noop).bind(this),i){var n=this;return new Promise(function(i,r){function o(e,t){i(t)}n._invoke(t,"getMediaPipeline",function(t,i){if(t)return e(t);n.emit("_describe",i,o)})})}return disguise(this._invoke(t,"getMediaPipeline",function(t,i){if(t)return e(t);this.emit("_describe",i,e)}),this)},MediaObject.prototype.getName=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getName",e),this)},MediaObject.prototype.setName=function(e,t){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={name:e};return t=(t||noop).bind(this),disguise(this._invoke(i,"setName",n,t),this)},MediaObject.prototype.getParent=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,i=!1;if(void 0==e&&(i=!0),arguments.length||(e=void 0),e=(e||noop).bind(this),i){var n=this;return new Promise(function(i,r){function o(e,t){i(t)}n._invoke(t,"getParent",function(t,i){if(t)return e(t);n.emit("_describe",i,o)})})}return disguise(this._invoke(t,"getParent",function(t,i){if(t)return e(t);this.emit("_describe",i,e)}),this)},MediaObject.prototype.getSendTagsInEvents=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getSendTagsInEvents",e),this)},MediaObject.prototype.setSendTagsInEvents=function(e,t){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={sendTagsInEvents:e};return t=(t||noop).bind(this),disguise(this._invoke(i,"setSendTagsInEvents",n,t),this)},MediaObject.prototype.addTag=function(e,t,i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,r={key:e,value:t};return i=(i||noop).bind(this),disguise(this._invoke(n,"addTag",r,i),this)},MediaObject.prototype.getTag=function(e,t){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={key:e};return t=(t||noop).bind(this),disguise(this._invoke(i,"getTag",n,t),this)},MediaObject.prototype.getTags=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getTags",e),this)},MediaObject.prototype.removeTag=function(e,t){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={key:e};return t=(t||noop).bind(this),disguise(this._invoke(i,"removeTag",n,t),this)},Object.defineProperty(MediaObject.prototype,"_invoke",{enumerable:!0,value:function(e,t,i,n){var r=this;if(i instanceof Function){if(n)throw new SyntaxError("Nothing can be defined after the callback");n=i,i=void 0}var o,s=this._createError;return o=s?Promise.reject(s):new Promise(function(n,o){function s(e,t){if(e)return o(e);var i=t.value;void 0===i&&(i=r),n(i)}var a={object:r,operation:t};i&&(a.operationParams=i),r.emit("_rpc",e,"invoke",a,s)}),promiseCallback(o,n,this)}}),MediaObject.prototype.release=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;arguments.length||(e=void 0),e=(e||noop).bind(this);var i,n=this,r=this._createError;return i=r?Promise.reject(r):new Promise(function(e,i){function r(t){if(t)return i(t);Object.keys(n._events).forEach(function(e){"_"!=e[0]&&"newListener"!=e&&"removeListener"!=e&&n.removeAllListeners(e)}),n.emit("release"),e()}var o={object:n};n.emit("_rpc",t,"release",o,r)}),disguise(promiseCallback(i,e),this)},MediaObject.prototype.then=function(e,t){if(null!=this.id)var i=Promise.resolve(disguise.unthenable(this));else if(null===this.id)var i=Promise.reject();else var n=this,i=new Promise(function(e,t){return n.once("_id",function(i,r){if(i)return t(i);e(disguise.unthenable(n))})});return i=i.then(e?e.bind(this):function(e){return Promise.resolve(e)},t?t.bind(this):function(e){return Promise.reject(e)}),disguise(i,this)},MediaObject.prototype.catch=function(e){this.then(null,e)},Object.defineProperty(MediaObject.prototype,"commited",{get:function(){return void 0!==this.id}}),MediaObject.constructorParams={},MediaObject.events=["Error"],module.exports=MediaObject,MediaObject.check=checkMediaObject;
},{"events":108,"inherits":"inherits","kurento-client":"kurento-client","promisecallback":"promisecallback"}],139:[function(require,module,exports){
function noop(i,n){return i&&console.trace(i),n}function SdpEndpoint(){SdpEndpoint.super_.call(this)}function checkSdpEndpoint(i,n){if(!(n instanceof SdpEndpoint))throw ChecktypeError(i,SdpEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,SessionEndpoint=require("./SessionEndpoint");inherits(SdpEndpoint,SessionEndpoint),SdpEndpoint.prototype.getMaxAudioRecvBandwidth=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getMaxAudioRecvBandwidth",i),this)},SdpEndpoint.prototype.setMaxAudioRecvBandwidth=function(i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,o={maxAudioRecvBandwidth:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"setMaxAudioRecvBandwidth",o,n),this)},SdpEndpoint.prototype.getMaxVideoRecvBandwidth=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getMaxVideoRecvBandwidth",i),this)},SdpEndpoint.prototype.setMaxVideoRecvBandwidth=function(i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,o={maxVideoRecvBandwidth:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"setMaxVideoRecvBandwidth",o,n),this)},SdpEndpoint.prototype.generateOffer=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"generateOffer",i),this)},SdpEndpoint.prototype.getLocalSessionDescriptor=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getLocalSessionDescriptor",i),this)},SdpEndpoint.prototype.getRemoteSessionDescriptor=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getRemoteSessionDescriptor",i),this)},SdpEndpoint.prototype.processAnswer=function(i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,o={answer:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"processAnswer",o,n),this)},SdpEndpoint.prototype.processOffer=function(i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,o={offer:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"processOffer",o,n),this)},SdpEndpoint.constructorParams={},SdpEndpoint.events=SessionEndpoint.events,module.exports=SdpEndpoint,SdpEndpoint.check=checkSdpEndpoint;
},{"./SessionEndpoint":141,"inherits":"inherits","kurento-client":"kurento-client"}],140:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function ServerManager(){ServerManager.super_.call(this)}function checkServerManager(e,r){if(!(r instanceof ServerManager))throw ChecktypeError(e,ServerManager,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,MediaObject=require("./MediaObject");inherits(ServerManager,MediaObject),ServerManager.prototype.getInfo=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"getInfo",e),this)},ServerManager.prototype.getMetadata=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"getMetadata",e),this)},ServerManager.prototype.getPipelines=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,t=!1;if(void 0==e&&(t=!0),arguments.length||(e=void 0),e=(e||noop).bind(this),t){var n=this;return new Promise(function(t,i){function o(e,r){t(r)}n._invoke(r,"getPipelines",function(r,t){if(r)return e(r);n.emit("_describe",t,o)})})}return disguise(this._invoke(r,"getPipelines",function(r,t){if(r)return e(r);this.emit("_describe",t,e)}),this)},ServerManager.prototype.getSessions=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"getSessions",e),this)},ServerManager.prototype.getKmd=function(e,r){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0,n={moduleName:e};return r=(r||noop).bind(this),disguise(this._invoke(t,"getKmd",n,r),this)},ServerManager.prototype.getUsedMemory=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"getUsedMemory",e),this)},ServerManager.constructorParams={},ServerManager.events=MediaObject.events.concat(["ObjectCreated","ObjectDestroyed"]),module.exports=ServerManager,ServerManager.check=checkServerManager;
},{"./MediaObject":138,"inherits":"inherits","kurento-client":"kurento-client"}],141:[function(require,module,exports){
function SessionEndpoint(){SessionEndpoint.super_.call(this)}function checkSessionEndpoint(n,e){if(!(e instanceof SessionEndpoint))throw ChecktypeError(n,SessionEndpoint,e)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,Endpoint=require("./Endpoint");inherits(SessionEndpoint,Endpoint),SessionEndpoint.constructorParams={},SessionEndpoint.events=Endpoint.events.concat(["MediaSessionStarted","MediaSessionTerminated"]),module.exports=SessionEndpoint,SessionEndpoint.check=checkSessionEndpoint;
},{"./Endpoint":134,"inherits":"inherits","kurento-client":"kurento-client"}],142:[function(require,module,exports){
function noop(i,n){return i&&console.trace(i),n}function UriEndpoint(){UriEndpoint.super_.call(this)}function checkUriEndpoint(i,n){if(!(n instanceof UriEndpoint))throw ChecktypeError(i,UriEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Endpoint=require("./Endpoint");inherits(UriEndpoint,Endpoint),UriEndpoint.prototype.getState=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getState",i),this)},UriEndpoint.prototype.getUri=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"getUri",i),this)},UriEndpoint.prototype.pause=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"pause",i),this)},UriEndpoint.prototype.stop=function(i){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==i&&!0,arguments.length||(i=void 0),i=(i||noop).bind(this),disguise(this._invoke(n,"stop",i),this)},UriEndpoint.constructorParams={},UriEndpoint.events=Endpoint.events.concat(["UriEndpointStateChanged"]),module.exports=UriEndpoint,UriEndpoint.check=checkUriEndpoint;
},{"./Endpoint":134,"inherits":"inherits","kurento-client":"kurento-client"}],143:[function(require,module,exports){
var BaseRtpEndpoint=require("./BaseRtpEndpoint"),Endpoint=require("./Endpoint"),Filter=require("./Filter"),Hub=require("./Hub"),MediaElement=require("./MediaElement"),MediaObject=require("./MediaObject"),SdpEndpoint=require("./SdpEndpoint"),ServerManager=require("./ServerManager"),SessionEndpoint=require("./SessionEndpoint"),UriEndpoint=require("./UriEndpoint");exports.BaseRtpEndpoint=BaseRtpEndpoint,exports.Endpoint=Endpoint,exports.Filter=Filter,exports.Hub=Hub,exports.MediaElement=MediaElement,exports.MediaObject=MediaObject,exports.SdpEndpoint=SdpEndpoint,exports.ServerManager=ServerManager,exports.SessionEndpoint=SessionEndpoint,exports.UriEndpoint=UriEndpoint;
},{"./BaseRtpEndpoint":133,"./Endpoint":134,"./Filter":135,"./Hub":136,"./MediaElement":137,"./MediaObject":138,"./SdpEndpoint":139,"./ServerManager":140,"./SessionEndpoint":141,"./UriEndpoint":142}],144:[function(require,module,exports){
function AudioCaps(e){if(!(this instanceof AudioCaps))return new AudioCaps(e);e=e||{},AudioCaps.super_.call(this,e),Object.defineProperties(this,{codec:{writable:!0,enumerable:!0,value:e.codec},bitrate:{writable:!0,enumerable:!0,value:e.bitrate}})}function checkAudioCaps(e,i){if(!(i instanceof AudioCaps))throw ChecktypeError(e,AudioCaps,i)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(AudioCaps,ComplexType),Object.defineProperties(AudioCaps.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"AudioCaps"}}),module.exports=AudioCaps,AudioCaps.check=checkAudioCaps;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],145:[function(require,module,exports){
function checkAudioCodec(o,r){if("string"!=typeof r)throw SyntaxError(o+" param should be a String, not "+typeof r);if(!r.match("OPUS|PCMU|RAW"))throw SyntaxError(o+" param is not one of [OPUS|PCMU|RAW] ("+r+")")}var kurentoClient=require("kurento-client");module.exports=checkAudioCodec;
},{"kurento-client":"kurento-client"}],146:[function(require,module,exports){
function CodecConfiguration(e){if(!(this instanceof CodecConfiguration))return new CodecConfiguration(e);e=e||{},CodecConfiguration.super_.call(this,e),Object.defineProperties(this,{name:{writable:!0,enumerable:!0,value:e.name},properties:{writable:!0,enumerable:!0,value:e.properties}})}function checkCodecConfiguration(e,o){if(!(o instanceof CodecConfiguration))throw ChecktypeError(e,CodecConfiguration,o)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(CodecConfiguration,ComplexType),Object.defineProperties(CodecConfiguration.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"CodecConfiguration"}}),module.exports=CodecConfiguration,CodecConfiguration.check=checkCodecConfiguration;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],147:[function(require,module,exports){
function ComplexType(){}function checkComplexType(e,o){if(!(o instanceof ComplexType))throw ChecktypeError(e,ComplexType,o)}var ChecktypeError=require("kurento-client").checkType.ChecktypeError;ComplexType.prototype.toJSON=function(){var e={};for(var o in this){var p=this[o];"function"!=typeof p&&(e[o]=p)}return e},module.exports=ComplexType,ComplexType.check=checkComplexType;
},{"kurento-client":"kurento-client"}],148:[function(require,module,exports){
function checkConnectionState(t,o){if("string"!=typeof o)throw SyntaxError(t+" param should be a String, not "+typeof o);if(!o.match("DISCONNECTED|CONNECTED"))throw SyntaxError(t+" param is not one of [DISCONNECTED|CONNECTED] ("+o+")")}var kurentoClient=require("kurento-client");module.exports=checkConnectionState;
},{"kurento-client":"kurento-client"}],149:[function(require,module,exports){
function ElementConnectionData(e){if(!(this instanceof ElementConnectionData))return new ElementConnectionData(e);e=e||{},ElementConnectionData.super_.call(this,e),Object.defineProperties(this,{source:{writable:!0,enumerable:!0,value:e.source},sink:{writable:!0,enumerable:!0,value:e.sink},type:{writable:!0,enumerable:!0,value:e.type},sourceDescription:{writable:!0,enumerable:!0,value:e.sourceDescription},sinkDescription:{writable:!0,enumerable:!0,value:e.sinkDescription}})}function checkElementConnectionData(e,n){if(!(n instanceof ElementConnectionData))throw ChecktypeError(e,ElementConnectionData,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(ElementConnectionData,ComplexType),Object.defineProperties(ElementConnectionData.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"ElementConnectionData"}}),module.exports=ElementConnectionData,ElementConnectionData.check=checkElementConnectionData;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],150:[function(require,module,exports){
function ElementStats(e){if(!(this instanceof ElementStats))return new ElementStats(e);e=e||{},ElementStats.super_.call(this,e),Object.defineProperties(this,{inputAudioLatency:{writable:!0,enumerable:!0,value:e.inputAudioLatency},inputVideoLatency:{writable:!0,enumerable:!0,value:e.inputVideoLatency},inputLatency:{writable:!0,enumerable:!0,value:e.inputLatency}})}function checkElementStats(e,t){if(!(t instanceof ElementStats))throw ChecktypeError(e,ElementStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Stats=require("./Stats");inherits(ElementStats,Stats),Object.defineProperties(ElementStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"ElementStats"}}),module.exports=ElementStats,ElementStats.check=checkElementStats;
},{"./Stats":180,"inherits":"inherits","kurento-client":"kurento-client"}],151:[function(require,module,exports){
function EndpointStats(e){if(!(this instanceof EndpointStats))return new EndpointStats(e);e=e||{},EndpointStats.super_.call(this,e),Object.defineProperties(this,{audioE2ELatency:{writable:!0,enumerable:!0,value:e.audioE2ELatency},videoE2ELatency:{writable:!0,enumerable:!0,value:e.videoE2ELatency},E2ELatency:{writable:!0,enumerable:!0,value:e.E2ELatency}})}function checkEndpointStats(e,t){if(!(t instanceof EndpointStats))throw ChecktypeError(e,EndpointStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ElementStats=require("./ElementStats");inherits(EndpointStats,ElementStats),Object.defineProperties(EndpointStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"EndpointStats"}}),module.exports=EndpointStats,EndpointStats.check=checkEndpointStats;
},{"./ElementStats":150,"inherits":"inherits","kurento-client":"kurento-client"}],152:[function(require,module,exports){
function checkFilterType(r,t){if("string"!=typeof t)throw SyntaxError(r+" param should be a String, not "+typeof t);if(!t.match("AUDIO|AUTODETECT|VIDEO"))throw SyntaxError(r+" param is not one of [AUDIO|AUTODETECT|VIDEO] ("+t+")")}var kurentoClient=require("kurento-client");module.exports=checkFilterType;
},{"kurento-client":"kurento-client"}],153:[function(require,module,exports){
function Fraction(e){if(!(this instanceof Fraction))return new Fraction(e);e=e||{},Fraction.super_.call(this,e),Object.defineProperties(this,{numerator:{writable:!0,enumerable:!0,value:e.numerator},denominator:{writable:!0,enumerable:!0,value:e.denominator}})}function checkFraction(e,r){if(!(r instanceof Fraction))throw ChecktypeError(e,Fraction,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(Fraction,ComplexType),Object.defineProperties(Fraction.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"Fraction"}}),module.exports=Fraction,Fraction.check=checkFraction;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],154:[function(require,module,exports){
function checkGstreamerDotDetails(S,_){if("string"!=typeof _)throw SyntaxError(S+" param should be a String, not "+typeof _);if(!_.match("SHOW_MEDIA_TYPE|SHOW_CAPS_DETAILS|SHOW_NON_DEFAULT_PARAMS|SHOW_STATES|SHOW_FULL_PARAMS|SHOW_ALL|SHOW_VERBOSE"))throw SyntaxError(S+" param is not one of [SHOW_MEDIA_TYPE|SHOW_CAPS_DETAILS|SHOW_NON_DEFAULT_PARAMS|SHOW_STATES|SHOW_FULL_PARAMS|SHOW_ALL|SHOW_VERBOSE] ("+_+")")}var kurentoClient=require("kurento-client");module.exports=checkGstreamerDotDetails;
},{"kurento-client":"kurento-client"}],155:[function(require,module,exports){
function checkMediaFlowState(t,e){if("string"!=typeof e)throw SyntaxError(t+" param should be a String, not "+typeof e);if(!e.match("FLOWING|NOT_FLOWING"))throw SyntaxError(t+" param is not one of [FLOWING|NOT_FLOWING] ("+e+")")}var kurentoClient=require("kurento-client");module.exports=checkMediaFlowState;
},{"kurento-client":"kurento-client"}],156:[function(require,module,exports){
function MediaLatencyStat(e){if(!(this instanceof MediaLatencyStat))return new MediaLatencyStat(e);e=e||{},MediaLatencyStat.super_.call(this,e),Object.defineProperties(this,{name:{writable:!0,enumerable:!0,value:e.name},type:{writable:!0,enumerable:!0,value:e.type},avg:{writable:!0,enumerable:!0,value:e.avg}})}function checkMediaLatencyStat(e,t){if(!(t instanceof MediaLatencyStat))throw ChecktypeError(e,MediaLatencyStat,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(MediaLatencyStat,ComplexType),Object.defineProperties(MediaLatencyStat.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"MediaLatencyStat"}}),module.exports=MediaLatencyStat,MediaLatencyStat.check=checkMediaLatencyStat;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],157:[function(require,module,exports){
function checkMediaState(t,e){if("string"!=typeof e)throw SyntaxError(t+" param should be a String, not "+typeof e);if(!e.match("DISCONNECTED|CONNECTED"))throw SyntaxError(t+" param is not one of [DISCONNECTED|CONNECTED] ("+e+")")}var kurentoClient=require("kurento-client");module.exports=checkMediaState;
},{"kurento-client":"kurento-client"}],158:[function(require,module,exports){
function checkMediaTranscodingState(t,r){if("string"!=typeof r)throw SyntaxError(t+" param should be a String, not "+typeof r);if(!r.match("TRANSCODING|NOT_TRANSCODING"))throw SyntaxError(t+" param is not one of [TRANSCODING|NOT_TRANSCODING] ("+r+")")}var kurentoClient=require("kurento-client");module.exports=checkMediaTranscodingState;
},{"kurento-client":"kurento-client"}],159:[function(require,module,exports){
function checkMediaType(e,r){if("string"!=typeof r)throw SyntaxError(e+" param should be a String, not "+typeof r);if(!r.match("AUDIO|DATA|VIDEO"))throw SyntaxError(e+" param is not one of [AUDIO|DATA|VIDEO] ("+r+")")}var kurentoClient=require("kurento-client");module.exports=checkMediaType;
},{"kurento-client":"kurento-client"}],160:[function(require,module,exports){
function ModuleInfo(e){if(!(this instanceof ModuleInfo))return new ModuleInfo(e);e=e||{},ModuleInfo.super_.call(this,e),Object.defineProperties(this,{version:{writable:!0,enumerable:!0,value:e.version},name:{writable:!0,enumerable:!0,value:e.name},generationTime:{writable:!0,enumerable:!0,value:e.generationTime},factories:{writable:!0,enumerable:!0,value:e.factories}})}function checkModuleInfo(e,o){if(!(o instanceof ModuleInfo))throw ChecktypeError(e,ModuleInfo,o)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(ModuleInfo,ComplexType),Object.defineProperties(ModuleInfo.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"ModuleInfo"}}),module.exports=ModuleInfo,ModuleInfo.check=checkModuleInfo;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],161:[function(require,module,exports){
function RTCCertificateStats(e){if(!(this instanceof RTCCertificateStats))return new RTCCertificateStats(e);e=e||{},RTCCertificateStats.super_.call(this,e),Object.defineProperties(this,{fingerprint:{writable:!0,enumerable:!0,value:e.fingerprint},fingerprintAlgorithm:{writable:!0,enumerable:!0,value:e.fingerprintAlgorithm},base64Certificate:{writable:!0,enumerable:!0,value:e.base64Certificate},issuerCertificateId:{writable:!0,enumerable:!0,value:e.issuerCertificateId}})}function checkRTCCertificateStats(e,t){if(!(t instanceof RTCCertificateStats))throw ChecktypeError(e,RTCCertificateStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCCertificateStats,RTCStats),Object.defineProperties(RTCCertificateStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCCertificateStats"}}),module.exports=RTCCertificateStats,RTCCertificateStats.check=checkRTCCertificateStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],162:[function(require,module,exports){
function RTCCodec(e){if(!(this instanceof RTCCodec))return new RTCCodec(e);e=e||{},RTCCodec.super_.call(this,e),Object.defineProperties(this,{payloadType:{writable:!0,enumerable:!0,value:e.payloadType},codec:{writable:!0,enumerable:!0,value:e.codec},clockRate:{writable:!0,enumerable:!0,value:e.clockRate},channels:{writable:!0,enumerable:!0,value:e.channels},parameters:{writable:!0,enumerable:!0,value:e.parameters}})}function checkRTCCodec(e,r){if(!(r instanceof RTCCodec))throw ChecktypeError(e,RTCCodec,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCCodec,RTCStats),Object.defineProperties(RTCCodec.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCCodec"}}),module.exports=RTCCodec,RTCCodec.check=checkRTCCodec;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],163:[function(require,module,exports){
function checkRTCDataChannelState(n,t){if("string"!=typeof t)throw SyntaxError(n+" param should be a String, not "+typeof t);if(!t.match("connecting|open|closing|closed"))throw SyntaxError(n+" param is not one of [connecting|open|closing|closed] ("+t+")")}var kurentoClient=require("kurento-client");module.exports=checkRTCDataChannelState;
},{"kurento-client":"kurento-client"}],164:[function(require,module,exports){
function RTCDataChannelStats(e){if(!(this instanceof RTCDataChannelStats))return new RTCDataChannelStats(e);e=e||{},RTCDataChannelStats.super_.call(this,e),Object.defineProperties(this,{label:{writable:!0,enumerable:!0,value:e.label},protocol:{writable:!0,enumerable:!0,value:e.protocol},datachannelid:{writable:!0,enumerable:!0,value:e.datachannelid},state:{writable:!0,enumerable:!0,value:e.state},messagesSent:{writable:!0,enumerable:!0,value:e.messagesSent},bytesSent:{writable:!0,enumerable:!0,value:e.bytesSent},messagesReceived:{writable:!0,enumerable:!0,value:e.messagesReceived},bytesReceived:{writable:!0,enumerable:!0,value:e.bytesReceived}})}function checkRTCDataChannelStats(e,a){if(!(a instanceof RTCDataChannelStats))throw ChecktypeError(e,RTCDataChannelStats,a)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCDataChannelStats,RTCStats),Object.defineProperties(RTCDataChannelStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCDataChannelStats"}}),module.exports=RTCDataChannelStats,RTCDataChannelStats.check=checkRTCDataChannelStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],165:[function(require,module,exports){
function RTCIceCandidateAttributes(e){if(!(this instanceof RTCIceCandidateAttributes))return new RTCIceCandidateAttributes(e);e=e||{},RTCIceCandidateAttributes.super_.call(this,e),Object.defineProperties(this,{ipAddress:{writable:!0,enumerable:!0,value:e.ipAddress},portNumber:{writable:!0,enumerable:!0,value:e.portNumber},transport:{writable:!0,enumerable:!0,value:e.transport},candidateType:{writable:!0,enumerable:!0,value:e.candidateType},priority:{writable:!0,enumerable:!0,value:e.priority},addressSourceUrl:{writable:!0,enumerable:!0,value:e.addressSourceUrl}})}function checkRTCIceCandidateAttributes(e,t){if(!(t instanceof RTCIceCandidateAttributes))throw ChecktypeError(e,RTCIceCandidateAttributes,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCIceCandidateAttributes,RTCStats),Object.defineProperties(RTCIceCandidateAttributes.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCIceCandidateAttributes"}}),module.exports=RTCIceCandidateAttributes,RTCIceCandidateAttributes.check=checkRTCIceCandidateAttributes;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],166:[function(require,module,exports){
function RTCIceCandidatePairStats(e){if(!(this instanceof RTCIceCandidatePairStats))return new RTCIceCandidatePairStats(e);e=e||{},RTCIceCandidatePairStats.super_.call(this,e),Object.defineProperties(this,{transportId:{writable:!0,enumerable:!0,value:e.transportId},localCandidateId:{writable:!0,enumerable:!0,value:e.localCandidateId},remoteCandidateId:{writable:!0,enumerable:!0,value:e.remoteCandidateId},state:{writable:!0,enumerable:!0,value:e.state},priority:{writable:!0,enumerable:!0,value:e.priority},nominated:{writable:!0,enumerable:!0,value:e.nominated},writable:{writable:!0,enumerable:!0,value:e.writable},readable:{writable:!0,enumerable:!0,value:e.readable},bytesSent:{writable:!0,enumerable:!0,value:e.bytesSent},bytesReceived:{writable:!0,enumerable:!0,value:e.bytesReceived},roundTripTime:{writable:!0,enumerable:!0,value:e.roundTripTime},availableOutgoingBitrate:{writable:!0,enumerable:!0,value:e.availableOutgoingBitrate},availableIncomingBitrate:{writable:!0,enumerable:!0,value:e.availableIncomingBitrate}})}function checkRTCIceCandidatePairStats(e,a){if(!(a instanceof RTCIceCandidatePairStats))throw ChecktypeError(e,RTCIceCandidatePairStats,a)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCIceCandidatePairStats,RTCStats),Object.defineProperties(RTCIceCandidatePairStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCIceCandidatePairStats"}}),module.exports=RTCIceCandidatePairStats,RTCIceCandidatePairStats.check=checkRTCIceCandidatePairStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],167:[function(require,module,exports){
function RTCInboundRTPStreamStats(e){if(!(this instanceof RTCInboundRTPStreamStats))return new RTCInboundRTPStreamStats(e);e=e||{},RTCInboundRTPStreamStats.super_.call(this,e),Object.defineProperties(this,{packetsReceived:{writable:!0,enumerable:!0,value:e.packetsReceived},bytesReceived:{writable:!0,enumerable:!0,value:e.bytesReceived},jitter:{writable:!0,enumerable:!0,value:e.jitter}})}function checkRTCInboundRTPStreamStats(e,t){if(!(t instanceof RTCInboundRTPStreamStats))throw ChecktypeError(e,RTCInboundRTPStreamStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCRTPStreamStats=require("./RTCRTPStreamStats");inherits(RTCInboundRTPStreamStats,RTCRTPStreamStats),Object.defineProperties(RTCInboundRTPStreamStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCInboundRTPStreamStats"}}),module.exports=RTCInboundRTPStreamStats,RTCInboundRTPStreamStats.check=checkRTCInboundRTPStreamStats;
},{"./RTCRTPStreamStats":172,"inherits":"inherits","kurento-client":"kurento-client"}],168:[function(require,module,exports){
function RTCMediaStreamStats(e){if(!(this instanceof RTCMediaStreamStats))return new RTCMediaStreamStats(e);e=e||{},RTCMediaStreamStats.super_.call(this,e),Object.defineProperties(this,{streamIdentifier:{writable:!0,enumerable:!0,value:e.streamIdentifier},trackIds:{writable:!0,enumerable:!0,value:e.trackIds}})}function checkRTCMediaStreamStats(e,t){if(!(t instanceof RTCMediaStreamStats))throw ChecktypeError(e,RTCMediaStreamStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCMediaStreamStats,RTCStats),Object.defineProperties(RTCMediaStreamStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCMediaStreamStats"}}),module.exports=RTCMediaStreamStats,RTCMediaStreamStats.check=checkRTCMediaStreamStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],169:[function(require,module,exports){
function RTCMediaStreamTrackStats(e){if(!(this instanceof RTCMediaStreamTrackStats))return new RTCMediaStreamTrackStats(e);e=e||{},RTCMediaStreamTrackStats.super_.call(this,e),Object.defineProperties(this,{trackIdentifier:{writable:!0,enumerable:!0,value:e.trackIdentifier},remoteSource:{writable:!0,enumerable:!0,value:e.remoteSource},ssrcIds:{writable:!0,enumerable:!0,value:e.ssrcIds},frameWidth:{writable:!0,enumerable:!0,value:e.frameWidth},frameHeight:{writable:!0,enumerable:!0,value:e.frameHeight},framesPerSecond:{writable:!0,enumerable:!0,value:e.framesPerSecond},framesSent:{writable:!0,enumerable:!0,value:e.framesSent},framesReceived:{writable:!0,enumerable:!0,value:e.framesReceived},framesDecoded:{writable:!0,enumerable:!0,value:e.framesDecoded},framesDropped:{writable:!0,enumerable:!0,value:e.framesDropped},framesCorrupted:{writable:!0,enumerable:!0,value:e.framesCorrupted},audioLevel:{writable:!0,enumerable:!0,value:e.audioLevel},echoReturnLoss:{writable:!0,enumerable:!0,value:e.echoReturnLoss},echoReturnLossEnhancement:{writable:!0,enumerable:!0,value:e.echoReturnLossEnhancement}})}function checkRTCMediaStreamTrackStats(e,a){if(!(a instanceof RTCMediaStreamTrackStats))throw ChecktypeError(e,RTCMediaStreamTrackStats,a)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCMediaStreamTrackStats,RTCStats),Object.defineProperties(RTCMediaStreamTrackStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCMediaStreamTrackStats"}}),module.exports=RTCMediaStreamTrackStats,RTCMediaStreamTrackStats.check=checkRTCMediaStreamTrackStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],170:[function(require,module,exports){
function RTCOutboundRTPStreamStats(t){if(!(this instanceof RTCOutboundRTPStreamStats))return new RTCOutboundRTPStreamStats(t);t=t||{},RTCOutboundRTPStreamStats.super_.call(this,t),Object.defineProperties(this,{packetsSent:{writable:!0,enumerable:!0,value:t.packetsSent},bytesSent:{writable:!0,enumerable:!0,value:t.bytesSent},targetBitrate:{writable:!0,enumerable:!0,value:t.targetBitrate},roundTripTime:{writable:!0,enumerable:!0,value:t.roundTripTime}})}function checkRTCOutboundRTPStreamStats(t,e){if(!(e instanceof RTCOutboundRTPStreamStats))throw ChecktypeError(t,RTCOutboundRTPStreamStats,e)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCRTPStreamStats=require("./RTCRTPStreamStats");inherits(RTCOutboundRTPStreamStats,RTCRTPStreamStats),Object.defineProperties(RTCOutboundRTPStreamStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCOutboundRTPStreamStats"}}),module.exports=RTCOutboundRTPStreamStats,RTCOutboundRTPStreamStats.check=checkRTCOutboundRTPStreamStats;
},{"./RTCRTPStreamStats":172,"inherits":"inherits","kurento-client":"kurento-client"}],171:[function(require,module,exports){
function RTCPeerConnectionStats(e){if(!(this instanceof RTCPeerConnectionStats))return new RTCPeerConnectionStats(e);e=e||{},RTCPeerConnectionStats.super_.call(this,e),Object.defineProperties(this,{dataChannelsOpened:{writable:!0,enumerable:!0,value:e.dataChannelsOpened},dataChannelsClosed:{writable:!0,enumerable:!0,value:e.dataChannelsClosed}})}function checkRTCPeerConnectionStats(e,t){if(!(t instanceof RTCPeerConnectionStats))throw ChecktypeError(e,RTCPeerConnectionStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCPeerConnectionStats,RTCStats),Object.defineProperties(RTCPeerConnectionStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCPeerConnectionStats"}}),module.exports=RTCPeerConnectionStats,RTCPeerConnectionStats.check=checkRTCPeerConnectionStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],172:[function(require,module,exports){
function RTCRTPStreamStats(e){if(!(this instanceof RTCRTPStreamStats))return new RTCRTPStreamStats(e);e=e||{},RTCRTPStreamStats.super_.call(this,e),Object.defineProperties(this,{ssrc:{writable:!0,enumerable:!0,value:e.ssrc},associateStatsId:{writable:!0,enumerable:!0,value:e.associateStatsId},isRemote:{writable:!0,enumerable:!0,value:e.isRemote},mediaTrackId:{writable:!0,enumerable:!0,value:e.mediaTrackId},transportId:{writable:!0,enumerable:!0,value:e.transportId},codecId:{writable:!0,enumerable:!0,value:e.codecId},firCount:{writable:!0,enumerable:!0,value:e.firCount},pliCount:{writable:!0,enumerable:!0,value:e.pliCount},nackCount:{writable:!0,enumerable:!0,value:e.nackCount},sliCount:{writable:!0,enumerable:!0,value:e.sliCount},remb:{writable:!0,enumerable:!0,value:e.remb},packetsLost:{writable:!0,enumerable:!0,value:e.packetsLost},fractionLost:{writable:!0,enumerable:!0,value:e.fractionLost}})}function checkRTCRTPStreamStats(e,t){if(!(t instanceof RTCRTPStreamStats))throw ChecktypeError(e,RTCRTPStreamStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCRTPStreamStats,RTCStats),Object.defineProperties(RTCRTPStreamStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCRTPStreamStats"}}),module.exports=RTCRTPStreamStats,RTCRTPStreamStats.check=checkRTCRTPStreamStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],173:[function(require,module,exports){
function RTCStats(t){if(!(this instanceof RTCStats))return new RTCStats(t);t=t||{},RTCStats.super_.call(this,t),Object.defineProperties(this,{})}function checkRTCStats(t,e){if(!(e instanceof RTCStats))throw ChecktypeError(t,RTCStats,e)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Stats=require("./Stats");inherits(RTCStats,Stats),Object.defineProperties(RTCStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCStats"}}),module.exports=RTCStats,RTCStats.check=checkRTCStats;
},{"./Stats":180,"inherits":"inherits","kurento-client":"kurento-client"}],174:[function(require,module,exports){
function checkRTCStatsIceCandidatePairState(e,t){if("string"!=typeof t)throw SyntaxError(e+" param should be a String, not "+typeof t);if(!t.match("frozen|waiting|inprogress|failed|succeeded|cancelled"))throw SyntaxError(e+" param is not one of [frozen|waiting|inprogress|failed|succeeded|cancelled] ("+t+")")}var kurentoClient=require("kurento-client");module.exports=checkRTCStatsIceCandidatePairState;
},{"kurento-client":"kurento-client"}],175:[function(require,module,exports){
function checkRTCStatsIceCandidateType(e,r){if("string"!=typeof r)throw SyntaxError(e+" param should be a String, not "+typeof r);if(!r.match("host|serverreflexive|peerreflexive|relayed"))throw SyntaxError(e+" param is not one of [host|serverreflexive|peerreflexive|relayed] ("+r+")")}var kurentoClient=require("kurento-client");module.exports=checkRTCStatsIceCandidateType;
},{"kurento-client":"kurento-client"}],176:[function(require,module,exports){
function RTCTransportStats(e){if(!(this instanceof RTCTransportStats))return new RTCTransportStats(e);e=e||{},RTCTransportStats.super_.call(this,e),Object.defineProperties(this,{bytesSent:{writable:!0,enumerable:!0,value:e.bytesSent},bytesReceived:{writable:!0,enumerable:!0,value:e.bytesReceived},rtcpTransportStatsId:{writable:!0,enumerable:!0,value:e.rtcpTransportStatsId},activeConnection:{writable:!0,enumerable:!0,value:e.activeConnection},selectedCandidatePairId:{writable:!0,enumerable:!0,value:e.selectedCandidatePairId},localCertificateId:{writable:!0,enumerable:!0,value:e.localCertificateId},remoteCertificateId:{writable:!0,enumerable:!0,value:e.remoteCertificateId}})}function checkRTCTransportStats(e,t){if(!(t instanceof RTCTransportStats))throw ChecktypeError(e,RTCTransportStats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,RTCStats=require("./RTCStats");inherits(RTCTransportStats,RTCStats),Object.defineProperties(RTCTransportStats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RTCTransportStats"}}),module.exports=RTCTransportStats,RTCTransportStats.check=checkRTCTransportStats;
},{"./RTCStats":173,"inherits":"inherits","kurento-client":"kurento-client"}],177:[function(require,module,exports){
function RembParams(e){if(!(this instanceof RembParams))return new RembParams(e);e=e||{},RembParams.super_.call(this,e),Object.defineProperties(this,{packetsRecvIntervalTop:{writable:!0,enumerable:!0,value:e.packetsRecvIntervalTop},exponentialFactor:{writable:!0,enumerable:!0,value:e.exponentialFactor},linealFactorMin:{writable:!0,enumerable:!0,value:e.linealFactorMin},linealFactorGrade:{writable:!0,enumerable:!0,value:e.linealFactorGrade},decrementFactor:{writable:!0,enumerable:!0,value:e.decrementFactor},thresholdFactor:{writable:!0,enumerable:!0,value:e.thresholdFactor},upLosses:{writable:!0,enumerable:!0,value:e.upLosses},rembOnConnect:{writable:!0,enumerable:!0,value:e.rembOnConnect}})}function checkRembParams(e,r){if(!(r instanceof RembParams))throw ChecktypeError(e,RembParams,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(RembParams,ComplexType),Object.defineProperties(RembParams.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"RembParams"}}),module.exports=RembParams,RembParams.check=checkRembParams;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],178:[function(require,module,exports){
function ServerInfo(e){if(!(this instanceof ServerInfo))return new ServerInfo(e);e=e||{},ServerInfo.super_.call(this,e),Object.defineProperties(this,{version:{writable:!0,enumerable:!0,value:e.version},modules:{writable:!0,enumerable:!0,value:e.modules},type:{writable:!0,enumerable:!0,value:e.type},capabilities:{writable:!0,enumerable:!0,value:e.capabilities}})}function checkServerInfo(e,r){if(!(r instanceof ServerInfo))throw ChecktypeError(e,ServerInfo,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(ServerInfo,ComplexType),Object.defineProperties(ServerInfo.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"ServerInfo"}}),module.exports=ServerInfo,ServerInfo.check=checkServerInfo;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],179:[function(require,module,exports){
function checkServerType(r,e){if("string"!=typeof e)throw SyntaxError(r+" param should be a String, not "+typeof e);if(!e.match("KMS|KCS"))throw SyntaxError(r+" param is not one of [KMS|KCS] ("+e+")")}var kurentoClient=require("kurento-client");module.exports=checkServerType;
},{"kurento-client":"kurento-client"}],180:[function(require,module,exports){
function Stats(e){if(!(this instanceof Stats))return new Stats(e);e=e||{},Stats.super_.call(this,e),Object.defineProperties(this,{id:{writable:!0,enumerable:!0,value:e.id},type:{writable:!0,enumerable:!0,value:e.type},timestamp:{writable:!0,enumerable:!0,value:e.timestamp},timestampMillis:{writable:!0,enumerable:!0,value:e.timestampMillis}})}function checkStats(e,t){if(!(t instanceof Stats))throw ChecktypeError(e,Stats,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(Stats,ComplexType),Object.defineProperties(Stats.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"Stats"}}),module.exports=Stats,Stats.check=checkStats;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],181:[function(require,module,exports){
function checkStatsType(t,n){if("string"!=typeof n)throw SyntaxError(t+" param should be a String, not "+typeof n);if(!n.match("inboundrtp|outboundrtp|session|datachannel|track|transport|candidatepair|localcandidate|remotecandidate|element|endpoint"))throw SyntaxError(t+" param is not one of [inboundrtp|outboundrtp|session|datachannel|track|transport|candidatepair|localcandidate|remotecandidate|element|endpoint] ("+n+")")}var kurentoClient=require("kurento-client");module.exports=checkStatsType;
},{"kurento-client":"kurento-client"}],182:[function(require,module,exports){
function Tag(e){if(!(this instanceof Tag))return new Tag(e);e=e||{},Tag.super_.call(this,e),Object.defineProperties(this,{key:{writable:!0,enumerable:!0,value:e.key},value:{writable:!0,enumerable:!0,value:e.value}})}function checkTag(e,r){if(!(r instanceof Tag))throw ChecktypeError(e,Tag,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(Tag,ComplexType),Object.defineProperties(Tag.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"Tag"}}),module.exports=Tag,Tag.check=checkTag;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],183:[function(require,module,exports){
function checkUriEndpointState(t,r){if("string"!=typeof r)throw SyntaxError(t+" param should be a String, not "+typeof r);if(!r.match("STOP|START|PAUSE"))throw SyntaxError(t+" param is not one of [STOP|START|PAUSE] ("+r+")")}var kurentoClient=require("kurento-client");module.exports=checkUriEndpointState;
},{"kurento-client":"kurento-client"}],184:[function(require,module,exports){
function VideoCaps(e){if(!(this instanceof VideoCaps))return new VideoCaps(e);e=e||{},VideoCaps.super_.call(this,e),Object.defineProperties(this,{codec:{writable:!0,enumerable:!0,value:e.codec},framerate:{writable:!0,enumerable:!0,value:e.framerate}})}function checkVideoCaps(e,r){if(!(r instanceof VideoCaps))throw ChecktypeError(e,VideoCaps,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("./ComplexType");inherits(VideoCaps,ComplexType),Object.defineProperties(VideoCaps.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"VideoCaps"}}),module.exports=VideoCaps,VideoCaps.check=checkVideoCaps;
},{"./ComplexType":147,"inherits":"inherits","kurento-client":"kurento-client"}],185:[function(require,module,exports){
function checkVideoCodec(o,e){if("string"!=typeof e)throw SyntaxError(o+" param should be a String, not "+typeof e);if(!e.match("VP8|H264|RAW"))throw SyntaxError(o+" param is not one of [VP8|H264|RAW] ("+e+")")}var kurentoClient=require("kurento-client");module.exports=checkVideoCodec;
},{"kurento-client":"kurento-client"}],186:[function(require,module,exports){
var ComplexType=require("./ComplexType"),AudioCaps=require("./AudioCaps"),AudioCodec=require("./AudioCodec"),CodecConfiguration=require("./CodecConfiguration"),ConnectionState=require("./ConnectionState"),ElementConnectionData=require("./ElementConnectionData"),ElementStats=require("./ElementStats"),EndpointStats=require("./EndpointStats"),FilterType=require("./FilterType"),Fraction=require("./Fraction"),GstreamerDotDetails=require("./GstreamerDotDetails"),MediaFlowState=require("./MediaFlowState"),MediaLatencyStat=require("./MediaLatencyStat"),MediaState=require("./MediaState"),MediaTranscodingState=require("./MediaTranscodingState"),MediaType=require("./MediaType"),ModuleInfo=require("./ModuleInfo"),RembParams=require("./RembParams"),RTCCertificateStats=require("./RTCCertificateStats"),RTCCodec=require("./RTCCodec"),RTCDataChannelState=require("./RTCDataChannelState"),RTCDataChannelStats=require("./RTCDataChannelStats"),RTCIceCandidateAttributes=require("./RTCIceCandidateAttributes"),RTCIceCandidatePairStats=require("./RTCIceCandidatePairStats"),RTCInboundRTPStreamStats=require("./RTCInboundRTPStreamStats"),RTCMediaStreamStats=require("./RTCMediaStreamStats"),RTCMediaStreamTrackStats=require("./RTCMediaStreamTrackStats"),RTCOutboundRTPStreamStats=require("./RTCOutboundRTPStreamStats"),RTCPeerConnectionStats=require("./RTCPeerConnectionStats"),RTCRTPStreamStats=require("./RTCRTPStreamStats"),RTCStats=require("./RTCStats"),RTCStatsIceCandidatePairState=require("./RTCStatsIceCandidatePairState"),RTCStatsIceCandidateType=require("./RTCStatsIceCandidateType"),RTCTransportStats=require("./RTCTransportStats"),ServerInfo=require("./ServerInfo"),ServerType=require("./ServerType"),Stats=require("./Stats"),StatsType=require("./StatsType"),Tag=require("./Tag"),UriEndpointState=require("./UriEndpointState"),VideoCaps=require("./VideoCaps"),VideoCodec=require("./VideoCodec");exports.ComplexType=ComplexType,exports.AudioCaps=AudioCaps,exports.AudioCodec=AudioCodec,exports.CodecConfiguration=CodecConfiguration,exports.ConnectionState=ConnectionState,exports.ElementConnectionData=ElementConnectionData,exports.ElementStats=ElementStats,exports.EndpointStats=EndpointStats,exports.FilterType=FilterType,exports.Fraction=Fraction,exports.GstreamerDotDetails=GstreamerDotDetails,exports.MediaFlowState=MediaFlowState,exports.MediaLatencyStat=MediaLatencyStat,exports.MediaState=MediaState,exports.MediaTranscodingState=MediaTranscodingState,exports.MediaType=MediaType,exports.ModuleInfo=ModuleInfo,exports.RembParams=RembParams,exports.RTCCertificateStats=RTCCertificateStats,exports.RTCCodec=RTCCodec,exports.RTCDataChannelState=RTCDataChannelState,exports.RTCDataChannelStats=RTCDataChannelStats,exports.RTCIceCandidateAttributes=RTCIceCandidateAttributes,exports.RTCIceCandidatePairStats=RTCIceCandidatePairStats,exports.RTCInboundRTPStreamStats=RTCInboundRTPStreamStats,exports.RTCMediaStreamStats=RTCMediaStreamStats,exports.RTCMediaStreamTrackStats=RTCMediaStreamTrackStats,exports.RTCOutboundRTPStreamStats=RTCOutboundRTPStreamStats,exports.RTCPeerConnectionStats=RTCPeerConnectionStats,exports.RTCRTPStreamStats=RTCRTPStreamStats,exports.RTCStats=RTCStats,exports.RTCStatsIceCandidatePairState=RTCStatsIceCandidatePairState,exports.RTCStatsIceCandidateType=RTCStatsIceCandidateType,exports.RTCTransportStats=RTCTransportStats,exports.ServerInfo=ServerInfo,exports.ServerType=ServerType,exports.Stats=Stats,exports.StatsType=StatsType,exports.Tag=Tag,exports.UriEndpointState=UriEndpointState,exports.VideoCaps=VideoCaps,exports.VideoCodec=VideoCodec;
},{"./AudioCaps":144,"./AudioCodec":145,"./CodecConfiguration":146,"./ComplexType":147,"./ConnectionState":148,"./ElementConnectionData":149,"./ElementStats":150,"./EndpointStats":151,"./FilterType":152,"./Fraction":153,"./GstreamerDotDetails":154,"./MediaFlowState":155,"./MediaLatencyStat":156,"./MediaState":157,"./MediaTranscodingState":158,"./MediaType":159,"./ModuleInfo":160,"./RTCCertificateStats":161,"./RTCCodec":162,"./RTCDataChannelState":163,"./RTCDataChannelStats":164,"./RTCIceCandidateAttributes":165,"./RTCIceCandidatePairStats":166,"./RTCInboundRTPStreamStats":167,"./RTCMediaStreamStats":168,"./RTCMediaStreamTrackStats":169,"./RTCOutboundRTPStreamStats":170,"./RTCPeerConnectionStats":171,"./RTCRTPStreamStats":172,"./RTCStats":173,"./RTCStatsIceCandidatePairState":174,"./RTCStatsIceCandidateType":175,"./RTCTransportStats":176,"./RembParams":177,"./ServerInfo":178,"./ServerType":179,"./Stats":180,"./StatsType":181,"./Tag":182,"./UriEndpointState":183,"./VideoCaps":184,"./VideoCodec":185}],187:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function AlphaBlending(){AlphaBlending.super_.call(this)}function checkAlphaBlending(e,r){if(!(r instanceof AlphaBlending))throw ChecktypeError(e,AlphaBlending,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Hub=require("kurento-client-core").abstracts.Hub;inherits(AlphaBlending,Hub),AlphaBlending.prototype.setMaster=function(e,r,i){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("HubPort","source",e,{required:!0}),checkType("int","zOrder",r,{required:!0});var n={source:e,zOrder:r};return i=(i||noop).bind(this),disguise(this._invoke(t,"setMaster",n,i),this)},AlphaBlending.prototype.setPortProperties=function(e,r,i,t,n,o,a){var c=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("float","relativeX",e,{required:!0}),checkType("float","relativeY",r,{required:!0}),checkType("int","zOrder",i,{required:!0}),checkType("float","relativeWidth",t,{required:!0}),checkType("float","relativeHeight",n,{required:!0}),checkType("HubPort","port",o,{required:!0});var l={relativeX:e,relativeY:r,zOrder:i,relativeWidth:t,relativeHeight:n,port:o};return a=(a||noop).bind(this),disguise(this._invoke(c,"setPortProperties",l,a),this)},AlphaBlending.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},AlphaBlending.events=Hub.events,module.exports=AlphaBlending,AlphaBlending.check=checkAlphaBlending;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],188:[function(require,module,exports){
function Composite(){Composite.super_.call(this)}function checkComposite(e,i){if(!(i instanceof Composite))throw ChecktypeError(e,Composite,i)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,Hub=require("kurento-client-core").abstracts.Hub;inherits(Composite,Hub),Composite.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},Composite.events=Hub.events,module.exports=Composite,Composite.check=checkComposite;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],189:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function Dispatcher(){Dispatcher.super_.call(this)}function checkDispatcher(e,r){if(!(r instanceof Dispatcher))throw ChecktypeError(e,Dispatcher,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Hub=require("kurento-client-core").abstracts.Hub;inherits(Dispatcher,Hub),Dispatcher.prototype.connect=function(e,r,t){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("HubPort","source",e,{required:!0}),checkType("HubPort","sink",r,{required:!0});var c={source:e,sink:r};return t=(t||noop).bind(this),disguise(this._invoke(i,"connect",c,t),this)},Dispatcher.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},Dispatcher.events=Hub.events,module.exports=Dispatcher,Dispatcher.check=checkDispatcher;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],190:[function(require,module,exports){
function noop(e,n){return e&&console.trace(e),n}function DispatcherOneToMany(){DispatcherOneToMany.super_.call(this)}function checkDispatcherOneToMany(e,n){if(!(n instanceof DispatcherOneToMany))throw ChecktypeError(e,DispatcherOneToMany,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Hub=require("kurento-client-core").abstracts.Hub;inherits(DispatcherOneToMany,Hub),DispatcherOneToMany.prototype.removeSource=function(e){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(n,"removeSource",e),this)},DispatcherOneToMany.prototype.setSource=function(e,n){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("HubPort","source",e,{required:!0});var t={source:e};return n=(n||noop).bind(this),disguise(this._invoke(r,"setSource",t,n),this)},DispatcherOneToMany.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},DispatcherOneToMany.events=Hub.events,module.exports=DispatcherOneToMany,DispatcherOneToMany.check=checkDispatcherOneToMany;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],191:[function(require,module,exports){
function HttpPostEndpoint(){HttpPostEndpoint.super_.call(this)}function checkHttpPostEndpoint(t,n){if(!(n instanceof HttpPostEndpoint))throw ChecktypeError(t,HttpPostEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,HttpEndpoint=require("./abstracts/HttpEndpoint");inherits(HttpPostEndpoint,HttpEndpoint),HttpPostEndpoint.constructorParams={disconnectionTimeout:{type:"int"},mediaPipeline:{type:"kurento.MediaPipeline",required:!0},useEncodedMedia:{type:"boolean"}},HttpPostEndpoint.events=HttpEndpoint.events.concat(["EndOfStream"]),module.exports=HttpPostEndpoint,HttpPostEndpoint.check=checkHttpPostEndpoint;
},{"./abstracts/HttpEndpoint":197,"inherits":"inherits","kurento-client":"kurento-client"}],192:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function Mixer(){Mixer.super_.call(this)}function checkMixer(e,r){if(!(r instanceof Mixer))throw ChecktypeError(e,Mixer,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Hub=require("kurento-client-core").abstracts.Hub;inherits(Mixer,Hub),Mixer.prototype.connect=function(e,r,i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("MediaType","media",e,{required:!0}),checkType("HubPort","source",r,{required:!0}),checkType("HubPort","sink",i,{required:!0});var c={media:e,source:r,sink:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"connect",c,n),this)},Mixer.prototype.disconnect=function(e,r,i,n){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("MediaType","media",e,{required:!0}),checkType("HubPort","source",r,{required:!0}),checkType("HubPort","sink",i,{required:!0});var c={media:e,source:r,sink:i};return n=(n||noop).bind(this),disguise(this._invoke(t,"disconnect",c,n),this)},Mixer.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},Mixer.events=Hub.events,module.exports=Mixer,Mixer.check=checkMixer;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],193:[function(require,module,exports){
function noop(n,i){return n&&console.trace(n),i}function PlayerEndpoint(){PlayerEndpoint.super_.call(this)}function checkPlayerEndpoint(n,i){if(!(i instanceof PlayerEndpoint))throw ChecktypeError(n,PlayerEndpoint,i)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,UriEndpoint=require("kurento-client-core").abstracts.UriEndpoint;inherits(PlayerEndpoint,UriEndpoint),PlayerEndpoint.prototype.getPosition=function(n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==n&&!0,arguments.length||(n=void 0),n=(n||noop).bind(this),disguise(this._invoke(i,"getPosition",n),this)},PlayerEndpoint.prototype.setPosition=function(n,i){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("int64","position",n,{required:!0});var e={position:n};return i=(i||noop).bind(this),disguise(this._invoke(t,"setPosition",e,i),this)},PlayerEndpoint.prototype.getVideoInfo=function(n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==n&&!0,arguments.length||(n=void 0),n=(n||noop).bind(this),disguise(this._invoke(i,"getVideoInfo",n),this)},PlayerEndpoint.prototype.play=function(n){var i=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==n&&!0,arguments.length||(n=void 0),n=(n||noop).bind(this),disguise(this._invoke(i,"play",n),this)},PlayerEndpoint.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0},networkCache:{type:"int"},uri:{type:"String",required:!0},useEncodedMedia:{type:"boolean"}},PlayerEndpoint.events=UriEndpoint.events.concat(["EndOfStream"]),module.exports=PlayerEndpoint,PlayerEndpoint.check=checkPlayerEndpoint;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],194:[function(require,module,exports){
function noop(e,n){return e&&console.trace(e),n}function RecorderEndpoint(){RecorderEndpoint.super_.call(this)}function checkRecorderEndpoint(e,n){if(!(n instanceof RecorderEndpoint))throw ChecktypeError(e,RecorderEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,UriEndpoint=require("kurento-client-core").abstracts.UriEndpoint;inherits(RecorderEndpoint,UriEndpoint),RecorderEndpoint.prototype.record=function(e){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(n,"record",e),this)},RecorderEndpoint.prototype.stopAndWait=function(e){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(n,"stopAndWait",e),this)},RecorderEndpoint.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0},mediaProfile:{type:"kurento.MediaProfileSpecType"},stopOnEndOfStream:{type:"boolean"},uri:{type:"String",required:!0}},RecorderEndpoint.events=UriEndpoint.events.concat(["Paused","Recording","Stopped"]),module.exports=RecorderEndpoint,RecorderEndpoint.check=checkRecorderEndpoint;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],195:[function(require,module,exports){
function RtpEndpoint(){RtpEndpoint.super_.call(this)}function checkRtpEndpoint(t,e){if(!(e instanceof RtpEndpoint))throw ChecktypeError(t,RtpEndpoint,e)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,BaseRtpEndpoint=require("kurento-client-core").abstracts.BaseRtpEndpoint;inherits(RtpEndpoint,BaseRtpEndpoint),RtpEndpoint.constructorParams={crypto:{type:"kurento.SDES"},mediaPipeline:{type:"kurento.MediaPipeline",required:!0},useIpv6:{type:"boolean"}},RtpEndpoint.events=BaseRtpEndpoint.events.concat(["OnKeySoftLimit"]),module.exports=RtpEndpoint,RtpEndpoint.check=checkRtpEndpoint;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],196:[function(require,module,exports){
function noop(e,t){return e&&console.trace(e),t}function WebRtcEndpoint(){WebRtcEndpoint.super_.call(this)}function checkWebRtcEndpoint(e,t){if(!(t instanceof WebRtcEndpoint))throw ChecktypeError(e,WebRtcEndpoint,t)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,BaseRtpEndpoint=require("kurento-client-core").abstracts.BaseRtpEndpoint;inherits(WebRtcEndpoint,BaseRtpEndpoint),WebRtcEndpoint.prototype.getICECandidatePairs=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getICECandidatePairs",e),this)},WebRtcEndpoint.prototype.getIceConnectionState=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getIceConnectionState",e),this)},WebRtcEndpoint.prototype.getStunServerAddress=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getStunServerAddress",e),this)},WebRtcEndpoint.prototype.setStunServerAddress=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("String","stunServerAddress",e,{required:!0});var i={stunServerAddress:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"setStunServerAddress",i,t),this)},WebRtcEndpoint.prototype.getStunServerPort=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getStunServerPort",e),this)},WebRtcEndpoint.prototype.setStunServerPort=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("int","stunServerPort",e,{required:!0});var i={stunServerPort:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"setStunServerPort",i,t),this)},WebRtcEndpoint.prototype.getTurnUrl=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"getTurnUrl",e),this)},WebRtcEndpoint.prototype.setTurnUrl=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("String","turnUrl",e,{required:!0});var i={turnUrl:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"setTurnUrl",i,t),this)},WebRtcEndpoint.prototype.addIceCandidate=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("IceCandidate","candidate",e,{required:!0});var i={candidate:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"addIceCandidate",i,t),this)},WebRtcEndpoint.prototype.closeDataChannel=function(e,t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("int","channelId",e,{required:!0});var i={channelId:e};return t=(t||noop).bind(this),disguise(this._invoke(n,"closeDataChannel",i,t),this)},WebRtcEndpoint.prototype.createDataChannel=function(e,t,n,i,o,r){var a=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;switch(r=arguments[arguments.length-1]instanceof Function?Array.prototype.pop.call(arguments):void 0,arguments.length){case 0:e=void 0;case 1:t=void 0;case 2:n=void 0;case 3:i=void 0;case 4:o=void 0;break;case 5:break;default:var s=new RangeError("Number of params ("+arguments.length+") not in range [0-5]");throw s.length=arguments.length,s.min=0,s.max=5,s}checkType("String","label",e),checkType("boolean","ordered",t),checkType("int","maxPacketLifeTime",n),checkType("int","maxRetransmits",i),checkType("String","protocol",o);var p={label:e,ordered:t,maxPacketLifeTime:n,maxRetransmits:i,protocol:o};return r=(r||noop).bind(this),disguise(this._invoke(a,"createDataChannel",p,r),this)},WebRtcEndpoint.prototype.gatherCandidates=function(e){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(t,"gatherCandidates",e),this)},WebRtcEndpoint.constructorParams={certificateKeyType:{type:"kurento.CertificateKeyType"},mediaPipeline:{type:"kurento.MediaPipeline",required:!0},useDataChannels:{type:"boolean"}},WebRtcEndpoint.events=BaseRtpEndpoint.events.concat(["DataChannelClose","DataChannelOpen","IceCandidateFound","IceComponentStateChange","IceGatheringDone","NewCandidatePairSelected","OnDataChannelClosed","OnDataChannelOpened","OnIceCandidate","OnIceComponentStateChanged","OnIceGatheringDone"]),module.exports=WebRtcEndpoint,WebRtcEndpoint.check=checkWebRtcEndpoint;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],197:[function(require,module,exports){
function noop(t,n){return t&&console.trace(t),n}function HttpEndpoint(){HttpEndpoint.super_.call(this)}function checkHttpEndpoint(t,n){if(!(n instanceof HttpEndpoint))throw ChecktypeError(t,HttpEndpoint,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,SessionEndpoint=require("kurento-client-core").abstracts.SessionEndpoint;inherits(HttpEndpoint,SessionEndpoint),HttpEndpoint.prototype.getUrl=function(t){var n=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==t&&!0,arguments.length||(t=void 0),t=(t||noop).bind(this),disguise(this._invoke(n,"getUrl",t),this)},HttpEndpoint.constructorParams={},HttpEndpoint.events=SessionEndpoint.events,module.exports=HttpEndpoint,HttpEndpoint.check=checkHttpEndpoint;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],198:[function(require,module,exports){
var HttpEndpoint=require("./HttpEndpoint");exports.HttpEndpoint=HttpEndpoint;
},{"./HttpEndpoint":197}],199:[function(require,module,exports){
function checkCertificateKeyType(e,t){if("string"!=typeof t)throw SyntaxError(e+" param should be a String, not "+typeof t);if(!t.match("RSA|ECDSA"))throw SyntaxError(e+" param is not one of [RSA|ECDSA] ("+t+")")}var kurentoClient=require("kurento-client");module.exports=checkCertificateKeyType;
},{"kurento-client":"kurento-client"}],200:[function(require,module,exports){
function checkCryptoSuite(_,A){if("string"!=typeof A)throw SyntaxError(_+" param should be a String, not "+typeof A);if(!A.match("AES_128_CM_HMAC_SHA1_32|AES_128_CM_HMAC_SHA1_80|AES_256_CM_HMAC_SHA1_32|AES_256_CM_HMAC_SHA1_80"))throw SyntaxError(_+" param is not one of [AES_128_CM_HMAC_SHA1_32|AES_128_CM_HMAC_SHA1_80|AES_256_CM_HMAC_SHA1_32|AES_256_CM_HMAC_SHA1_80] ("+A+")")}var kurentoClient=require("kurento-client");module.exports=checkCryptoSuite;
},{"kurento-client":"kurento-client"}],201:[function(require,module,exports){
function IceCandidate(e){if(!(this instanceof IceCandidate))return new IceCandidate(e);e=e||{},checkType("String","iceCandidateDict.candidate",e.candidate,{required:!0}),checkType("String","iceCandidateDict.sdpMid",e.sdpMid,{required:!0}),checkType("int","iceCandidateDict.sdpMLineIndex",e.sdpMLineIndex,{required:!0}),IceCandidate.super_.call(this,e),Object.defineProperties(this,{candidate:{writable:!0,enumerable:!0,value:e.candidate},sdpMid:{writable:!0,enumerable:!0,value:e.sdpMid},sdpMLineIndex:{writable:!0,enumerable:!0,value:e.sdpMLineIndex}})}function checkIceCandidate(e,i){if(!(i instanceof IceCandidate))throw ChecktypeError(e,IceCandidate,i)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("kurento-client-core").complexTypes.ComplexType;inherits(IceCandidate,ComplexType),Object.defineProperties(IceCandidate.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"IceCandidate"}}),module.exports=IceCandidate,IceCandidate.check=checkIceCandidate;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],202:[function(require,module,exports){
function IceCandidatePair(e){if(!(this instanceof IceCandidatePair))return new IceCandidatePair(e);e=e||{},checkType("String","iceCandidatePairDict.streamID",e.streamID,{required:!0}),checkType("int","iceCandidatePairDict.componentID",e.componentID,{required:!0}),checkType("String","iceCandidatePairDict.localCandidate",e.localCandidate,{required:!0}),checkType("String","iceCandidatePairDict.remoteCandidate",e.remoteCandidate,{required:!0}),IceCandidatePair.super_.call(this,e),Object.defineProperties(this,{streamID:{writable:!0,enumerable:!0,value:e.streamID},componentID:{writable:!0,enumerable:!0,value:e.componentID},localCandidate:{writable:!0,enumerable:!0,value:e.localCandidate},remoteCandidate:{writable:!0,enumerable:!0,value:e.remoteCandidate}})}function checkIceCandidatePair(e,a){if(!(a instanceof IceCandidatePair))throw ChecktypeError(e,IceCandidatePair,a)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("kurento-client-core").complexTypes.ComplexType;inherits(IceCandidatePair,ComplexType),Object.defineProperties(IceCandidatePair.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"IceCandidatePair"}}),module.exports=IceCandidatePair,IceCandidatePair.check=checkIceCandidatePair;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],203:[function(require,module,exports){
function checkIceComponentState(t,e){if("string"!=typeof e)throw SyntaxError(t+" param should be a String, not "+typeof e);if(!e.match("DISCONNECTED|GATHERING|CONNECTING|CONNECTED|READY|FAILED"))throw SyntaxError(t+" param is not one of [DISCONNECTED|GATHERING|CONNECTING|CONNECTED|READY|FAILED] ("+e+")")}var kurentoClient=require("kurento-client");module.exports=checkIceComponentState;
},{"kurento-client":"kurento-client"}],204:[function(require,module,exports){
function IceConnection(e){if(!(this instanceof IceConnection))return new IceConnection(e);e=e||{},checkType("String","iceConnectionDict.streamId",e.streamId,{required:!0}),checkType("int","iceConnectionDict.componentId",e.componentId,{required:!0}),checkType("IceComponentState","iceConnectionDict.state",e.state,{required:!0}),IceConnection.super_.call(this,e),Object.defineProperties(this,{streamId:{writable:!0,enumerable:!0,value:e.streamId},componentId:{writable:!0,enumerable:!0,value:e.componentId},state:{writable:!0,enumerable:!0,value:e.state}})}function checkIceConnection(e,n){if(!(n instanceof IceConnection))throw ChecktypeError(e,IceConnection,n)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("kurento-client-core").complexTypes.ComplexType;inherits(IceConnection,ComplexType),Object.defineProperties(IceConnection.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"IceConnection"}}),module.exports=IceConnection,IceConnection.check=checkIceConnection;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],205:[function(require,module,exports){
function checkMediaProfileSpecType(O,_){if("string"!=typeof _)throw SyntaxError(O+" param should be a String, not "+typeof _);if(!_.match("WEBM|MP4|WEBM_VIDEO_ONLY|WEBM_AUDIO_ONLY|MP4_VIDEO_ONLY|MP4_AUDIO_ONLY|JPEG_VIDEO_ONLY|KURENTO_SPLIT_RECORDER"))throw SyntaxError(O+" param is not one of [WEBM|MP4|WEBM_VIDEO_ONLY|WEBM_AUDIO_ONLY|MP4_VIDEO_ONLY|MP4_AUDIO_ONLY|JPEG_VIDEO_ONLY|KURENTO_SPLIT_RECORDER] ("+_+")")}var kurentoClient=require("kurento-client");module.exports=checkMediaProfileSpecType;
},{"kurento-client":"kurento-client"}],206:[function(require,module,exports){
function SDES(e){if(!(this instanceof SDES))return new SDES(e);e=e||{},checkType("String","sDESDict.key",e.key),checkType("CryptoSuite","sDESDict.crypto",e.crypto),SDES.super_.call(this,e),Object.defineProperties(this,{key:{writable:!0,enumerable:!0,value:e.key},crypto:{writable:!0,enumerable:!0,value:e.crypto}})}function checkSDES(e,r){if(!(r instanceof SDES))throw ChecktypeError(e,SDES,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("kurento-client-core").complexTypes.ComplexType;inherits(SDES,ComplexType),Object.defineProperties(SDES.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"SDES"}}),module.exports=SDES,SDES.check=checkSDES;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],207:[function(require,module,exports){
function VideoInfo(e){if(!(this instanceof VideoInfo))return new VideoInfo(e);e=e||{},checkType("boolean","videoInfoDict.isSeekable",e.isSeekable,{required:!0}),checkType("int64","videoInfoDict.seekableInit",e.seekableInit,{required:!0}),checkType("int64","videoInfoDict.seekableEnd",e.seekableEnd,{required:!0}),checkType("int64","videoInfoDict.duration",e.duration,{required:!0}),VideoInfo.super_.call(this,e),Object.defineProperties(this,{isSeekable:{writable:!0,enumerable:!0,value:e.isSeekable},seekableInit:{writable:!0,enumerable:!0,value:e.seekableInit},seekableEnd:{writable:!0,enumerable:!0,value:e.seekableEnd},duration:{writable:!0,enumerable:!0,value:e.duration}})}function checkVideoInfo(e,i){if(!(i instanceof VideoInfo))throw ChecktypeError(e,VideoInfo,i)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,ComplexType=require("kurento-client-core").complexTypes.ComplexType;inherits(VideoInfo,ComplexType),Object.defineProperties(VideoInfo.prototype,{__module__:{enumerable:!0,value:"kurento"},__type__:{enumerable:!0,value:"VideoInfo"}}),module.exports=VideoInfo,VideoInfo.check=checkVideoInfo;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],208:[function(require,module,exports){
var CertificateKeyType=require("./CertificateKeyType"),CryptoSuite=require("./CryptoSuite"),IceCandidate=require("./IceCandidate"),IceCandidatePair=require("./IceCandidatePair"),IceComponentState=require("./IceComponentState"),IceConnection=require("./IceConnection"),MediaProfileSpecType=require("./MediaProfileSpecType"),SDES=require("./SDES"),VideoInfo=require("./VideoInfo");exports.CertificateKeyType=CertificateKeyType,exports.CryptoSuite=CryptoSuite,exports.IceCandidate=IceCandidate,exports.IceCandidatePair=IceCandidatePair,exports.IceComponentState=IceComponentState,exports.IceConnection=IceConnection,exports.MediaProfileSpecType=MediaProfileSpecType,exports.SDES=SDES,exports.VideoInfo=VideoInfo;
},{"./CertificateKeyType":199,"./CryptoSuite":200,"./IceCandidate":201,"./IceCandidatePair":202,"./IceComponentState":203,"./IceConnection":204,"./MediaProfileSpecType":205,"./SDES":206,"./VideoInfo":207}],209:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function FaceOverlayFilter(){FaceOverlayFilter.super_.call(this)}function checkFaceOverlayFilter(e,r){if(!(r instanceof FaceOverlayFilter))throw ChecktypeError(e,FaceOverlayFilter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Filter=require("kurento-client-core").abstracts.Filter;inherits(FaceOverlayFilter,Filter),FaceOverlayFilter.prototype.setOverlayedImage=function(e,r,t,i,n,a){var c=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("String","uri",e,{required:!0}),checkType("float","offsetXPercent",r,{required:!0}),checkType("float","offsetYPercent",t,{required:!0}),checkType("float","widthPercent",i,{required:!0}),checkType("float","heightPercent",n,{required:!0});var o={uri:e,offsetXPercent:r,offsetYPercent:t,widthPercent:i,heightPercent:n};return a=(a||noop).bind(this),disguise(this._invoke(c,"setOverlayedImage",o,a),this)},FaceOverlayFilter.prototype.unsetOverlayedImage=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"unsetOverlayedImage",e),this)},FaceOverlayFilter.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},FaceOverlayFilter.events=Filter.events,module.exports=FaceOverlayFilter,FaceOverlayFilter.check=checkFaceOverlayFilter;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],210:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function GStreamerFilter(){GStreamerFilter.super_.call(this)}function checkGStreamerFilter(e,r){if(!(r instanceof GStreamerFilter))throw ChecktypeError(e,GStreamerFilter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Filter=require("kurento-client-core").abstracts.Filter;inherits(GStreamerFilter,Filter),GStreamerFilter.prototype.getCommand=function(e){var r=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;return void 0==e&&!0,arguments.length||(e=void 0),e=(e||noop).bind(this),disguise(this._invoke(r,"getCommand",e),this)},GStreamerFilter.constructorParams={command:{type:"String",required:!0},filterType:{type:"kurento.FilterType"},mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},GStreamerFilter.events=Filter.events,module.exports=GStreamerFilter,GStreamerFilter.check=checkGStreamerFilter;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],211:[function(require,module,exports){
function noop(e,r){return e&&console.trace(e),r}function ImageOverlayFilter(){ImageOverlayFilter.super_.call(this)}function checkImageOverlayFilter(e,r){if(!(r instanceof ImageOverlayFilter))throw ChecktypeError(e,ImageOverlayFilter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,checkType=kurentoClient.checkType,ChecktypeError=checkType.ChecktypeError,Transaction=kurentoClient.TransactionsManager.Transaction,Filter=require("kurento-client-core").abstracts.Filter;inherits(ImageOverlayFilter,Filter),ImageOverlayFilter.prototype.addImage=function(e,r,t,i,n,a,c,o,l){var s=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("String","id",e,{required:!0}),checkType("String","uri",r,{required:!0}),checkType("float","offsetXPercent",t,{required:!0}),checkType("float","offsetYPercent",i,{required:!0}),checkType("float","widthPercent",n,{required:!0}),checkType("float","heightPercent",a,{required:!0}),checkType("boolean","keepAspectRatio",c,{required:!0}),checkType("boolean","center",o,{required:!0});var p={id:e,uri:r,offsetXPercent:t,offsetYPercent:i,widthPercent:n,heightPercent:a,keepAspectRatio:c,center:o};return l=(l||noop).bind(this),disguise(this._invoke(s,"addImage",p,l),this)},ImageOverlayFilter.prototype.removeImage=function(e,r){var t=arguments[0]instanceof Transaction?Array.prototype.shift.apply(arguments):void 0;checkType("String","id",e,{required:!0});var i={id:e};return r=(r||noop).bind(this),disguise(this._invoke(t,"removeImage",i,r),this)},ImageOverlayFilter.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},ImageOverlayFilter.events=Filter.events,module.exports=ImageOverlayFilter,ImageOverlayFilter.check=checkImageOverlayFilter;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],212:[function(require,module,exports){
function ZBarFilter(){ZBarFilter.super_.call(this)}function checkZBarFilter(e,r){if(!(r instanceof ZBarFilter))throw ChecktypeError(e,ZBarFilter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,Filter=require("kurento-client-core").abstracts.Filter;inherits(ZBarFilter,Filter),ZBarFilter.constructorParams={mediaPipeline:{type:"kurento.MediaPipeline",required:!0}},ZBarFilter.events=Filter.events.concat(["CodeFound"]),module.exports=ZBarFilter,ZBarFilter.check=checkZBarFilter;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],213:[function(require,module,exports){
function OpenCVFilter(){OpenCVFilter.super_.call(this)}function checkOpenCVFilter(e,r){if(!(r instanceof OpenCVFilter))throw ChecktypeError(e,OpenCVFilter,r)}var inherits=require("inherits"),kurentoClient=require("kurento-client"),disguise=kurentoClient.disguise,ChecktypeError=kurentoClient.checkType.ChecktypeError,Filter=require("kurento-client-core").abstracts.Filter;inherits(OpenCVFilter,Filter),OpenCVFilter.constructorParams={},OpenCVFilter.events=Filter.events,module.exports=OpenCVFilter,OpenCVFilter.check=checkOpenCVFilter;
},{"inherits":"inherits","kurento-client":"kurento-client","kurento-client-core":"kurento-client-core"}],214:[function(require,module,exports){
var OpenCVFilter=require("./OpenCVFilter");exports.OpenCVFilter=OpenCVFilter;
},{"./OpenCVFilter":213}],215:[function(require,module,exports){
function Mapper(){var r={};this.forEach=function(e){for(var i in r){var t=r[i];for(var o in t)e(t[o])}},this.get=function(e,i){var t=r[i];if(void 0!=t)return t[e]},this.remove=function(e,i){var t=r[i];if(void 0!=t){delete t[e];for(var o in t)return!1;delete r[i]}},this.set=function(e,i,t){if(void 0==e)return this.remove(i,t);var o=r[t];void 0==o&&(r[t]=o={}),o[i]=e}}Mapper.prototype.pop=function(r,e){var i=this.get(r,e);if(void 0!=i)return this.remove(r,e),i},module.exports=Mapper;
},{}],216:[function(require,module,exports){
var JsonRpcClient=require("./jsonrpcclient");exports.JsonRpcClient=JsonRpcClient;
},{"./jsonrpcclient":217}],217:[function(require,module,exports){
function JsonRpcClient(e){function n(){Logger.debug("notReconnectIfNumLessThan = "+c+" (old="+s+")"),s=c}function r(){if(u){var r=null;0!=c&&c!=s||(r={interval:e.heartbeat||PING_INTERVAL}),c++,i.send("ping",r,function(e){return function(r,o){r&&(Logger.debug("Error in ping request #"+e+" ("+r.message+")"),e>s&&(u=!1,n(),Logger.debug("Server did not respond to ping message #"+e+". Reconnecting... "),O.reconnectWs()))}}(c))}else Logger.debug("Trying to send ping, but ping is not enabled")}function o(){N||(Logger.debug("Starting ping (if configured)"),N=!0,void 0!=e.heartbeat&&(t=setInterval(r,e.heartbeat),r()))}var t,i=this,g=e.ws,s=-1,c=0,u=!0,N=!1,a=DISCONNECTED,d=g.onreconnecting,C=g.onreconnected,E=g.onconnected,l=g.onerror;e.rpc.pull=function(e,n){n.reply(null,"push")},g.onreconnecting=function(){if(Logger.debug("--------- ONRECONNECTING -----------"),a===RECONNECTING)return void Logger.error("Websocket already in RECONNECTING state when receiving a new ONRECONNECTING message. Ignoring it");a=RECONNECTING,d&&d()},g.onreconnected=function(){if(Logger.debug("--------- ONRECONNECTED -----------"),a===CONNECTED)return void Logger.error("Websocket already in CONNECTED state when receiving a new ONRECONNECTED message. Ignoring it");a=CONNECTED,u=!0,n(),o(),C&&C()},g.onconnected=function(){if(Logger.debug("--------- ONCONNECTED -----------"),a===CONNECTED)return void Logger.error("Websocket already in CONNECTED state when receiving a new ONCONNECTED message. Ignoring it");a=CONNECTED,u=!0,o(),E&&E()},g.onerror=function(e){Logger.debug("--------- ONERROR -----------"),a=DISCONNECTED,l&&l(e)};var O=new WebSocketWithReconnection(g);Logger.debug("Connecting websocket to URI: "+g.uri);var R={request_timeout:e.rpc.requestTimeout,ping_request_timeout:e.rpc.heartbeatRequestTimeout},f=new RpcBuilder(RpcBuilder.packers.JsonRPC,R,O,function(n){Logger.debug("Received request: "+JSON.stringify(n));try{var r=e.rpc[n.method];void 0===r?Logger.error("Method "+n.method+" not registered in client"):r(n.params,n)}catch(e){Logger.error("Exception processing request: "+JSON.stringify(n)),Logger.error(e)}});this.send=function(e,n,r){"ping"!==e&&Logger.debug("Request: method:"+e+" params:"+JSON.stringify(n));var o=Date.now();f.encode(e,n,function(t,i){if(t){try{Logger.error("ERROR:"+t.message+" in Request: method:"+e+" params:"+JSON.stringify(n)+" request:"+t.request),t.data&&Logger.error("ERROR DATA:"+JSON.stringify(t.data))}catch(e){}t.requestTime=o}r&&(void 0!=i&&"pong"!==i.value&&Logger.debug("Response: "+JSON.stringify(i)),r(t,i))})},this.close=function(){Logger.debug("Closing jsonRpcClient explicitly by client"),void 0!=t&&(Logger.debug("Clearing ping interval"),clearInterval(t)),N=!1,u=!1,e.sendCloseMessage?(Logger.debug("Sending close message"),this.send("closeSession",null,function(e,n){e&&Logger.error("Error sending close message: "+JSON.stringify(e)),O.close()})):O.close()},this.forceClose=function(e){O.forceClose(e)},this.reconnect=function(){O.reconnectWs()}}var RpcBuilder=require("../.."),WebSocketWithReconnection=require("./transports/webSocketWithReconnection");Date.now=Date.now||function(){return+new Date};var PING_INTERVAL=5e3,RECONNECTING="RECONNECTING",CONNECTED="CONNECTED",DISCONNECTED="DISCONNECTED",Logger=console;module.exports=JsonRpcClient;
},{"../..":220,"./transports/webSocketWithReconnection":219}],218:[function(require,module,exports){
var WebSocketWithReconnection=require("./webSocketWithReconnection");exports.WebSocketWithReconnection=WebSocketWithReconnection;
},{"./webSocketWithReconnection":219}],219:[function(require,module,exports){
(function (global){
"use strict";function WebSocketWithReconnection(e){function o(e,o){try{Logger.debug("WebSocket connected to "+o)}catch(e){Logger.error(e)}}function n(o,c){if(Logger.debug("reconnectToSameUri (attempt #"+c+", max="+o+")"),1===c){if(u)return void Logger.warn("Trying to reconnectToNewUri when reconnecting... Ignoring this reconnection.");u=!0,e.onreconnecting&&e.onreconnecting()}d?t(o,c,g):e.newWsUriOnReconnection?e.newWsUriOnReconnection(function(e,r){e?(Logger.debug(e),setTimeout(function(){n(o,c+1)},RETRY_TIME_MS)):t(o,c,r)}):t(o,c,g)}function t(t,i,d){Logger.debug("Reconnection attempt #"+i),r.close(),g=d||g;var b;b=s?new SockJS(g):new WebSocket(g),b.onopen=function(){Logger.debug("Reconnected after "+i+" attempts..."),o(b,g),u=!1,c(),e.onreconnected()&&e.onreconnected(),b.onclose=f};var S=function(o){Logger.warn("Reconnection error: ",o),i===t?e.ondisconnect&&e.ondisconnect():setTimeout(function(){n(t,i+1)},RETRY_TIME_MS)};b.onerror=S,r=b}var c,r,i=!1,g=e.uri,s=e.useSockJS,u=!1,d=!1;r=s?new SockJS(g):new WebSocket(g),r.onopen=function(){o(r,g),e.onconnected&&e.onconnected()},r.onerror=function(o){Logger.error("Could not connect to "+g+" (invoking onerror if defined)",o),e.onerror&&e.onerror(o)};var f=function(){r.readyState===CLOSED?i?Logger.debug("Connection closed by user"):(Logger.debug("Connection closed unexpectecly. Reconnecting..."),n(MAX_RETRIES,1)):Logger.debug("Close callback from previous websocket. Ignoring it")};r.onclose=f,this.close=function(){i=!0,r.close()},this.forceClose=function(e){if(Logger.debug("Testing: Force WebSocket close"),e){Logger.debug("Testing: Change wsUri for "+e+" millis to simulate net failure");var o=g;g="wss://21.234.12.34.4:443/",d=!0,setTimeout(function(){Logger.debug("Testing: Recover good wsUri "+o),g=o,d=!1},e)}r.close()},this.reconnectWs=function(){Logger.debug("reconnectWs"),n(MAX_RETRIES,1,g)},this.send=function(e){r.send(e)},this.addEventListener=function(e,o){(c=function(){r.addEventListener(e,o)})()}}var BrowserWebSocket=global.WebSocket||global.MozWebSocket,Logger=console,WebSocket=BrowserWebSocket;if(!WebSocket&&"undefined"==typeof window)try{WebSocket=require("ws")}catch(e){}var MAX_RETRIES=2e3,RETRY_TIME_MS=3e3,CONNECTING=0,OPEN=1,CLOSING=2,CLOSED=3;module.exports=WebSocketWithReconnection;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"ws":311}],220:[function(require,module,exports){
function unifyResponseMethods(e){if(!e)return{};for(var t in e){var r=e[t];"string"==typeof r&&(e[t]={response:r})}return e}function unifyTransport(e){if(e){if(e instanceof Function)return{send:e};if(e.send instanceof Function)return e;if(e.postMessage instanceof Function)return e.send=e.postMessage,e;if(e.write instanceof Function)return e.send=e.write,e;if(void 0===e.onmessage&&!(e.pause instanceof Function))throw new SyntaxError("Transport is not a function nor a valid object")}}function RpcNotification(e,t){defineProperty_IE8?(this.method=e,this.params=t):(Object.defineProperty(this,"method",{value:e,enumerable:!0}),Object.defineProperty(this,"params",{value:t,enumerable:!0}))}function RpcBuilder(e,t,r,n){function i(e){p.decode(e.data||e)}function o(e,t,r){var n={message:e,timeout:setTimeout(function(){T.remove(t,r)},v)};T.set(n,t,r)}function s(e,t){var r=setTimeout(function(){E.remove(e,t)},h);E.set(r,e,t)}function a(t,r,n,i,s){RpcNotification.call(this,t,r),this.getTransport=function(){return s},this.setTransport=function(e){s=unifyTransport(e)},defineProperty_IE8||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)});var a=T.get(n,i);s||p.getTransport()||(defineProperty_IE8?this.duplicated=Boolean(a):Object.defineProperty(this,"duplicated",{value:Boolean(a)}));var c=f[t];this.pack=e.pack.bind(e,this,n),this.reply=function(t,r,s){if(t instanceof Function||t&&t.send instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after callback");s=t,r=null,t=void 0}else if(r instanceof Function||r&&r.send instanceof Function){if(void 0!=s)throw new SyntaxError("There can't be parameters after callback");s=r,r=null}s=unifyTransport(s),a&&clearTimeout(a.timeout),void 0!=i&&(t&&(t.dest=i),r&&(r.dest=i));var f;if(t||void 0!=r){if(void 0!=p.peerID&&(t?t.from=p.peerID:r.from=p.peerID),c)if(void 0==c.error&&t)f={error:t};else{var u=t?c.error:c.response;f={method:u,params:t||r}}else f={error:t,result:r};f=e.pack(f,n)}else f=a?a.message:e.pack({result:null},n);return o(f,n,i),s=s||this.getTransport()||p.getTransport(),s?s.send(f):f}}function c(e){var t=w[e];if(t){delete w[e];var r=y.pop(t.id,t.dest);r&&(clearTimeout(r.timeout),s(t.id,t.dest))}}var p=this;if(!e)throw new SyntaxError("Packer is not defined");if(!e.pack||!e.unpack)throw new SyntaxError("Packer is invalid");var f=unifyResponseMethods(e.responseMethods);if(t instanceof Function){if(void 0!=r)throw new SyntaxError("There can't be parameters after onRequest");n=t,r=void 0,t=void 0}if(t&&t.send instanceof Function){if(r&&!(r instanceof Function))throw new SyntaxError("Only a function can be after transport");n=r,r=t,t=void 0}if(r instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after onRequest");n=r,r=void 0}if(r&&r.send instanceof Function&&n&&!(n instanceof Function))throw new SyntaxError("Only a function can be after transport");t=t||{},EventEmitter.call(this),n&&this.on("request",n),defineProperty_IE8?this.peerID=t.peerID:Object.defineProperty(this,"peerID",{value:t.peerID});var u=t.max_retries||0;this.getTransport=function(){return r},this.setTransport=function(e){r&&(r.removeEventListener?r.removeEventListener("message",i):r.removeListener&&r.removeListener("data",i)),e&&(e.addEventListener?e.addEventListener("message",i):e.addListener&&e.addListener("data",i)),r=unifyTransport(e)},defineProperty_IE8||Object.defineProperty(this,"transport",{get:this.getTransport.bind(this),set:this.setTransport.bind(this)}),this.setTransport(r);var d=t.request_timeout||BASE_TIMEOUT,l=t.ping_request_timeout||d,v=t.response_timeout||BASE_TIMEOUT,h=t.duplicates_timeout||BASE_TIMEOUT,m=0,y=new Mapper,T=new Mapper,E=new Mapper,w={};inherits(a,RpcNotification),this.cancel=function(e){if(e)return c(e);for(var e in w)c(e)},this.close=function(){var e=this.getTransport();e&&e.close&&e.close(),this.cancel(),E.forEach(clearTimeout),T.forEach(function(e){clearTimeout(e.timeout)})},this.encode=function(t,r,n,i,o){function s(e,t){p.cancel(h),o(e,t)}function a(e){var r="ping"===t?l:d;return g.timeout=setTimeout(v,r*Math.pow(2,b++)),w[h]={id:T,dest:n},y.set(g,T,n),e=e||I||p.getTransport(),e?e.send(h):h}function c(e){e=unifyTransport(e),console.warn(b+" retry for request message:",h);var t=E.pop(T,n);return clearTimeout(t),a(e)}function v(){if(b<u)return c(i);var e=new Error("Request has timed out");e.request=h,e.retry=c,s(e)}if(r instanceof Function){if(void 0!=n)throw new SyntaxError("There can't be parameters after callback");o=r,i=void 0,n=void 0,r=void 0}else if(n instanceof Function){if(void 0!=i)throw new SyntaxError("There can't be parameters after callback");o=n,i=void 0,n=void 0}else if(i instanceof Function){if(void 0!=o)throw new SyntaxError("There can't be parameters after callback");o=i,i=void 0}void 0!=p.peerID&&(r=r||{},r.from=p.peerID),void 0!=n&&(r=r||{},r.dest=n);var h={method:t,params:r};if(o){var T=m++,b=0;h=e.pack(h,T);var g={message:h,callback:s,responseMethods:f[t]||{}},I=unifyTransport(i);return a(i)}return h=e.pack(h),i=i||this.getTransport(),i?i.send(h):h},this.decode=function(t,r){function n(){if(r=unifyTransport(r)||p.getTransport()){var e=T.get(c,l);if(e)return r.send(e.message)}var t=void 0!=c?c:f,n=new a(u,d,t,l,r);if(!p.emit("request",n))return n}function i(e,t,r){e.callback(t,r)}function o(e){console.warn("Response already processed",t),clearTimeout(e),s(f,l)}if(!t)throw new TypeError("Message is not defined");try{t=e.unpack(t)}catch(e){return console.debug(e,t)}var c=t.id,f=t.ack,u=t.method,d=t.params||{},l=d.from,v=d.dest;if(void 0==p.peerID||l!=p.peerID){if(void 0==c&&void 0==f){var h=new RpcNotification(u,d);if(p.emit("request",h))return;return h}if(u){if(void 0==v||v==p.peerID){var m=y.get(f,l);if(m){var w=m.responseMethods;return u==w.error?i(m,d):u==w.response?i(m,null,d):n()}var b=E.get(f,l);if(b)return o(b)}return n()}var g=t.error,I=t.result;if(!(g&&g.dest&&g.dest!=p.peerID||I&&I.dest&&I.dest!=p.peerID)){var m=y.get(f,l);if(!m){var b=E.get(f,l);return b?o(b):console.warn("No callback was defined for this message",t)}i(m,g,I)}}}}var defineProperty_IE8=!1;if(Object.defineProperty)try{Object.defineProperty({},"x",{})}catch(e){defineProperty_IE8=!0}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},i=function(){return r.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i});var EventEmitter=require("events").EventEmitter,inherits=require("inherits"),packers=require("./packers"),Mapper=require("./Mapper"),BASE_TIMEOUT=5e3;inherits(RpcBuilder,EventEmitter),RpcBuilder.RpcNotification=RpcNotification,module.exports=RpcBuilder;var clients=require("./clients"),transports=require("./clients/transports");RpcBuilder.clients=clients,RpcBuilder.clients.transports=transports,RpcBuilder.packers=packers;
},{"./Mapper":215,"./clients":216,"./clients/transports":218,"./packers":223,"events":108,"inherits":"inherits"}],221:[function(require,module,exports){
function pack(r,e){var o={jsonrpc:"2.0"};if(r.method)o.method=r.method,r.params&&(o.params=r.params),void 0!=e&&(o.id=e);else if(void 0!=e){if(r.error){if(void 0!==r.result)throw new TypeError("Both result and error are defined");o.error=r.error}else{if(void 0===r.result)throw new TypeError("No result or error is defined");o.result=r.result}o.id=e}return JSON.stringify(o)}function unpack(r){var e=r;("string"==typeof r||r instanceof String)&&(e=JSON.parse(r));var o=e.jsonrpc;if("2.0"!==o)throw new TypeError("Invalid JsonRPC version '"+o+"': "+r);if(void 0==e.method){if(void 0==e.id)throw new TypeError("Invalid message: "+r);var i=void 0!==e.result,t=void 0!==e.error;if(i&&t)throw new TypeError("Both result and error are defined: "+r);if(!i&&!t)throw new TypeError("No result or error is defined: "+r);e.ack=e.id,delete e.id}return e}exports.pack=pack,exports.unpack=unpack;
},{}],222:[function(require,module,exports){
function pack(e){throw new TypeError("Not yet implemented")}function unpack(e){throw new TypeError("Not yet implemented")}exports.pack=pack,exports.unpack=unpack;
},{}],223:[function(require,module,exports){
var JsonRPC=require("./JsonRPC"),XmlRPC=require("./XmlRPC");exports.JsonRPC=JsonRPC,exports.XmlRPC=XmlRPC;
},{"./JsonRPC":221,"./XmlRPC":222}],224:[function(require,module,exports){
"use strict";function MD5(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(n,f){return n<<f|n>>>32-f}function fnF(n,f,t,i,s,e,r){return rotl(n+(f&t|~f&i)+s+e|0,r)+f|0}function fnG(n,f,t,i,s,e,r){return rotl(n+(f&i|t&~i)+s+e|0,r)+f|0}function fnH(n,f,t,i,s,e,r){return rotl(n+(f^t^i)+s+e|0,r)+f|0}function fnI(n,f,t,i,s,e,r){return rotl(n+(t^(f|~i))+s+e|0,r)+f|0}var inherits=require("inherits"),HashBase=require("hash-base"),Buffer=require("safe-buffer").Buffer,ARRAY16=new Array(16);inherits(MD5,HashBase),MD5.prototype._update=function(){for(var n=ARRAY16,f=0;f<16;++f)n[f]=this._block.readInt32LE(4*f);var t=this._a,i=this._b,s=this._c,e=this._d;t=fnF(t,i,s,e,n[0],3614090360,7),e=fnF(e,t,i,s,n[1],3905402710,12),s=fnF(s,e,t,i,n[2],606105819,17),i=fnF(i,s,e,t,n[3],3250441966,22),t=fnF(t,i,s,e,n[4],4118548399,7),e=fnF(e,t,i,s,n[5],1200080426,12),s=fnF(s,e,t,i,n[6],2821735955,17),i=fnF(i,s,e,t,n[7],4249261313,22),t=fnF(t,i,s,e,n[8],1770035416,7),e=fnF(e,t,i,s,n[9],2336552879,12),s=fnF(s,e,t,i,n[10],4294925233,17),i=fnF(i,s,e,t,n[11],2304563134,22),t=fnF(t,i,s,e,n[12],1804603682,7),e=fnF(e,t,i,s,n[13],4254626195,12),s=fnF(s,e,t,i,n[14],2792965006,17),i=fnF(i,s,e,t,n[15],1236535329,22),t=fnG(t,i,s,e,n[1],4129170786,5),e=fnG(e,t,i,s,n[6],3225465664,9),s=fnG(s,e,t,i,n[11],643717713,14),i=fnG(i,s,e,t,n[0],3921069994,20),t=fnG(t,i,s,e,n[5],3593408605,5),e=fnG(e,t,i,s,n[10],38016083,9),s=fnG(s,e,t,i,n[15],3634488961,14),i=fnG(i,s,e,t,n[4],3889429448,20),t=fnG(t,i,s,e,n[9],568446438,5),e=fnG(e,t,i,s,n[14],3275163606,9),s=fnG(s,e,t,i,n[3],4107603335,14),i=fnG(i,s,e,t,n[8],1163531501,20),t=fnG(t,i,s,e,n[13],2850285829,5),e=fnG(e,t,i,s,n[2],4243563512,9),s=fnG(s,e,t,i,n[7],1735328473,14),i=fnG(i,s,e,t,n[12],2368359562,20),t=fnH(t,i,s,e,n[5],4294588738,4),e=fnH(e,t,i,s,n[8],2272392833,11),s=fnH(s,e,t,i,n[11],1839030562,16),i=fnH(i,s,e,t,n[14],4259657740,23),t=fnH(t,i,s,e,n[1],2763975236,4),e=fnH(e,t,i,s,n[4],1272893353,11),s=fnH(s,e,t,i,n[7],4139469664,16),i=fnH(i,s,e,t,n[10],3200236656,23),t=fnH(t,i,s,e,n[13],681279174,4),e=fnH(e,t,i,s,n[0],3936430074,11),s=fnH(s,e,t,i,n[3],3572445317,16),i=fnH(i,s,e,t,n[6],76029189,23),t=fnH(t,i,s,e,n[9],3654602809,4),e=fnH(e,t,i,s,n[12],3873151461,11),s=fnH(s,e,t,i,n[15],530742520,16),i=fnH(i,s,e,t,n[2],3299628645,23),t=fnI(t,i,s,e,n[0],4096336452,6),e=fnI(e,t,i,s,n[7],1126891415,10),s=fnI(s,e,t,i,n[14],2878612391,15),i=fnI(i,s,e,t,n[5],4237533241,21),t=fnI(t,i,s,e,n[12],1700485571,6),e=fnI(e,t,i,s,n[3],2399980690,10),s=fnI(s,e,t,i,n[10],4293915773,15),i=fnI(i,s,e,t,n[1],2240044497,21),t=fnI(t,i,s,e,n[8],1873313359,6),e=fnI(e,t,i,s,n[15],4264355552,10),s=fnI(s,e,t,i,n[6],2734768916,15),i=fnI(i,s,e,t,n[13],1309151649,21),t=fnI(t,i,s,e,n[4],4149444226,6),e=fnI(e,t,i,s,n[11],3174756917,10),s=fnI(s,e,t,i,n[2],718787259,15),i=fnI(i,s,e,t,n[9],3951481745,21),this._a=this._a+t|0,this._b=this._b+i|0,this._c=this._c+s|0,this._d=this._d+e|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=Buffer.allocUnsafe(16);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n},module.exports=MD5;
},{"hash-base":111,"inherits":"inherits","safe-buffer":282}],225:[function(require,module,exports){
function MillerRabin(r){this.rand=r||new brorand.Rand}var bn=require("bn.js"),brorand=require("brorand");module.exports=MillerRabin,MillerRabin.create=function(r){return new MillerRabin(r)},MillerRabin.prototype._randbelow=function(r){var n=r.bitLength(),e=Math.ceil(n/8);do{var t=new bn(this.rand.generate(e))}while(t.cmp(r)>=0);return t},MillerRabin.prototype._randrange=function(r,n){var e=n.sub(r);return r.add(this._randbelow(e))},MillerRabin.prototype.test=function(r,n,e){var t=r.bitLength(),a=bn.mont(r),i=new bn(1).toRed(a);n||(n=Math.max(1,t/48|0));for(var o=r.subn(1),b=0;!o.testn(b);b++);for(var d=r.shrn(b),u=o.toRed(a);n>0;n--){var f=this._randrange(new bn(2),o);e&&e(f);var c=f.toRed(a).redPow(d);if(0!==c.cmp(i)&&0!==c.cmp(u)){for(var l=1;l<b;l++){if(c=c.redSqr(),0===c.cmp(i))return!1;if(0===c.cmp(u))break}if(l===b)return!1}}return!0},MillerRabin.prototype.getDivisor=function(r,n){var e=r.bitLength(),t=bn.mont(r),a=new bn(1).toRed(t);n||(n=Math.max(1,e/48|0));for(var i=r.subn(1),o=0;!i.testn(o);o++);for(var b=r.shrn(o),d=i.toRed(t);n>0;n--){var u=this._randrange(new bn(2),i),f=r.gcd(u);if(0!==f.cmpn(1))return f;var c=u.toRed(t).redPow(b);if(0!==c.cmp(a)&&0!==c.cmp(d)){for(var l=1;l<o;l++){if(c=c.redSqr(),0===c.cmp(a))return c.fromRed().subn(1).gcd(r);if(0===c.cmp(d))break}if(l===o)return c=c.redSqr(),c.fromRed().subn(1).gcd(r)}}return!1};
},{"bn.js":34,"brorand":35}],226:[function(require,module,exports){
function assert(r,e){if(!r)throw new Error(e||"Assertion failed")}module.exports=assert,assert.equal=function(r,e,s){if(r!=e)throw new Error(s||"Assertion failed: "+r+" != "+e)};
},{}],227:[function(require,module,exports){
"use strict";function toArray(r,t){if(Array.isArray(r))return r.slice();if(!r)return[];var e=[];if("string"!=typeof r){for(var n=0;n<r.length;n++)e[n]=0|r[n];return e}if("hex"===t){r=r.replace(/[^a-z0-9]+/gi,""),r.length%2!=0&&(r="0"+r);for(var n=0;n<r.length;n+=2)e.push(parseInt(r[n]+r[n+1],16))}else for(var n=0;n<r.length;n++){var o=r.charCodeAt(n),u=o>>8,i=255&o;u?e.push(u,i):e.push(i)}return e}function zero2(r){return 1===r.length?"0"+r:r}function toHex(r){for(var t="",e=0;e<r.length;e++)t+=zero2(r[e].toString(16));return t}var utils=exports;utils.toArray=toArray,utils.zero2=zero2,utils.toHex=toHex,utils.encode=function(r,t){return"hex"===t?toHex(r):r};
},{}],228:[function(require,module,exports){
function Options(e){var t={},n=this.value={};Object.keys(e).forEach(function(r){t[r]=e[r],Object.defineProperty(n,r,{get:function(){return t[r]},configurable:!1,enumerable:!0})}),this.reset=function(){return Object.keys(e).forEach(function(n){t[n]=e[n]}),this},this.merge=function(e,n){if(e=e||{},"[object Array]"===Object.prototype.toString.call(n)){for(var r=[],i=0,o=n.length;i<o;++i){var f=n[i];f in e||r.push(f)}if(r.length>0)throw r.length>1?new Error("options "+r.slice(0,r.length-1).join(", ")+" and "+r[r.length-1]+" must be defined"):new Error("option "+r[0]+" must be defined")}return Object.keys(e).forEach(function(n){n in t&&(t[n]=e[n])}),this},this.copy=function(t){var r={};return Object.keys(e).forEach(function(e){-1!==t.indexOf(e)&&(r[e]=n[e])}),r},this.read=function(e,t){if("function"==typeof t){var n=this;fs.readFile(e,function(e,r){if(e)return t(e);var i=JSON.parse(r);n.merge(i),t()})}else{var r=JSON.parse(fs.readFileSync(e));this.merge(r)}return this},this.isDefined=function(e){return void 0!==n[e]},this.isDefinedAndNonNull=function(e){return void 0!==n[e]&&null!==n[e]},Object.freeze(n),Object.freeze(this)}var fs=require("fs");module.exports=Options;
},{"fs":66}],229:[function(require,module,exports){
"use strict";function _has(r,t){return Object.prototype.hasOwnProperty.call(r,t)}var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;exports.assign=function(r){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var e=t.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(var n in e)_has(e,n)&&(r[n]=e[n])}}return r},exports.shrinkBuf=function(r,t){return r.length===t?r:r.subarray?r.subarray(0,t):(r.length=t,r)};var fnTyped={arraySet:function(r,t,e,n,a){if(t.subarray&&r.subarray)return void r.set(t.subarray(e,e+n),a);for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){var t,e,n,a,o,s;for(n=0,t=0,e=r.length;t<e;t++)n+=r[t].length;for(s=new Uint8Array(n),a=0,t=0,e=r.length;t<e;t++)o=r[t],s.set(o,a),a+=o.length;return s}},fnUntyped={arraySet:function(r,t,e,n,a){for(var o=0;o<n;o++)r[a+o]=t[e+o]},flattenChunks:function(r){return[].concat.apply([],r)}};exports.setTyped=function(r){r?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK);
},{}],230:[function(require,module,exports){
"use strict";function adler32(e,r,o,t){for(var d=65535&e|0,l=e>>>16&65535|0,u=0;0!==o;){u=o>2e3?2e3:o,o-=u;do{d=d+r[t++]|0,l=l+d|0}while(--u);d%=65521,l%=65521}return d|l<<16|0}module.exports=adler32;
},{}],231:[function(require,module,exports){
"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};
},{}],232:[function(require,module,exports){
"use strict";function makeTable(){for(var r,a=[],c=0;c<256;c++){r=c;for(var e=0;e<8;e++)r=1&r?3988292384^r>>>1:r>>>1;a[c]=r}return a}function crc32(r,a,c,e){var o=crcTable,t=e+c;r^=-1;for(var n=e;n<t;n++)r=r>>>8^o[255&(r^a[n])];return-1^r}var crcTable=makeTable();module.exports=crc32;
},{}],233:[function(require,module,exports){
"use strict";function err(t,e){return t.msg=msg[e],e}function rank(t){return(t<<1)-(t>4?9:0)}function zero(t){for(var e=t.length;--e>=0;)t[e]=0}function flush_pending(t){var e=t.state,_=e.pending;_>t.avail_out&&(_=t.avail_out),0!==_&&(utils.arraySet(t.output,e.pending_buf,e.pending_out,_,t.next_out),t.next_out+=_,e.pending_out+=_,t.total_out+=_,t.avail_out-=_,e.pending-=_,0===e.pending&&(e.pending_out=0))}function flush_block_only(t,e){trees._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)}function put_byte(t,e){t.pending_buf[t.pending++]=e}function putShortMSB(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function read_buf(t,e,_,a){var s=t.avail_in;return s>a&&(s=a),0===s?0:(t.avail_in-=s,utils.arraySet(e,t.input,t.next_in,s,_),1===t.state.wrap?t.adler=adler32(t.adler,e,s,_):2===t.state.wrap&&(t.adler=crc32(t.adler,e,s,_)),t.next_in+=s,t.total_in+=s,s)}function longest_match(t,e){var _,a,s=t.max_chain_length,i=t.strstart,n=t.prev_length,r=t.nice_match,l=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,h=t.window,o=t.w_mask,d=t.prev,u=t.strstart+MAX_MATCH,f=h[i+n-1],E=h[i+n];t.prev_length>=t.good_match&&(s>>=2),r>t.lookahead&&(r=t.lookahead);do{if(_=e,h[_+n]===E&&h[_+n-1]===f&&h[_]===h[i]&&h[++_]===h[i+1]){i+=2,_++;do{}while(h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&h[++i]===h[++_]&&i<u);if(a=MAX_MATCH-(u-i),i=u-MAX_MATCH,a>n){if(t.match_start=e,n=a,a>=r)break;f=h[i+n-1],E=h[i+n]}}}while((e=d[e&o])>l&&0!=--s);return n<=t.lookahead?n:t.lookahead}function fill_window(t){var e,_,a,s,i,n=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-MIN_LOOKAHEAD)){utils.arraySet(t.window,t.window,n,n,0),t.match_start-=n,t.strstart-=n,t.block_start-=n,_=t.hash_size,e=_;do{a=t.head[--e],t.head[e]=a>=n?a-n:0}while(--_);_=n,e=_;do{a=t.prev[--e],t.prev[e]=a>=n?a-n:0}while(--_);s+=n}if(0===t.strm.avail_in)break;if(_=read_buf(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=_,t.lookahead+t.insert>=MIN_MATCH)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[i+MIN_MATCH-1])&t.hash_mask,t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&0!==t.strm.avail_in)}function deflate_stored(t,e){var _=65535;for(_>t.pending_buf_size-5&&(_=t.pending_buf_size-5);;){if(t.lookahead<=1){if(fill_window(t),0===t.lookahead&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var a=t.block_start+_;if((0===t.strstart||t.strstart>=a)&&(t.lookahead=t.strstart-a,t.strstart=a,flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE;if(t.strstart-t.block_start>=t.w_size-MIN_LOOKAHEAD&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(t.strstart>t.block_start&&(flush_block_only(t,!1),t.strm.avail_out),BS_NEED_MORE)}function deflate_fast(t,e){for(var _,a;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(_=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==_&&t.strstart-_<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,_)),t.match_length>=MIN_MATCH)if(a=trees._tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else a=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(a&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(t,e){for(var _,a,s;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(_=0,t.lookahead>=MIN_MATCH&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,0!==_&&t.prev_length<t.max_lazy_match&&t.strstart-_<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,_),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-MIN_MATCH,a=trees._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+MIN_MATCH-1])&t.hash_mask,_=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,a&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}else if(t.match_available){if(a=trees._tr_tally(t,0,t.window[t.strstart-1]),a&&flush_block_only(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(a=trees._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_rle(t,e){for(var _,a,s,i,n=t.window;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH)return BS_NEED_MORE;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(s=t.strstart-1,(a=n[s])===n[++s]&&a===n[++s]&&a===n[++s])){i=t.strstart+MAX_MATCH;do{}while(a===n[++s]&&a===n[++s]&&a===n[++s]&&a===n[++s]&&a===n[++s]&&a===n[++s]&&a===n[++s]&&a===n[++s]&&s<i);t.match_length=MAX_MATCH-(i-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(_=trees._tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(_=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),_&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_huff(t,e){for(var _;;){if(0===t.lookahead&&(fill_window(t),0===t.lookahead)){if(e===Z_NO_FLUSH)return BS_NEED_MORE;break}if(t.match_length=0,_=trees._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,_&&(flush_block_only(t,!1),0===t.strm.avail_out))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH?(flush_block_only(t,!0),0===t.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):t.last_lit&&(flush_block_only(t,!1),0===t.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(t,e,_,a,s){this.good_length=t,this.max_lazy=e,this.nice_length=_,this.max_chain=a,this.func=s}function lm_init(t){t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0}function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function deflateResetKeep(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?INIT_STATE:BUSY_STATE,t.adler=2===e.wrap?0:1,e.last_flush=Z_NO_FLUSH,trees._tr_init(e),Z_OK):err(t,Z_STREAM_ERROR)}function deflateReset(t){var e=deflateResetKeep(t);return e===Z_OK&&lm_init(t.state),e}function deflateSetHeader(t,e){return t&&t.state?2!==t.state.wrap?Z_STREAM_ERROR:(t.state.gzhead=e,Z_OK):Z_STREAM_ERROR}function deflateInit2(t,e,_,a,s,i){if(!t)return Z_STREAM_ERROR;var n=1;if(e===Z_DEFAULT_COMPRESSION&&(e=6),a<0?(n=0,a=-a):a>15&&(n=2,a-=16),s<1||s>MAX_MEM_LEVEL||_!==Z_DEFLATED||a<8||a>15||e<0||e>9||i<0||i>Z_FIXED)return err(t,Z_STREAM_ERROR);8===a&&(a=9);var r=new DeflateState;return t.state=r,r.strm=t,r.wrap=n,r.gzhead=null,r.w_bits=a,r.w_size=1<<r.w_bits,r.w_mask=r.w_size-1,r.hash_bits=s+7,r.hash_size=1<<r.hash_bits,r.hash_mask=r.hash_size-1,r.hash_shift=~~((r.hash_bits+MIN_MATCH-1)/MIN_MATCH),r.window=new utils.Buf8(2*r.w_size),r.head=new utils.Buf16(r.hash_size),r.prev=new utils.Buf16(r.w_size),r.lit_bufsize=1<<s+6,r.pending_buf_size=4*r.lit_bufsize,r.pending_buf=new utils.Buf8(r.pending_buf_size),r.d_buf=1*r.lit_bufsize,r.l_buf=3*r.lit_bufsize,r.level=e,r.strategy=i,r.method=_,deflateReset(t)}function deflateInit(t,e){return deflateInit2(t,e,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)}function deflate(t,e){var _,a,s,i;if(!t||!t.state||e>Z_BLOCK||e<0)return t?err(t,Z_STREAM_ERROR):Z_STREAM_ERROR;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===FINISH_STATE&&e!==Z_FINISH)return err(t,0===t.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(a.strm=t,_=a.last_flush,a.last_flush=e,a.status===INIT_STATE)if(2===a.wrap)t.adler=0,put_byte(a,31),put_byte(a,139),put_byte(a,8),a.gzhead?(put_byte(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),put_byte(a,255&a.gzhead.time),put_byte(a,a.gzhead.time>>8&255),put_byte(a,a.gzhead.time>>16&255),put_byte(a,a.gzhead.time>>24&255),put_byte(a,9===a.level?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(put_byte(a,255&a.gzhead.extra.length),put_byte(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=crc32(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=EXTRA_STATE):(put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,0),put_byte(a,9===a.level?2:a.strategy>=Z_HUFFMAN_ONLY||a.level<2?4:0),put_byte(a,OS_CODE),a.status=BUSY_STATE);else{var n=Z_DEFLATED+(a.w_bits-8<<4)<<8,r=-1;r=a.strategy>=Z_HUFFMAN_ONLY||a.level<2?0:a.level<6?1:6===a.level?2:3,n|=r<<6,0!==a.strstart&&(n|=PRESET_DICT),n+=31-n%31,a.status=BUSY_STATE,putShortMSB(a,n),0!==a.strstart&&(putShortMSB(a,t.adler>>>16),putShortMSB(a,65535&t.adler)),t.adler=1}if(a.status===EXTRA_STATE)if(a.gzhead.extra){for(s=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending!==a.pending_buf_size));)put_byte(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=NAME_STATE)}else a.status=NAME_STATE;if(a.status===NAME_STATE)if(a.gzhead.name){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending===a.pending_buf_size)){i=1;break}i=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,put_byte(a,i)}while(0!==i);a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),0===i&&(a.gzindex=0,a.status=COMMENT_STATE)}else a.status=COMMENT_STATE;if(a.status===COMMENT_STATE)if(a.gzhead.comment){s=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),flush_pending(t),s=a.pending,a.pending===a.pending_buf_size)){i=1;break}i=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,put_byte(a,i)}while(0!==i);a.gzhead.hcrc&&a.pending>s&&(t.adler=crc32(t.adler,a.pending_buf,a.pending-s,s)),0===i&&(a.status=HCRC_STATE)}else a.status=HCRC_STATE;if(a.status===HCRC_STATE&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&flush_pending(t),a.pending+2<=a.pending_buf_size&&(put_byte(a,255&t.adler),put_byte(a,t.adler>>8&255),t.adler=0,a.status=BUSY_STATE)):a.status=BUSY_STATE),0!==a.pending){if(flush_pending(t),0===t.avail_out)return a.last_flush=-1,Z_OK}else if(0===t.avail_in&&rank(e)<=rank(_)&&e!==Z_FINISH)return err(t,Z_BUF_ERROR);if(a.status===FINISH_STATE&&0!==t.avail_in)return err(t,Z_BUF_ERROR);if(0!==t.avail_in||0!==a.lookahead||e!==Z_NO_FLUSH&&a.status!==FINISH_STATE){var l=a.strategy===Z_HUFFMAN_ONLY?deflate_huff(a,e):a.strategy===Z_RLE?deflate_rle(a,e):configuration_table[a.level].func(a,e);if(l!==BS_FINISH_STARTED&&l!==BS_FINISH_DONE||(a.status=FINISH_STATE),l===BS_NEED_MORE||l===BS_FINISH_STARTED)return 0===t.avail_out&&(a.last_flush=-1),Z_OK;if(l===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?trees._tr_align(a):e!==Z_BLOCK&&(trees._tr_stored_block(a,0,0,!1),e===Z_FULL_FLUSH&&(zero(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),flush_pending(t),0===t.avail_out))return a.last_flush=-1,Z_OK}return e!==Z_FINISH?Z_OK:a.wrap<=0?Z_STREAM_END:(2===a.wrap?(put_byte(a,255&t.adler),put_byte(a,t.adler>>8&255),put_byte(a,t.adler>>16&255),put_byte(a,t.adler>>24&255),put_byte(a,255&t.total_in),put_byte(a,t.total_in>>8&255),put_byte(a,t.total_in>>16&255),put_byte(a,t.total_in>>24&255)):(putShortMSB(a,t.adler>>>16),putShortMSB(a,65535&t.adler)),flush_pending(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?Z_OK:Z_STREAM_END)}function deflateEnd(t){var e;return t&&t.state?(e=t.state.status)!==INIT_STATE&&e!==EXTRA_STATE&&e!==NAME_STATE&&e!==COMMENT_STATE&&e!==HCRC_STATE&&e!==BUSY_STATE&&e!==FINISH_STATE?err(t,Z_STREAM_ERROR):(t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR}function deflateSetDictionary(t,e){var _,a,s,i,n,r,l,h,o=e.length;if(!t||!t.state)return Z_STREAM_ERROR;if(_=t.state,2===(i=_.wrap)||1===i&&_.status!==INIT_STATE||_.lookahead)return Z_STREAM_ERROR;for(1===i&&(t.adler=adler32(t.adler,e,o,0)),_.wrap=0,o>=_.w_size&&(0===i&&(zero(_.head),_.strstart=0,_.block_start=0,_.insert=0),h=new utils.Buf8(_.w_size),utils.arraySet(h,e,o-_.w_size,_.w_size,0),e=h,o=_.w_size),n=t.avail_in,r=t.next_in,l=t.input,t.avail_in=o,t.next_in=0,t.input=e,fill_window(_);_.lookahead>=MIN_MATCH;){a=_.strstart,s=_.lookahead-(MIN_MATCH-1);do{_.ins_h=(_.ins_h<<_.hash_shift^_.window[a+MIN_MATCH-1])&_.hash_mask,_.prev[a&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=a,a++}while(--s);_.strstart=a,_.lookahead=MIN_MATCH-1,fill_window(_)}return _.strstart+=_.lookahead,_.block_start=_.strstart,_.insert=_.lookahead,_.lookahead=0,_.match_length=_.prev_length=MIN_MATCH-1,_.match_available=0,t.next_in=r,t.input=l,t.avail_in=n,_.wrap=i,Z_OK}var utils=require("../utils/common"),trees=require("./trees"),adler32=require("./adler32"),crc32=require("./crc32"),msg=require("./messages"),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,configuration_table;configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=deflateInit,exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=deflateSetHeader,exports.deflate=deflate,exports.deflateEnd=deflateEnd,exports.deflateSetDictionary=deflateSetDictionary,exports.deflateInfo="pako deflate (from Nodeca project)";
},{"../utils/common":229,"./adler32":230,"./crc32":232,"./messages":237,"./trees":238}],234:[function(require,module,exports){
"use strict";var BAD=30,TYPE=12;module.exports=function(i,e){var o,a,t,d,n,l,s,f,r,b,c,u,v,m,w,h,k,_,x,g,A,B,D,p,E;o=i.state,a=i.next_in,p=i.input,t=a+(i.avail_in-5),d=i.next_out,E=i.output,n=d-(e-i.avail_out),l=d+(i.avail_out-257),s=o.dmax,f=o.wsize,r=o.whave,b=o.wnext,c=o.window,u=o.hold,v=o.bits,m=o.lencode,w=o.distcode,h=(1<<o.lenbits)-1,k=(1<<o.distbits)-1;i:do{v<15&&(u+=p[a++]<<v,v+=8,u+=p[a++]<<v,v+=8),_=m[u&h];e:for(;;){if(x=_>>>24,u>>>=x,v-=x,0===(x=_>>>16&255))E[d++]=65535&_;else{if(!(16&x)){if(0==(64&x)){_=m[(65535&_)+(u&(1<<x)-1)];continue e}if(32&x){o.mode=TYPE;break i}i.msg="invalid literal/length code",o.mode=BAD;break i}g=65535&_,x&=15,x&&(v<x&&(u+=p[a++]<<v,v+=8),g+=u&(1<<x)-1,u>>>=x,v-=x),v<15&&(u+=p[a++]<<v,v+=8,u+=p[a++]<<v,v+=8),_=w[u&k];o:for(;;){if(x=_>>>24,u>>>=x,v-=x,!(16&(x=_>>>16&255))){if(0==(64&x)){_=w[(65535&_)+(u&(1<<x)-1)];continue o}i.msg="invalid distance code",o.mode=BAD;break i}if(A=65535&_,x&=15,v<x&&(u+=p[a++]<<v,(v+=8)<x&&(u+=p[a++]<<v,v+=8)),(A+=u&(1<<x)-1)>s){i.msg="invalid distance too far back",o.mode=BAD;break i}if(u>>>=x,v-=x,x=d-n,A>x){if((x=A-x)>r&&o.sane){i.msg="invalid distance too far back",o.mode=BAD;break i}if(B=0,D=c,0===b){if(B+=f-x,x<g){g-=x;do{E[d++]=c[B++]}while(--x);B=d-A,D=E}}else if(b<x){if(B+=f+b-x,(x-=b)<g){g-=x;do{E[d++]=c[B++]}while(--x);if(B=0,b<g){x=b,g-=x;do{E[d++]=c[B++]}while(--x);B=d-A,D=E}}}else if(B+=b-x,x<g){g-=x;do{E[d++]=c[B++]}while(--x);B=d-A,D=E}for(;g>2;)E[d++]=D[B++],E[d++]=D[B++],E[d++]=D[B++],g-=3;g&&(E[d++]=D[B++],g>1&&(E[d++]=D[B++]))}else{B=d-A;do{E[d++]=E[B++],E[d++]=E[B++],E[d++]=E[B++],g-=3}while(g>2);g&&(E[d++]=E[B++],g>1&&(E[d++]=E[B++]))}break}}break}}while(a<t&&d<l);g=v>>3,a-=g,v-=g<<3,u&=(1<<v)-1,i.next_in=a,i.next_out=d,i.avail_in=a<t?t-a+5:5-(a-t),i.avail_out=d<l?l-d+257:257-(d-l),o.hold=u,o.bits=v};
},{}],235:[function(require,module,exports){
"use strict";function zswap32(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=HEAD,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new utils.Buf32(ENOUGH_LENS),t.distcode=t.distdyn=new utils.Buf32(ENOUGH_DISTS),t.sane=1,t.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,inflateResetKeep(e)):Z_STREAM_ERROR}function inflateReset2(e,t){var a,i;return e&&e.state?(i=e.state,t<0?(a=0,t=-t):(a=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Z_STREAM_ERROR:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=a,i.wbits=t,inflateReset(e))):Z_STREAM_ERROR}function inflateInit2(e,t){var a,i;return e?(i=new InflateState,e.state=i,i.window=null,a=inflateReset2(e,t),a!==Z_OK&&(e.state=null),a):Z_STREAM_ERROR}function inflateInit(e){return inflateInit2(e,DEF_WBITS)}function fixedtables(e){if(virgin){var t;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(inflate_table(LENS,e.lens,0,288,lenfix,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;inflate_table(DISTS,e.lens,0,32,distfix,0,e.work,{bits:5}),virgin=!1}e.lencode=lenfix,e.lenbits=9,e.distcode=distfix,e.distbits=5}function updatewindow(e,t,a,i){var n,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new utils.Buf8(s.wsize)),i>=s.wsize?(utils.arraySet(s.window,t,a-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),utils.arraySet(s.window,t,a-i,n,s.wnext),i-=n,i?(utils.arraySet(s.window,t,a-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}function inflate(e,t){var a,i,n,s,l,r,o,d,f,c,h,E,b,_,k,m,w,u,R,T,D,g,S,x,A=0,v=new utils.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Z_STREAM_ERROR;a=e.state,a.mode===TYPE&&(a.mode=TYPEDO),l=e.next_out,n=e.output,o=e.avail_out,s=e.next_in,i=e.input,r=e.avail_in,d=a.hold,f=a.bits,c=r,h=o,g=Z_OK;e:for(;;)switch(a.mode){case HEAD:if(0===a.wrap){a.mode=TYPEDO;break}for(;f<16;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(2&a.wrap&&35615===d){a.check=0,v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0),d=0,f=0,a.mode=FLAGS;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",a.mode=BAD;break}if((15&d)!==Z_DEFLATED){e.msg="unknown compression method",a.mode=BAD;break}if(d>>>=4,f-=4,D=8+(15&d),0===a.wbits)a.wbits=D;else if(D>a.wbits){e.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<D,e.adler=a.check=1,a.mode=512&d?DICTID:TYPE,d=0,f=0;break;case FLAGS:for(;f<16;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(a.flags=d,(255&a.flags)!==Z_DEFLATED){e.msg="unknown compression method",a.mode=BAD;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=BAD;break}a.head&&(a.head.text=d>>8&1),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0,a.mode=TIME;case TIME:for(;f<32;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.head&&(a.head.time=d),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,v[2]=d>>>16&255,v[3]=d>>>24&255,a.check=crc32(a.check,v,4,0)),d=0,f=0,a.mode=OS;case OS:for(;f<16;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.head&&(a.head.xflags=255&d,a.head.os=d>>8),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0,a.mode=EXLEN;case EXLEN:if(1024&a.flags){for(;f<16;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.length=d,a.head&&(a.head.extra_len=d),512&a.flags&&(v[0]=255&d,v[1]=d>>>8&255,a.check=crc32(a.check,v,2,0)),d=0,f=0}else a.head&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(1024&a.flags&&(E=a.length,E>r&&(E=r),E&&(a.head&&(D=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Array(a.head.extra_len)),utils.arraySet(a.head.extra,i,s,E,D)),512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,a.length-=E),a.length))break e;a.length=0,a.mode=NAME;case NAME:if(2048&a.flags){if(0===r)break e;E=0;do{D=i[s+E++],a.head&&D&&a.length<65536&&(a.head.name+=String.fromCharCode(D))}while(D&&E<r);if(512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,D)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=COMMENT;case COMMENT:if(4096&a.flags){if(0===r)break e;E=0;do{D=i[s+E++],a.head&&D&&a.length<65536&&(a.head.comment+=String.fromCharCode(D))}while(D&&E<r);if(512&a.flags&&(a.check=crc32(a.check,i,E,s)),r-=E,s+=E,D)break e}else a.head&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(512&a.flags){for(;f<16;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d!==(65535&a.check)){e.msg="header crc mismatch",a.mode=BAD;break}d=0,f=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=TYPE;break;case DICTID:for(;f<32;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}e.adler=a.check=zswap32(d),d=0,f=0,a.mode=DICT;case DICT:if(0===a.havedict)return e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,Z_NEED_DICT;e.adler=a.check=1,a.mode=TYPE;case TYPE:if(t===Z_BLOCK||t===Z_TREES)break e;case TYPEDO:if(a.last){d>>>=7&f,f-=7&f,a.mode=CHECK;break}for(;f<3;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}switch(a.last=1&d,d>>>=1,f-=1,3&d){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,t===Z_TREES){d>>>=2,f-=2;break e}break;case 2:a.mode=TABLE;break;case 3:e.msg="invalid block type",a.mode=BAD}d>>>=2,f-=2;break;case STORED:for(d>>>=7&f,f-=7&f;f<32;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=65535&d,d=0,f=0,a.mode=COPY_,t===Z_TREES)break e;case COPY_:a.mode=COPY;case COPY:if(E=a.length){if(E>r&&(E=r),E>o&&(E=o),0===E)break e;utils.arraySet(n,i,s,E,l),r-=E,s+=E,o-=E,l+=E,a.length-=E;break}a.mode=TYPE;break;case TABLE:for(;f<14;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(a.nlen=257+(31&d),d>>>=5,f-=5,a.ndist=1+(31&d),d>>>=5,f-=5,a.ncode=4+(15&d),d>>>=4,f-=4,a.nlen>286||a.ndist>30){e.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){for(;f<3;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.lens[O[a.have++]]=7&d,d>>>=3,f-=3}for(;a.have<19;)a.lens[O[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,S={bits:a.lenbits},g=inflate_table(CODES,a.lens,0,19,a.lencode,0,a.work,S),a.lenbits=S.bits,g){e.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;A=a.lencode[d&(1<<a.lenbits)-1],k=A>>>24,m=A>>>16&255,w=65535&A,!(k<=f);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(w<16)d>>>=k,f-=k,a.lens[a.have++]=w;else{if(16===w){for(x=k+2;f<x;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d>>>=k,f-=k,0===a.have){e.msg="invalid bit length repeat",a.mode=BAD;break}D=a.lens[a.have-1],E=3+(3&d),d>>>=2,f-=2}else if(17===w){for(x=k+3;f<x;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=k,f-=k,D=0,E=3+(7&d),d>>>=3,f-=3}else{for(x=k+7;f<x;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=k,f-=k,D=0,E=11+(127&d),d>>>=7,f-=7}if(a.have+E>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=BAD;break}for(;E--;)a.lens[a.have++]=D}}if(a.mode===BAD)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.lenbits=9,S={bits:a.lenbits},g=inflate_table(LENS,a.lens,0,a.nlen,a.lencode,0,a.work,S),a.lenbits=S.bits,g){e.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distbits=6,a.distcode=a.distdyn,S={bits:a.distbits},g=inflate_table(DISTS,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,S),a.distbits=S.bits,g){e.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,t===Z_TREES)break e;case LEN_:a.mode=LEN;case LEN:if(r>=6&&o>=258){e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,inflate_fast(e,h),l=e.next_out,n=e.output,o=e.avail_out,s=e.next_in,i=e.input,r=e.avail_in,d=a.hold,f=a.bits,a.mode===TYPE&&(a.back=-1);break}for(a.back=0;A=a.lencode[d&(1<<a.lenbits)-1],k=A>>>24,m=A>>>16&255,w=65535&A,!(k<=f);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(m&&0==(240&m)){for(u=k,R=m,T=w;A=a.lencode[T+((d&(1<<u+R)-1)>>u)],k=A>>>24,m=A>>>16&255,w=65535&A,!(u+k<=f);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=u,f-=u,a.back+=u}if(d>>>=k,f-=k,a.back+=k,a.length=w,0===m){a.mode=LIT;break}if(32&m){a.back=-1,a.mode=TYPE;break}if(64&m){e.msg="invalid literal/length code",a.mode=BAD;break}a.extra=15&m,a.mode=LENEXT;case LENEXT:if(a.extra){for(x=a.extra;f<x;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.length+=d&(1<<a.extra)-1,d>>>=a.extra,f-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;A=a.distcode[d&(1<<a.distbits)-1],k=A>>>24,m=A>>>16&255,w=65535&A,!(k<=f);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(0==(240&m)){for(u=k,R=m,T=w;A=a.distcode[T+((d&(1<<u+R)-1)>>u)],k=A>>>24,m=A>>>16&255,w=65535&A,!(u+k<=f);){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}d>>>=u,f-=u,a.back+=u}if(d>>>=k,f-=k,a.back+=k,64&m){e.msg="invalid distance code",a.mode=BAD;break}a.offset=w,a.extra=15&m,a.mode=DISTEXT;case DISTEXT:if(a.extra){for(x=a.extra;f<x;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}a.offset+=d&(1<<a.extra)-1,d>>>=a.extra,f-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=BAD;break}a.mode=MATCH;case MATCH:if(0===o)break e;if(E=h-o,a.offset>E){if((E=a.offset-E)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=BAD;break}E>a.wnext?(E-=a.wnext,b=a.wsize-E):b=a.wnext-E,E>a.length&&(E=a.length),_=a.window}else _=n,b=l-a.offset,E=a.length;E>o&&(E=o),o-=E,a.length-=E;do{n[l++]=_[b++]}while(--E);0===a.length&&(a.mode=LEN);break;case LIT:if(0===o)break e;n[l++]=a.length,o--,a.mode=LEN;break;case CHECK:if(a.wrap){for(;f<32;){if(0===r)break e;r--,d|=i[s++]<<f,f+=8}if(h-=o,e.total_out+=h,a.total+=h,h&&(e.adler=a.check=a.flags?crc32(a.check,n,h,l-h):adler32(a.check,n,h,l-h)),h=o,(a.flags?d:zswap32(d))!==a.check){e.msg="incorrect data check",a.mode=BAD;break}d=0,f=0}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){for(;f<32;){if(0===r)break e;r--,d+=i[s++]<<f,f+=8}if(d!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=BAD;break}d=0,f=0}a.mode=DONE;case DONE:g=Z_STREAM_END;break e;case BAD:g=Z_DATA_ERROR;break e;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return e.next_out=l,e.avail_out=o,e.next_in=s,e.avail_in=r,a.hold=d,a.bits=f,(a.wsize||h!==e.avail_out&&a.mode<BAD&&(a.mode<CHECK||t!==Z_FINISH))&&updatewindow(e,e.output,e.next_out,h-e.avail_out)?(a.mode=MEM,Z_MEM_ERROR):(c-=e.avail_in,h-=e.avail_out,e.total_in+=c,e.total_out+=h,a.total+=h,a.wrap&&h&&(e.adler=a.check=a.flags?crc32(a.check,n,h,e.next_out-h):adler32(a.check,n,h,e.next_out-h)),e.data_type=a.bits+(a.last?64:0)+(a.mode===TYPE?128:0)+(a.mode===LEN_||a.mode===COPY_?256:0),(0===c&&0===h||t===Z_FINISH)&&g===Z_OK&&(g=Z_BUF_ERROR),g)}function inflateEnd(e){if(!e||!e.state)return Z_STREAM_ERROR;var t=e.state;return t.window&&(t.window=null),e.state=null,Z_OK}function inflateGetHeader(e,t){var a;return e&&e.state?(a=e.state,0==(2&a.wrap)?Z_STREAM_ERROR:(a.head=t,t.done=!1,Z_OK)):Z_STREAM_ERROR}function inflateSetDictionary(e,t){var a,i,n=t.length;return e&&e.state?(a=e.state,0!==a.wrap&&a.mode!==DICT?Z_STREAM_ERROR:a.mode===DICT&&(i=1,(i=adler32(i,t,n,0))!==a.check)?Z_DATA_ERROR:updatewindow(e,t,n,n)?(a.mode=MEM,Z_MEM_ERROR):(a.havedict=1,Z_OK)):Z_STREAM_ERROR}var utils=require("../utils/common"),adler32=require("./adler32"),crc32=require("./crc32"),inflate_fast=require("./inffast"),inflate_table=require("./inftrees"),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,virgin=!0,lenfix,distfix;exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=inflateInit,exports.inflateInit2=inflateInit2,exports.inflate=inflate,exports.inflateEnd=inflateEnd,exports.inflateGetHeader=inflateGetHeader,exports.inflateSetDictionary=inflateSetDictionary,exports.inflateInfo="pako inflate (from Nodeca project)";
},{"../utils/common":229,"./adler32":230,"./crc32":232,"./inffast":234,"./inftrees":236}],236:[function(require,module,exports){
"use strict";var utils=require("../utils/common"),MAXBITS=15,ENOUGH_LENS=852,ENOUGH_DISTS=592,CODES=0,LENS=1,DISTS=2,lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(r,S,e,f,t,i,u,o){var E,l,s,n,I,N,T,B,D,O=o.bits,b=0,a=0,A=0,L=0,M=0,X=0,d=0,G=0,H=0,U=0,_=null,x=0,c=new utils.Buf16(MAXBITS+1),m=new utils.Buf16(MAXBITS+1),w=null,C=0;for(b=0;b<=MAXBITS;b++)c[b]=0;for(a=0;a<f;a++)c[S[e+a]]++;for(M=O,L=MAXBITS;L>=1&&0===c[L];L--);if(M>L&&(M=L),0===L)return t[i++]=20971520,t[i++]=20971520,o.bits=1,0;for(A=1;A<L&&0===c[A];A++);for(M<A&&(M=A),G=1,b=1;b<=MAXBITS;b++)if(G<<=1,(G-=c[b])<0)return-1;if(G>0&&(r===CODES||1!==L))return-1;for(m[1]=0,b=1;b<MAXBITS;b++)m[b+1]=m[b]+c[b];for(a=0;a<f;a++)0!==S[e+a]&&(u[m[S[e+a]]++]=a);if(r===CODES?(_=w=u,N=19):r===LENS?(_=lbase,x-=257,w=lext,C-=257,N=256):(_=dbase,w=dext,N=-1),U=0,a=0,b=A,I=i,X=M,d=0,s=-1,H=1<<M,n=H-1,r===LENS&&H>ENOUGH_LENS||r===DISTS&&H>ENOUGH_DISTS)return 1;for(;;){T=b-d,u[a]<N?(B=0,D=u[a]):u[a]>N?(B=w[C+u[a]],D=_[x+u[a]]):(B=96,D=0),E=1<<b-d,l=1<<X,A=l;do{l-=E,t[I+(U>>d)+l]=T<<24|B<<16|D|0}while(0!==l);for(E=1<<b-1;U&E;)E>>=1;if(0!==E?(U&=E-1,U+=E):U=0,a++,0==--c[b]){if(b===L)break;b=S[e+u[a]]}if(b>M&&(U&n)!==s){for(0===d&&(d=M),I+=A,X=b-d,G=1<<X;X+d<L&&!((G-=c[X+d])<=0);)X++,G<<=1;if(H+=1<<X,r===LENS&&H>ENOUGH_LENS||r===DISTS&&H>ENOUGH_DISTS)return 1;s=U&n,t[s]=M<<24|X<<16|I-i|0}}return 0!==U&&(t[I+U]=b-d<<24|64<<16|0),o.bits=M,0};
},{"../utils/common":229}],237:[function(require,module,exports){
"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};
},{}],238:[function(require,module,exports){
"use strict";function zero(e){for(var _=e.length;--_>=0;)e[_]=0}function StaticTreeDesc(e,_,t,r,i){this.static_tree=e,this.extra_bits=_,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function TreeDesc(e,_){this.dyn_tree=e,this.max_code=0,this.stat_desc=_}function d_code(e){return e<256?_dist_code[e]:_dist_code[256+(e>>>7)]}function put_short(e,_){e.pending_buf[e.pending++]=255&_,e.pending_buf[e.pending++]=_>>>8&255}function send_bits(e,_,t){e.bi_valid>Buf_size-t?(e.bi_buf|=_<<e.bi_valid&65535,put_short(e,e.bi_buf),e.bi_buf=_>>Buf_size-e.bi_valid,e.bi_valid+=t-Buf_size):(e.bi_buf|=_<<e.bi_valid&65535,e.bi_valid+=t)}function send_code(e,_,t){send_bits(e,t[2*_],t[2*_+1])}function bi_reverse(e,_){var t=0;do{t|=1&e,e>>>=1,t<<=1}while(--_>0);return t>>>1}function bi_flush(e){16===e.bi_valid?(put_short(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function gen_bitlen(e,_){var t,r,i,n,s,d,a=_.dyn_tree,l=_.max_code,c=_.stat_desc.static_tree,o=_.stat_desc.has_stree,b=_.stat_desc.extra_bits,f=_.stat_desc.extra_base,u=_.stat_desc.max_length,p=0;for(n=0;n<=MAX_BITS;n++)e.bl_count[n]=0;for(a[2*e.heap[e.heap_max]+1]=0,t=e.heap_max+1;t<HEAP_SIZE;t++)r=e.heap[t],n=a[2*a[2*r+1]+1]+1,n>u&&(n=u,p++),a[2*r+1]=n,r>l||(e.bl_count[n]++,s=0,r>=f&&(s=b[r-f]),d=a[2*r],e.opt_len+=d*(n+s),o&&(e.static_len+=d*(c[2*r+1]+s)));if(0!==p){do{for(n=u-1;0===e.bl_count[n];)n--;e.bl_count[n]--,e.bl_count[n+1]+=2,e.bl_count[u]--,p-=2}while(p>0);for(n=u;0!==n;n--)for(r=e.bl_count[n];0!==r;)(i=e.heap[--t])>l||(a[2*i+1]!==n&&(e.opt_len+=(n-a[2*i+1])*a[2*i],a[2*i+1]=n),r--)}}function gen_codes(e,_,t){var r,i,n=new Array(MAX_BITS+1),s=0;for(r=1;r<=MAX_BITS;r++)n[r]=s=s+t[r-1]<<1;for(i=0;i<=_;i++){var d=e[2*i+1];0!==d&&(e[2*i]=bi_reverse(n[d]++,d))}}function tr_static_init(){var e,_,t,r,i,n=new Array(MAX_BITS+1);for(t=0,r=0;r<LENGTH_CODES-1;r++)for(base_length[r]=t,e=0;e<1<<extra_lbits[r];e++)_length_code[t++]=r;for(_length_code[t-1]=r,i=0,r=0;r<16;r++)for(base_dist[r]=i,e=0;e<1<<extra_dbits[r];e++)_dist_code[i++]=r;for(i>>=7;r<D_CODES;r++)for(base_dist[r]=i<<7,e=0;e<1<<extra_dbits[r]-7;e++)_dist_code[256+i++]=r;for(_=0;_<=MAX_BITS;_++)n[_]=0;for(e=0;e<=143;)static_ltree[2*e+1]=8,e++,n[8]++;for(;e<=255;)static_ltree[2*e+1]=9,e++,n[9]++;for(;e<=279;)static_ltree[2*e+1]=7,e++,n[7]++;for(;e<=287;)static_ltree[2*e+1]=8,e++,n[8]++;for(gen_codes(static_ltree,L_CODES+1,n),e=0;e<D_CODES;e++)static_dtree[2*e+1]=5,static_dtree[2*e]=bi_reverse(e,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}function init_block(e){var _;for(_=0;_<L_CODES;_++)e.dyn_ltree[2*_]=0;for(_=0;_<D_CODES;_++)e.dyn_dtree[2*_]=0;for(_=0;_<BL_CODES;_++)e.bl_tree[2*_]=0;e.dyn_ltree[2*END_BLOCK]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function bi_windup(e){e.bi_valid>8?put_short(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function copy_block(e,_,t,r){bi_windup(e),r&&(put_short(e,t),put_short(e,~t)),utils.arraySet(e.pending_buf,e.window,_,t,e.pending),e.pending+=t}function smaller(e,_,t,r){var i=2*_,n=2*t;return e[i]<e[n]||e[i]===e[n]&&r[_]<=r[t]}function pqdownheap(e,_,t){for(var r=e.heap[t],i=t<<1;i<=e.heap_len&&(i<e.heap_len&&smaller(_,e.heap[i+1],e.heap[i],e.depth)&&i++,!smaller(_,r,e.heap[i],e.depth));)e.heap[t]=e.heap[i],t=i,i<<=1;e.heap[t]=r}function compress_block(e,_,t){var r,i,n,s,d=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*d]<<8|e.pending_buf[e.d_buf+2*d+1],i=e.pending_buf[e.l_buf+d],d++,0===r?send_code(e,i,_):(n=_length_code[i],send_code(e,n+LITERALS+1,_),s=extra_lbits[n],0!==s&&(i-=base_length[n],send_bits(e,i,s)),r--,n=d_code(r),send_code(e,n,t),0!==(s=extra_dbits[n])&&(r-=base_dist[n],send_bits(e,r,s)))}while(d<e.last_lit);send_code(e,END_BLOCK,_)}function build_tree(e,_){var t,r,i,n=_.dyn_tree,s=_.stat_desc.static_tree,d=_.stat_desc.has_stree,a=_.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE,t=0;t<a;t++)0!==n[2*t]?(e.heap[++e.heap_len]=l=t,e.depth[t]=0):n[2*t+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=l<2?++l:0,n[2*i]=1,e.depth[i]=0,e.opt_len--,d&&(e.static_len-=s[2*i+1]);for(_.max_code=l,t=e.heap_len>>1;t>=1;t--)pqdownheap(e,n,t);i=a;do{t=e.heap[1],e.heap[1]=e.heap[e.heap_len--],pqdownheap(e,n,1),r=e.heap[1],e.heap[--e.heap_max]=t,e.heap[--e.heap_max]=r,n[2*i]=n[2*t]+n[2*r],e.depth[i]=(e.depth[t]>=e.depth[r]?e.depth[t]:e.depth[r])+1,n[2*t+1]=n[2*r+1]=i,e.heap[1]=i++,pqdownheap(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],gen_bitlen(e,_),gen_codes(n,l,e.bl_count)}function scan_tree(e,_,t){var r,i,n=-1,s=_[1],d=0,a=7,l=4;for(0===s&&(a=138,l=3),_[2*(t+1)+1]=65535,r=0;r<=t;r++)i=s,s=_[2*(r+1)+1],++d<a&&i===s||(d<l?e.bl_tree[2*i]+=d:0!==i?(i!==n&&e.bl_tree[2*i]++,e.bl_tree[2*REP_3_6]++):d<=10?e.bl_tree[2*REPZ_3_10]++:e.bl_tree[2*REPZ_11_138]++,d=0,n=i,0===s?(a=138,l=3):i===s?(a=6,l=3):(a=7,l=4))}function send_tree(e,_,t){var r,i,n=-1,s=_[1],d=0,a=7,l=4;for(0===s&&(a=138,l=3),r=0;r<=t;r++)if(i=s,s=_[2*(r+1)+1],!(++d<a&&i===s)){if(d<l)do{send_code(e,i,e.bl_tree)}while(0!=--d);else 0!==i?(i!==n&&(send_code(e,i,e.bl_tree),d--),send_code(e,REP_3_6,e.bl_tree),send_bits(e,d-3,2)):d<=10?(send_code(e,REPZ_3_10,e.bl_tree),send_bits(e,d-3,3)):(send_code(e,REPZ_11_138,e.bl_tree),send_bits(e,d-11,7));d=0,n=i,0===s?(a=138,l=3):i===s?(a=6,l=3):(a=7,l=4)}}function build_bl_tree(e){var _;for(scan_tree(e,e.dyn_ltree,e.l_desc.max_code),scan_tree(e,e.dyn_dtree,e.d_desc.max_code),build_tree(e,e.bl_desc),_=BL_CODES-1;_>=3&&0===e.bl_tree[2*bl_order[_]+1];_--);return e.opt_len+=3*(_+1)+5+5+4,_}function send_all_trees(e,_,t,r){var i;for(send_bits(e,_-257,5),send_bits(e,t-1,5),send_bits(e,r-4,4),i=0;i<r;i++)send_bits(e,e.bl_tree[2*bl_order[i]+1],3);send_tree(e,e.dyn_ltree,_-1),send_tree(e,e.dyn_dtree,t-1)}function detect_data_type(e){var _,t=4093624447;for(_=0;_<=31;_++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*_])return Z_BINARY;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return Z_TEXT;for(_=32;_<LITERALS;_++)if(0!==e.dyn_ltree[2*_])return Z_TEXT;return Z_BINARY}function _tr_init(e){static_init_done||(tr_static_init(),static_init_done=!0),e.l_desc=new TreeDesc(e.dyn_ltree,static_l_desc),e.d_desc=new TreeDesc(e.dyn_dtree,static_d_desc),e.bl_desc=new TreeDesc(e.bl_tree,static_bl_desc),e.bi_buf=0,e.bi_valid=0,init_block(e)}function _tr_stored_block(e,_,t,r){send_bits(e,(STORED_BLOCK<<1)+(r?1:0),3),copy_block(e,_,t,!0)}function _tr_align(e){send_bits(e,STATIC_TREES<<1,3),send_code(e,END_BLOCK,static_ltree),bi_flush(e)}function _tr_flush_block(e,_,t,r){var i,n,s=0;e.level>0?(e.strm.data_type===Z_UNKNOWN&&(e.strm.data_type=detect_data_type(e)),build_tree(e,e.l_desc),build_tree(e,e.d_desc),s=build_bl_tree(e),i=e.opt_len+3+7>>>3,(n=e.static_len+3+7>>>3)<=i&&(i=n)):i=n=t+5,t+4<=i&&-1!==_?_tr_stored_block(e,_,t,r):e.strategy===Z_FIXED||n===i?(send_bits(e,(STATIC_TREES<<1)+(r?1:0),3),compress_block(e,static_ltree,static_dtree)):(send_bits(e,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),compress_block(e,e.dyn_ltree,e.dyn_dtree)),init_block(e),r&&bi_windup(e)}function _tr_tally(e,_,t){return e.pending_buf[e.d_buf+2*e.last_lit]=_>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&_,e.pending_buf[e.l_buf+e.last_lit]=255&t,e.last_lit++,0===_?e.dyn_ltree[2*t]++:(e.matches++,_--,e.dyn_ltree[2*(_length_code[t]+LITERALS+1)]++,e.dyn_dtree[2*d_code(_)]++),e.last_lit===e.lit_bufsize-1}var utils=require("../utils/common"),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],DIST_CODE_LEN=512,static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(DIST_CODE_LEN);zero(_dist_code);var _length_code=new Array(MAX_MATCH-MIN_MATCH+1);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var base_dist=new Array(D_CODES);zero(base_dist);var static_l_desc,static_d_desc,static_bl_desc,static_init_done=!1;exports._tr_init=_tr_init,exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=_tr_flush_block,exports._tr_tally=_tr_tally,exports._tr_align=_tr_align;
},{"../utils/common":229}],239:[function(require,module,exports){
"use strict";function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}module.exports=ZStream;
},{}],240:[function(require,module,exports){
module.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}
},{}],241:[function(require,module,exports){
"use strict";var asn1=require("asn1.js");exports.certificate=require("./certificate");var RSAPrivateKey=asn1.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});exports.RSAPrivateKey=RSAPrivateKey;var RSAPublicKey=asn1.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});exports.RSAPublicKey=RSAPublicKey;var PublicKey=asn1.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});exports.PublicKey=PublicKey;var AlgorithmIdentifier=asn1.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PrivateKeyInfo=asn1.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});exports.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});exports.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});exports.DSAPrivateKey=DSAPrivateKey,exports.DSAparam=asn1.define("DSAparam",function(){this.int()});var ECPrivateKey=asn1.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters),this.key("publicKey").optional().explicit(1).bitstr())});exports.ECPrivateKey=ECPrivateKey;var ECParameters=asn1.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});exports.signature=asn1.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});
},{"./certificate":242,"asn1.js":9}],242:[function(require,module,exports){
"use strict";var asn=require("asn1.js"),Time=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time),this.key("notAfter").use(Time))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier),this.key("issuer").use(Name),this.key("validity").use(Validity),this.key("subject").use(Name),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier),this.key("signatureValue").bitstr())});module.exports=X509Certificate;
},{"asn1.js":9}],243:[function(require,module,exports){
var findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,evp=require("evp_bytestokey"),ciphers=require("browserify-aes"),Buffer=require("safe-buffer").Buffer;module.exports=function(e,r){var f,a=e.toString(),t=a.match(findProc);if(t){var n="aes"+t[1],u=Buffer.from(t[2],"hex"),s=Buffer.from(t[3].replace(/[\r\n]/g,""),"base64"),c=evp(r,u.slice(0,8),parseInt(t[1],10)).key,i=[],p=ciphers.createDecipheriv(n,c,u);i.push(p.update(s)),i.push(p.final()),f=Buffer.concat(i)}else{var o=a.match(fullRegex);f=new Buffer(o[2].replace(/[\r\n]/g,""),"base64")}return{tag:a.match(startRegex)[1],data:f}};
},{"browserify-aes":39,"evp_bytestokey":109,"safe-buffer":282}],244:[function(require,module,exports){
(function (Buffer){
function parseKeys(e){var r;"object"!=typeof e||Buffer.isBuffer(e)||(r=e.passphrase,e=e.key),"string"==typeof e&&(e=Buffer.from(e));var a,t,s=fixProc(e,r),i=s.tag,c=s.data;switch(i){case"CERTIFICATE":t=asn1.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(t||(t=asn1.PublicKey.decode(c,"der")),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPublicKey.decode(t.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return t.subjectPrivateKey=t.subjectPublicKey,{type:"ec",data:t};case"1.2.840.10040.4.1":return t.algorithm.params.pub_key=asn1.DSAparam.decode(t.subjectPublicKey.data,"der"),{type:"dsa",data:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"ENCRYPTED PRIVATE KEY":c=asn1.EncryptedPrivateKey.decode(c,"der"),c=decrypt(c,r);case"PRIVATE KEY":switch(t=asn1.PrivateKey.decode(c,"der"),a=t.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return asn1.RSAPrivateKey.decode(t.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:t.algorithm.curve,privateKey:asn1.ECPrivateKey.decode(t.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return t.algorithm.params.priv_key=asn1.DSAparam.decode(t.subjectPrivateKey,"der"),{type:"dsa",params:t.algorithm.params};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+i);case"RSA PUBLIC KEY":return asn1.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return asn1.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=asn1.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+i)}}function decrypt(e,r){var a=e.algorithm.decrypt.kde.kdeparams.salt,t=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=aesid[e.algorithm.decrypt.cipher.algo.join(".")],i=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,d=parseInt(s.split("-")[1],10)/8,n=compat.pbkdf2Sync(r,a,t,d,"sha1"),o=ciphers.createDecipheriv(s,n,i),u=[];return u.push(o.update(c)),u.push(o.final()),Buffer.concat(u)}var asn1=require("./asn1"),aesid=require("./aesid.json"),fixProc=require("./fixProc"),ciphers=require("browserify-aes"),compat=require("pbkdf2"),Buffer=require("safe-buffer").Buffer;module.exports=parseKeys,parseKeys.signature=asn1.signature;
}).call(this,require("buffer").Buffer)

},{"./aesid.json":240,"./asn1":241,"./fixProc":243,"browserify-aes":39,"buffer":68,"pbkdf2":246,"safe-buffer":282}],245:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function basename(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),(t?"/":"")+r||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"),r||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}for(var l=[],u=i;u<n.length;u++)l.push("..");return l=l.concat(o.slice(i)),l.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var e=basename(r);return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
}).call(this,require('_process'))

},{"_process":252}],246:[function(require,module,exports){
exports.pbkdf2=require("./lib/async"),exports.pbkdf2Sync=require("./lib/sync");
},{"./lib/async":247,"./lib/sync":250}],247:[function(require,module,exports){
(function (process,global,Buffer){
function checkNative(e){if(global.process&&!global.process.browser)return Promise.resolve(!1);if(!subtle||!subtle.importKey||!subtle.deriveBits)return Promise.resolve(!1);if(void 0!==checks[e])return checks[e];ZERO_BUF=ZERO_BUF||Buffer.alloc(8);var r=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,e).then(function(){return!0}).catch(function(){return!1});return checks[e]=r,r}function browserPbkdf2(e,r,n,t,o){return subtle.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return subtle.deriveBits({name:"PBKDF2",salt:r,iterations:n,hash:{name:o}},e,t<<3)}).then(function(e){return Buffer.from(e)})}function resolvePromise(e,r){e.then(function(e){process.nextTick(function(){r(null,e)})},function(e){process.nextTick(function(){r(e)})})}var checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),sync=require("./sync"),Buffer=require("safe-buffer").Buffer,ZERO_BUF,subtle=global.crypto&&global.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];module.exports=function(e,r,n,t,o,s){"function"==typeof o&&(s=o,o=void 0),o=o||"sha1";var c=toBrowser[o.toLowerCase()];if(!c||"function"!=typeof global.Promise)return process.nextTick(function(){var c;try{c=sync(e,r,n,t,o)}catch(e){return s(e)}s(null,c)});if(checkParameters(e,r,n,t),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");Buffer.isBuffer(e)||(e=Buffer.from(e,defaultEncoding)),Buffer.isBuffer(r)||(r=Buffer.from(r,defaultEncoding)),resolvePromise(checkNative(c).then(function(s){return s?browserPbkdf2(e,r,n,t,c):sync(e,r,n,t,o)}),s)};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./default-encoding":248,"./precondition":249,"./sync":250,"_process":252,"buffer":68,"safe-buffer":282}],248:[function(require,module,exports){
(function (process){
var defaultEncoding;if(process.browser)defaultEncoding="utf-8";else{var pVersionMajor=parseInt(process.version.split(".")[0].slice(1),10);defaultEncoding=pVersionMajor>=6?"utf-8":"binary"}module.exports=defaultEncoding;
}).call(this,require('_process'))

},{"_process":252}],249:[function(require,module,exports){
(function (Buffer){
function checkBuffer(r,e){if("string"!=typeof r&&!Buffer.isBuffer(r))throw new TypeError(e+" must be a buffer or string")}var MAX_ALLOC=Math.pow(2,30)-1;module.exports=function(r,e,o,t){if(checkBuffer(r,"Password"),checkBuffer(e,"Salt"),"number"!=typeof o)throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>MAX_ALLOC||t!==t)throw new TypeError("Bad key length")};
}).call(this,{"isBuffer":require("../../is-buffer/index.js")})

},{"../../is-buffer/index.js":127}],250:[function(require,module,exports){
(function (Buffer){
function Hmac(e,r,a){var s=getDigest(e),f="sha512"===e||"sha384"===e?128:64;r.length>f?r=s(r):r.length<f&&(r=Buffer.concat([r,ZEROS],f));for(var i=Buffer.allocUnsafe(f+sizes[e]),t=Buffer.allocUnsafe(f+sizes[e]),n=0;n<f;n++)i[n]=54^r[n],t[n]=92^r[n];var u=Buffer.allocUnsafe(f+a+4);i.copy(u,0,0,f),this.ipad1=u,this.ipad2=i,this.opad=t,this.alg=e,this.blocksize=f,this.hash=s,this.size=sizes[e]}function getDigest(e){function r(r){return sha(e).update(r).digest()}function a(e){return(new RIPEMD160).update(e).digest()}return"rmd160"===e||"ripemd160"===e?a:"md5"===e?md5:r}function pbkdf2(e,r,a,s,f){checkParameters(e,r,a,s),Buffer.isBuffer(e)||(e=Buffer.from(e,defaultEncoding)),Buffer.isBuffer(r)||(r=Buffer.from(r,defaultEncoding)),f=f||"sha1";var i=new Hmac(f,e,r.length),t=Buffer.allocUnsafe(s),n=Buffer.allocUnsafe(r.length+4);r.copy(n,0,0,r.length);for(var u=0,h=sizes[f],o=Math.ceil(s/h),c=1;c<=o;c++){n.writeUInt32BE(c,r.length);for(var d=i.run(n,i.ipad1),l=d,p=1;p<a;p++){l=i.run(l,i.ipad2);for(var m=0;m<h;m++)d[m]^=l[m]}d.copy(t,u),u+=h}return t}var md5=require("create-hash/md5"),RIPEMD160=require("ripemd160"),sha=require("sha.js"),checkParameters=require("./precondition"),defaultEncoding=require("./default-encoding"),Buffer=require("safe-buffer").Buffer,ZEROS=Buffer.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};Hmac.prototype.run=function(e,r){return e.copy(r,this.blocksize),this.hash(r).copy(this.opad,this.blocksize),this.hash(this.opad)},module.exports=pbkdf2;
}).call(this,require("buffer").Buffer)

},{"./default-encoding":248,"./precondition":249,"buffer":68,"create-hash/md5":76,"ripemd160":281,"safe-buffer":282,"sha.js":284}],251:[function(require,module,exports){
(function (process){
"use strict";function nextTick(e,n,c,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,t,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,n)});case 3:return process.nextTick(function(){e.call(null,n,c)});case 4:return process.nextTick(function(){e.call(null,n,c,r)});default:for(s=new Array(o-1),t=0;t<s.length;)s[t++]=arguments[t];return process.nextTick(function(){e.apply(null,s)})}}!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:nextTick}:module.exports=process;
}).call(this,require('_process'))

},{"_process":252}],252:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],253:[function(require,module,exports){
exports.publicEncrypt=require("./publicEncrypt"),exports.privateDecrypt=require("./privateDecrypt"),exports.privateEncrypt=function(r,p){return exports.publicEncrypt(r,p,!0)},exports.publicDecrypt=function(r,p){return exports.privateDecrypt(r,p,!0)};
},{"./privateDecrypt":255,"./publicEncrypt":256}],254:[function(require,module,exports){
(function (Buffer){
function i2ops(e){var r=Buffer.allocUnsafe(4);return r.writeUInt32BE(e,0),r}var createHash=require("create-hash"),Buffer=require("safe-buffer").Buffer;module.exports=function(e,r){for(var a,f=Buffer.alloc(0),t=0;f.length<r;)a=i2ops(t++),f=Buffer.concat([f,createHash("sha1").update(e).update(a).digest()]);return f.slice(0,r)};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"create-hash":75,"safe-buffer":282}],255:[function(require,module,exports){
(function (Buffer){
function oaep(r,e){var t=r.modulus.byteLength(),n=createHash("sha1").update(Buffer.alloc(0)).digest(),o=n.length;if(0!==e[0])throw new Error("decryption error");var i=e.slice(1,o+1),f=e.slice(o+1),a=xor(i,mgf(f,o)),u=xor(f,mgf(a,t-o-1));if(compare(n,u.slice(0,o)))throw new Error("decryption error");for(var c=o;0===u[c];)c++;if(1!==u[c++])throw new Error("decryption error");return u.slice(c)}function pkcs1(r,e,t){for(var n=e.slice(0,2),o=2,i=0;0!==e[o++];)if(o>=e.length){i++;break}var f=e.slice(2,o-1);if(("0002"!==n.toString("hex")&&!t||"0001"!==n.toString("hex")&&t)&&i++,f.length<8&&i++,i)throw new Error("decryption error");return e.slice(o)}function compare(r,e){r=Buffer.from(r),e=Buffer.from(e);var t=0,n=r.length;r.length!==e.length&&(t++,n=Math.min(r.length,e.length));for(var o=-1;++o<n;)t+=r[o]^e[o];return t}var parseKeys=require("parse-asn1"),mgf=require("./mgf"),xor=require("./xor"),BN=require("bn.js"),crt=require("browserify-rsa"),createHash=require("create-hash"),withPublic=require("./withPublic"),Buffer=require("safe-buffer").Buffer;module.exports=function(r,e,t){var n;n=r.padding?r.padding:t?1:4;var o=parseKeys(r),i=o.modulus.byteLength();if(e.length>i||new BN(e).cmp(o.modulus)>=0)throw new Error("decryption error");var f;f=t?withPublic(new BN(e),o):crt(e,o);var a=Buffer.alloc(i-f.length);if(f=Buffer.concat([a,f],i),4===n)return oaep(o,f);if(1===n)return pkcs1(o,f,t);if(3===n)return f;throw new Error("unknown padding")};
}).call(this,require("buffer").Buffer)

},{"./mgf":254,"./withPublic":257,"./xor":258,"bn.js":34,"browserify-rsa":57,"buffer":68,"create-hash":75,"parse-asn1":244,"safe-buffer":282}],256:[function(require,module,exports){
(function (Buffer){
function oaep(r,e){var o=r.modulus.byteLength(),n=e.length,f=createHash("sha1").update(Buffer.alloc(0)).digest(),a=f.length,u=2*a;if(n>o-u-2)throw new Error("message too long");var t=Buffer.alloc(o-n-u-2),s=o-a-1,l=randomBytes(a),i=xor(Buffer.concat([f,t,Buffer.alloc(1,1),e],s),mgf(l,s)),c=xor(l,mgf(i,a));return new BN(Buffer.concat([Buffer.alloc(1),c,i],o))}function pkcs1(r,e,o){var n=e.length,f=r.modulus.byteLength();if(n>f-11)throw new Error("message too long");var a;return a=o?Buffer.alloc(f-n-3,255):nonZero(f-n-3),new BN(Buffer.concat([Buffer.from([0,o?1:2]),a,Buffer.alloc(1),e],f))}function nonZero(r){for(var e,o=Buffer.allocUnsafe(r),n=0,f=randomBytes(2*r),a=0;n<r;)a===f.length&&(f=randomBytes(2*r),a=0),(e=f[a++])&&(o[n++]=e);return o}var parseKeys=require("parse-asn1"),randomBytes=require("randombytes"),createHash=require("create-hash"),mgf=require("./mgf"),xor=require("./xor"),BN=require("bn.js"),withPublic=require("./withPublic"),crt=require("browserify-rsa"),Buffer=require("safe-buffer").Buffer;module.exports=function(r,e,o){var n;n=r.padding?r.padding:o?1:4;var f,a=parseKeys(r);if(4===n)f=oaep(a,e);else if(1===n)f=pkcs1(a,e,o);else{if(3!==n)throw new Error("unknown padding");if(f=new BN(e),f.cmp(a.modulus)>=0)throw new Error("data too long for modulus")}return o?crt(f,a):withPublic(f,a)};
}).call(this,require("buffer").Buffer)

},{"./mgf":254,"./withPublic":257,"./xor":258,"bn.js":34,"browserify-rsa":57,"buffer":68,"create-hash":75,"parse-asn1":244,"randombytes":263,"safe-buffer":282}],257:[function(require,module,exports){
(function (Buffer){
function withPublic(e,r){return Buffer.from(e.toRed(BN.mont(r.modulus)).redPow(new BN(r.publicExponent)).fromRed().toArray())}var BN=require("bn.js"),Buffer=require("safe-buffer").Buffer;module.exports=withPublic;
}).call(this,require("buffer").Buffer)

},{"bn.js":34,"buffer":68,"safe-buffer":282}],258:[function(require,module,exports){
module.exports=function(r,e){for(var n=r.length,o=-1;++o<n;)r[o]^=e[o];return r};
},{}],259:[function(require,module,exports){
(function (global){
!function(e){function o(e){throw new RangeError(T[e])}function n(e,o){for(var n=e.length,t=[];n--;)t[n]=o(e[n]);return t}function t(e,o){var t=e.split("@"),r="";return t.length>1&&(r=t[0]+"@",e=t[1]),e=e.replace(S,"."),r+n(e.split("."),o).join(".")}function r(e){for(var o,n,t=[],r=0,u=e.length;r<u;)o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<u?(n=e.charCodeAt(r++),56320==(64512&n)?t.push(((1023&o)<<10)+(1023&n)+65536):(t.push(o),r--)):t.push(o);return t}function u(e){return n(e,function(e){var o="";return e>65535&&(e-=65536,o+=P(e>>>10&1023|55296),e=56320|1023&e),o+=P(e)}).join("")}function i(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:b}function f(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function c(e,o,n){var t=0;for(e=n?M(e/j):e>>1,e+=M(e/o);e>L*C>>1;t+=b)e=M(e/L);return M(t+(L+1)*e/(e+m))}function l(e){var n,t,r,f,l,s,d,p,a,h,v=[],g=e.length,w=0,m=I,j=A;for(t=e.lastIndexOf(E),t<0&&(t=0),r=0;r<t;++r)e.charCodeAt(r)>=128&&o("not-basic"),v.push(e.charCodeAt(r));for(f=t>0?t+1:0;f<g;){for(l=w,s=1,d=b;f>=g&&o("invalid-input"),p=i(e.charCodeAt(f++)),(p>=b||p>M((x-w)/s))&&o("overflow"),w+=p*s,a=d<=j?y:d>=j+C?C:d-j,!(p<a);d+=b)h=b-a,s>M(x/h)&&o("overflow"),s*=h;n=v.length+1,j=c(w-l,n,0==l),M(w/n)>x-m&&o("overflow"),m+=M(w/n),w%=n,v.splice(w++,0,m)}return u(v)}function s(e){var n,t,u,i,l,s,d,p,a,h,v,g,w,m,j,F=[];for(e=r(e),g=e.length,n=I,t=0,l=A,s=0;s<g;++s)(v=e[s])<128&&F.push(P(v));for(u=i=F.length,i&&F.push(E);u<g;){for(d=x,s=0;s<g;++s)(v=e[s])>=n&&v<d&&(d=v);for(w=u+1,d-n>M((x-t)/w)&&o("overflow"),t+=(d-n)*w,n=d,s=0;s<g;++s)if(v=e[s],v<n&&++t>x&&o("overflow"),v==n){for(p=t,a=b;h=a<=l?y:a>=l+C?C:a-l,!(p<h);a+=b)j=p-h,m=b-h,F.push(P(f(h+j%m,0))),p=M(j/m);F.push(P(f(p,0))),l=c(t,w,u==i),t=0,++u}++t,++n}return F.join("")}function d(e){return t(e,function(e){return F.test(e)?l(e.slice(4).toLowerCase()):e})}function p(e){return t(e,function(e){return O.test(e)?"xn--"+s(e):e})}var a="object"==typeof exports&&exports&&!exports.nodeType&&exports,h="object"==typeof module&&module&&!module.nodeType&&module,v="object"==typeof global&&global;v.global!==v&&v.window!==v&&v.self!==v||(e=v);var g,w,x=2147483647,b=36,y=1,C=26,m=38,j=700,A=72,I=128,E="-",F=/^xn--/,O=/[^\x20-\x7E]/,S=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=b-y,M=Math.floor,P=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:r,encode:u},decode:l,encode:s,toASCII:p,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(a&&h)if(module.exports==a)h.exports=g;else for(w in g)g.hasOwnProperty(w)&&(a[w]=g[w]);else e.punycode=g}(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],260:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],261:[function(require,module,exports){
"use strict";function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)},objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};
},{}],262:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":260,"./encode":261}],263:[function(require,module,exports){
(function (process,global,Buffer){
"use strict";function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function randomBytes(r,e){if(r>MAX_UINT32)throw new RangeError("requested too many random bytes");var o=Buffer.allocUnsafe(r);if(r>0)if(r>MAX_BYTES)for(var t=0;t<r;t+=MAX_BYTES)crypto.getRandomValues(o.slice(t,t+MAX_BYTES));else crypto.getRandomValues(o);return"function"==typeof e?process.nextTick(function(){e(null,o)}):o}var MAX_BYTES=65536,MAX_UINT32=4294967295,Buffer=require("safe-buffer").Buffer,crypto=global.crypto||global.msCrypto;crypto&&crypto.getRandomValues?module.exports=randomBytes:module.exports=oldBrowser;
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"_process":252,"buffer":68,"safe-buffer":282}],264:[function(require,module,exports){
(function (Buffer,process,global){
"use strict";function oldBrowser(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function assertOffset(r,e){if("number"!=typeof r||r!==r)throw new TypeError("offset must be a number");if(r>kMaxUint32||r<0)throw new TypeError("offset must be a uint32");if(r>kBufferMaxLength||r>e)throw new RangeError("offset out of range")}function assertSize(r,e,t){if("number"!=typeof r||r!==r)throw new TypeError("size must be a number");if(r>kMaxUint32||r<0)throw new TypeError("size must be a uint32");if(r+e>t||r>kBufferMaxLength)throw new RangeError("buffer too small")}function randomFill(r,e,t,n){if(!(Buffer.isBuffer(r)||r instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)n=e,e=0,t=r.length;else if("function"==typeof t)n=t,t=r.length-e;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return assertOffset(e,r.length),assertSize(t,e,r.length),actualFill(r,e,t,n)}function actualFill(r,e,t,n){if(process.browser){var o=r.buffer,f=new Uint8Array(o,e,t);return crypto.getRandomValues(f),n?void process.nextTick(function(){n(null,r)}):r}return n?void randombytes(t,function(t,o){if(t)return n(t);o.copy(r,e),n(null,r)}):(randombytes(t).copy(r,e),r)}function randomFillSync(r,e,t){if(void 0===e&&(e=0),!(Buffer.isBuffer(r)||r instanceof global.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(e,r.length),void 0===t&&(t=r.length-e),assertSize(t,e,r.length),actualFill(r,e,t)}var safeBuffer=require("safe-buffer"),randombytes=require("randombytes"),Buffer=safeBuffer.Buffer,kBufferMaxLength=safeBuffer.kMaxLength,crypto=global.crypto||global.msCrypto,kMaxUint32=Math.pow(2,32)-1;crypto&&crypto.getRandomValues||!process.browser?(exports.randomFill=randomFill,exports.randomFillSync=randomFillSync):(exports.randomFill=oldBrowser,exports.randomFillSync=oldBrowser);
}).call(this,{"isBuffer":require("../is-buffer/index.js")},require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../is-buffer/index.js":127,"_process":252,"randombytes":263,"safe-buffer":282}],265:[function(require,module,exports){
module.exports=require("./lib/_stream_duplex.js");
},{"./lib/_stream_duplex.js":266}],266:[function(require,module,exports){
"use strict";function Duplex(e){if(!(this instanceof Duplex))return new Duplex(e);Readable.call(this,e),Writable.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(e){e.end()}var pna=require("process-nextick-args"),objectKeys=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};module.exports=Duplex;var util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),Duplex.prototype._destroy=function(e,t){this.push(null),this.end(),pna.nextTick(t,e)};
},{"./_stream_readable":268,"./_stream_writable":270,"core-util-is":73,"inherits":"inherits","process-nextick-args":251}],267:[function(require,module,exports){
"use strict";function PassThrough(r){if(!(this instanceof PassThrough))return new PassThrough(r);Transform.call(this,r)}module.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(r,s,i){i(null,r)};
},{"./_stream_transform":269,"core-util-is":73,"inherits":"inherits"}],268:[function(require,module,exports){
(function (process,global,Buffer){
"use strict";function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}function prependListener(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}function ReadableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{};var r=t instanceof Duplex;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,a=e.readableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(a||0===a)?a:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this.decoder=new StringDecoder(e.encoding),this.encoding=e.encoding)}function Readable(e){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(e);this._readableState=new ReadableState(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),Stream.call(this)}function readableAddChunk(e,t,r,n,a){var i=e._readableState;if(null===t)i.reading=!1,onEofChunk(e,i);else{var d;a||(d=chunkInvalid(i,t)),d?e.emit("error",d):i.objectMode||t&&t.length>0?("string"==typeof t||i.objectMode||Object.getPrototypeOf(t)===Buffer.prototype||(t=_uint8ArrayToBuffer(t)),n?i.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):addChunk(e,i,t,!0):i.ended?e.emit("error",new Error("stream.push() after EOF")):(i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?addChunk(e,i,t,!1):maybeReadMore(e,i)):addChunk(e,i,t,!1))):n||(i.reading=!1)}return needMoreData(i)}function addChunk(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&emitReadable(e)),maybeReadMore(e,t)}function chunkInvalid(e,t){var r;return _isUint8Array(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function computeNewHighWaterMark(e){return e>=MAX_HWM?e=MAX_HWM:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function howMuchToRead(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=computeNewHighWaterMark(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function onEofChunk(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,emitReadable(e)}}function emitReadable(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(debug("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?pna.nextTick(emitReadable_,e):emitReadable_(e))}function emitReadable_(e){debug("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,t){t.readingMore||(t.readingMore=!0,pna.nextTick(maybeReadMore_,e,t))}function maybeReadMore_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(debug("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;debug("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&EElistenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function nReadingNextTick(e){debug("readable nexttick read 0"),e.read(0)}function resume(e,t){t.resumeScheduled||(t.resumeScheduled=!0,pna.nextTick(resume_,e,t))}function resume_(e,t){t.reading||(debug("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;for(debug("flow",t.flowing);t.flowing&&null!==e.read(););}function fromList(e,t){if(0===t.length)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=fromListPartial(e,t.buffer,t.decoder),r}function fromListPartial(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?copyFromBufferString(e,t):copyFromBuffer(e,t),n}function copyFromBufferString(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,d=e>i.length?i.length:e;if(d===i.length?a+=i:a+=i.slice(0,e),0===(e-=d)){d===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(d));break}++n}return t.length-=n,a}function copyFromBuffer(e,t){var r=Buffer.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,d=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,d),0===(e-=d)){d===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(d));break}++a}return t.length-=a,r}function endReadable(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,pna.nextTick(endReadableNT,t,e))}function endReadableNT(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function indexOf(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}var pna=require("process-nextick-args");module.exports=Readable;var isArray=require("isarray"),Duplex;Readable.ReadableState=ReadableState;var EE=require("events").EventEmitter,EElistenerCount=function(e,t){return e.listeners(t).length},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},util=require("core-util-is");util.inherits=require("inherits");var debugUtil=require("util"),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var BufferList=require("./internal/streams/BufferList"),destroyImpl=require("./internal/streams/destroy"),StringDecoder;util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(e,t){this.push(null),t(e)},Readable.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=Buffer.from(e,t),t=""),r=!0),readableAddChunk(this,e,t,!1,r)},Readable.prototype.unshift=function(e){return readableAddChunk(this,e,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(e){return StringDecoder||(StringDecoder=require("string_decoder/").StringDecoder),this._readableState.decoder=new StringDecoder(e),this._readableState.encoding=e,this};var MAX_HWM=8388608;Readable.prototype.read=function(e){debug("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return debug("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(0===(e=howMuchToRead(e,t))&&t.ended)return 0===t.length&&endReadable(this),null;var n=t.needReadable;debug("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,debug("length less than watermark",n)),t.ended||t.reading?(n=!1,debug("reading or ended",n)):n&&(debug("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=howMuchToRead(r,t)));var a;return a=e>0?fromList(e,t):null,null===a?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&endReadable(this)),null!==a&&this.emit("data",a),a},Readable.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(e,t){function r(e,t){debug("onunpipe"),e===s&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,a())}function n(){debug("onend"),e.end()}function a(){debug("cleanup"),e.removeListener("close",o),e.removeListener("finish",u),e.removeListener("drain",b),e.removeListener("error",d),e.removeListener("unpipe",r),s.removeListener("end",n),s.removeListener("end",l),s.removeListener("data",i),c=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||b()}function i(t){debug("ondata"),g=!1,!1!==e.write(t)||g||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==indexOf(h.pipes,e))&&!c&&(debug("false write response, pause",s._readableState.awaitDrain),s._readableState.awaitDrain++,g=!0),s.pause())}function d(t){debug("onerror",t),l(),e.removeListener("error",d),0===EElistenerCount(e,"error")&&e.emit("error",t)}function o(){e.removeListener("finish",u),l()}function u(){debug("onfinish"),e.removeListener("close",o),l()}function l(){debug("unpipe"),s.unpipe(e)}var s=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,debug("pipe count=%d opts=%j",h.pipesCount,t);var f=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr,p=f?n:l;h.endEmitted?pna.nextTick(p):s.once("end",p),e.on("unpipe",r);var b=pipeOnDrain(s);e.on("drain",b);var c=!1,g=!1;return s.on("data",i),prependListener(e,"error",d),e.once("close",o),e.once("finish",u),e.emit("pipe",s),h.flowing||(debug("pipe resume"),s.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var d=indexOf(t.pipes,e);return-1===d?this:(t.pipes.splice(d,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},Readable.prototype.on=function(e,t){var r=Stream.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(debug("resume"),e.flowing=!0,resume(this,e)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(debug("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(a){if(debug("wrapped data"),r.decoder&&(a=r.decoder.write(a)),(!r.objectMode||null!==a&&void 0!==a)&&(r.objectMode||a&&a.length)){t.push(a)||(n=!0,e.pause())}});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<kProxyEvents.length;i++)e.on(kProxyEvents[i],this.emit.bind(this,kProxyEvents[i]));return this._read=function(t){debug("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList;
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./_stream_duplex":266,"./internal/streams/BufferList":271,"./internal/streams/destroy":272,"./internal/streams/stream":273,"_process":252,"buffer":68,"core-util-is":73,"events":108,"inherits":"inherits","isarray":128,"process-nextick-args":251,"safe-buffer":282,"string_decoder/":274,"util":36}],269:[function(require,module,exports){
"use strict";function afterTransform(r,t){var n=this._transformState;n.transforming=!1;var e=n.writecb;if(!e)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),e(r);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Transform(r){if(!(this instanceof Transform))return new Transform(r);Duplex.call(this,r),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&("function"==typeof r.transform&&(this._transform=r.transform),"function"==typeof r.flush&&(this._flush=r.flush)),this.on("prefinish",prefinish)}function prefinish(){var r=this;"function"==typeof this._flush?this._flush(function(t,n){done(r,t,n)}):done(this,null,null)}function done(r,t,n){if(t)return r.emit("error",t);if(null!=n&&r.push(n),r._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(r._transformState.transforming)throw new Error("Calling transform done when still transforming");return r.push(null)}module.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(r,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,r,t)},Transform.prototype._transform=function(r,t,n){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(r,t,n){var e=this._transformState;if(e.writecb=n,e.writechunk=r,e.writeencoding=t,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(r){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},Transform.prototype._destroy=function(r,t){var n=this;Duplex.prototype._destroy.call(this,r,function(r){t(r),n.emit("close")})};
},{"./_stream_duplex":266,"core-util-is":73,"inherits":"inherits"}],270:[function(require,module,exports){
(function (process,global,Buffer,__argument0,__argument1,__argument2,__argument3,setImmediate){
"use strict";function WriteReq(e,t,r){this.chunk=e,this.encoding=t,this.callback=r,this.next=null}function CorkedRequest(e){var t=this;this.next=null,this.entry=null,this.finish=function(){onCorkedFinish(t,e)}}function _uint8ArrayToBuffer(e){return Buffer.from(e)}function _isUint8Array(e){return Buffer.isBuffer(e)||e instanceof OurUint8Array}function nop(){}function WritableState(e,t){Duplex=Duplex||require("./_stream_duplex"),e=e||{};var r=t instanceof Duplex;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,n=e.writableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(n||0===n)?n:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(e){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(e);this._writableState=new WritableState(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),Stream.call(this)}function writeAfterEnd(e,t){var r=new Error("write after end");e.emit("error",r),pna.nextTick(t,r)}function validChunk(e,t,r,i){var n=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),pna.nextTick(i,o),n=!1),n}function decodeChunk(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=Buffer.from(t,r)),t}function writeOrBuffer(e,t,r,i,n,o){if(!r){var a=decodeChunk(t,i,n);i!==a&&(r=!0,n="buffer",i=a)}var s=t.objectMode?1:i.length;t.length+=s;var f=t.length<t.highWaterMark;if(f||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else doWrite(e,t,!1,s,i,n,o);return f}function doWrite(e,t,r,i,n,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function onwriteError(e,t,r,i,n){--t.pendingcb,r?(pna.nextTick(n,i),pna.nextTick(finishMaybe,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(n(i),e._writableState.errorEmitted=!0,e.emit("error",i),finishMaybe(e,t))}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if(onwriteStateUpdate(r),t)onwriteError(e,r,i,t,n);else{var o=needFinish(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||clearBuffer(e,r),i?asyncWrite(afterWrite,e,r,o,n):afterWrite(e,r,o,n)}}function afterWrite(e,t,r,i){r||onwriteDrain(e,t),t.pendingcb--,i(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,n=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,doWrite(e,t,!0,t.length,n,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new CorkedRequest(t),t.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,u=r.encoding,l=r.callback;if(doWrite(e,t,!1,t.objectMode?1:f.length,f,u,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function needFinish(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function callFinal(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),finishMaybe(e,t)})}function prefinish(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,pna.nextTick(callFinal,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function finishMaybe(e,t){var r=needFinish(t);return r&&(prefinish(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}function endWritable(e,t,r){t.ending=!0,finishMaybe(e,t),r&&(t.finished?pna.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function onCorkedFinish(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(r),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var pna=require("process-nextick-args");module.exports=Writable;var asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick,Duplex;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){},destroyImpl=require("./internal/streams/destroy");util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var realHasInstance;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(e){return!!realHasInstance.call(this,e)||this===Writable&&(e&&e._writableState instanceof WritableState)}})):realHasInstance=function(e){return e instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(e,t,r){var i=this._writableState,n=!1,o=!i.objectMode&&_isUint8Array(e);return o&&!Buffer.isBuffer(e)&&(e=_uint8ArrayToBuffer(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=nop),i.ended?writeAfterEnd(this,r):(o||validChunk(this,i,e,r))&&(i.pendingcb++,n=writeOrBuffer(this,i,o,e,t,r)),n},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||clearBuffer(this,e))},Writable.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,r){var i=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||endWritable(this,i,r)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(e,t){this.end(),t(e)};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],require("timers").setImmediate)

},{"./_stream_duplex":266,"./internal/streams/destroy":272,"./internal/streams/stream":273,"_process":252,"buffer":68,"core-util-is":73,"inherits":"inherits","process-nextick-args":251,"safe-buffer":282,"timers":298,"util-deprecate":305}],271:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function copyBuffer(t,e,i){t.copy(e,i)}var Buffer=require("safe-buffer").Buffer,util=require("util");module.exports=function(){function t(){_classCallCheck(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,i=""+e.data;e=e.next;)i+=t+e.data;return i},t.prototype.concat=function(t){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var e=Buffer.allocUnsafe(t>>>0),i=this.head,n=0;i;)copyBuffer(i.data,e,n),n+=i.data.length,i=i.next;return e},t}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var t=util.inspect({length:this.length});return this.constructor.name+" "+t});
},{"safe-buffer":282,"util":36}],272:[function(require,module,exports){
"use strict";function destroy(t,e){var r=this,a=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return a||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(pna.nextTick(emitErrorNT,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(t,e){t.emit("error",e)}var pna=require("process-nextick-args");module.exports={destroy:destroy,undestroy:undestroy};
},{"process-nextick-args":251}],273:[function(require,module,exports){
module.exports=require("events").EventEmitter;
},{"events":108}],274:[function(require,module,exports){
(function (Buffer){
"use strict";function _normalizeEncoding(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function normalizeEncoding(t){var e=_normalizeEncoding(t);if("string"!=typeof e&&(Buffer.isEncoding===isEncoding||!isEncoding(t)))throw new Error("Unknown encoding: "+t);return e||t}function StringDecoder(t){this.encoding=normalizeEncoding(t);var e;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,e=4;break;case"utf8":this.fillLast=utf8FillLast,e=4;break;case"base64":this.text=base64Text,this.end=base64End,e=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(e)}function utf8CheckByte(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function utf8CheckIncomplete(t,e,s){var i=e.length-1;if(i<s)return 0;var n=utf8CheckByte(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]))>=0?(n>0&&(t.lastNeed=n-2),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]),n>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0)}function utf8CheckExtraBytes(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function utf8FillLast(t){var e=this.lastTotal-this.lastNeed,s=utf8CheckExtraBytes(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function utf8Text(t,e){var s=utf8CheckIncomplete(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function utf8End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function utf16Text(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function utf16End(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function base64Text(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function base64End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],275:[function(require,module,exports){
module.exports=require("./readable").PassThrough;
},{"./readable":276}],276:[function(require,module,exports){
exports=module.exports=require("./lib/_stream_readable.js"),exports.Stream=exports,exports.Readable=exports,exports.Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js");
},{"./lib/_stream_duplex.js":266,"./lib/_stream_passthrough.js":267,"./lib/_stream_readable.js":268,"./lib/_stream_transform.js":269,"./lib/_stream_writable.js":270}],277:[function(require,module,exports){
module.exports=require("./readable").Transform;
},{"./readable":276}],278:[function(require,module,exports){
module.exports=require("./lib/_stream_writable.js");
},{"./lib/_stream_writable.js":270}],279:[function(require,module,exports){
var EventEmitter=require("events").EventEmitter,backoff=require("backoff");module.exports=function(e){return function(n,t){function c(c,f){function a(e){m.removeListener("error",a);try{o.emit("error",e)}catch(e){}u(e)}function u(e){if(o.connected=!1,m.removeListener("close",u),m.removeListener("end",u),"Request"==m.constructor.name&&m.on("error",function(){}),o.emit("disconnect",e),o.reconnect)try{r.backoff(e)}catch(e){}}function s(){o.connected=!0,o.emit("connection",m),o.emit("connect",m)}if(!o.connected&&o.reconnect){o.emit("reconnect",c,f);var m=e.apply(o,i);o._connection=m,m.on("error",a).on("close",u).on("end",u),n.immediate||"Request"==m.constructor.name?(s(),m.once("data",function(){r.reset()})):m.once("connect",function(){r.reset(),t&&m.removeListener("connect",t),s()})}}t="function"==typeof n?n:t,n="object"==typeof n?n:{initialDelay:1e3,maxDelay:3e4},t||(t=n.onConnect);var o=new EventEmitter;o.connected=!1,o.reconnect=!0,t&&o.on("connection",t);var r=(backoff[n.type]||backoff.fibonacci)(n);n.failAfter&&r.failAfter(n.failAfter),r.on("backoff",function(e,n,t){o.emit("backoff",e,n,t)}),r.on("fail",function(e){o.disconnect(),o.emit("fail",e)});var i;return o.connect=o.listen=function(){if(this.reconnect=!0,!o.connected)return r.reset(),r.on("ready",c),i=i||[].slice.call(arguments),c(0,0),o},o.disconnect=function(){return this.reconnect=!1,o._connection&&o._connection.end(),o},o}};
},{"backoff":26,"events":108}],280:[function(require,module,exports){
var websocket=require("websocket-stream"),inject=require("reconnect-core");module.exports=inject(function(){var e=[].slice.call(arguments),r=websocket.apply(null,e),t=this.prevCon;return t&&t._buffer&&(r._buffer=t._buffer),this.prevCon=r,r});
},{"reconnect-core":279,"websocket-stream":309}],281:[function(require,module,exports){
"use strict";function RIPEMD160(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(t,s){return t<<s|t>>>32-s}function fn1(t,s,r,i,h,e,n,f){return rotl(t+(s^r^i)+e+n|0,f)+h|0}function fn2(t,s,r,i,h,e,n,f){return rotl(t+(s&r|~s&i)+e+n|0,f)+h|0}function fn3(t,s,r,i,h,e,n,f){return rotl(t+((s|~r)^i)+e+n|0,f)+h|0}function fn4(t,s,r,i,h,e,n,f){return rotl(t+(s&i|r&~i)+e+n|0,f)+h|0}function fn5(t,s,r,i,h,e,n,f){return rotl(t+(s^(r|~i))+e+n|0,f)+h|0}var Buffer=require("buffer").Buffer,inherits=require("inherits"),HashBase=require("hash-base"),ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];inherits(RIPEMD160,HashBase),RIPEMD160.prototype._update=function(){for(var t=ARRAY16,s=0;s<16;++s)t[s]=this._block.readInt32LE(4*s);for(var r=0|this._a,i=0|this._b,h=0|this._c,e=0|this._d,n=0|this._e,f=0|this._a,l=0|this._b,_=0|this._c,o=0|this._d,c=0|this._e,u=0;u<80;u+=1){var a,b;u<16?(a=fn1(r,i,h,e,n,t[zl[u]],hl[0],sl[u]),b=fn5(f,l,_,o,c,t[zr[u]],hr[0],sr[u])):u<32?(a=fn2(r,i,h,e,n,t[zl[u]],hl[1],sl[u]),b=fn4(f,l,_,o,c,t[zr[u]],hr[1],sr[u])):u<48?(a=fn3(r,i,h,e,n,t[zl[u]],hl[2],sl[u]),b=fn3(f,l,_,o,c,t[zr[u]],hr[2],sr[u])):u<64?(a=fn4(r,i,h,e,n,t[zl[u]],hl[3],sl[u]),b=fn2(f,l,_,o,c,t[zr[u]],hr[3],sr[u])):(a=fn5(r,i,h,e,n,t[zl[u]],hl[4],sl[u]),b=fn1(f,l,_,o,c,t[zr[u]],hr[4],sr[u])),r=n,n=e,e=rotl(h,10),h=i,i=a,f=c,c=o,o=rotl(_,10),_=l,l=b}var E=this._b+h+o|0;this._b=this._c+e+c|0,this._c=this._d+n+f|0,this._d=this._e+r+l|0,this._e=this._a+i+_|0,this._a=E},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Buffer.alloc?Buffer.alloc(20):new Buffer(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},module.exports=RIPEMD160;
},{"buffer":68,"hash-base":111,"inherits":"inherits"}],282:[function(require,module,exports){
(function (Buffer){
function copyProps(f,r){for(var e in f)r[e]=f[e]}function SafeBuffer(f,r,e){return Buffer(f,r,e)}var buffer=require("buffer"),Buffer=buffer.Buffer;Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(f,r,e){if("number"==typeof f)throw new TypeError("Argument must not be a number");return Buffer(f,r,e)},SafeBuffer.alloc=function(f,r,e){if("number"!=typeof f)throw new TypeError("Argument must be a number");var u=Buffer(f);return void 0!==r?"string"==typeof e?u.fill(r,e):u.fill(r):u.fill(0),u},SafeBuffer.allocUnsafe=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return Buffer(f)},SafeBuffer.allocUnsafeSlow=function(f){if("number"!=typeof f)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(f)};
}).call(this,require("buffer").Buffer)

},{"buffer":68}],283:[function(require,module,exports){
(function (Buffer){
function Hash(t,i){this._block=Buffer.alloc(t),this._finalSize=i,this._blockSize=t,this._len=0}var Buffer=require("safe-buffer").Buffer;Hash.prototype.update=function(t,i){"string"==typeof t&&(i=i||"utf8",t=Buffer.from(t,i));for(var e=this._block,s=this._blockSize,h=t.length,o=this._len,l=0;l<h;){for(var r=o%s,_=Math.min(h-l,s-r),n=0;n<_;n++)e[r+n]=t[l+n];o+=_,l+=_,o%s==0&&this._update(e)}return this._len+=h,this},Hash.prototype.digest=function(t){var i=this._len%this._blockSize;this._block[i]=128,this._block.fill(0,i+1),i>=this._finalSize&&(this._update(this._block),this._block.fill(0));var e=8*this._len;if(e<=4294967295)this._block.writeUInt32BE(e,this._blockSize-4);else{var s=(4294967295&e)>>>0,h=(e-s)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],284:[function(require,module,exports){
var exports=module.exports=function(e){e=e.toLowerCase();var r=exports[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};exports.sha=require("./sha"),exports.sha1=require("./sha1"),exports.sha224=require("./sha224"),exports.sha256=require("./sha256"),exports.sha384=require("./sha384"),exports.sha512=require("./sha512");
},{"./sha":285,"./sha1":286,"./sha224":287,"./sha256":288,"./sha384":289,"./sha512":290}],285:[function(require,module,exports){
function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,r,h){return 0===t?i&r|~i&h:2===t?i&r|i&h|r&h:i^r^h}var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,s=0|this._c,e=0|this._d,n=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=i[_-3]^i[_-8]^i[_-14]^i[_-16];for(var a=0;a<80;++a){var o=~~(a/20),f=rotl5(r)+ft(o,h,s,e)+n+i[a]+K[o]|0;n=e,e=s,s=rotl30(h),h=r,r=f}this._a=r+this._a|0,this._b=h+this._b|0,this._c=s+this._c|0,this._d=e+this._d|0,this._e=n+this._e|0},Sha.prototype._hash=function(){var t=Buffer.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha;
},{"./hash":283,"inherits":"inherits","safe-buffer":282}],286:[function(require,module,exports){
function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl1(t){return t<<1|t>>>31}function rotl5(t){return t<<5|t>>>27}function rotl30(t){return t<<30|t>>>2}function ft(t,i,r,h){return 0===t?i&r|~i&h:2===t?i&r|i&h|r&h:i^r^h}var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(t){for(var i=this._w,r=0|this._a,h=0|this._b,s=0|this._c,e=0|this._d,n=0|this._e,_=0;_<16;++_)i[_]=t.readInt32BE(4*_);for(;_<80;++_)i[_]=rotl1(i[_-3]^i[_-8]^i[_-14]^i[_-16]);for(var a=0;a<80;++a){var o=~~(a/20),f=rotl5(r)+ft(o,h,s,e)+n+i[a]+K[o]|0;n=e,e=s,s=rotl30(h),h=r,r=f}this._a=r+this._a|0,this._b=h+this._b|0,this._c=s+this._c|0,this._d=e+this._d|0,this._e=n+this._e|0},Sha1.prototype._hash=function(){var t=Buffer.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},module.exports=Sha1;
},{"./hash":283,"inherits":"inherits","safe-buffer":282}],287:[function(require,module,exports){
function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}var inherits=require("inherits"),Sha256=require("./sha256"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(64);inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var t=Buffer.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},module.exports=Sha224;
},{"./hash":283,"./sha256":288,"inherits":"inherits","safe-buffer":282}],288:[function(require,module,exports){
function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(t,i,h){return h^t&(i^h)}function maj(t,i,h){return t&i|h&(t|i)}function sigma0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function sigma1(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function gamma0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function gamma1(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(t){for(var i=this._w,h=0|this._a,s=0|this._b,r=0|this._c,e=0|this._d,n=0|this._e,_=0|this._f,a=0|this._g,f=0|this._h,u=0;u<16;++u)i[u]=t.readInt32BE(4*u);for(;u<64;++u)i[u]=gamma1(i[u-2])+i[u-7]+gamma0(i[u-15])+i[u-16]|0;for(var o=0;o<64;++o){var c=f+sigma1(n)+ch(n,_,a)+K[o]+i[o]|0,m=sigma0(h)+maj(h,s,r)|0;f=a,a=_,_=n,n=e+c|0,e=r,r=s,s=h,h=c+m|0}this._a=h+this._a|0,this._b=s+this._b|0,this._c=r+this._c|0,this._d=e+this._d|0,this._e=n+this._e|0,this._f=_+this._f|0,this._g=a+this._g|0,this._h=f+this._h|0},Sha256.prototype._hash=function(){var t=Buffer.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},module.exports=Sha256;
},{"./hash":283,"inherits":"inherits","safe-buffer":282}],289:[function(require,module,exports){
function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}var inherits=require("inherits"),SHA512=require("./sha512"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,W=new Array(160);inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){function h(h,t,s){i.writeInt32BE(h,s),i.writeInt32BE(t,s+4)}var i=Buffer.allocUnsafe(48);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),i},module.exports=Sha384;
},{"./hash":283,"./sha512":290,"inherits":"inherits","safe-buffer":282}],290:[function(require,module,exports){
function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(h,t,i){return i^h&(t^i)}function maj(h,t,i){return h&t|i&(h|t)}function sigma0(h,t){return(h>>>28|t<<4)^(t>>>2|h<<30)^(t>>>7|h<<25)}function sigma1(h,t){return(h>>>14|t<<18)^(h>>>18|t<<14)^(t>>>9|h<<23)}function Gamma0(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^h>>>7}function Gamma0l(h,t){return(h>>>1|t<<31)^(h>>>8|t<<24)^(h>>>7|t<<25)}function Gamma1(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^h>>>6}function Gamma1l(h,t){return(h>>>19|t<<13)^(t>>>29|h<<3)^(h>>>6|t<<26)}function getCarry(h,t){return h>>>0<t>>>0?1:0}var inherits=require("inherits"),Hash=require("./hash"),Buffer=require("safe-buffer").Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(h){for(var t=this._w,i=0|this._ah,s=0|this._bh,r=0|this._ch,_=0|this._dh,a=0|this._eh,e=0|this._fh,l=0|this._gh,n=0|this._hh,f=0|this._al,g=0|this._bl,u=0|this._cl,c=0|this._dl,m=0|this._el,o=0|this._fl,y=0|this._gl,C=0|this._hl,d=0;d<32;d+=2)t[d]=h.readInt32BE(4*d),t[d+1]=h.readInt32BE(4*d+4);for(;d<160;d+=2){var b=t[d-30],p=t[d-30+1],v=Gamma0(b,p),G=Gamma0l(p,b);b=t[d-4],p=t[d-4+1];var B=Gamma1(b,p),S=Gamma1l(p,b),w=t[d-14],E=t[d-14+1],I=t[d-32],j=t[d-32+1],q=G+E|0,H=v+w+getCarry(q,G)|0;q=q+S|0,H=H+B+getCarry(q,S)|0,q=q+j|0,H=H+I+getCarry(q,j)|0,t[d]=H,t[d+1]=q}for(var W=0;W<160;W+=2){H=t[W],q=t[W+1];var x=maj(i,s,r),A=maj(f,g,u),U=sigma0(i,f),k=sigma0(f,i),z=sigma1(a,m),D=sigma1(m,a),F=K[W],J=K[W+1],L=Ch(a,e,l),M=Ch(m,o,y),N=C+D|0,O=n+z+getCarry(N,C)|0;N=N+M|0,O=O+L+getCarry(N,M)|0,N=N+J|0,O=O+F+getCarry(N,J)|0,N=N+q|0,O=O+H+getCarry(N,q)|0;var P=k+A|0,Q=U+x+getCarry(P,k)|0;n=l,C=y,l=e,y=o,e=a,o=m,m=c+N|0,a=_+O+getCarry(m,c)|0,_=r,c=u,r=s,u=g,s=i,g=f,f=N+P|0,i=O+Q+getCarry(f,N)|0}this._al=this._al+f|0,this._bl=this._bl+g|0,this._cl=this._cl+u|0,this._dl=this._dl+c|0,this._el=this._el+m|0,this._fl=this._fl+o|0,this._gl=this._gl+y|0,this._hl=this._hl+C|0,this._ah=this._ah+i+getCarry(this._al,f)|0,this._bh=this._bh+s+getCarry(this._bl,g)|0,this._ch=this._ch+r+getCarry(this._cl,u)|0,this._dh=this._dh+_+getCarry(this._dl,c)|0,this._eh=this._eh+a+getCarry(this._el,m)|0,this._fh=this._fh+e+getCarry(this._fl,o)|0,this._gh=this._gh+l+getCarry(this._gl,y)|0,this._hh=this._hh+n+getCarry(this._hl,C)|0},Sha512.prototype._hash=function(){function h(h,i,s){t.writeInt32BE(h,s),t.writeInt32BE(i,s+4)}var t=Buffer.allocUnsafe(64);return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),h(this._gh,this._gl,48),h(this._hh,this._hl,56),t},module.exports=Sha512;
},{"./hash":283,"inherits":"inherits","safe-buffer":282}],291:[function(require,module,exports){
function Stream(){EE.call(this)}module.exports=Stream;var EE=require("events").EventEmitter,inherits=require("inherits");inherits(Stream,EE),Stream.Readable=require("readable-stream/readable.js"),Stream.Writable=require("readable-stream/writable.js"),Stream.Duplex=require("readable-stream/duplex.js"),Stream.Transform=require("readable-stream/transform.js"),Stream.PassThrough=require("readable-stream/passthrough.js"),Stream.Stream=Stream,Stream.prototype.pipe=function(e,r){function t(r){e.writable&&!1===e.write(r)&&m.pause&&m.pause()}function n(){m.readable&&m.resume&&m.resume()}function a(){u||(u=!0,e.end())}function o(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())}function i(e){if(s(),0===EE.listenerCount(this,"error"))throw e}function s(){m.removeListener("data",t),e.removeListener("drain",n),m.removeListener("end",a),m.removeListener("close",o),m.removeListener("error",i),e.removeListener("error",i),m.removeListener("end",s),m.removeListener("close",s),e.removeListener("close",s)}var m=this;m.on("data",t),e.on("drain",n),e._isStdio||r&&!1===r.end||(m.on("end",a),m.on("close",o));var u=!1;return m.on("error",i),e.on("error",i),m.on("end",s),m.on("close",s),e.on("close",s),e.emit("pipe",m),e};
},{"events":108,"inherits":"inherits","readable-stream/duplex.js":265,"readable-stream/passthrough.js":275,"readable-stream/readable.js":276,"readable-stream/transform.js":277,"readable-stream/writable.js":278}],292:[function(require,module,exports){
(function (global){
var ClientRequest=require("./lib/request"),response=require("./lib/response"),extend=require("xtend"),statusCodes=require("builtin-status-codes"),url=require("url"),http=exports;http.request=function(e,t){e="string"==typeof e?url.parse(e):extend(e);var r=-1===global.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||r,n=e.hostname||e.host,o=e.port,p=e.path||"/";n&&-1!==n.indexOf(":")&&(n="["+n+"]"),e.url=(n?s+"//"+n:"")+(o?":"+o:"")+p,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var u=new ClientRequest(e);return t&&u.on("response",t),u},http.get=function(e,t){var r=http.request(e,t);return r.end(),r},http.ClientRequest=ClientRequest,http.IncomingMessage=response.IncomingMessage,http.Agent=function(){},http.Agent.defaultMaxSockets=4,http.globalAgent=new http.Agent,http.STATUS_CODES=statusCodes,http.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"];
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./lib/request":294,"./lib/response":295,"builtin-status-codes":71,"url":301,"xtend":326}],293:[function(require,module,exports){
(function (global){
function getXHR(){if(void 0!==xhr)return xhr;if(global.XMLHttpRequest){xhr=new global.XMLHttpRequest;try{xhr.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(r){xhr=null}}else xhr=null;return xhr}function checkTypeSupport(r){var e=getXHR();if(!e)return!1;try{return e.responseType=r,e.responseType===r}catch(r){}return!1}function isFunction(r){return"function"==typeof r}exports.fetch=isFunction(global.fetch)&&isFunction(global.ReadableStream),exports.writableStream=isFunction(global.WritableStream),exports.abortController=isFunction(global.AbortController),exports.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),exports.blobConstructor=!0}catch(r){}var xhr,haveArrayBuffer=void 0!==global.ArrayBuffer,haveSlice=haveArrayBuffer&&isFunction(global.ArrayBuffer.prototype.slice);exports.arraybuffer=exports.fetch||haveArrayBuffer&&checkTypeSupport("arraybuffer"),exports.msstream=!exports.fetch&&haveSlice&&checkTypeSupport("ms-stream"),exports.mozchunkedarraybuffer=!exports.fetch&&haveArrayBuffer&&checkTypeSupport("moz-chunked-arraybuffer"),exports.overrideMimeType=exports.fetch||!!getXHR()&&isFunction(getXHR().overrideMimeType),exports.vbArray=isFunction(global.VBArray),xhr=null;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],294:[function(require,module,exports){
(function (process,global,Buffer){
function decideMode(e,t){return capability.fetch&&t?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&e?"arraybuffer":capability.vbArray&&e?"text:vbarray":"text"}function statusValid(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}var capability=require("./capability"),inherits=require("inherits"),response=require("./response"),stream=require("readable-stream"),toArrayBuffer=require("to-arraybuffer"),IncomingMessage=response.IncomingMessage,rStates=response.readyStates,ClientRequest=module.exports=function(e){var t=this;stream.Writable.call(t),t._opts=e,t._body=[],t._headers={},e.auth&&t.setHeader("Authorization","Basic "+new Buffer(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(r){t.setHeader(r,e.headers[r])});var r,o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!capability.abortController)o=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!capability.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}t._mode=decideMode(r,o),t._fetchTimer=null,t.on("finish",function(){t._onFinish()})};inherits(ClientRequest,stream.Writable),ClientRequest.prototype.setHeader=function(e,t){var r=this,o=e.toLowerCase();-1===unsafeHeaders.indexOf(o)&&(r._headers[o]={name:e,value:t})},ClientRequest.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},ClientRequest.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},ClientRequest.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=capability.arraybuffer?toArrayBuffer(Buffer.concat(e._body)):capability.blobConstructor?new global.Blob(e._body.map(function(e){return toArrayBuffer(e)}),{type:(r["content-type"]||{}).value||""}):Buffer.concat(e._body).toString());var n=[];if(Object.keys(r).forEach(function(e){var t=r[e].name,o=r[e].value;Array.isArray(o)?o.forEach(function(e){n.push([t,e])}):n.push([t,o])}),"fetch"===e._mode){var i=null;if(capability.abortController){var s=new AbortController;i=s.signal,e._fetchAbortController=s,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=global.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}global.fetch(e._opts.url,{method:e._opts.method,headers:n,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:i}).then(function(t){e._fetchResponse=t,e._connect()},function(t){global.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var a=e._xhr=new global.XMLHttpRequest;try{a.open(e._opts.method,e._opts.url,!0)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}"responseType"in a&&(a.responseType=e._mode.split(":")[0]),"withCredentials"in a&&(a.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in a&&a.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(a.timeout=t.requestTimeout,a.ontimeout=function(){e.emit("requestTimeout")}),n.forEach(function(e){a.setRequestHeader(e[0],e[1])}),e._response=null,a.onreadystatechange=function(){switch(a.readyState){case rStates.LOADING:case rStates.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(a.onprogress=function(){e._onXHRProgress()}),a.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{a.send(o)}catch(t){return void process.nextTick(function(){e.emit("error",t)})}}}},ClientRequest.prototype._onXHRProgress=function(){var e=this;statusValid(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},ClientRequest.prototype._connect=function(){var e=this;e._destroyed||(e._response=new IncomingMessage(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},ClientRequest.prototype._write=function(e,t,r){this._body.push(e),r()},ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(){var e=this;e._destroyed=!0,global.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},ClientRequest.prototype.end=function(e,t,r){var o=this;"function"==typeof e&&(r=e,e=void 0),stream.Writable.prototype.end.call(o,e,t,r)},ClientRequest.prototype.flushHeaders=function(){},ClientRequest.prototype.setTimeout=function(){},ClientRequest.prototype.setNoDelay=function(){},ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"];
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":293,"./response":295,"_process":252,"buffer":68,"inherits":"inherits","readable-stream":276,"to-arraybuffer":299}],295:[function(require,module,exports){
(function (process,global,Buffer){
var capability=require("./capability"),inherits=require("inherits"),stream=require("readable-stream"),rStates=exports.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage=exports.IncomingMessage=function(e,r,t,a){function s(){i.read().then(function(e){if(!o._destroyed){if(e.done)return global.clearTimeout(a),void o.push(null);o.push(new Buffer(e.value)),s()}}).catch(function(e){global.clearTimeout(a),o._destroyed||o.emit("error",e)})}var o=this;if(stream.Readable.call(o),o._mode=t,o.headers={},o.rawHeaders=[],o.trailers={},o.rawTrailers=[],o.on("end",function(){process.nextTick(function(){o.emit("close")})}),"fetch"===t){if(o._fetchResponse=r,o.url=r.url,o.statusCode=r.status,o.statusMessage=r.statusText,r.headers.forEach(function(e,r){o.headers[r.toLowerCase()]=e,o.rawHeaders.push(r,e)}),capability.writableStream){var n=new WritableStream({write:function(e){return new Promise(function(r,t){o._destroyed?t():o.push(new Buffer(e))?r():o._resumeFetch=r})},close:function(){global.clearTimeout(a),o._destroyed||o.push(null)},abort:function(e){o._destroyed||o.emit("error",e)}});try{return void r.body.pipeTo(n).catch(function(e){global.clearTimeout(a),o._destroyed||o.emit("error",e)})}catch(e){}}var i=r.body.getReader();s()}else{o._xhr=e,o._pos=0,o.url=e.responseURL,o.statusCode=e.status,o.statusMessage=e.statusText;if(e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var r=e.match(/^([^:]+):\s*(.*)/);if(r){var t=r[1].toLowerCase();"set-cookie"===t?(void 0===o.headers[t]&&(o.headers[t]=[]),o.headers[t].push(r[2])):void 0!==o.headers[t]?o.headers[t]+=", "+r[2]:o.headers[t]=r[2],o.rawHeaders.push(r[1],r[2])}}),o._charset="x-user-defined",!capability.overrideMimeType){var u=o.rawHeaders["mime-type"];if(u){var c=u.match(/;\s*charset=([^;])(;|$)/);c&&(o._charset=c[1].toLowerCase())}o._charset||(o._charset="utf-8")}}};inherits(IncomingMessage,stream.Readable),IncomingMessage.prototype._read=function(){var e=this,r=e._resumeFetch;r&&(e._resumeFetch=null,r())},IncomingMessage.prototype._onXHRProgress=function(){var e=this,r=e._xhr,t=null;switch(e._mode){case"text:vbarray":if(r.readyState!==rStates.DONE)break;try{t=new global.VBArray(r.responseBody).toArray()}catch(e){}if(null!==t){e.push(new Buffer(t));break}case"text":try{t=r.responseText}catch(r){e._mode="text:vbarray";break}if(t.length>e._pos){var a=t.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new Buffer(a.length),o=0;o<a.length;o++)s[o]=255&a.charCodeAt(o);e.push(s)}else e.push(a,e._charset);e._pos=t.length}break;case"arraybuffer":if(r.readyState!==rStates.DONE||!r.response)break;t=r.response,e.push(new Buffer(new Uint8Array(t)));break;case"moz-chunked-arraybuffer":if(t=r.response,r.readyState!==rStates.LOADING||!t)break;e.push(new Buffer(new Uint8Array(t)));break;case"ms-stream":if(t=r.response,r.readyState!==rStates.LOADING)break;var n=new global.MSStreamReader;n.onprogress=function(){n.result.byteLength>e._pos&&(e.push(new Buffer(new Uint8Array(n.result.slice(e._pos)))),e._pos=n.result.byteLength)},n.onload=function(){e.push(null)},n.readAsArrayBuffer(t)}e._xhr.readyState===rStates.DONE&&"ms-stream"!==e._mode&&e.push(null)};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)

},{"./capability":293,"_process":252,"buffer":68,"inherits":"inherits","readable-stream":276}],296:[function(require,module,exports){
(function (Buffer){
"use strict";function _normalizeEncoding(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function normalizeEncoding(t){var e=_normalizeEncoding(t);if("string"!=typeof e&&(Buffer.isEncoding===isEncoding||!isEncoding(t)))throw new Error("Unknown encoding: "+t);return e||t}function StringDecoder(t){this.encoding=normalizeEncoding(t);var e;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,e=4;break;case"utf8":this.fillLast=utf8FillLast,e=4;break;case"base64":this.text=base64Text,this.end=base64End,e=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(e)}function utf8CheckByte(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function utf8CheckIncomplete(t,e,s){var i=e.length-1;if(i<s)return 0;var n=utf8CheckByte(e[i]);return n>=0?(n>0&&(t.lastNeed=n-1),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]))>=0?(n>0&&(t.lastNeed=n-2),n):--i<s||-2===n?0:(n=utf8CheckByte(e[i]),n>=0?(n>0&&(2===n?n=0:t.lastNeed=n-3),n):0)}function utf8CheckExtraBytes(t,e,s){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}function utf8FillLast(t){var e=this.lastTotal-this.lastNeed,s=utf8CheckExtraBytes(this,t,e);return void 0!==s?s:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function utf8Text(t,e){var s=utf8CheckIncomplete(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=s;var i=t.length-(s-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)}function utf8End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e}function utf16Text(t,e){if((t.length-e)%2==0){var s=t.toString("utf16le",e);if(s){var i=s.charCodeAt(s.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],s.slice(0,-1)}return s}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function utf16End(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var s=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,s)}return e}function base64Text(t,e){var s=(t.length-e)%3;return 0===s?t.toString("base64",e):(this.lastNeed=3-s,this.lastTotal=3,1===s?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-s))}function base64End(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function simpleWrite(t){return t.toString(this.encoding)}function simpleEnd(t){return t&&t.length?this.write(t):""}var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(t){if(0===t.length)return"";var e,s;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";s=this.lastNeed,this.lastNeed=0}else s=0;return s<t.length?e?e+this.text(t,s):this.text(t,s):e||""},StringDecoder.prototype.end=utf8End,StringDecoder.prototype.text=utf8Text,StringDecoder.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"safe-buffer":282}],297:[function(require,module,exports){
(function (process){
function through(e,t,u){function r(){for(;i.length&&!l.paused;){var e=i.shift();if(null===e)return l.emit("end");l.emit("data",e)}}function n(){l.writable=!1,t.call(l),!l.readable&&l.autoDestroy&&l.destroy()}e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var a=!1,o=!1,i=[],s=!1,l=new Stream;return l.readable=l.writable=!0,l.paused=!1,l.autoDestroy=!(u&&!1===u.autoDestroy),l.write=function(t){return e.call(this,t),!l.paused},l.queue=l.push=function(e){return s?l:(null===e&&(s=!0),i.push(e),r(),l)},l.on("end",function(){l.readable=!1,!l.writable&&l.autoDestroy&&process.nextTick(function(){l.destroy()})}),l.end=function(e){if(!a)return a=!0,arguments.length&&l.write(e),n(),l},l.destroy=function(){if(!o)return o=!0,a=!0,i.length=0,l.writable=l.readable=!1,l.emit("close"),l},l.pause=function(){if(!l.paused)return l.paused=!0,l},l.resume=function(){return l.paused&&(l.paused=!1,l.emit("resume")),r(),l.paused||l.emit("drain"),l},l}var Stream=require("stream");exports=module.exports=through,through.through=through;
}).call(this,require('_process'))

},{"_process":252,"stream":291}],298:[function(require,module,exports){
(function (setImmediate,clearImmediate){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":252,"timers":298}],299:[function(require,module,exports){
var Buffer=require("buffer").Buffer;module.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(Buffer.isBuffer(e)){for(var f=new Uint8Array(e.length),r=e.length,t=0;t<r;t++)f[t]=e[t];return f.buffer}throw new Error("Argument must be a Buffer")};
},{"buffer":68}],300:[function(require,module,exports){
"use strict";function Ultron(t){if(!(this instanceof Ultron))return new Ultron(t);this.id=id++,this.ee=t}var has=Object.prototype.hasOwnProperty,id=0;Ultron.prototype.on=function(t,e,n){return e.__ultron=this.id,this.ee.on(t,e,n),this},Ultron.prototype.once=function(t,e,n){return e.__ultron=this.id,this.ee.once(t,e,n),this},Ultron.prototype.remove=function(){var t,e=arguments;if(1===e.length&&"string"==typeof e[0])e=e[0].split(/[, ]+/);else if(!e.length){e=[];for(t in this.ee._events)has.call(this.ee._events,t)&&e.push(t)}for(var n=0;n<e.length;n++)for(var r=this.ee.listeners(e[n]),i=0;i<r.length;i++){if(t=r[i],t.listener){if(t.listener.__ultron!==this.id)continue;delete t.listener.__ultron}else{if(t.__ultron!==this.id)continue;delete t.__ultron}this.ee.removeListener(e[n],t)}return this},Ultron.prototype.destroy=function(){return!!this.ee&&(this.remove(),this.ee=null,!0)},module.exports=Ultron;
},{}],301:[function(require,module,exports){
"use strict";function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}var punycode=require("punycode"),util=require("./util");exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=-1!==h&&h<t.indexOf("#")?"?":"#",a=t.split(r),o=/\\/g;a[0]=a[0].replace(o,"/"),t=a.join(r);var n=t;if(n=n.trim(),!e&&1===t.split("#").length){var i=simplePathPattern.exec(n);if(i)return this.path=n,this.href=n,this.pathname=i[1],i[2]?(this.search=i[2],this.query=s?querystring.parse(this.search.substr(1)):this.search.substr(1)):s&&(this.search="",this.query={}),this}var l=protocolPattern.exec(n);if(l){l=l[0];var u=l.toLowerCase();this.protocol=u,n=n.substr(l.length)}if(e||l||n.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===n.substr(0,2);!p||l&&hostlessProtocol[l]||(n=n.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(p||l&&!slashedProtocol[l])){for(var c=-1,f=0;f<hostEndingChars.length;f++){var m=n.indexOf(hostEndingChars[f]);-1!==m&&(-1===c||m<c)&&(c=m)}var v,g;g=-1===c?n.lastIndexOf("@"):n.lastIndexOf("@",c),-1!==g&&(v=n.slice(0,g),n=n.slice(g+1),this.auth=decodeURIComponent(v)),c=-1;for(var f=0;f<nonHostChars.length;f++){var m=n.indexOf(nonHostChars[f]);-1!==m&&(-1===c||m<c)&&(c=m)}-1===c&&(c=n.length),this.host=n.slice(0,c),n=n.slice(c),this.parseHost(),this.hostname=this.hostname||"";var y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!y)for(var P=this.hostname.split(/\./),f=0,d=P.length;f<d;f++){var b=P[f];if(b&&!b.match(hostnamePartPattern)){for(var q="",O=0,j=b.length;O<j;O++)b.charCodeAt(O)>127?q+="x":q+=b[O];if(!q.match(hostnamePartPattern)){var x=P.slice(0,f),U=P.slice(f+1),C=b.match(hostnamePartStart);C&&(x.push(C[1]),U.unshift(C[2])),U.length&&(n="/"+U.join(".")+n),this.hostname=x.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=punycode.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==n[0]&&(n="/"+n))}if(!unsafeProtocol[u])for(var f=0,d=autoEscape.length;f<d;f++){var E=autoEscape[f];if(-1!==n.indexOf(E)){var I=encodeURIComponent(E);I===E&&(I=escape(E)),n=n.split(E).join(I)}}var R=n.indexOf("#");-1!==R&&(this.hash=n.substr(R),n=n.slice(0,R));var S=n.indexOf("?");if(-1!==S?(this.search=n.substr(S),this.query=n.substr(S+1),s&&(this.query=querystring.parse(this.query)),n=n.slice(0,S)):s&&(this.search="",this.query={}),n&&(this.pathname=n),slashedProtocol[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var A=this.pathname||"",k=this.search||"";this.path=A+k}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),o=o.replace("#","%23"),s+r+e+o+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],b=e.protocol&&!slashedProtocol[e.protocol];if(b&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(b){e.hostname=e.host=d.shift();var q=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");q&&(e.auth=q.shift(),e.host=e.hostname=q.shift())}return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var O=d.slice(-1)[0],j=(e.host||t.host||d.length>1)&&("."===O||".."===O)||""===O,x=0,U=d.length;U>=0;U--)O=d[U],"."===O?d.splice(U,1):".."===O?(d.splice(U,1),x++):x&&(d.splice(U,1),x--);if(!y&&!P)for(;x--;x)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),j&&"/"!==d.join("/").substr(-1)&&d.push("");var C=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(b){e.hostname=e.host=C?"":d.length?d.shift():"";var q=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@");q&&(e.auth=q.shift(),e.host=e.hostname=q.shift())}return y=y||e.host&&d.length,y&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(s=s[0],":"!==s&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"./util":302,"punycode":259,"querystring":262}],302:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],303:[function(require,module,exports){
"use strict";exports.Validation={isValidUTF8:function(i){return!0}};
},{}],304:[function(require,module,exports){
"use strict";try{module.exports=require("bindings")("validation")}catch(e){module.exports=require("./fallback")}
},{"./fallback":303,"bindings":33}],305:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(r){return!1}var e=global.localStorage[r];return null!=e&&"true"===String(e).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],306:[function(require,module,exports){
arguments[4][24][0].apply(exports,arguments)
},{"dup":24}],307:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var c="",a=!1,l=["{","}"];if(isArray(r)&&(a=!0,l=["[","]"]),isFunction(r)){c=" [Function"+(r.name?": "+r.name:"")+"]"}if(isRegExp(r)&&(c=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(c=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(c=" "+formatError(r)),0===o.length&&(!a||0==r.length))return l[0]+c+l[1];if(t<0)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var p;return p=a?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,a)}),e.seen.pop(),reduceToSingleString(p,c,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;s<u;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,c;if(c=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(c.value)<0?(u=isNull(t)?formatValue(e,c.value,null):formatValue(e,c.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0;return e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(e){return"[Circular]"}default:return e}}),s=n[t];t<i;s=n[++t])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(!0===process.noDeprecation)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":306,"_process":252,"inherits":"inherits"}],308:[function(require,module,exports){
function Context(){}var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var c=Object_keys(n),i=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(c,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),i},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t};
},{}],309:[function(require,module,exports){
(function (process){
function WebsocketStream(t,e){if(!(this instanceof WebsocketStream))return new WebsocketStream(t,e);if(this.stream=through(this.write.bind(this),this.end.bind(this)),this.stream.websocketStream=this,this.options=e||{},this._buffer=[],"object"==typeof t)this.ws=t,this.ws.on("message",this.onMessage.bind(this)),this.ws.on("error",this.onError.bind(this)),this.ws.on("close",this.onClose.bind(this)),this.ws.on("open",this.onOpen.bind(this)),1===this.ws.readyState&&(this._open=!0);else{var s="browser"===process.title?this.options.protocol:this.options;this.ws=new WebSocketPoly(t,s),this.ws.binaryType=this.options.binaryType||"arraybuffer",this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this),this.ws.onopen=this.onOpen.bind(this)}return this.stream}var through=require("through"),isBuffer=require("isbuffer"),WebSocketPoly=require("ws");module.exports=WebsocketStream,module.exports.WebsocketStream=WebsocketStream,WebsocketStream.prototype.onMessage=function(t){var e=t;void 0!==e.data&&(e=e.data);var s=this.options.type;s&&e instanceof ArrayBuffer&&(e=new s(e)),this.stream.queue(e)},WebsocketStream.prototype.onError=function(t){this.stream.emit("error",t)},WebsocketStream.prototype.onClose=function(t){this._destroy||(this.stream.emit("end"),this.stream.emit("close"))},WebsocketStream.prototype.onOpen=function(t){if(!this._destroy){this._open=!0;for(var e=0;e<this._buffer.length;e++)this._write(this._buffer[e]);this._buffer=void 0,this.stream.emit("open"),this.stream.emit("connect"),this._end&&this.ws.close()}},WebsocketStream.prototype.write=function(t){this._open?this._write(t):this._buffer.push(t)},WebsocketStream.prototype._write=function(t){1==this.ws.readyState?"undefined"!=typeof WebSocket&&this.ws instanceof WebSocket?this.ws.send(t):this.ws.send(t,{binary:isBuffer(t)}):this.stream.emit("error","Not connected")},WebsocketStream.prototype.end=function(t){void 0!==t&&this.stream.queue(t),this._open&&this.ws.close(),this._end=!0};
}).call(this,require('_process'))

},{"_process":252,"isbuffer":129,"through":297,"ws":310}],310:[function(require,module,exports){
function ws(e,o,t){return o?new WebSocket(e,o):new WebSocket(e)}var global=function(){return this}(),WebSocket=global.WebSocket||global.MozWebSocket;module.exports=WebSocket?ws:null,WebSocket&&(ws.prototype=WebSocket.prototype);
},{}],311:[function(require,module,exports){
"use strict";var WS=module.exports=require("./lib/WebSocket");WS.Server=require("./lib/WebSocketServer"),WS.Sender=require("./lib/Sender"),WS.Receiver=require("./lib/Receiver"),WS.createServer=function(e,r){var n=new WS.Server(e);return"function"==typeof r&&n.on("connection",r),n},WS.connect=WS.createConnection=function(e,r){var n=new WS(e);return"function"==typeof r&&n.on("open",r),n};
},{"./lib/Receiver":319,"./lib/Sender":321,"./lib/WebSocket":324,"./lib/WebSocketServer":325}],312:[function(require,module,exports){
(function (Buffer){
function BufferPool(t,e,f){if(this instanceof BufferPool==!1)throw new TypeError("Classes can't be function-called");"function"==typeof t?(f=e,e=t,t=0):void 0===t&&(t=0),this._growStrategy=(e||function(t,e){return t.used+e}).bind(null,this),this._shrinkStrategy=(f||function(e){return t}).bind(null,this),this._buffer=t?new Buffer(t):null,this._offset=0,this._used=0,this._changeFactor=0,this.__defineGetter__("size",function(){return null==this._buffer?0:this._buffer.length}),this.__defineGetter__("used",function(){return this._used})}var util=require("util");BufferPool.prototype.get=function(t){if(null==this._buffer||this._offset+t>this._buffer.length){var e=new Buffer(this._growStrategy(t));this._buffer=e,this._offset=0}this._used+=t;var f=this._buffer.slice(this._offset,this._offset+t);return this._offset+=t,f},BufferPool.prototype.reset=function(t){var e=this._shrinkStrategy();e<this.size&&(this._changeFactor-=1),(t||this._changeFactor<-2)&&(this._changeFactor=0,this._buffer=e?new Buffer(e):null),this._offset=0,this._used=0},module.exports=BufferPool;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"util":307}],313:[function(require,module,exports){
exports.BufferUtil={merge:function(e,a){for(var r=0,t=0,n=a.length;t<n;++t){var c=a[t];c.copy(e,r),r+=c.length}},mask:function(e,a,r,t,n){for(var c=a.readUInt32LE(0,!0),s=0;s<n-3;s+=4){var f=c^e.readUInt32LE(s,!0);f<0&&(f=4294967296+f),r.writeUInt32LE(f,t+s,!0)}switch(n%4){case 3:r[t+s+2]=e[s+2]^a[2];case 2:r[t+s+1]=e[s+1]^a[1];case 1:r[t+s]=e[s]^a[0]}},unmask:function(e,a){for(var r=a.readUInt32LE(0,!0),t=e.length,n=0;n<t-3;n+=4){var c=r^e.readUInt32LE(n,!0);c<0&&(c=4294967296+c),e.writeUInt32LE(c,n,!0)}switch(t%4){case 3:e[n+2]=e[n+2]^a[2];case 2:e[n+1]=e[n+1]^a[1];case 1:e[n]=e[n]^a[0]}}};
},{}],314:[function(require,module,exports){
"use strict";var bufferUtil;try{bufferUtil=require("bufferutil")}catch(f){bufferUtil=require("./BufferUtil.fallback")}module.exports=bufferUtil.BufferUtil||bufferUtil;
},{"./BufferUtil.fallback":313,"bufferutil":70}],315:[function(require,module,exports){
module.exports={isValidErrorCode:function(e){return e>=1e3&&e<=1011&&1004!=e&&1005!=e&&1006!=e||e>=3e3&&e<=4999},1e3:"normal",1001:"going away",1002:"protocol error",1003:"unsupported data",1004:"reserved",1005:"reserved for extensions",1006:"reserved for extensions",1007:"inconsistent or invalid data",1008:"policy violation",1009:"message too big",1010:"extension handshake missing",1011:"an unexpected condition prevented the request from being fulfilled"};
},{}],316:[function(require,module,exports){
function parse(r){r=r||"";var t={};return r.split(",").forEach(function(r){var i=r.split(";"),n=i.shift().trim();if(void 0===t[n])t[n]=[];else if(!t.hasOwnProperty(n))return;var e={};i.forEach(function(r){var t=r.trim().split("="),i=t[0],n=t[1];void 0===n?n=!0:('"'===n[0]&&(n=n.slice(1)),'"'===n[n.length-1]&&(n=n.slice(0,n.length-1))),void 0===e[i]?e[i]=[n]:e.hasOwnProperty(i)&&e[i].push(n)}),t[n].push(e)}),t}function format(r){return Object.keys(r).map(function(t){var i=r[t];return util.isArray(i)||(i=[i]),i.map(function(r){return[t].concat(Object.keys(r).map(function(t){var i=r[t];return util.isArray(i)||(i=[i]),i.map(function(r){return!0===r?t:t+"="+r}).join("; ")})).join("; ")}).join(", ")}).join(", ")}var util=require("util");exports.parse=parse,exports.format=format;
},{"util":307}],317:[function(require,module,exports){
(function (Buffer){
function PerMessageDeflate(e,t,i){if(this instanceof PerMessageDeflate==!1)throw new TypeError("Classes can't be function-called");this._options=e||{},this._isServer=!!t,this._inflate=null,this._deflate=null,this.params=null,this._maxPayload=i||0}var zlib=require("zlib"),AVAILABLE_WINDOW_BITS=[8,9,10,11,12,13,14,15],DEFAULT_WINDOW_BITS=15,DEFAULT_MEM_LEVEL=8;PerMessageDeflate.extensionName="permessage-deflate",PerMessageDeflate.prototype.offer=function(){var e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e},PerMessageDeflate.prototype.accept=function(e){e=this.normalizeParams(e);var t;return t=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params=t,t},PerMessageDeflate.prototype.cleanup=function(){this._inflate&&(this._inflate.writeInProgress?this._inflate.pendingClose=!0:(this._inflate.close&&this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate.writeInProgress?this._deflate.pendingClose=!0:(this._deflate.close&&this._deflate.close(),this._deflate=null))},PerMessageDeflate.prototype.acceptAsServer=function(e){var t={};if(!e.some(function(e){if(t={},(!1!==this._options.serverNoContextTakeover||!e.server_no_context_takeover)&&(!1!==this._options.serverMaxWindowBits||!e.server_max_window_bits)&&!("number"==typeof this._options.serverMaxWindowBits&&"number"==typeof e.server_max_window_bits&&this._options.serverMaxWindowBits>e.server_max_window_bits)&&("number"!=typeof this._options.clientMaxWindowBits||e.client_max_window_bits))return(this._options.serverNoContextTakeover||e.server_no_context_takeover)&&(t.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(t.client_no_context_takeover=!0),!1!==this._options.clientNoContextTakeover&&e.client_no_context_takeover&&(t.client_no_context_takeover=!0),"number"==typeof this._options.serverMaxWindowBits?t.server_max_window_bits=this._options.serverMaxWindowBits:"number"==typeof e.server_max_window_bits&&(t.server_max_window_bits=e.server_max_window_bits),"number"==typeof this._options.clientMaxWindowBits?t.client_max_window_bits=this._options.clientMaxWindowBits:!1!==this._options.clientMaxWindowBits&&"number"==typeof e.client_max_window_bits&&(t.client_max_window_bits=e.client_max_window_bits),!0},this))throw new Error("Doesn't support the offered configuration");return t},PerMessageDeflate.prototype.acceptAsClient=function(e){var t=e[0];if(null!=this._options.clientNoContextTakeover&&!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Invalid value for "client_no_context_takeover"');if(null!=this._options.clientMaxWindowBits){if(!1===this._options.clientMaxWindowBits&&t.client_max_window_bits)throw new Error('Invalid value for "client_max_window_bits"');if("number"==typeof this._options.clientMaxWindowBits&&(!t.client_max_window_bits||t.client_max_window_bits>this._options.clientMaxWindowBits))throw new Error('Invalid value for "client_max_window_bits"')}return t},PerMessageDeflate.prototype.normalizeParams=function(e){return e.map(function(e){return Object.keys(e).forEach(function(t){var i=e[t];if(i.length>1)throw new Error("Multiple extension parameters for "+t);switch(i=i[0],t){case"server_no_context_takeover":case"client_no_context_takeover":if(!0!==i)throw new Error("invalid extension parameter value for "+t+" ("+i+")");e[t]=!0;break;case"server_max_window_bits":case"client_max_window_bits":if("string"==typeof i&&(i=parseInt(i,10),!~AVAILABLE_WINDOW_BITS.indexOf(i)))throw new Error("invalid extension parameter value for "+t+" ("+i+")");if(!this._isServer&&!0===i)throw new Error("Missing extension parameter value for "+t);e[t]=i;break;default:throw new Error("Not defined extension parameter ("+t+")")}},this),e},this)},PerMessageDeflate.prototype.decompress=function(e,t,i){function n(e){s(),i(e)}function o(e){if(void 0!==_._maxPayload&&null!==_._maxPayload&&_._maxPayload>0&&(f+=e.length)>_._maxPayload){l=[],s();return void i({type:1009})}l.push(e)}function s(){_._inflate&&(_._inflate.removeListener("error",n),_._inflate.removeListener("data",o),_._inflate.writeInProgress=!1,(t&&_.params[r+"_no_context_takeover"]||_._inflate.pendingClose)&&(_._inflate.close&&_._inflate.close(),_._inflate=null))}var r=this._isServer?"client":"server";if(!this._inflate){var a=this.params[r+"_max_window_bits"];this._inflate=zlib.createInflateRaw({windowBits:"number"==typeof a?a:DEFAULT_WINDOW_BITS})}this._inflate.writeInProgress=!0;var _=this,l=[],f=0;this._inflate.on("error",n).on("data",o),this._inflate.write(e),t&&this._inflate.write(new Buffer([0,0,255,255])),this._inflate.flush(function(){s(),i(null,Buffer.concat(l))})},PerMessageDeflate.prototype.compress=function(e,t,i){function n(e){s(),i(e)}function o(e){l.push(e)}function s(){_._deflate&&(_._deflate.removeListener("error",n),_._deflate.removeListener("data",o),_._deflate.writeInProgress=!1,(t&&_.params[r+"_no_context_takeover"]||_._deflate.pendingClose)&&(_._deflate.close&&_._deflate.close(),_._deflate=null))}var r=this._isServer?"server":"client";if(!this._deflate){var a=this.params[r+"_max_window_bits"];this._deflate=zlib.createDeflateRaw({flush:zlib.Z_SYNC_FLUSH,windowBits:"number"==typeof a?a:DEFAULT_WINDOW_BITS,memLevel:this._options.memLevel||DEFAULT_MEM_LEVEL})}this._deflate.writeInProgress=!0;var _=this,l=[];this._deflate.on("error",n).on("data",o),this._deflate.write(e),this._deflate.flush(function(){s();var e=Buffer.concat(l);t&&(e=e.slice(0,e.length-4)),i(null,e)})},module.exports=PerMessageDeflate;
}).call(this,require("buffer").Buffer)

},{"buffer":68,"zlib":65}],318:[function(require,module,exports){
(function (Buffer){
function Receiver(){if(this instanceof Receiver==!1)throw new TypeError("Classes can't be function-called");this.state=EMPTY,this.buffers=[],this.messageEnd=-1,this.spanLength=0,this.dead=!1,this.onerror=function(){},this.ontext=function(){},this.onbinary=function(){},this.onclose=function(){},this.onping=function(){},this.onpong=function(){}}function bufferIndex(e,t){for(var s=0,n=e.length;s<n;++s)if(e[s]===t)return s;return-1}var util=require("util"),EMPTY=0,BODY=1,BINARYLENGTH=2,BINARYBODY=3;module.exports=Receiver,Receiver.prototype.add=function(e){if(!this.dead)for(var t=this;e;)e=function(){if(t.state===EMPTY){if(2==e.length&&255==e[0]&&0==e[1])return t.reset(),void t.onclose();if(128===e[0])t.messageEnd=0,t.state=BINARYLENGTH,e=e.slice(1);else{if(0!==e[0])return void t.error("payload must start with 0x00 byte",!0);e=e.slice(1),t.state=BODY}}if(t.state===BINARYLENGTH){for(var s=0;s<e.length&&128&e[s];)t.messageEnd=128*t.messageEnd+(127&e[s]),++s;s<e.length&&(t.messageEnd=128*t.messageEnd+(127&e[s]),t.state=BINARYBODY,++s),s>0&&(e=e.slice(s))}if(t.state===BINARYBODY){var n=t.messageEnd-t.spanLength;return e.length>=n?(t.buffers.push(e),t.spanLength+=n,t.messageEnd=n,t.parse()):(t.buffers.push(e),void(t.spanLength+=e.length))}if(t.buffers.push(e),-1!=(t.messageEnd=bufferIndex(e,255)))return t.spanLength+=t.messageEnd,t.parse();t.spanLength+=e.length}()},Receiver.prototype.cleanup=function(){this.dead=!0,this.state=EMPTY,this.buffers=[]},Receiver.prototype.parse=function(){for(var e=new Buffer(this.spanLength),t=0,s=0,n=this.buffers.length;s<n-1;++s){var r=this.buffers[s];r.copy(e,t),t+=r.length}var i=this.buffers[this.buffers.length-1];this.messageEnd>0&&i.copy(e,t,0,this.messageEnd),this.state!==BODY&&--this.messageEnd;var o=null;return this.messageEnd<i.length-1&&(o=i.slice(this.messageEnd+1)),this.reset(),this.ontext(e.toString("utf8")),o},Receiver.prototype.error=function(e,t){if(!this.dead)return this.reset(),"string"==typeof e?this.onerror(new Error(e),t):e.constructor==Error?this.onerror(e,t):this.onerror(new Error("An error occured"),t),this},Receiver.prototype.reset=function(e){this.dead||(this.state=EMPTY,this.buffers=[],this.messageEnd=-1,this.spanLength=0)};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"util":307}],319:[function(require,module,exports){
(function (Buffer){
function Receiver(e,t){if(this instanceof Receiver==!1)throw new TypeError("Classes can't be function-called");"number"==typeof e&&(t=e,e={});var r=-1;this.fragmentedBufferPool=new BufferPool(1024,function(e,t){return e.used+t},function(e){return r=r>=0?Math.ceil((r+e.used)/2):e.used});var s=-1;this.unfragmentedBufferPool=new BufferPool(1024,function(e,t){return e.used+t},function(e){return s=s>=0?Math.ceil((s+e.used)/2):e.used}),this.extensions=e||{},this.maxPayload=t||0,this.currentPayloadLength=0,this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.overflow=[],this.headerBuffer=new Buffer(10),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.expectHeader(2,this.processPacket),this.dead=!1,this.processing=!1,this.onerror=function(){},this.ontext=function(){},this.onbinary=function(){},this.onclose=function(){},this.onping=function(){},this.onpong=function(){}}function readUInt16BE(e){return(this[e]<<8)+this[e+1]}function readUInt32BE(e){return(this[e]<<24)+(this[e+1]<<16)+(this[e+2]<<8)+this[e+3]}function fastCopy(e,t,r,s){switch(e){default:t.copy(r,s,0,e);break;case 16:r[s+15]=t[15];case 15:r[s+14]=t[14];case 14:r[s+13]=t[13];case 13:r[s+12]=t[12];case 12:r[s+11]=t[11];case 11:r[s+10]=t[10];case 10:r[s+9]=t[9];case 9:r[s+8]=t[8];case 8:r[s+7]=t[7];case 7:r[s+6]=t[6];case 6:r[s+5]=t[5];case 5:r[s+4]=t[4];case 4:r[s+3]=t[3];case 3:r[s+2]=t[2];case 2:r[s+1]=t[1];case 1:r[s]=t[0]}}function clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var util=require("util"),isValidUTF8=require("./Validation"),ErrorCodes=require("./ErrorCodes"),BufferPool=require("./BufferPool"),bufferUtil=require("./BufferUtil"),PerMessageDeflate=require("./PerMessageDeflate");module.exports=Receiver,Receiver.prototype.add=function(e){if(!this.dead){var t=e.length;if(0!=t){if(null==this.expectBuffer)return void this.overflow.push(e);var r=Math.min(t,this.expectBuffer.length-this.expectOffset);for(fastCopy(r,e,this.expectBuffer,this.expectOffset),this.expectOffset+=r,r<t&&this.overflow.push(e.slice(r));this.expectBuffer&&this.expectOffset==this.expectBuffer.length;){var s=this.expectBuffer;this.expectBuffer=null,this.expectOffset=0,this.expectHandler.call(this,s)}}}},Receiver.prototype.cleanup=function(){this.dead=!0,this.overflow=null,this.headerBuffer=null,this.expectBuffer=null,this.expectHandler=null,this.unfragmentedBufferPool=null,this.fragmentedBufferPool=null,this.state=null,this.currentMessage=null,this.onerror=null,this.ontext=null,this.onbinary=null,this.onclose=null,this.onping=null,this.onpong=null},Receiver.prototype.expectHeader=function(e,t){if(0==e)return void t(null);this.expectBuffer=this.headerBuffer.slice(this.expectOffset,this.expectOffset+e),this.expectHandler=t;for(var r=e;r>0&&this.overflow.length>0;){var s=this.overflow.pop();r<s.length&&this.overflow.push(s.slice(r));var a=Math.min(s.length,r);fastCopy(a,s,this.expectBuffer,this.expectOffset),this.expectOffset+=a,r-=a}},Receiver.prototype.expectData=function(e,t){if(0==e)return void t(null);this.expectBuffer=this.allocateFromPool(e,this.state.fragmentedOperation),this.expectHandler=t;for(var r=e;r>0&&this.overflow.length>0;){var s=this.overflow.pop();r<s.length&&this.overflow.push(s.slice(r));var a=Math.min(s.length,r);fastCopy(a,s,this.expectBuffer,this.expectOffset),this.expectOffset+=a,r-=a}},Receiver.prototype.allocateFromPool=function(e,t){return(t?this.fragmentedBufferPool:this.unfragmentedBufferPool).get(e)},Receiver.prototype.processPacket=function(e){if(this.extensions[PerMessageDeflate.extensionName]){if(0!=(48&e[0]))return void this.error("reserved fields (2, 3) must be empty",1002)}else if(0!=(112&e[0]))return void this.error("reserved fields must be empty",1002);this.state.lastFragment=128==(128&e[0]),this.state.masked=128==(128&e[1]);var t=64==(64&e[0]),r=15&e[0];if(0===r){if(t)return void this.error("continuation frame cannot have the Per-message Compressed bits",1002);if(this.state.fragmentedOperation=!0,this.state.opcode=this.state.activeFragmentedOperation,1!=this.state.opcode&&2!=this.state.opcode)return void this.error("continuation frame cannot follow current opcode",1002)}else{if(r<3&&null!=this.state.activeFragmentedOperation)return void this.error("data frames after the initial data frame must have opcode 0",1002);if(r>=8&&t)return void this.error("control frames cannot have the Per-message Compressed bits",1002);this.state.compressed=t,this.state.opcode=r,!1===this.state.lastFragment?(this.state.fragmentedOperation=!0,this.state.activeFragmentedOperation=r):this.state.fragmentedOperation=!1}var s=opcodes[this.state.opcode];void 0===s?this.error("no handler for opcode "+this.state.opcode,1002):s.start.call(this,e)},Receiver.prototype.endPacket=function(){this.dead||(this.state.fragmentedOperation?this.state.lastFragment&&this.fragmentedBufferPool.reset(!0):this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.state.lastFragment&&this.state.opcode===this.state.activeFragmentedOperation&&(this.state.activeFragmentedOperation=null),this.currentPayloadLength=0,this.state.lastFragment=!1,this.state.opcode=null!=this.state.activeFragmentedOperation?this.state.activeFragmentedOperation:0,this.state.masked=!1,this.expectHeader(2,this.processPacket))},Receiver.prototype.reset=function(){this.dead||(this.state={activeFragmentedOperation:null,lastFragment:!1,masked:!1,opcode:0,fragmentedOperation:!1},this.fragmentedBufferPool.reset(!0),this.unfragmentedBufferPool.reset(!0),this.expectOffset=0,this.expectBuffer=null,this.expectHandler=null,this.overflow=[],this.currentMessage=[],this.currentMessageLength=0,this.messageHandlers=[],this.currentPayloadLength=0)},Receiver.prototype.unmask=function(e,t,r){return null!=e&&null!=t&&bufferUtil.unmask(t,e),r?t:null!=t?t.toString("utf8"):""},Receiver.prototype.error=function(e,t){if(!this.dead)return this.reset(),"string"==typeof e?this.onerror(new Error(e),t):e.constructor==Error?this.onerror(e,t):this.onerror(new Error("An error occured"),t),this},Receiver.prototype.flush=function(){if(!this.processing&&!this.dead){var e=this.messageHandlers.shift();if(e){this.processing=!0;var t=this;e(function(){t.processing=!1,t.flush()})}}},Receiver.prototype.applyExtensions=function(e,t,r,s){var a=this;r?this.extensions[PerMessageDeflate.extensionName].decompress(e,t,function(e,t){if(!a.dead)return e?void s(new Error("invalid compressed data")):void s(null,t)}):s(null,e)},Receiver.prototype.maxPayloadExceeded=function(e){if(void 0===this.maxPayload||null===this.maxPayload||this.maxPayload<1)return!1;var t=this.currentPayloadLength+e;return t<this.maxPayload?(this.currentPayloadLength=t,!1):(this.error("payload cannot exceed "+this.maxPayload+" bytes",1009),this.messageBuffer=[],this.cleanup(),!0)};var opcodes={1:{start:function(e){var t=this,r=127&e[1];if(r<126){if(t.maxPayloadExceeded(r))return void t.error("Maximumpayload exceeded in compressed text message. Aborting...",1009);opcodes[1].getData.call(t,r)}else 126==r?t.expectHeader(2,function(e){var r=readUInt16BE.call(e,0);if(t.maxPayloadExceeded(r))return void t.error("Maximumpayload exceeded in compressed text message. Aborting...",1009);opcodes[1].getData.call(t,r)}):127==r&&t.expectHeader(8,function(e){if(0!=readUInt32BE.call(e,0))return void t.error("packets with length spanning more than 32 bit is currently not supported",1008);var r=readUInt32BE.call(e,4);if(t.maxPayloadExceeded(r))return void t.error("Maximumpayload exceeded in compressed text message. Aborting...",1009);opcodes[1].getData.call(t,readUInt32BE.call(e,4))})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var s=r;t.expectData(e,function(e){opcodes[1].finish.call(t,s,e)})}):t.expectData(e,function(e){opcodes[1].finish.call(t,null,e)})},finish:function(e,t){var r=this,s=this.unmask(e,t,!0)||new Buffer(0),a=clone(this.state);this.messageHandlers.push(function(e){r.applyExtensions(s,a.lastFragment,a.compressed,function(t,s){if(t)return 1009===t.type?r.error("Maximumpayload exceeded in compressed text message. Aborting...",1009):r.error(t.message,1007);if(null!=s){if(!(0==r.maxPayload||r.maxPayload>0&&r.currentMessageLength+s.length<r.maxPayload))return r.currentMessage=null,r.currentMessage=[],r.currentMessageLength=0,void r.error(new Error("Maximum payload exceeded. maxPayload: "+r.maxPayload),1009);r.currentMessage.push(s),r.currentMessageLength+=s.length}if(a.lastFragment){var n=Buffer.concat(r.currentMessage);if(r.currentMessage=[],r.currentMessageLength=0,!isValidUTF8(n))return void r.error("invalid utf8 sequence",1007);r.ontext(n.toString("utf8"),{masked:a.masked,buffer:n})}e()})}),this.flush(),this.endPacket()}},2:{start:function(e){var t=this,r=127&e[1];if(r<126){if(t.maxPayloadExceeded(r))return void t.error("Max payload exceeded in compressed text message. Aborting...",1009);opcodes[2].getData.call(t,r)}else 126==r?t.expectHeader(2,function(e){var r=readUInt16BE.call(e,0);if(t.maxPayloadExceeded(r))return void t.error("Max payload exceeded in compressed text message. Aborting...",1009);opcodes[2].getData.call(t,r)}):127==r&&t.expectHeader(8,function(e){if(0!=readUInt32BE.call(e,0))return void t.error("packets with length spanning more than 32 bit is currently not supported",1008);var r=readUInt32BE.call(e,4,!0);if(t.maxPayloadExceeded(r))return void t.error("Max payload exceeded in compressed text message. Aborting...",1009);opcodes[2].getData.call(t,r)})},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var s=r;t.expectData(e,function(e){opcodes[2].finish.call(t,s,e)})}):t.expectData(e,function(e){opcodes[2].finish.call(t,null,e)})},finish:function(e,t){var r=this,s=this.unmask(e,t,!0)||new Buffer(0),a=clone(this.state);this.messageHandlers.push(function(e){r.applyExtensions(s,a.lastFragment,a.compressed,function(t,s){if(t)return 1009===t.type?r.error("Max payload exceeded in compressed binary message. Aborting...",1009):r.error(t.message,1007);if(null!=s){if(!(0==r.maxPayload||r.maxPayload>0&&r.currentMessageLength+s.length<r.maxPayload))return r.currentMessage=null,r.currentMessage=[],r.currentMessageLength=0,void r.error(new Error("Maximum payload exceeded"),1009);r.currentMessage.push(s),r.currentMessageLength+=s.length}if(a.lastFragment){var n=Buffer.concat(r.currentMessage);r.currentMessage=[],r.currentMessageLength=0,r.onbinary(n,{masked:a.masked,buffer:n})}e()})}),this.flush(),this.endPacket()}},8:{start:function(e){var t=this;if(0==t.state.lastFragment)return void t.error("fragmented close is not supported",1002);var r=127&e[1];r<126?opcodes[8].getData.call(t,r):t.error("control frames cannot have more than 125 bytes of data",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var s=r;t.expectData(e,function(e){opcodes[8].finish.call(t,s,e)})}):t.expectData(e,function(e){opcodes[8].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=r.unmask(e,t,!0);var s=clone(this.state);this.messageHandlers.push(function(){if(t&&1==t.length)return void r.error("close packets with data must be at least two bytes long",1002);var e=t&&t.length>1?readUInt16BE.call(t,0):1e3;if(!ErrorCodes.isValidErrorCode(e))return void r.error("invalid error code",1002);var a="";if(t&&t.length>2){var n=t.slice(2);if(!isValidUTF8(n))return void r.error("invalid utf8 sequence",1007);a=n.toString("utf8")}r.onclose(e,a,{masked:s.masked}),r.reset()}),this.flush()}},9:{start:function(e){var t=this;if(0==t.state.lastFragment)return void t.error("fragmented ping is not supported",1002);var r=127&e[1];r<126?opcodes[9].getData.call(t,r):t.error("control frames cannot have more than 125 bytes of data",1002)},getData:function(e){var t=this;t.state.masked?t.expectHeader(4,function(r){var s=r;t.expectData(e,function(e){opcodes[9].finish.call(t,s,e)})}):t.expectData(e,function(e){opcodes[9].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=this.unmask(e,t,!0);var s=clone(this.state);this.messageHandlers.push(function(e){r.onping(t,{masked:s.masked,binary:!0}),e()}),this.flush(),this.endPacket()}},10:{start:function(e){var t=this;if(0==t.state.lastFragment)return void t.error("fragmented pong is not supported",1002);var r=127&e[1];r<126?opcodes[10].getData.call(t,r):t.error("control frames cannot have more than 125 bytes of data",1002)},getData:function(e){var t=this;this.state.masked?this.expectHeader(4,function(r){var s=r;t.expectData(e,function(e){opcodes[10].finish.call(t,s,e)})}):this.expectData(e,function(e){opcodes[10].finish.call(t,null,e)})},finish:function(e,t){var r=this;t=r.unmask(e,t,!0);var s=clone(this.state);this.messageHandlers.push(function(e){r.onpong(t,{masked:s.masked,binary:!0}),e()}),this.flush(),this.endPacket()}}};
}).call(this,require("buffer").Buffer)

},{"./BufferPool":312,"./BufferUtil":314,"./ErrorCodes":315,"./PerMessageDeflate":317,"./Validation":323,"buffer":68,"util":307}],320:[function(require,module,exports){
(function (Buffer){
function Sender(t){if(this instanceof Sender==!1)throw new TypeError("Classes can't be function-called");events.EventEmitter.call(this),this.socket=t,this.continuationFrame=!1,this.isClosed=!1}var events=require("events"),util=require("util"),EventEmitter=events.EventEmitter;module.exports=Sender,util.inherits(Sender,events.EventEmitter),Sender.prototype.send=function(t,e,i){if(!this.isClosed){var r="string"==typeof t,n=r?Buffer.byteLength(t):t.length,o=n>127?2:1,s=0==this.continuationFrame,a=!e||!(void 0!==e.fin&&!e.fin),h=new Buffer((s?e&&e.binary?1+o:1:0)+n+(!a||e&&e.binary?0:1)),c=s?1:0;s&&(e&&e.binary?(h.write("","binary"),o>1&&h.write(String.fromCharCode(128+n/128),c++,"binary"),h.write(String.fromCharCode(127&n),c++,"binary")):h.write("\0","binary")),r?h.write(t,c,"utf8"):t.copy(h,c,0),a?(e&&e.binary||h.write("ÿ",c+n,"binary"),this.continuationFrame=!1):this.continuationFrame=!0;try{this.socket.write(h,"binary",i)}catch(t){this.error(t.toString())}}},Sender.prototype.close=function(t,e,i,r){if(!this.isClosed){this.isClosed=!0;try{this.continuationFrame&&this.socket.write(new Buffer([255],"binary")),this.socket.write(new Buffer([255,0]),"binary",r)}catch(t){this.error(t.toString())}}},Sender.prototype.ping=function(t,e){},Sender.prototype.pong=function(t,e){},Sender.prototype.error=function(t){return this.emit("error",t),this};
}).call(this,require("buffer").Buffer)

},{"buffer":68,"events":108,"util":307}],321:[function(require,module,exports){
(function (Buffer){
function Sender(e,t){if(this instanceof Sender==!1)throw new TypeError("Classes can't be function-called");events.EventEmitter.call(this),this._socket=e,this.extensions=t||{},this.firstFragment=!0,this.compress=!1,this.messageHandlers=[],this.processing=!1}function writeUInt16BE(e,t){this[t]=(65280&e)>>8,this[t+1]=255&e}function writeUInt32BE(e,t){this[t]=(4278190080&e)>>24,this[t+1]=(16711680&e)>>16,this[t+2]=(65280&e)>>8,this[t+3]=255&e}function getArrayBuffer(e){for(var t=new Uint8Array(e.buffer||e),r=e.byteLength||e.length,s=e.byteOffset||0,n=new Buffer(r),i=0;i<r;++i)n[i]=t[s+i];return n}function getRandomMask(){return crypto.randomBytes(4)}var events=require("events"),util=require("util"),crypto=require("crypto"),EventEmitter=events.EventEmitter,ErrorCodes=require("./ErrorCodes"),bufferUtil=require("./BufferUtil"),PerMessageDeflate=require("./PerMessageDeflate");util.inherits(Sender,events.EventEmitter),Sender.prototype.close=function(e,t,r,s){if(void 0!==e&&("number"!=typeof e||!ErrorCodes.isValidErrorCode(e)))throw new Error("first argument must be a valid error code number");e=e||1e3;var n=new Buffer(2+(t?Buffer.byteLength(t):0));writeUInt16BE.call(n,e,0),n.length>2&&n.write(t,2);var i=this;this.messageHandlers.push(function(){i.frameAndSend(8,n,!0,r),"function"==typeof s&&s()}),this.flush()},Sender.prototype.ping=function(e,t){var r=t&&t.mask,s=this;this.messageHandlers.push(function(){s.frameAndSend(9,e||"",!0,r)}),this.flush()},Sender.prototype.pong=function(e,t){var r=t&&t.mask,s=this;this.messageHandlers.push(function(){s.frameAndSend(10,e||"",!0,r)}),this.flush()},Sender.prototype.send=function(e,t,r){var s=!t||!1!==t.fin,n=t&&t.mask,i=t&&t.compress,o=t&&t.binary?2:1;!1===this.firstFragment?(o=0,i=!1):(this.firstFragment=!1,this.compress=i),s&&(this.firstFragment=!0);var f=this.compress,a=this;this.messageHandlers.push(function(){if(!e||!f)return void a.frameAndSend(o,e,s,n,i,r);a.processing=!0,a.applyExtensions(e,s,f,function(e,t){if(e)return void("function"==typeof r?r(e):a.emit("error",e));a.frameAndSend(o,t,s,n,i,r),a.processing=!1,a.flush()})}),this.flush()},Sender.prototype.frameAndSend=function(e,t,r,s,n,i){var o=!1;if(t){Buffer.isBuffer(t)||(o=!0,!t||void 0===t.byteLength&&void 0===t.buffer?("number"==typeof t&&(t=t.toString()),t=new Buffer(t)):t=getArrayBuffer(t));var f=t.length,a=s?6:2,h=f;f>=65536?(a+=8,h=127):f>125&&(a+=2,h=126);var u=f<32768||s&&!o,c=u?f+a:a,l=new Buffer(c);switch(l[0]=r?128|e:e,n&&(l[0]|=64),h){case 126:writeUInt16BE.call(l,f,2);break;case 127:writeUInt32BE.call(l,0,2),writeUInt32BE.call(l,f,6)}if(s){l[1]=128|h;var d=getRandomMask();if(l[a-4]=d[0],l[a-3]=d[1],l[a-2]=d[2],l[a-1]=d[3],u){bufferUtil.mask(t,d,l,a,f);try{this._socket.write(l,"binary",i)}catch(e){"function"==typeof i?i(e):this.emit("error",e)}}else{bufferUtil.mask(t,d,t,0,f);try{this._socket.write(l,"binary"),this._socket.write(t,"binary",i)}catch(e){"function"==typeof i?i(e):this.emit("error",e)}}}else if(l[1]=h,u){t.copy(l,a);try{this._socket.write(l,"binary",i)}catch(e){"function"==typeof i?i(e):this.emit("error",e)}}else try{this._socket.write(l,"binary"),this._socket.write(t,"binary",i)}catch(e){"function"==typeof i?i(e):this.emit("error",e)}}else try{this._socket.write(new Buffer([e|(r?128:0),0|(s?128:0)].concat(s?[0,0,0,0]:[])),"binary",i)}catch(e){"function"==typeof i?i(e):this.emit("error",e)}},Sender.prototype.flush=function(){for(;!this.processing&&this.messageHandlers.length;)this.messageHandlers.shift()()},Sender.prototype.applyExtensions=function(e,t,r,s){(e.buffer||e)instanceof ArrayBuffer&&(e=getArrayBuffer(e)),this.extensions[PerMessageDeflate.extensionName].compress(e,t,s)},module.exports=Sender;
}).call(this,require("buffer").Buffer)

},{"./BufferUtil":314,"./ErrorCodes":315,"./PerMessageDeflate":317,"buffer":68,"crypto":79,"events":108,"util":307}],322:[function(require,module,exports){
exports.Validation={isValidUTF8:function(i){return!0}};
},{}],323:[function(require,module,exports){
"use strict";var isValidUTF8;try{isValidUTF8=require("utf-8-validate")}catch(i){isValidUTF8=require("./Validation.fallback")}module.exports="object"==typeof isValidUTF8?isValidUTF8.Validation.isValidUTF8:isValidUTF8;
},{"./Validation.fallback":322,"utf-8-validate":304}],324:[function(require,module,exports){
(function (process,Buffer){
"use strict";function WebSocket(e,t,r){if(this instanceof WebSocket==!1)return new WebSocket(e,t,r);EventEmitter.call(this),t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=null),"string"==typeof t&&(t=[t]),Array.isArray(t)||(t=[]),this._socket=null,this._ultron=null,this._closeReceived=!1,this.bytesReceived=0,this.readyState=null,this.supports={},this.extensions={},this._binaryType="nodebuffer",Array.isArray(e)?initAsServerClient.apply(this,e.concat(r)):initAsClient.apply(this,[e,t,r])}function MessageEvent(e,t,r){this.type="message",this.data=e,this.target=r,this.binary=t}function CloseEvent(e,t,r){this.type="close",this.wasClean=void 0===e||1e3===e,this.code=e,this.reason=t,this.target=r}function OpenEvent(e){this.type="open",this.target=e}function buildHostHeader(e,t,r){var o=t;return t&&(e&&443!=r||!e&&80!=r)&&(o=o+":"+r),o}function initAsServerClient(e,t,r,o){o=new Options({protocolVersion:protocolVersion,protocol:null,extensions:{},maxPayload:0}).merge(o),this.protocol=o.value.protocol,this.protocolVersion=o.value.protocolVersion,this.extensions=o.value.extensions,this.supports.binary="hixie-76"!==this.protocolVersion,this.upgradeReq=e,this.readyState=WebSocket.CONNECTING,this._isServer=!0,this.maxPayload=o.value.maxPayload,"hixie-76"===o.value.protocolVersion?establishConnection.call(this,ReceiverHixie,SenderHixie,t,r):establishConnection.call(this,Receiver,Sender,t,r)}function initAsClient(e,t,r){if(r=new Options({origin:null,protocolVersion:protocolVersion,host:null,headers:null,protocol:t.join(","),agent:null,pfx:null,key:null,passphrase:null,cert:null,ca:null,ciphers:null,rejectUnauthorized:null,perMessageDeflate:!0,localAddress:null}).merge(r),8!==r.value.protocolVersion&&13!==r.value.protocolVersion)throw new Error("unsupported protocol version");var o=url.parse(e),n="ws+unix:"===o.protocol;if(!o.host&&!n)throw new Error("invalid url");var s,i="wss:"===o.protocol||"https:"===o.protocol,a=i?https:http,c=o.port||(i?443:80),l=o.auth,u={};r.value.perMessageDeflate&&(s=new PerMessageDeflate(!0!==typeof r.value.perMessageDeflate?r.value.perMessageDeflate:{},!1),u[PerMessageDeflate.extensionName]=s.offer()),this._isServer=!1,this.url=e,this.protocolVersion=r.value.protocolVersion,this.supports.binary="hixie-76"!==this.protocolVersion;var h=new Buffer(r.value.protocolVersion+"-"+Date.now()).toString("base64"),d=crypto.createHash("sha1");d.update(h+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11");var p=d.digest("base64"),f=r.value.agent,v=buildHostHeader(i,o.hostname,c),y={port:c,host:o.hostname,headers:{Connection:"Upgrade",Upgrade:"websocket",Host:v,"Sec-WebSocket-Version":r.value.protocolVersion,"Sec-WebSocket-Key":h}};if(l&&(y.headers.Authorization="Basic "+new Buffer(l).toString("base64")),r.value.protocol&&(y.headers["Sec-WebSocket-Protocol"]=r.value.protocol),r.value.host&&(y.headers.Host=r.value.host),r.value.headers)for(var b in r.value.headers)r.value.headers.hasOwnProperty(b)&&(y.headers[b]=r.value.headers[b]);Object.keys(u).length&&(y.headers["Sec-WebSocket-Extensions"]=Extensions.format(u)),(r.isDefinedAndNonNull("pfx")||r.isDefinedAndNonNull("key")||r.isDefinedAndNonNull("passphrase")||r.isDefinedAndNonNull("cert")||r.isDefinedAndNonNull("ca")||r.isDefinedAndNonNull("ciphers")||r.isDefinedAndNonNull("rejectUnauthorized"))&&(r.isDefinedAndNonNull("pfx")&&(y.pfx=r.value.pfx),r.isDefinedAndNonNull("key")&&(y.key=r.value.key),r.isDefinedAndNonNull("passphrase")&&(y.passphrase=r.value.passphrase),r.isDefinedAndNonNull("cert")&&(y.cert=r.value.cert),r.isDefinedAndNonNull("ca")&&(y.ca=r.value.ca),r.isDefinedAndNonNull("ciphers")&&(y.ciphers=r.value.ciphers),r.isDefinedAndNonNull("rejectUnauthorized")&&(y.rejectUnauthorized=r.value.rejectUnauthorized),f||(f=new a.Agent(y))),y.path=o.path||"/",f&&(y.agent=f),n&&(y.socketPath=o.pathname),r.value.localAddress&&(y.localAddress=r.value.localAddress),r.value.origin&&(r.value.protocolVersion<13?y.headers["Sec-WebSocket-Origin"]=r.value.origin:y.headers.Origin=r.value.origin);var S=this,m=a.request(y);m.on("error",function(e){S.emit("error",e),cleanupWebsocketResources.call(S,e)}),m.once("response",function(e){var t;S.emit("unexpected-response",m,e)||(t=new Error("unexpected server response ("+e.statusCode+")"),m.abort(),S.emit("error",t)),cleanupWebsocketResources.call(S,t)}),m.once("upgrade",function(e,t,o){if(S.readyState===WebSocket.CLOSED)return S.emit("close"),S.removeAllListeners(),void t.end();var n=e.headers["sec-websocket-accept"];if(void 0===n||n!==p)return S.emit("error","invalid server key"),S.removeAllListeners(),void t.end();var i=e.headers["sec-websocket-protocol"],a=(r.value.protocol||"").split(/, */),c=null;if(!r.value.protocol&&i?c="server sent a subprotocol even though none requested":r.value.protocol&&!i?c="server sent no subprotocol even though requested":i&&-1===a.indexOf(i)&&(c="server responded with an invalid protocol"),c)return S.emit("error",c),S.removeAllListeners(),void t.end();i&&(S.protocol=i);var l=Extensions.parse(e.headers["sec-websocket-extensions"]);if(s&&l[PerMessageDeflate.extensionName]){try{s.accept(l[PerMessageDeflate.extensionName])}catch(e){return S.emit("error","invalid extension parameter"),S.removeAllListeners(),void t.end()}S.extensions[PerMessageDeflate.extensionName]=s}establishConnection.call(S,Receiver,Sender,t,o),m.removeAllListeners(),m=null,f=null}),m.end(),this.readyState=WebSocket.CONNECTING}function establishConnection(e,t,r,o){function n(e){a||c.readyState===WebSocket.CLOSED||(a=!0,r.removeListener("data",n),i.on("data",s),o&&o.length>0&&(s(o),o=null),e&&s(e))}function s(e){c.bytesReceived+=e.length,c._receiver.add(e)}var i=this._ultron=new Ultron(r),a=!1,c=this;r.setTimeout(0),r.setNoDelay(!0),this._receiver=new e(this.extensions,this.maxPayload),this._socket=r,i.on("end",cleanupWebsocketResources.bind(this)),i.on("close",cleanupWebsocketResources.bind(this)),i.on("error",cleanupWebsocketResources.bind(this)),i.on("data",n),process.nextTick(n),c._receiver.ontext=function(e,t){t=t||{},c.emit("message",e,t)},c._receiver.onbinary=function(e,t){t=t||{},t.binary=!0,c.emit("message",e,t)},c._receiver.onping=function(e,t){t=t||{},c.pong(e,{mask:!c._isServer,binary:!0===t.binary},!0),c.emit("ping",e,t)},c._receiver.onpong=function(e,t){c.emit("pong",e,t||{})},c._receiver.onclose=function(e,t,r){r=r||{},c._closeReceived=!0,c.close(e,t)},c._receiver.onerror=function(e,t){c.close(void 0!==t?t:1002,""),c.emit("error",e instanceof Error?e:new Error(e))},this._sender=new t(r,this.extensions),this._sender.on("error",function(e){c.close(1002,""),c.emit("error",e)}),this.readyState=WebSocket.OPEN,this.emit("open")}function startQueue(e){e._queue=e._queue||[]}function executeQueueSends(e){var t=e._queue;if(void 0!==t){delete e._queue;for(var r=0,o=t.length;r<o;++r)t[r]()}}function sendStream(e,t,r,o){t.on("data",function(t){if(e.readyState!==WebSocket.OPEN)return void("function"==typeof o?o(new Error("not opened")):(delete e._queue,e.emit("error",new Error("not opened"))));r.fin=!1,e._sender.send(t,r)}),t.on("end",function(){if(e.readyState!==WebSocket.OPEN)return void("function"==typeof o?o(new Error("not opened")):(delete e._queue,e.emit("error",new Error("not opened"))));r.fin=!0,e._sender.send(null,r),"function"==typeof o&&o(null)})}function cleanupWebsocketResources(e){if(this.readyState!==WebSocket.CLOSED){if(this.readyState=WebSocket.CLOSED,clearTimeout(this._closeTimer),this._closeTimer=null,!e&&this._closeReceived||(this._closeCode=1006),this.emit("close",this._closeCode||1e3,this._closeMessage||""),this._socket){this._ultron&&this._ultron.destroy(),this._socket.on("error",function(){try{this.destroy()}catch(e){}});try{e?this._socket.destroy():this._socket.end()}catch(e){}this._socket=null,this._ultron=null}this._sender&&(this._sender.removeAllListeners(),this._sender=null),this._receiver&&(this._receiver.cleanup(),this._receiver=null),this.extensions[PerMessageDeflate.extensionName]&&this.extensions[PerMessageDeflate.extensionName].cleanup(),this.extensions=null,this.removeAllListeners(),this.on("error",function(){}),delete this._queue}}var url=require("url"),util=require("util"),http=require("http"),https=require("https"),crypto=require("crypto"),stream=require("stream"),Ultron=require("ultron"),Options=require("options"),Sender=require("./Sender"),Receiver=require("./Receiver"),SenderHixie=require("./Sender.hixie"),ReceiverHixie=require("./Receiver.hixie"),Extensions=require("./Extensions"),PerMessageDeflate=require("./PerMessageDeflate"),EventEmitter=require("events").EventEmitter,protocolVersion=13,closeTimeout=3e4;util.inherits(WebSocket,EventEmitter),["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(e,t){WebSocket.prototype[e]=WebSocket[e]=t}),WebSocket.prototype.close=function(e,t){if(this.readyState!==WebSocket.CLOSED){if(this.readyState===WebSocket.CONNECTING)return void(this.readyState=WebSocket.CLOSED);if(this.readyState===WebSocket.CLOSING)return void(this._closeReceived&&this._isServer&&this.terminate());var r=this;try{this.readyState=WebSocket.CLOSING,this._closeCode=e,this._closeMessage=t;var o=!this._isServer;this._sender.close(e,t,o,function(e){e&&r.emit("error",e),r._closeReceived&&r._isServer?r.terminate():(clearTimeout(r._closeTimer),r._closeTimer=setTimeout(cleanupWebsocketResources.bind(r,!0),closeTimeout))})}catch(e){this.emit("error",e)}}},WebSocket.prototype.pause=function(){if(this.readyState!==WebSocket.OPEN)throw new Error("not opened");return this._socket.pause()},WebSocket.prototype.ping=function(e,t,r){if(this.readyState!==WebSocket.OPEN){if(!0===r)return;throw new Error("not opened")}t=t||{},void 0===t.mask&&(t.mask=!this._isServer),this._sender.ping(e,t)},WebSocket.prototype.pong=function(e,t,r){if(this.readyState!==WebSocket.OPEN){if(!0===r)return;throw new Error("not opened")}t=t||{},void 0===t.mask&&(t.mask=!this._isServer),this._sender.pong(e,t)},WebSocket.prototype.resume=function(){if(this.readyState!==WebSocket.OPEN)throw new Error("not opened");return this._socket.resume()},WebSocket.prototype.send=function(e,t,r){if("function"==typeof t&&(r=t,t={}),this.readyState!==WebSocket.OPEN){if("function"!=typeof r)throw new Error("not opened");return void r(new Error("not opened"))}if(e||(e=""),this._queue){var o=this;return void this._queue.push(function(){o.send(e,t,r)})}t=t||{},t.fin=!0,void 0===t.binary&&(t.binary=e instanceof ArrayBuffer||e instanceof Buffer||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array),void 0===t.mask&&(t.mask=!this._isServer),void 0===t.compress&&(t.compress=!0),this.extensions[PerMessageDeflate.extensionName]||(t.compress=!1);var n="function"==typeof stream.Readable?stream.Readable:stream.Stream;if(e instanceof n){startQueue(this);var o=this;sendStream(this,e,t,function(e){process.nextTick(function(){executeQueueSends(o)}),"function"==typeof r&&r(e)})}else this._sender.send(e,t,r)},WebSocket.prototype.stream=function(e,t){function r(n,s){try{if(o.readyState!==WebSocket.OPEN)throw new Error("not opened");e.fin=!0===s,o._sender.send(n,e),s?executeQueueSends(o):process.nextTick(t.bind(null,null,r))}catch(e){"function"==typeof t?t(e):(delete o._queue,o.emit("error",e))}}"function"==typeof e&&(t=e,e={});var o=this;if("function"!=typeof t)throw new Error("callback must be provided");if(this.readyState!==WebSocket.OPEN){if("function"!=typeof t)throw new Error("not opened");return void t(new Error("not opened"))}if(this._queue)return void this._queue.push(function(){o.stream(e,t)});e=e||{},void 0===e.mask&&(e.mask=!this._isServer),void 0===e.compress&&(e.compress=!0),this.extensions[PerMessageDeflate.extensionName]||(e.compress=!1),startQueue(this),process.nextTick(t.bind(null,null,r))},WebSocket.prototype.terminate=function(){if(this.readyState!==WebSocket.CLOSED)if(this._socket){this.readyState=WebSocket.CLOSING;try{this._socket.end()}catch(e){return void cleanupWebsocketResources.call(this,!0)}this._closeTimer&&clearTimeout(this._closeTimer),this._closeTimer=setTimeout(cleanupWebsocketResources.bind(this,!0),closeTimeout)}else this.readyState===WebSocket.CONNECTING&&cleanupWebsocketResources.call(this,!0)},Object.defineProperty(WebSocket.prototype,"bufferedAmount",{get:function(){var e=0;return this._socket&&(e=this._socket.bufferSize||0),e}}),Object.defineProperty(WebSocket.prototype,"binaryType",{get:function(){return this._binaryType},set:function(e){if("arraybuffer"!==e&&"nodebuffer"!==e)throw new SyntaxError('unsupported binaryType: must be either "nodebuffer" or "arraybuffer"');this._binaryType=e}}),["open","error","close","message"].forEach(function(e){Object.defineProperty(WebSocket.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})}),WebSocket.prototype.addEventListener=function(e,t){function r(e,r){r.binary&&"arraybuffer"===this.binaryType&&(e=new Uint8Array(e).buffer),t.call(i,new MessageEvent(e,!!r.binary,i))}function o(e,r){t.call(i,new CloseEvent(e,r,i))}function n(e){e.type="error",e.target=i,t.call(i,e)}function s(){t.call(i,new OpenEvent(i))}var i=this;"function"==typeof t&&("message"===e?(r._listener=t,this.on(e,r)):"close"===e?(o._listener=t,this.on(e,o)):"error"===e?(n._listener=t,this.on(e,n)):"open"===e?(s._listener=t,this.on(e,s)):this.on(e,t))},module.exports=WebSocket,module.exports.buildHostHeader=buildHostHeader;
}).call(this,require('_process'),require("buffer").Buffer)

},{"./Extensions":316,"./PerMessageDeflate":317,"./Receiver":319,"./Receiver.hixie":318,"./Sender":321,"./Sender.hixie":320,"_process":252,"buffer":68,"crypto":79,"events":108,"http":292,"https":125,"options":228,"stream":291,"ultron":300,"url":301,"util":307}],325:[function(require,module,exports){
(function (Buffer){
function WebSocketServer(e,t){if(this instanceof WebSocketServer==!1)return new WebSocketServer(e,t);if(events.EventEmitter.call(this),e=new Options({host:"0.0.0.0",port:null,server:null,verifyClient:null,handleProtocols:null,path:null,noServer:!1,disableHixie:!1,clientTracking:!0,perMessageDeflate:!0,maxPayload:104857600}).merge(e),!e.isDefinedAndNonNull("port")&&!e.isDefinedAndNonNull("server")&&!e.value.noServer)throw new TypeError("`port` or a `server` must be provided");var r=this;if(e.isDefinedAndNonNull("port"))this._server=http.createServer(function(e,t){var r=http.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)}),this._server.allowHalfOpen=!1,this._server.listen(e.value.port,e.value.host,t),this._closeServer=function(){r._server&&r._server.close()};else if(e.value.server&&(this._server=e.value.server,e.value.path)){if(this._server._webSocketPaths&&e.value.server._webSocketPaths[e.value.path])throw new Error("two instances of WebSocketServer cannot listen on the same http server path");"object"!=typeof this._server._webSocketPaths&&(this._server._webSocketPaths={}),this._server._webSocketPaths[e.value.path]=1}this._server&&(this._onceServerListening=function(){r.emit("listening")},this._server.once("listening",this._onceServerListening)),void 0!==this._server&&(this._onServerError=function(e){r.emit("error",e)},this._server.on("error",this._onServerError),this._onServerUpgrade=function(e,t,o){var n=new Buffer(o.length);o.copy(n),r.handleUpgrade(e,t,n,function(t){r.emit("connection"+e.url,t),r.emit("connection",t)})},this._server.on("upgrade",this._onServerUpgrade)),this.options=e.value,this.path=e.value.path,this.clients=[]}function handleHybiUpgrade(e,t,r,o){var n=function(){try{t.destroy()}catch(e){}};if(t.on("error",n),!e.headers["sec-websocket-key"])return void abortConnection(t,400,"Bad Request");var i=parseInt(e.headers["sec-websocket-version"]);if(-1===[8,13].indexOf(i))return void abortConnection(t,400,"Bad Request");var s=e.headers["sec-websocket-protocol"],a=i<13?e.headers["sec-websocket-origin"]:e.headers.origin,c=Extensions.parse(e.headers["sec-websocket-extensions"]),h=this,l=function(s){var a=e.headers["sec-websocket-key"],l=crypto.createHash("sha1");l.update(a+"258EAFA5-E914-47DA-95CA-C5AB0DC85B11"),a=l.digest("base64");var v=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+a];void 0!==s&&v.push("Sec-WebSocket-Protocol: "+s);var d={};try{d=acceptExtensions.call(h,c)}catch(e){return void abortConnection(t,400,"Bad Request")}if(Object.keys(d).length){var p={};Object.keys(d).forEach(function(e){p[e]=[d[e].params]}),v.push("Sec-WebSocket-Extensions: "+Extensions.format(p))}h.emit("headers",v),t.setTimeout(0),t.setNoDelay(!0);try{t.write(v.concat("","").join("\r\n"))}catch(e){try{t.destroy()}catch(e){}return}var u=new WebSocket([e,t,r],{protocolVersion:i,protocol:s,extensions:d,maxPayload:h.options.maxPayload});h.options.clientTracking&&(h.clients.push(u),u.on("close",function(){var e=h.clients.indexOf(u);-1!=e&&h.clients.splice(e,1)})),t.removeListener("error",n),o(u)},v=function(){if("function"==typeof h.options.handleProtocols){var e=(s||"").split(/, */),r=!1;h.options.handleProtocols(e,function(e,o){r=!0,e?l(o):abortConnection(t,401,"Unauthorized")});return void(r||abortConnection(t,501,"Could not process protocols"))}void 0!==s?l(s.split(/, */)[0]):l()};if("function"==typeof this.options.verifyClient){var d={origin:a,secure:void 0!==e.connection.authorized||void 0!==e.connection.encrypted,req:e};if(2==this.options.verifyClient.length)return void this.options.verifyClient(d,function(e,r,o){void 0===r&&(r=401),void 0===o&&(o=http.STATUS_CODES[r]),e?v():abortConnection(t,r,o)});if(!this.options.verifyClient(d))return void abortConnection(t,401,"Unauthorized")}v()}function handleHixieUpgrade(e,t,r,o){var n=function(){try{t.destroy()}catch(e){}};if(t.on("error",n),this.options.disableHixie)return void abortConnection(t,401,"Hixie support disabled");if(!e.headers["sec-websocket-key2"])return void abortConnection(t,400,"Bad Request");var i=e.headers.origin,s=this,a=function(){var a;a=e.headers["x-forwarded-host"]?e.headers["x-forwarded-host"]:e.headers.host;var c=("https"===e.headers["x-forwarded-proto"]||t.encrypted?"wss":"ws")+"://"+a+e.url,h=e.headers["sec-websocket-protocol"],l=function(){var e=["HTTP/1.1 101 Switching Protocols","Upgrade: WebSocket","Connection: Upgrade","Sec-WebSocket-Location: "+c];return void 0!==h&&e.push("Sec-WebSocket-Protocol: "+h),void 0!==i&&e.push("Sec-WebSocket-Origin: "+i),new Buffer(e.concat("","").join("\r\n"))},v=function(r,i,a){var c=e.headers["sec-websocket-key1"],l=e.headers["sec-websocket-key2"],v=crypto.createHash("md5");[c,l].forEach(function(e){var r=parseInt(e.replace(/[^\d]/g,"")),o=e.replace(/[^ ]/g,"").length;if(0===o||r%o!=0)return void abortConnection(t,400,"Bad Request");r/=o,v.update(String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,255&r))}),v.update(r.toString("binary")),t.setTimeout(0),t.setNoDelay(!0);try{var d=new Buffer(v.digest("binary"),"binary"),p=new Buffer(a.length+d.length);a.copy(p,0),d.copy(p,a.length),t.write(p,"binary",function(r){if(!r){var a=new WebSocket([e,t,i],{protocolVersion:"hixie-76",protocol:h});s.options.clientTracking&&(s.clients.push(a),a.on("close",function(){var e=s.clients.indexOf(a);-1!=e&&s.clients.splice(e,1)})),t.removeListener("error",n),o(a)}})}catch(e){try{t.destroy()}catch(e){}return}};if(r&&r.length>=8){var d=r.slice(0,8),p=r.length>8?r.slice(8):null;v.call(s,d,p,l())}else{var d=new Buffer(8);r.copy(d,0);var u=r.length,p=null,f=function(e){var r=Math.min(e.length,8-u);0!==r&&(e.copy(d,u,0,r),8==(u+=r)&&(t.removeListener("data",f),r<e.length&&(p=e.slice(r)),v.call(s,d,p,new Buffer(0))))};t.on("data",f),function(){t.setTimeout(0),t.setNoDelay(!0);var e=l();try{t.write(e,"binary",function(e){e&&t.removeListener("data",f)})}catch(e){try{t.destroy()}catch(e){}return}}()}};if("function"==typeof this.options.verifyClient){var c={origin:i,secure:void 0!==e.connection.authorized||void 0!==e.connection.encrypted,req:e};if(2==this.options.verifyClient.length){var s=this;return void this.options.verifyClient(c,function(e,r,o){void 0===r&&(r=401),void 0===o&&(o=http.STATUS_CODES[r]),e?a.apply(s):abortConnection(t,r,o)})}if(!this.options.verifyClient(c))return void abortConnection(t,401,"Unauthorized")}a()}function acceptExtensions(e){var t={},r=this.options.perMessageDeflate,o=this.options.maxPayload;if(r&&e[PerMessageDeflate.extensionName]){var n=new PerMessageDeflate(!0!==r?r:{},!0,o);n.accept(e[PerMessageDeflate.extensionName]),t[PerMessageDeflate.extensionName]=n}return t}function abortConnection(e,t,r){try{var o=["HTTP/1.1 "+t+" "+r,"Content-type: text/html"];e.write(o.concat("","").join("\r\n"))}catch(e){}finally{try{e.destroy()}catch(e){}}}var util=require("util"),events=require("events"),http=require("http"),crypto=require("crypto"),Options=require("options"),WebSocket=require("./WebSocket"),Extensions=require("./Extensions"),PerMessageDeflate=require("./PerMessageDeflate"),tls=require("tls"),url=require("url");util.inherits(WebSocketServer,events.EventEmitter),WebSocketServer.prototype.close=function(e){var t=null;try{for(var r=0,o=this.clients.length;r<o;++r)this.clients[r].terminate()}catch(e){t=e}this.path&&this._server._webSocketPaths&&(delete this._server._webSocketPaths[this.path],0==Object.keys(this._server._webSocketPaths).length&&delete this._server._webSocketPaths);try{void 0!==this._closeServer&&this._closeServer()}finally{this._server&&(this._server.removeListener("listening",this._onceServerListening),this._server.removeListener("error",this._onServerError),this._server.removeListener("upgrade",this._onServerUpgrade)),delete this._server}if(e)e(t);else if(t)throw t},WebSocketServer.prototype.handleUpgrade=function(e,t,r,o){if(this.options.path){var n=url.parse(e.url);if(n&&n.pathname!==this.options.path)return}if(void 0===e.headers.upgrade||"websocket"!==e.headers.upgrade.toLowerCase())return void abortConnection(t,400,"Bad Request");e.headers["sec-websocket-key1"]?handleHixieUpgrade.apply(this,arguments):handleHybiUpgrade.apply(this,arguments)},module.exports=WebSocketServer;
}).call(this,require("buffer").Buffer)

},{"./Extensions":316,"./PerMessageDeflate":317,"./WebSocket":324,"buffer":68,"crypto":79,"events":108,"http":292,"options":228,"tls":66,"url":301,"util":307}],326:[function(require,module,exports){
function extend(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var n in t)hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;
},{}],"async":[function(require,module,exports){
(function (process,global,setImmediate){
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.async=n.async||{})}(this,function(n){"use strict";function t(n,t){t|=0;for(var e=Math.max(n.length-t,0),r=Array(e),u=0;u<e;u++)r[u]=n[t+u];return r}function e(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function r(n){setTimeout(n,0)}function u(n){return function(e){var r=t(arguments,1);n(function(){e.apply(null,r)})}}function i(n){return ut(function(t,r){var u;try{u=n.apply(this,t)}catch(n){return r(n)}e(u)&&"function"==typeof u.then?u.then(function(n){o(r,null,n)},function(n){o(r,n.message?n:new Error(n))}):r(null,u)})}function o(n,t,e){try{n(t,e)}catch(n){ct(c,n)}}function c(n){throw n}function f(n){return ft&&"AsyncFunction"===n[Symbol.toStringTag]}function a(n){return f(n)?i(n):n}function l(n){return function(e){var r=t(arguments,1),u=ut(function(t,r){var u=this;return n(e,function(n,e){a(n).apply(u,t.concat(e))},r)});return r.length?u.apply(this,r):u}}function s(n){var t=yt.call(n,dt),e=n[dt];try{n[dt]=void 0;var r=!0}catch(n){}var u=vt.call(n);return r&&(t?n[dt]=e:delete n[dt]),u}function p(n){return gt.call(n)}function h(n){return null==n?void 0===n?jt:bt:St&&St in Object(n)?s(n):p(n)}function y(n){if(!e(n))return!1;var t=h(n);return t==Lt||t==Ot||t==kt||t==wt}function v(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=xt}function d(n){return null!=n&&v(n.length)&&!y(n)}function m(){}function g(n){return function(){if(null!==n){var t=n;n=null,t.apply(this,arguments)}}}function b(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}function j(n){return null!=n&&"object"==typeof n}function S(n){return j(n)&&h(n)==Bt}function k(){return!1}function L(n,t){var e=typeof n;return!!(t=null==t?Ct:t)&&("number"==e||"symbol"!=e&&$t.test(n))&&n>-1&&n%1==0&&n<t}function O(n){return j(n)&&v(n.length)&&!!Wt[h(n)]}function w(n,t){var e=Ut(n),r=!e&&Mt(n),u=!e&&!r&&Rt(n),i=!e&&!r&&!u&&Xt(n),o=e||r||u||i,c=o?b(n.length,String):[],f=c.length;for(var a in n)!t&&!Zt.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||L(a,f))||c.push(a);return c}function x(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ne)}function E(n){if(!x(n))return te(n);var t=[];for(var e in Object(n))re.call(n,e)&&"constructor"!=e&&t.push(e);return t}function A(n){return d(n)?w(n):E(n)}function T(n){var t=-1,e=n.length;return function(){return++t<e?{value:n[t],key:t}:null}}function B(n){var t=-1;return function(){var e=n.next();return e.done?null:(t++,{value:e.value,key:t})}}function F(n){var t=A(n),e=-1,r=t.length;return function(){var u=t[++e];return e<r?{value:n[u],key:u}:null}}function I(n){if(d(n))return T(n);var t=Tt(n);return t?B(t):F(n)}function _(n){return function(){if(null===n)throw new Error("Callback was already called.");var t=n;n=null,t.apply(this,arguments)}}function M(n){return function(t,e,r){function u(n,t){if(f-=1,n)c=!0,r(n);else{if(t===Et||c&&f<=0)return c=!0,r(null);a||i()}}function i(){for(a=!0;f<n&&!c;){var t=o();if(null===t)return c=!0,void(f<=0&&r(null));f+=1,e(t.value,t.key,_(u))}a=!1}if(r=g(r||m),n<=0||!t)return r(null);var o=I(t),c=!1,f=0,a=!1;i()}}function U(n,t,e,r){M(t)(n,a(e),r)}function q(n,t){return function(e,r,u){return n(e,t,r,u)}}function z(n,t,e){function r(n,t){n?e(n):++i!==o&&t!==Et||e(null)}e=g(e||m);var u=0,i=0,o=n.length;for(0===o&&e(null);u<o;u++)t(n[u],u,_(r))}function P(n){return function(t,e,r){return n(ie,t,a(e),r)}}function V(n,t,e,r){r=r||m,t=t||[];var u=[],i=0,o=a(e);n(t,function(n,t,e){var r=i++;o(n,function(n,t){u[r]=t,e(n)})},function(n){r(n,u)})}function D(n){return function(t,e,r,u){return n(M(e),t,a(r),u)}}function R(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););return n}function C(n,t){return n&&se(n,t,A)}function $(n,t,e,r){for(var u=n.length,i=e+(r?1:-1);r?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function W(n){return n!==n}function N(n,t,e){for(var r=e-1,u=n.length;++r<u;)if(n[r]===t)return r;return-1}function Q(n,t,e){return t===t?N(n,t,e):$(n,W,e)}function G(n,t){for(var e=-1,r=null==n?0:n.length,u=Array(r);++e<r;)u[e]=t(n[e],e,n);return u}function H(n){return"symbol"==typeof n||j(n)&&h(n)==he}function J(n){if("string"==typeof n)return n;if(Ut(n))return G(n,J)+"";if(H(n))return de?de.call(n):"";var t=n+"";return"0"==t&&1/n==-ye?"-0":t}function K(n,t,e){var r=-1,u=n.length;t<0&&(t=-t>u?0:u+t),e=e>u?u:e,e<0&&(e+=u),u=t>e?0:e-t>>>0,t>>>=0;for(var i=Array(u);++r<u;)i[r]=n[r+t];return i}function X(n,t,e){var r=n.length;return e=void 0===e?r:e,!t&&e>=r?n:K(n,t,e)}function Y(n,t){for(var e=n.length;e--&&Q(t,n[e],0)>-1;);return e}function Z(n,t){for(var e=-1,r=n.length;++e<r&&Q(t,n[e],0)>-1;);return e}function nn(n){return n.split("")}function tn(n){return me.test(n)}function en(n){return n.match(xe)||[]}function rn(n){return tn(n)?en(n):nn(n)}function un(n){return null==n?"":J(n)}function on(n,t,e){if((n=un(n))&&(e||void 0===t))return n.replace(Ee,"");if(!n||!(t=J(t)))return n;var r=rn(n),u=rn(t);return X(r,Z(r,u),Y(r,u)+1).join("")}function cn(n){return n=n.toString().replace(Fe,""),n=n.match(Ae)[2].replace(" ",""),n=n?n.split(Te):[],n=n.map(function(n){return on(n.replace(Be,""))})}function fn(n,t){var e={};C(n,function(n,t){function r(t,e){var r=G(u,function(n){return t[n]});r.push(e),a(n).apply(null,r)}var u,i=f(n),o=!i&&1===n.length||i&&0===n.length;if(Ut(n))u=n.slice(0,-1),n=n[n.length-1],e[t]=u.concat(u.length>0?r:n);else if(o)e[t]=n;else{if(u=cn(n),0===n.length&&!i&&0===u.length)throw new Error("autoInject task functions require explicit parameters.");i||u.pop(),e[t]=u.concat(r)}}),pe(e,t)}function an(){this.head=this.tail=null,this.length=0}function ln(n,t){n.length=1,n.head=n.tail=t}function sn(n,t,e){function r(n,t,e){if(null!=e&&"function"!=typeof e)throw new Error("task callback must be a function");if(s.started=!0,Ut(n)||(n=[n]),0===n.length&&s.idle())return ct(function(){s.drain()});for(var r=0,u=n.length;r<u;r++){var i={data:n[r],callback:e||m};t?s._tasks.unshift(i):s._tasks.push(i)}f||(f=!0,ct(function(){f=!1,s.process()}))}function u(n){return function(t){o-=1;for(var e=0,r=n.length;e<r;e++){var u=n[e],i=Q(c,u,0);0===i?c.shift():i>0&&c.splice(i,1),u.callback.apply(u,arguments),null!=t&&s.error(t,u.data)}o<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var i=a(n),o=0,c=[],f=!1,l=!1,s={_tasks:new an,concurrency:t,payload:e,saturated:m,unsaturated:m,buffer:t/4,empty:m,drain:m,error:m,started:!1,paused:!1,push:function(n,t){r(n,!1,t)},kill:function(){s.drain=m,s._tasks.empty()},unshift:function(n,t){r(n,!0,t)},remove:function(n){s._tasks.remove(n)},process:function(){if(!l){for(l=!0;!s.paused&&o<s.concurrency&&s._tasks.length;){var n=[],t=[],e=s._tasks.length;s.payload&&(e=Math.min(e,s.payload));for(var r=0;r<e;r++){var f=s._tasks.shift();n.push(f),c.push(f),t.push(f.data)}o+=1,0===s._tasks.length&&s.empty(),o===s.concurrency&&s.saturated();var a=_(u(n));i(t,a)}l=!1}},length:function(){return s._tasks.length},running:function(){return o},workersList:function(){return c},idle:function(){return s._tasks.length+o===0},pause:function(){s.paused=!0},resume:function(){!1!==s.paused&&(s.paused=!1,ct(s.process))}};return s}function pn(n,t){return sn(n,1,t)}function hn(n,t,e,r){r=g(r||m);var u=a(e);_e(n,function(n,e,r){u(t,n,function(n,e){t=e,r(n)})},function(n){r(n,t)})}function yn(){var n=G(arguments,a);return function(){var e=t(arguments),r=this,u=e[e.length-1];"function"==typeof u?e.pop():u=m,hn(n,e,function(n,e,u){e.apply(r,n.concat(function(n){var e=t(arguments,1);u(n,e)}))},function(n,t){u.apply(r,[n].concat(t))})}}function vn(n){return n}function dn(n,t){return function(e,r,u,i){i=i||m;var o,c=!1;e(r,function(e,r,i){u(e,function(r,u){r?i(r):n(u)&&!o?(c=!0,o=t(!0,e),i(null,Et)):i()})},function(n){n?i(n):i(null,c?o:t(!1))})}}function mn(n,t){return t}function gn(n){return function(e){var r=t(arguments,1);r.push(function(e){var r=t(arguments,1);"object"==typeof console&&(e?console.error&&console.error(e):console[n]&&R(r,function(t){console[n](t)}))}),a(e).apply(null,r)}}function bn(n,e,r){function u(n){if(n)return r(n);var e=t(arguments,1);e.push(i),c.apply(this,e)}function i(n,t){return n?r(n):t?void o(u):r(null)}r=_(r||m);var o=a(n),c=a(e);i(null,!0)}function jn(n,e,r){r=_(r||m);var u=a(n),i=function(n){if(n)return r(n);var o=t(arguments,1);if(e.apply(this,o))return u(i);r.apply(null,[null].concat(o))};u(i)}function Sn(n,t,e){jn(n,function(){return!t.apply(this,arguments)},e)}function kn(n,t,e){function r(n){if(n)return e(n);o(u)}function u(n,t){return n?e(n):t?void i(r):e(null)}e=_(e||m);var i=a(t),o=a(n);o(u)}function Ln(n){return function(t,e,r){return n(t,r)}}function On(n,t,e){ie(n,Ln(a(t)),e)}function wn(n,t,e,r){M(t)(n,Ln(a(e)),r)}function xn(n){return f(n)?n:ut(function(t,e){var r=!0;t.push(function(){var n=arguments;r?ct(function(){e.apply(null,n)}):e.apply(null,n)}),n.apply(this,t),r=!1})}function En(n){return!n}function An(n){return function(t){return null==t?void 0:t[n]}}function Tn(n,t,e,r){var u=new Array(t.length);n(t,function(n,t,r){e(n,function(n,e){u[t]=!!e,r(n)})},function(n){if(n)return r(n);for(var e=[],i=0;i<t.length;i++)u[i]&&e.push(t[i]);r(null,e)})}function Bn(n,t,e,r){var u=[];n(t,function(n,t,r){e(n,function(e,i){e?r(e):(i&&u.push({index:t,value:n}),r())})},function(n){n?r(n):r(null,G(u.sort(function(n,t){return n.index-t.index}),An("value")))})}function Fn(n,t,e,r){(d(t)?Tn:Bn)(n,t,a(e),r||m)}function In(n,t){function e(n){if(n)return r(n);u(e)}var r=_(t||m),u=a(xn(n));e()}function _n(n,t,e,r){r=g(r||m);var u={},i=a(e);U(n,t,function(n,t,e){i(n,t,function(n,r){if(n)return e(n);u[t]=r,e()})},function(n){r(n,u)})}function Mn(n,t){return t in n}function Un(n,e){var r=Object.create(null),u=Object.create(null);e=e||vn;var i=a(n),o=ut(function(n,o){var c=e.apply(null,n);Mn(r,c)?ct(function(){o.apply(null,r[c])}):Mn(u,c)?u[c].push(o):(u[c]=[o],i.apply(null,n.concat(function(){var n=t(arguments);r[c]=n;var e=u[c];delete u[c];for(var i=0,o=e.length;i<o;i++)e[i].apply(null,n)})))});return o.memo=r,o.unmemoized=n,o}function qn(n,e,r){r=r||m;var u=d(e)?[]:{};n(e,function(n,e,r){a(n)(function(n,i){arguments.length>2&&(i=t(arguments,1)),u[e]=i,r(n)})},function(n){r(n,u)})}function zn(n,t){qn(ie,n,t)}function Pn(n,t,e){qn(M(t),n,e)}function Vn(n,t){if(t=g(t||m),!Ut(n))return t(new TypeError("First argument to race must be an array of functions"));if(!n.length)return t();for(var e=0,r=n.length;e<r;e++)a(n[e])(t)}function Dn(n,e,r,u){hn(t(n).reverse(),e,r,u)}function Rn(n){var e=a(n);return ut(function(n,r){return n.push(function(n,e){if(n)r(null,{error:n});else{var u;u=arguments.length<=2?e:t(arguments,1),r(null,{value:u})}}),e.apply(this,n)})}function Cn(n){var t;return Ut(n)?t=G(n,Rn):(t={},C(n,function(n,e){t[e]=Rn.call(this,n)})),t}function $n(n,t,e,r){Fn(n,t,function(n,t){e(n,function(n,e){t(n,!e)})},r)}function Wn(n){return function(){return n}}function Nn(n,t,e){function r(){c(function(n){n&&f++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(n))?setTimeout(r,o.intervalFunc(f)):e.apply(null,arguments)})}var u=5,i=0,o={times:u,intervalFunc:Wn(i)};if(arguments.length<3&&"function"==typeof n?(e=t||m,t=n):(!function(n,t){if("object"==typeof t)n.times=+t.times||u,n.intervalFunc="function"==typeof t.interval?t.interval:Wn(+t.interval||i),n.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");n.times=+t||u}}(o,n),e=e||m),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var c=a(t),f=1;r()}function Qn(n,t){qn(_e,n,t)}function Gn(n,t,e){function r(n,t){var e=n.criteria,r=t.criteria;return e<r?-1:e>r?1:0}var u=a(t);oe(n,function(n,t){u(n,function(e,r){if(e)return t(e);t(null,{value:n,criteria:r})})},function(n,t){if(n)return e(n);e(null,G(t.sort(r),An("value")))})}function Hn(n,t,e){var r=a(n);return ut(function(u,i){function o(){var t=n.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",e&&(r.info=e),f=!0,i(r)}var c,f=!1;u.push(function(){f||(i.apply(null,arguments),clearTimeout(c))}),c=setTimeout(o,t),r.apply(null,u)})}function Jn(n,t,e,r){for(var u=-1,i=yr(hr((t-n)/(e||1)),0),o=Array(i);i--;)o[r?i:++u]=n,n+=e;return o}function Kn(n,t,e,r){var u=a(e);fe(Jn(0,n,1),t,u,r)}function Xn(n,t,e,r){arguments.length<=3&&(r=e,e=t,t=Ut(n)?[]:{}),r=g(r||m);var u=a(e);ie(n,function(n,e,r){u(t,n,e,r)},function(n){r(n,t)})}function Yn(n,e){var r,u=null;e=e||m,We(n,function(n,e){a(n)(function(n,i){r=arguments.length>2?t(arguments,1):i,u=n,e(!n)})},function(){e(u,r)})}function Zn(n){return function(){return(n.unmemoized||n).apply(null,arguments)}}function nt(n,e,r){r=_(r||m);var u=a(e);if(!n())return r(null);var i=function(e){if(e)return r(e);if(n())return u(i);var o=t(arguments,1);r.apply(null,[null].concat(o))};u(i)}function tt(n,t,e){nt(function(){return!n.apply(this,arguments)},t,e)}var et,rt=function(n){var e=t(arguments,1);return function(){var r=t(arguments);return n.apply(null,e.concat(r))}},ut=function(n){return function(){var e=t(arguments),r=e.pop();n.call(this,e,r)}},it="function"==typeof setImmediate&&setImmediate,ot="object"==typeof process&&"function"==typeof process.nextTick;et=it?setImmediate:ot?process.nextTick:r;var ct=u(et),ft="function"==typeof Symbol,at="object"==typeof global&&global&&global.Object===Object&&global,lt="object"==typeof self&&self&&self.Object===Object&&self,st=at||lt||Function("return this")(),pt=st.Symbol,ht=Object.prototype,yt=ht.hasOwnProperty,vt=ht.toString,dt=pt?pt.toStringTag:void 0,mt=Object.prototype,gt=mt.toString,bt="[object Null]",jt="[object Undefined]",St=pt?pt.toStringTag:void 0,kt="[object AsyncFunction]",Lt="[object Function]",Ot="[object GeneratorFunction]",wt="[object Proxy]",xt=9007199254740991,Et={},At="function"==typeof Symbol&&Symbol.iterator,Tt=function(n){return At&&n[At]&&n[At]()},Bt="[object Arguments]",Ft=Object.prototype,It=Ft.hasOwnProperty,_t=Ft.propertyIsEnumerable,Mt=S(function(){return arguments}())?S:function(n){return j(n)&&It.call(n,"callee")&&!_t.call(n,"callee")},Ut=Array.isArray,qt="object"==typeof n&&n&&!n.nodeType&&n,zt=qt&&"object"==typeof module&&module&&!module.nodeType&&module,Pt=zt&&zt.exports===qt,Vt=Pt?st.Buffer:void 0,Dt=Vt?Vt.isBuffer:void 0,Rt=Dt||k,Ct=9007199254740991,$t=/^(?:0|[1-9]\d*)$/,Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt["[object Arguments]"]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt["[object Function]"]=Wt["[object Map]"]=Wt["[object Number]"]=Wt["[object Object]"]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var Nt="object"==typeof n&&n&&!n.nodeType&&n,Qt=Nt&&"object"==typeof module&&module&&!module.nodeType&&module,Gt=Qt&&Qt.exports===Nt,Ht=Gt&&at.process,Jt=function(){try{var n=Qt&&Qt.require&&Qt.require("util").types;return n||Ht&&Ht.binding&&Ht.binding("util")}catch(n){}}(),Kt=Jt&&Jt.isTypedArray,Xt=Kt?function(n){return function(t){return n(t)}}(Kt):O,Yt=Object.prototype,Zt=Yt.hasOwnProperty,ne=Object.prototype,te=function(n,t){return function(e){return n(t(e))}}(Object.keys,Object),ee=Object.prototype,re=ee.hasOwnProperty,ue=q(U,1/0),ie=function(n,t,e){(d(n)?z:ue)(n,a(t),e)},oe=P(V),ce=l(oe),fe=D(V),ae=q(fe,1),le=l(ae),se=function(n){return function(t,e,r){for(var u=-1,i=Object(t),o=r(t),c=o.length;c--;){var f=o[n?c:++u];if(!1===e(i[f],f,i))break}return t}}(),pe=function(n,e,r){function u(n,t){b.push(function(){f(n,t)})}function i(){if(0===b.length&&0===y)return r(null,h);for(;b.length&&y<e;){b.shift()()}}function o(n,t){var e=d[n];e||(e=d[n]=[]),e.push(t)}function c(n){R(d[n]||[],function(n){n()}),i()}function f(n,e){if(!v){var u=_(function(e,u){if(y--,arguments.length>2&&(u=t(arguments,1)),e){var i={};C(h,function(n,t){i[t]=n}),i[n]=u,v=!0,d=Object.create(null),r(e,i)}else h[n]=u,c(n)});y++;var i=a(e[e.length-1]);e.length>1?i(h,u):i(u)}}function l(t){var e=[];return C(n,function(n,r){Ut(n)&&Q(n,t,0)>=0&&e.push(r)}),e}"function"==typeof e&&(r=e,e=null),r=g(r||m);var s=A(n),p=s.length;if(!p)return r(null);e||(e=p);var h={},y=0,v=!1,d=Object.create(null),b=[],j=[],S={};C(n,function(t,e){if(!Ut(t))return u(e,[t]),void j.push(e);var r=t.slice(0,t.length-1),i=r.length;if(0===i)return u(e,t),void j.push(e);S[e]=i,R(r,function(c){if(!n[c])throw new Error("async.auto task `"+e+"` has a non-existent dependency `"+c+"` in "+r.join(", "));o(c,function(){0===--i&&u(e,t)})})}),function(){for(var n,t=0;j.length;)n=j.pop(),t++,R(l(n),function(n){0==--S[n]&&j.push(n)});if(t!==p)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),i()},he="[object Symbol]",ye=1/0,ve=pt?pt.prototype:void 0,de=ve?ve.toString:void 0,me=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),ge="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",be="\\ud83c[\\udffb-\\udfff]",je="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",ke="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Le="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",je,Se].join("|")+")[\\ufe0e\\ufe0f]?"+ke+")*",Oe="[\\ufe0e\\ufe0f]?"+ke+Le,we="(?:"+["[^\\ud800-\\udfff]"+ge+"?",ge,je,Se,"[\\ud800-\\udfff]"].join("|")+")",xe=RegExp(be+"(?="+be+")|"+we+Oe,"g"),Ee=/^\s+|\s+$/g,Ae=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Te=/,/,Be=/(=.+)?(\s*)$/,Fe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;an.prototype.removeLink=function(n){return n.prev?n.prev.next=n.next:this.head=n.next,n.next?n.next.prev=n.prev:this.tail=n.prev,n.prev=n.next=null,this.length-=1,n},an.prototype.empty=function(){for(;this.head;)this.shift();return this},an.prototype.insertAfter=function(n,t){t.prev=n,t.next=n.next,n.next?n.next.prev=t:this.tail=t,n.next=t,this.length+=1},an.prototype.insertBefore=function(n,t){t.prev=n.prev,t.next=n,n.prev?n.prev.next=t:this.head=t,n.prev=t,this.length+=1},an.prototype.unshift=function(n){this.head?this.insertBefore(this.head,n):ln(this,n)},an.prototype.push=function(n){this.tail?this.insertAfter(this.tail,n):ln(this,n)},an.prototype.shift=function(){return this.head&&this.removeLink(this.head)},an.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},an.prototype.toArray=function(){for(var n=Array(this.length),t=this.head,e=0;e<this.length;e++)n[e]=t.data,t=t.next;return n},an.prototype.remove=function(n){for(var t=this.head;t;){var e=t.next;n(t)&&this.removeLink(t),t=e}return this};var Ie,_e=q(U,1),Me=function(){return yn.apply(null,t(arguments).reverse())},Ue=Array.prototype.concat,qe=function(n,e,r,u){u=u||m;var i=a(r);fe(n,e,function(n,e){i(n,function(n){return n?e(n):e(null,t(arguments,1))})},function(n,t){for(var e=[],r=0;r<t.length;r++)t[r]&&(e=Ue.apply(e,t[r]));return u(n,e)})},ze=q(qe,1/0),Pe=q(qe,1),Ve=function(){var n=t(arguments),e=[null].concat(n);return function(){return arguments[arguments.length-1].apply(this,e)}},De=P(dn(vn,mn)),Re=D(dn(vn,mn)),Ce=q(Re,1),$e=gn("dir"),We=q(wn,1),Ne=P(dn(En,En)),Qe=D(dn(En,En)),Ge=q(Qe,1),He=P(Fn),Je=D(Fn),Ke=q(Je,1),Xe=function(n,t,e,r){r=r||m;var u=a(e);fe(n,t,function(n,t){u(n,function(e,r){return e?t(e):t(null,{key:r,val:n})})},function(n,t){for(var e={},u=Object.prototype.hasOwnProperty,i=0;i<t.length;i++)if(t[i]){var o=t[i].key,c=t[i].val;u.call(e,o)?e[o].push(c):e[o]=[c]}return r(n,e)})},Ye=q(Xe,1/0),Ze=q(Xe,1),nr=gn("log"),tr=q(_n,1/0),er=q(_n,1);Ie=ot?process.nextTick:it?setImmediate:r;var rr=u(Ie),ur=function(n,t){var e=a(n);return sn(function(n,t){e(n[0],t)},t,1)},ir=function(n,t){var e=ur(n,t);return e.push=function(n,t,r){if(null==r&&(r=m),"function"!=typeof r)throw new Error("task callback must be a function");if(e.started=!0,Ut(n)||(n=[n]),0===n.length)return ct(function(){e.drain()});t=t||0;for(var u=e._tasks.head;u&&t>=u.priority;)u=u.next;for(var i=0,o=n.length;i<o;i++){var c={data:n[i],priority:t,callback:r};u?e._tasks.insertBefore(u,c):e._tasks.push(c)}ct(e.process)},delete e.unshift,e},or=P($n),cr=D($n),fr=q(cr,1),ar=function(n,t){t||(t=n,n=null);var e=a(t);return ut(function(t,r){function u(n){e.apply(null,t.concat(n))}n?Nn(n,u,r):Nn(u,r)})},lr=P(dn(Boolean,vn)),sr=D(dn(Boolean,vn)),pr=q(sr,1),hr=Math.ceil,yr=Math.max,vr=q(Kn,1/0),dr=q(Kn,1),mr=function(n,e){function r(t){var e=a(n[i++]);t.push(_(u)),e.apply(null,t)}function u(u){if(u||i===n.length)return e.apply(null,arguments);r(t(arguments,1))}if(e=g(e||m),!Ut(n))return e(new Error("First argument to waterfall must be an array of functions"));if(!n.length)return e();var i=0;r([])},gr={apply:rt,applyEach:ce,applyEachSeries:le,asyncify:i,auto:pe,autoInject:fn,cargo:pn,compose:Me,concat:ze,concatLimit:qe,concatSeries:Pe,constant:Ve,detect:De,detectLimit:Re,detectSeries:Ce,dir:$e,doDuring:bn,doUntil:Sn,doWhilst:jn,during:kn,each:On,eachLimit:wn,eachOf:ie,eachOfLimit:U,eachOfSeries:_e,eachSeries:We,ensureAsync:xn,every:Ne,everyLimit:Qe,everySeries:Ge,filter:He,filterLimit:Je,filterSeries:Ke,forever:In,groupBy:Ye,groupByLimit:Xe,groupBySeries:Ze,log:nr,map:oe,mapLimit:fe,mapSeries:ae,mapValues:tr,mapValuesLimit:_n,mapValuesSeries:er,memoize:Un,nextTick:rr,parallel:zn,parallelLimit:Pn,priorityQueue:ir,queue:ur,race:Vn,reduce:hn,reduceRight:Dn,reflect:Rn,reflectAll:Cn,reject:or,rejectLimit:cr,rejectSeries:fr,retry:Nn,retryable:ar,seq:yn,series:Qn,setImmediate:ct,some:lr,someLimit:sr,someSeries:pr,sortBy:Gn,timeout:Hn,times:vr,timesLimit:Kn,timesSeries:dr,transform:Xn,tryEach:Yn,unmemoize:Zn,until:tt,waterfall:mr,whilst:nt,all:Ne,allLimit:Qe,allSeries:Ge,any:lr,anyLimit:sr,anySeries:pr,find:De,findLimit:Re,findSeries:Ce,forEach:On,forEachSeries:We,forEachLimit:wn,forEachOf:ie,forEachOfSeries:_e,forEachOfLimit:U,inject:hn,foldl:hn,foldr:Dn,select:He,selectLimit:Je,selectSeries:Ke,wrapSync:i};n.default=gr,n.apply=rt,n.applyEach=ce,n.applyEachSeries=le,n.asyncify=i,n.auto=pe,n.autoInject=fn,n.cargo=pn,n.compose=Me,n.concat=ze,n.concatLimit=qe,n.concatSeries=Pe,n.constant=Ve,n.detect=De,n.detectLimit=Re,n.detectSeries=Ce,n.dir=$e,n.doDuring=bn,n.doUntil=Sn,n.doWhilst=jn,n.during=kn,n.each=On,n.eachLimit=wn,n.eachOf=ie,n.eachOfLimit=U,n.eachOfSeries=_e,n.eachSeries=We,n.ensureAsync=xn,n.every=Ne,n.everyLimit=Qe,n.everySeries=Ge,n.filter=He,n.filterLimit=Je,n.filterSeries=Ke,n.forever=In,n.groupBy=Ye,n.groupByLimit=Xe,n.groupBySeries=Ze,n.log=nr,n.map=oe,n.mapLimit=fe,n.mapSeries=ae,n.mapValues=tr,n.mapValuesLimit=_n,n.mapValuesSeries=er,n.memoize=Un,n.nextTick=rr,n.parallel=zn,n.parallelLimit=Pn,n.priorityQueue=ir,n.queue=ur,n.race=Vn,n.reduce=hn,n.reduceRight=Dn,n.reflect=Rn,n.reflectAll=Cn,n.reject=or,n.rejectLimit=cr,n.rejectSeries=fr,n.retry=Nn,n.retryable=ar,n.seq=yn,n.series=Qn,n.setImmediate=ct,n.some=lr,n.someLimit=sr,n.someSeries=pr,n.sortBy=Gn,n.timeout=Hn,n.times=vr,n.timesLimit=Kn,n.timesSeries=dr,n.transform=Xn,n.tryEach=Yn,n.unmemoize=Zn,n.until=tt,n.waterfall=mr,n.whilst=nt,n.all=Ne,n.allLimit=Qe,n.allSeries=Ge,n.any=lr,n.anyLimit=sr,n.anySeries=pr,n.find=De,n.findLimit=Re,n.findSeries=Ce,n.forEach=On,n.forEachSeries=We,n.forEachLimit=wn,n.forEachOf=ie,n.forEachOfSeries=_e,n.forEachOfLimit=U,n.inject=hn,n.foldl=hn,n.foldr=Dn,n.select=He,n.selectLimit=Je,n.selectSeries=Ke,n.wrapSync=i,Object.defineProperty(n,"__esModule",{value:!0})});
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)

},{"_process":252,"timers":298}],"es6-promise":[function(require,module,exports){
(function (process,global){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function n(t){N=t}function r(t){U=t}function o(){return void 0!==L?function(){L(s)}:i()}function i(){var t=setTimeout;return function(){return t(s,1)}}function s(){for(var t=0;t<K;t+=2){(0,I[t])(I[t+1]),I[t]=void 0,I[t+1]=void 0}K=0}function u(t,e){var n=this,r=new this.constructor(a);void 0===r[Q]&&M(r);var o=n._state;if(o){var i=arguments[o-1];U(function(){return j(o,r,i,n._result)})}else g(n,r,t,e);return r}function c(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(a);return y(n,t),n}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(t){return Z.error=t,Z}}function p(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function v(t,e,n){U(function(t){var r=!1,o=p(n,e,function(n){r||(r=!0,e!==n?y(t,n):b(t,n))},function(e){r||(r=!0,w(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,w(t,o))},t)}function d(t,e){e._state===V?b(t,e._result):e._state===X?w(t,e._result):g(e,void 0,function(e){return y(t,e)},function(e){return w(t,e)})}function _(t,n,r){n.constructor===t.constructor&&r===u&&n.constructor.resolve===c?d(t,n):r===Z?(w(t,Z.error),Z.error=null):void 0===r?b(t,n):e(r)?v(t,n,r):b(t,n)}function y(e,n){e===n?w(e,f()):t(n)?_(e,n,h(n)):b(e,n)}function m(t){t._onerror&&t._onerror(t._result),A(t)}function b(t,e){t._state===R&&(t._result=e,t._state=V,0!==t._subscribers.length&&U(A,t))}function w(t,e){t._state===R&&(t._state=X,t._result=e,U(m,t))}function g(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+V]=n,o[i+X]=r,0===i&&t._state&&U(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?j(n,r,o,i):o(i);t._subscribers.length=0}}function S(t,e){try{return t(e)}catch(t){return Z.error=t,Z}}function j(t,n,r,o){var i=e(r),s=void 0,u=void 0,c=void 0,a=void 0;if(i){if(s=S(r,o),s===Z?(a=!0,u=s.error,s.error=null):c=!0,n===s)return void w(n,l())}else s=o,c=!0;n._state!==R||(i&&c?y(n,s):a?w(n,u):t===V?b(n,s):t===X&&w(n,s))}function E(t,e){try{e(function(e){y(t,e)},function(e){w(t,e)})}catch(e){w(t,e)}}function T(){return $++}function M(t){t[Q]=$++,t._state=void 0,t._result=void 0,t._subscribers=[]}function P(){return new Error("Array Methods must be provided an Array")}function x(t){return new tt(this,t).promise}function C(t){var e=this;return new e(D(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function O(t){var e=this,n=new e(a);return w(n,t),n}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function Y(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=et}var q=void 0;q=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var D=q,K=0,L=void 0,N=void 0,U=function(t,e){I[K]=t,I[K+1]=e,2===(K+=2)&&(N?N(s):J())},W="undefined"!=typeof window?window:void 0,z=W||{},B=z.MutationObserver||z.WebKitMutationObserver,G="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),H="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,I=new Array(1e3),J=void 0;J=G?function(){return function(){return process.nextTick(s)}}():B?function(){var t=0,e=new B(s),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():H?function(){var t=new MessageChannel;return t.port1.onmessage=s,function(){return t.port2.postMessage(0)}}():void 0===W&&"function"==typeof require?function(){try{var t=Function("return this")().require("vertx");return L=t.runOnLoop||t.runOnContext,o()}catch(t){return i()}}():i();var Q=Math.random().toString(36).substring(2),R=void 0,V=1,X=2,Z={error:null},$=0,tt=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(a),this.promise[Q]||M(this.promise),D(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&b(this.promise,this._result))):w(this.promise,P())}return t.prototype._enumerate=function(t){for(var e=0;this._state===R&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===c){var o=h(t);if(o===u&&t._state!==R)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===et){var i=new n(a);_(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===R&&(this._remaining--,t===X?w(r,n):this._result[e]=n),0===this._remaining&&b(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;g(t,void 0,function(t){return n._settledAt(V,e,t)},function(t){return n._settledAt(X,e,t)})},t}(),et=function(){function t(e){this[Q]=T(),this._result=this._state=void 0,this._subscribers=[],a!==e&&("function"!=typeof e&&k(),this instanceof t?E(this,e):F())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var n=this,r=n.constructor;return e(t)?n.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):n.then(t,t)},t}();return et.prototype.then=u,et.all=x,et.race=C,et.resolve=c,et.reject=O,et._setScheduler=n,et._setAsap=r,et._asap=U,et.polyfill=Y,et.Promise=et,et});
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"_process":252}],"inherits":[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"kurento-client-core":[function(require,module,exports){
Object.defineProperty(exports,"name",{value:"core"}),Object.defineProperty(exports,"version",{value:"6.10.0"});var HubPort=require("./HubPort"),MediaPipeline=require("./MediaPipeline"),PassThrough=require("./PassThrough");exports.HubPort=HubPort,exports.MediaPipeline=MediaPipeline,exports.PassThrough=PassThrough,exports.abstracts=require("./abstracts"),exports.complexTypes=require("./complexTypes");
},{"./HubPort":130,"./MediaPipeline":131,"./PassThrough":132,"./abstracts":143,"./complexTypes":186}],"kurento-client-elements":[function(require,module,exports){
Object.defineProperty(exports,"name",{value:"elements"}),Object.defineProperty(exports,"version",{value:"6.6.1"});var AlphaBlending=require("./AlphaBlending"),Composite=require("./Composite"),Dispatcher=require("./Dispatcher"),DispatcherOneToMany=require("./DispatcherOneToMany"),HttpPostEndpoint=require("./HttpPostEndpoint"),Mixer=require("./Mixer"),PlayerEndpoint=require("./PlayerEndpoint"),RecorderEndpoint=require("./RecorderEndpoint"),RtpEndpoint=require("./RtpEndpoint"),WebRtcEndpoint=require("./WebRtcEndpoint");exports.AlphaBlending=AlphaBlending,exports.Composite=Composite,exports.Dispatcher=Dispatcher,exports.DispatcherOneToMany=DispatcherOneToMany,exports.HttpPostEndpoint=HttpPostEndpoint,exports.Mixer=Mixer,exports.PlayerEndpoint=PlayerEndpoint,exports.RecorderEndpoint=RecorderEndpoint,exports.RtpEndpoint=RtpEndpoint,exports.WebRtcEndpoint=WebRtcEndpoint,exports.abstracts=require("./abstracts"),exports.complexTypes=require("./complexTypes");
},{"./AlphaBlending":187,"./Composite":188,"./Dispatcher":189,"./DispatcherOneToMany":190,"./HttpPostEndpoint":191,"./Mixer":192,"./PlayerEndpoint":193,"./RecorderEndpoint":194,"./RtpEndpoint":195,"./WebRtcEndpoint":196,"./abstracts":198,"./complexTypes":208}],"kurento-client-filters":[function(require,module,exports){
Object.defineProperty(exports,"name",{value:"filters"}),Object.defineProperty(exports,"version",{value:"6.6.1"});var FaceOverlayFilter=require("./FaceOverlayFilter"),GStreamerFilter=require("./GStreamerFilter"),ImageOverlayFilter=require("./ImageOverlayFilter"),ZBarFilter=require("./ZBarFilter");exports.FaceOverlayFilter=FaceOverlayFilter,exports.GStreamerFilter=GStreamerFilter,exports.ImageOverlayFilter=ImageOverlayFilter,exports.ZBarFilter=ZBarFilter,exports.abstracts=require("./abstracts");
},{"./FaceOverlayFilter":209,"./GStreamerFilter":210,"./ImageOverlayFilter":211,"./ZBarFilter":212,"./abstracts":214}],"kurento-client":[function(require,module,exports){
require("error-tojson");var checkType=require("./checkType"),disguise=require("./disguise"),MediaObjectCreator=require("./MediaObjectCreator"),register=require("./register"),TransactionsManager=require("./TransactionsManager");exports.checkType=checkType,exports.disguise=disguise,exports.MediaObjectCreator=MediaObjectCreator,exports.register=register,exports.TransactionsManager=TransactionsManager;var KurentoClient=require("./KurentoClient");module.exports=KurentoClient,KurentoClient.KurentoClient=KurentoClient,KurentoClient.checkType=checkType,KurentoClient.disguise=disguise,KurentoClient.MediaObjectCreator=MediaObjectCreator,KurentoClient.register=register,KurentoClient.TransactionsManager=TransactionsManager,register("kurento-client-core"),register("kurento-client-elements"),register("kurento-client-filters");
},{"./KurentoClient":1,"./MediaObjectCreator":2,"./TransactionsManager":3,"./checkType":5,"./disguise":7,"./register":8,"error-tojson":107}],"promisecallback":[function(require,module,exports){
function promiseCallback(l,n,o){function r(l,r){try{return n.call(o,l,r)}catch(l){throw console.trace(l),l}}return n&&(l=l.then(r.bind(void 0,null),r)),l}module.exports=promiseCallback;
},{}]},{},[4])


//# sourceMappingURL=kurento-client.map