/*
 FlexSearch v0.6.2
 Copyright 2019 Nextapps GmbH
 Author: Thomas Wilkerling
 Released under the Apache 2.0 Licence
 https://github.com/nextapps-de/flexsearch
*/
'use strict';(function(n,y,G){let z;(z=G.define)&&z.amd?z([],function(){return y}):(z=G.modules)?z[n.toLowerCase()]=y:"object"===typeof exports?module.exports=y:G[n]=y})("FlexSearch",function(){function n(a,b){const c=b?b.id:a&&a.id;this.id=c||0===c?c:aa++;this.init(a,b);z(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)});z(this,"length",function(){return this.index.length})}function y(a,b){const c=a.length,d=J(b),f=[];for(let k=0,g=0;k<c;k++){const c=
a[k];if(d&&b(c)||!d&&!b[c])f[g++]=c}return f}function G(a,b,c,d,f,k,g,p,q,l){c=V(c,g?0:f,!1,!1,b,q,l);let e;p&&(p=c.page,e=c.next,c=c.result);if(g)a=this.where(g,null,f,c);else{a=c;b=this.g;c=a.length;f=Array(c);for(k=0;k<c;k++)f[k]=b[a[k]];a=f}c=a;d&&(J(d)||(x=d.split(":"),1<x.length?d=ba:(x=x[0],d=ca)),c.sort(d));return c=K(p,e,c)}function z(a,b,c){Object.defineProperty(a,b,{get:c})}function e(a){return new RegExp(a,"g")}function H(a,b){for(let c=0;c<b.length;c+=2)a=a.replace(b[c],b[c+1]);return a}
function Q(a,b,c,d,f,k,g,p){if(b[c])return b[c];f=f?(p-(g||p/1.5))*k+(g||p/1.5)*f:k;b[c]=f;f>=g&&(a=a[p-(f+.5>>0)],a=a[c]||(a[c]=[]),a[a.length]=d);return f}function S(a,b){if(a){const c=Object.keys(a);for(let d=0,f=c.length;d<f;d++){const f=c[d],g=a[f];if(g)for(let c=0,d=g.length;c<d;c++)if(g[c]===b){1===d?delete a[f]:g.splice(c,1);break}else I(g[c])&&S(g[c],b)}}}function T(a){let b="",c="";var d="";for(let f=0;f<a.length;f++){const k=a[f];if(k!==c)if(f&&"h"===k){if(d="a"===d||"e"===d||"i"===d||
"o"===d||"u"===d||"y"===d,("a"===c||"e"===c||"i"===c||"o"===c||"u"===c||"y"===c)&&d||" "===c)b+=k}else b+=k;d=f===a.length-1?"":a[f+1];c=k}return b}function da(a,b){a=a.length-b.length;return 0>a?1:a?-1:0}function ca(a,b){a=a[x];b=b[x];return a<b?-1:a>b?1:0}function ba(a,b){const c=x.length;for(let d=0;d<c;d++)a=a[x[d]],b=b[x[d]];return a<b?-1:a>b?1:0}function K(a,b,c){return a?{page:a,next:b?""+b:null,result:c}:c}function V(a,b,c,d,f,k,g){let p,q=[];if(!0===c){c="0";var l=""}else l=c&&c.split(":");
const e=a.length;if(1<e){const r=A();let B=[],M,E;var m=0,h;let O;var R=!0;let C,D=0,u,x,w,z;l&&(2===l.length?(w=l,l=!1):l=z=parseInt(l[0],10));if(g){for(M=A();m<e;m++)if("not"===f[m])for(E=a[m],O=E.length,h=0;h<O;h++)M["@"+E[h]]=1;else x=m+1;if(N(x))return K(c,p,q);m=0}else u=F(f)&&f;let y;for(;m<e;m++){const L=m===(x||e)-1;if(!u||!m)if((h=u||f&&f[m])&&"and"!==h)if("or"===h)y=!1;else continue;else y=k=!0;E=a[m];if(O=E.length){if(R)if(C){var t=C.length;for(h=0;h<t;h++){R=C[h];var n="@"+R;g&&M[n]||
(r[n]=1,k||(q[D++]=R))}C=null;R=!1}else{C=E;continue}n=!1;for(h=0;h<O;h++){t=E[h];var v="@"+t;const a=k?r[v]||0:m;if(!(!a&&!d||g&&M[v]||!k&&r[v]))if(a===m){if(L){if(!z||--z<D)if(q[D++]=t,b&&D===b)return K(c,D+(l||0),q)}else r[v]=m+1;n=!0}else d&&(v=B[a]||(B[a]=[]),v[v.length]=t)}if(y&&!n&&!d)break}else if(y&&!d)return K(c,p,E)}if(C)if(m=C.length,g)for(h=l?parseInt(l,10):0;h<m;h++)a=C[h],M["@"+a]||(q[D++]=a);else q=C;if(d)for(D=q.length,w?(m=parseInt(w[0],10)+1,h=parseInt(w[1],10)+1):(m=B.length,h=
0);m--;)if(t=B[m]){for(O=t.length;h<O;h++)if(d=t[h],!g||!M["@"+d])if(q[D++]=d,b&&D===b)return K(c,m+":"+h,q);h=0}}else!e||f&&"not"===f[0]||(q=a[0],l&&(l=parseInt(l[0],10)));b&&(g=q.length,l&&l>g&&(l=0),l=l||0,p=l+b,p<g?q=q.slice(l,p):(p=0,l&&(q=q.slice(l))));return K(c,p,q)}function F(a){return"string"===typeof a}function w(a){return a.constructor===Array}function J(a){return"function"===typeof a}function I(a){return"object"===typeof a}function N(a){return"undefined"===typeof a}function W(a){const b=
Array(a);for(let c=0;c<a;c++)b[c]=A();return b}function A(){return Object.create(null)}const u={encode:"icase",c:"forward",split:/\W+/,cache:!1,async:!1,u:!1,m:!1,a:!1,b:9,threshold:0,depth:0},X={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",
threshold:8,b:9,depth:1}},U=[];let aa=0;const Y={},Z={};n.create=function(a,b){return new n(a,b)};n.registerMatcher=function(a){for(const b in a)a.hasOwnProperty(b)&&U.push(e(b),a[b]);return this};n.registerEncoder=function(a,b){P[a]=b.bind(P);return this};n.registerLanguage=function(a,b){Y[a]=b.filter;Z[a]=b.stemmer;return this};n.encode=function(a,b){return P[a](b)};n.prototype.init=function(a,b){this.o=[];if(b){var c=b.preset;a=b}else a||(a=u),c=a.preset;b={};F(a)?(b=X[a],a={}):c&&(b=X[c]);this.c=
a.tokenize||b.c||this.c||u.c;this.split=a.split||this.split||u.split;this.m=a.rtl||this.m||u.m;this.async="undefined"===typeof Promise||N(c=a.async)?this.async||u.async:c;this.threshold=N(c=a.threshold)?b.threshold||this.threshold||u.threshold:c;this.b=N(c=a.resolution)?c=b.b||this.b||u.b:c;c<=this.threshold&&(this.b=this.threshold+1);this.depth="strict"!==this.c||N(c=a.depth)?b.depth||this.depth||u.depth:c;this.i=(c=N(c=a.encode)?b.encode||u.encode:c)&&P[c]&&P[c].bind(P)||(J(c)?c:this.i||!1);(c=
a.matcher)&&this.addMatcher(c);if(c=(b=a.lang)||a.filter){F(c)&&(c=Y[c]);if(w(c)){var d=this.i,f=A();for(var k=0;k<c.length;k++){const a=d?d(c[k]):c[k];f[a]=1}c=f}this.filter=c}if(c=b||a.stemmer){var g;b=F(c)?Z[c]:c;d=this.i;f=[];for(g in b)b.hasOwnProperty(g)&&(k=d?d(g):g,f.push(e(k+"($|\\W)"),d?d(b[g]):b[g]));this.stemmer=g=f}this.a=d=(c=a.doc)?c:this.a||u.a;this.l=W(this.b-(this.threshold||0));this.h=A();this.f=A();if(d&&(this.g=A(),a.doc=null,g=d.index={},c=d.keys=[],b=d.field,w(d.id)||(d.id=
d.id.split(":")),b)){let k;w(b)||(I(b)?(k=b,d.field=b=Object.keys(b)):d.field=b=[b]);for(d=0;d<b.length;d++)f=b[d],w(f)||(k&&(a=k[f]),c[d]=f,b[d]=f.split(":")),g[f]=new n(a),g[f].g=this.g}return this};n.prototype.encode=function(a){a&&U.length&&(a=H(a,U));a&&this.o.length&&(a=H(a,this.o));a&&this.i&&(a=this.i(a));a&&this.stemmer&&(a=H(a,this.stemmer));return a};n.prototype.addMatcher=function(a){const b=this.o;for(const c in a)a.hasOwnProperty(c)&&b.push(e(c),a[c]);return this};n.prototype.add=function(a,
b,c,d,f){if(this.a&&I(a))return this.j("add",a,b);if(b&&F(b)&&(a||0===a)){var k="@"+a;if(this.f[k]&&!d)return this.update(a,b);if(!f){if(this.async){let f=this;k=new Promise(function(c){setTimeout(function(){f.add(a,b,null,d,!0);f=null;c()})});if(c)k.then(c);else return k;return this}if(c)return this.add(a,b,null,d,!0),c(),this}b=this.encode(b);if(!b.length)return this;c=this.c;f=J(c)?c(b):b.split(this.split);this.filter&&(f=y(f,this.filter));const m=A();m._ctx=A();const h=f.length,p=this.threshold,
t=this.depth,n=this.b,v=this.l,L=this.m;for(let b=0;b<h;b++){var g=f[b];if(g){var e=g.length,q=(L?b+1:h-b)/h,l="";switch(c){case "reverse":case "both":for(var r=e;--r;)l=g[r]+l,Q(v,m,l,a,L?1:(e-r)/e,q,p,n-1);l="";case "forward":for(r=0;r<e;r++)l+=g[r],Q(v,m,l,a,L?(r+1)/e:1,q,p,n-1);break;case "full":for(r=0;r<e;r++){const b=(L?r+1:e-r)/e;for(let c=e;c>r;c--)l=g.substring(r,c),Q(v,m,l,a,b,q,p,n-1)}break;default:if(e=Q(v,m,g,a,1,q,p,n-1),t&&1<h&&e>=p)for(e=m._ctx[g]||(m._ctx[g]=A()),g=this.h[g]||(this.h[g]=
W(n-(p||0))),q=b-t,l=b+t+1,0>q&&(q=0),l>h&&(l=h);q<l;q++)q!==b&&Q(g,e,f[q],a,0,n-(q<b?b-q:q-b),p,n-1)}}}this.f[k]=1}return this};n.prototype.j=function(a,b,c){if(w(b))for(let d=0,f=b.length;d<f;d++){if(d===f-1)return this.j(a,b[d],c);this.j(a,b[d])}else{const k=this.a.index,l=this.a.keys;var d=this.a.tag,f=this.a.id;let r;let m;for(var e=0;e<f.length;e++)r=(r||b)[f[e]];if(d){for(f=0;f<d.length;f++){var g=d[f];var p=g.split(":");for(e=0;e<p.length;e++)m=(m||b)[p[e]];m="@"+m}p=this.s[g];p=p[m]||(p[m]=
[])}if("remove"===a){delete this.g[r];for(let b=0,a=l.length;b<a;b++){if(b===a-1)return k[l[b]].remove(r,c),this;k[l[b]].remove(r)}}f=this.a.field;p&&(p[p.length]=b);this.g[r]=b;for(let e=0,m=f.length;e<m;e++){d=f[e];let h;for(g=0;g<d.length;g++)h=(h||b)[d[g]];d=k[l[e]];g="add"===a?d.add:d.update;e===m-1?g.call(d,r,h,c):g.call(d,r,h)}}return this};n.prototype.update=function(a,b,c){if(this.a&&I(a))return this.j("update",a,b);this.f["@"+a]&&F(b)&&(this.remove(a),this.add(a,b,c,!0));return this};n.prototype.remove=
function(a,b,c){if(this.a&&I(a))return this.j("remove",a,b);var d="@"+a;if(this.f[d]){if(!c){if(this.async&&"function"!==typeof importScripts){let c=this;d=new Promise(function(b){setTimeout(function(){c.remove(a,null,!0);c=null;b()})});if(b)d.then(b);else return d;return this}if(b)return this.remove(a,null,!0),b(),this}for(b=0;b<this.b-(this.threshold||0);b++)S(this.l[b],a);this.depth&&S(this.h,a);delete this.f[d]}return this};let x;n.prototype.search=function(a,b,c,d){if(I(b)){if(w(b))for(var f=
0;f<b.length;f++)b[f].query=a;else b.query=a;a=b;b=1E3}else b&&J(b)?(c=b,b=1E3):b||0===b||(b=1E3);let e=[],g=a;let p,q,l;if(I(a)&&!w(a)){c||(c=a.callback)&&(g.callback=null);q=a.sort;p=!1;b=a.limit;var r=a.threshold;l=!1;a=a.query}if(this.a){r=this.a.index;var m=g.bool||"or",h=g.field;let k=m;let B,u;if(h)w(h)||(h=[h]);else if(w(g)){var n=g;h=[];k=[];for(var t=0;t<g.length;t++)d=g[t],f=d.bool||m,h[t]=d.field,k[t]=f,"not"===f?B=!0:"and"===f&&(u=!0)}else h=this.a.keys;m=h.length;for(t=0;t<m;t++)n&&
(g=n[t]),p&&!F(g)&&(g.page=null,g.limit=0),e[t]=r[h[t]].search(g,0);if(c)return c(G.call(this,a,k,e,q,b,l,!1,p,u,B));if(this.async){const c=this;return new Promise(function(d){Promise.all(e).then(function(e){d(G.call(c,a,k,e,q,b,l,!1,p,u,B))})})}return G.call(this,a,k,e,q,b,l,!1,p,u,B)}r||(r=this.threshold||0);if(!d){if(this.async&&"function"!==typeof importScripts){let a=this;r=new Promise(function(c){setTimeout(function(){c(a.search(g,b,null,!0));a=null})});if(c)r.then(c);else return r;return this}if(c)return c(this.search(g,
b,null,!0)),this}if(!a||!F(a))return e;g=a;g=this.encode(g);if(!g.length)return e;c=this.c;c=J(c)?c(g):g.split(this.split);this.filter&&(c=y(c,this.filter));n=c.length;d=!0;f=[];const u=A();let v=0;1<n&&(this.depth&&"strict"===this.c?h=!0:c.sort(da));if(!h||(m=this.h)){const b=this.b;for(;v<n;v++){let a=c[v];if(a){if(h){if(!t)if(m[a])t=a,u[a]=1;else if(!l)return e;if(l&&v===n-1&&!f.length)h=!1,a=t||a,u[a]=0;else if(!t)continue}if(!u[a]){const c=[];let e=!1,g=0;if(t=h?m[t]:this.l){let d;for(let f=
0;f<b-r;f++)if(d=t[f][a])c[g++]=d,e=!0}if(e)t=a,f[f.length]=1<g?c.concat.apply([],c):c[0];else{d=!1;break}u[a]=1}}}}else d=!1;d&&(e=V(f,b,p,!1));return e};n.prototype.clear=function(){return this.destroy().init()};n.prototype.destroy=function(){this.l=this.h=this.f=null;if(this.a){const a=this.a.keys;for(let b=0;b<a.length;b++)this.a.index[a[b]].destroy();this.a=this.g=null}return this};const P={icase:function(a){return a.toLowerCase()},simple:function(){const a=[e("[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5]"),
"a",e("[\u00e8\u00e9\u00ea\u00eb]"),"e",e("[\u00ec\u00ed\u00ee\u00ef]"),"i",e("[\u00f2\u00f3\u00f4\u00f5\u00f6\u0151]"),"o",e("[\u00f9\u00fa\u00fb\u00fc\u0171]"),"u",e("[\u00fd\u0177\u00ff]"),"y",e("\u00f1"),"n",e("\u00e7"),"c",e("\u00df"),"s",e(" & ")," and ",e("[-/]")," ",e("[^a-z0-9 ]"),"",e("\\s+")," "];return function(b){b=H(b.toLowerCase(),a);return" "===b?"":b}}(),advanced:function(){const a=[e("ae"),"a",e("ai"),"ei",e("ay"),"ei",e("ey"),"ei",e("oe"),"o",e("ue"),"u",e("ie"),"i",e("sz"),"s",
e("zs"),"s",e("sh"),"s",e("ck"),"k",e("cc"),"k",e("dt"),"t",e("ph"),"f",e("pf"),"f",e("ou"),"o",e("uo"),"u"];return function(b,c){if(!b)return b;b=this.simple(b);2<b.length&&(b=H(b,a));c||1<b.length&&(b=T(b));return b}}(),extra:function(){const a=[e("p"),"b",e("z"),"s",e("[cgq]"),"k",e("n"),"m",e("d"),"t",e("[vw]"),"f",e("[aeiouy]"),""];return function(b){if(!b)return b;b=this.advanced(b,!0);if(1<b.length){b=b.split(" ");for(let c=0;c<b.length;c++){const d=b[c];1<d.length&&(b[c]=d[0]+H(d.substring(1),
a))}b=b.join(" ");b=T(b)}return b}}(),balance:function(){const a=[e("[-/]")," ",e("[^a-z0-9 ]"),"",e("\\s+")," "];return function(b){return T(H(b.toLowerCase(),a))}}()};return n}(!1),this);
