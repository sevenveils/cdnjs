{"version":3,"file":"ParallaxEffect.js","sources":["webpack://eg.Flicking.plugin.[name]/webpack/universalModuleDefinition","webpack://eg.Flicking.plugin.[name]/webpack/bootstrap","webpack://eg.Flicking.plugin.[name]/./src/plugin/effects/ParallaxEffect.js","webpack://eg.Flicking.plugin.[name]/(webpack)/buildin/harmony-module.js","webpack://eg.Flicking.plugin.[name]/./src/plugin/Plugin.js","webpack://eg.Flicking.plugin.[name]/external {\"commonjs\":\"@egjs/flicking\",\"commonjs2\":\"@egjs/flicking\",\"amd\":\"@egjs/flicking\",\"root\":[\"eg\",\"Flicking\"]}"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@egjs/flicking\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ParallaxEffect\", [\"@egjs/flicking\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ParallaxEffect\"] = factory(require(\"@egjs/flicking\"));\n\telse\n\t\troot[\"eg\"] = root[\"eg\"] || {}, root[\"eg\"][\"Flicking\"] = root[\"eg\"][\"Flicking\"] || {}, root[\"eg\"][\"Flicking\"][\"plugin\"] = root[\"eg\"][\"Flicking\"][\"plugin\"] || {}, root[\"eg\"][\"Flicking\"][\"plugin\"][\"ParallaxEffect\"] = factory(root[\"eg\"][\"Flicking\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Plugin from \"../Plugin\";\n\n/**\n * A plugin to add horizontal parallax effect attached with flicking interaction.\n * - Should be targeted only one element per panel.\n * - It can't be used with `previewPadding` option.\n * @ko 플리킹 인터렉션에 따른 가로유형 패럴렉스 효과 플러그인.\n * - 각 패널당 한 개의 요소만 지정되어야 한다.\n * - `previewPadding` 옵션과 같이 사용될 수 없다.\n * @alias eg.Flicking.plugin.ParallaxEffect\n * @memberof eg.Flicking.plugin\n * @see eg.Flicking#plugin\n * @see eg.Flicking#plugins\n * @example\n * ```html\n * <div id=\"flick\">\n * \t<div><p style=\"background-image:url(a.png)\">panel 0</p></div>\n * \t<div><p style=\"background-image:url(b.png)\">panel 1</p></div>\n * \t<div><p style=\"background-image:url(c.png)\">panel 2</p></div>\n * </div>\n * ```\n * ```js\n * // as namespace usage\n * new eg.Flicking(\"#some\")\n *  .plugin([\n *      // Apply parallax effect to '<p>' selector matched elements\n *      new eg.Flicking.plugin.ParallaxEffect(\"p\")\n *  ]);\n *\n * // as ESM import usage\n * import Flicking from \"@egjs/flicking\";\n * import ParallaxEffect from \"@egjs/flicking/dist/plugin/ParallaxEffect\";\n *\n * new Flicking(\"#some\")\n *  .plugin([\n *      new ParallaxEffect(\"p\")\n *  ]);\n * ```\n */\nexport default class ParallaxEffect extends Plugin {\n\t/**\n\t * Constructor\n\t * @param {String} selector Target selector string within panel element<ko>패널 내에 위치한 대상 요소 셀렉터 문자열</ko>\n\t */\n\tconstructor(selector) {\n\t\tsuper({selector});\n\t}\n\n\t$componentMount() {\n\t\t// select target elements\n\t\tthis.imgs = this.$$.getAllElements().map(\n\t\t\tv => v.querySelector(this.options.selector)\n\t\t);\n\n\t\tthis.resize();\n\t\tthis._build();\n\n\t\treturn this;\n\t}\n\n\t_build() {\n\t\tconst utils = Plugin.utils;\n\t\tconst currIndex = this._getCurrIndex();\n\n\t\t// set panel element's style\n\t\tutils.css(this.getInstanceConf().panel.$list, {overflow: \"hidden\"});\n\n\t\t// set targeted element's style\n\t\tthis.imgs.forEach((v, i) => {\n\t\t\tlet x = -50;\n\n\t\t\tif (currIndex > i) {\n\t\t\t\tx = 50;\n\t\t\t} else if (currIndex === i) {\n\t\t\t\tx = 0;\n\t\t\t}\n\n\t\t\tthis.useWillChange && utils.css(v, {willChange: \"transform\"});\n\t\t\tthis._setTranslate(v, `${x}%`, 0);\n\t\t});\n\t}\n\n\t_setTranslate(el, x, y) {\n\t\tel && Plugin.utils.css(el, {\n\t\t\ttransform:\n\t\t\t\tPlugin.utils.translate.apply(null,\n\t\t\t\t\tthis.$$._getDataByDirection([x, y]).concat(this.useLayerHack)\n\t\t\t\t)\n\t\t});\n\n\t\treturn el;\n\t}\n\n\n\t_getCurrIndex() {\n\t\treturn this.getInstanceConf().panel.currIndex;\n\t}\n\n\t_getPanel() {\n\t\tconst index = this._getCurrIndex();\n\n\t\treturn {\n\t\t\tprev: this.imgs[index - 1],\n\t\t\tcurr: this.imgs[index],\n\t\t\tnext: this.imgs[index + 1]\n\t\t};\n\t}\n\n\tarrange(type) {\n\t\tif (this.$$.options.circular && type !== \"resize\") {\n\t\t\tthis.imgs = (type === \"next\") ?\n\t\t\t\tthis.imgs.concat(this.imgs.shift()) :\n\t\t\t\t[this.imgs.pop()].concat(this.imgs);\n\t\t}\n\n\t\tconst panel = this._getPanel();\n\n\t\t// update panel's translate\n\t\tthis._setTranslate(panel.curr, 0, 0);\n\n\t\t/next|resize/.test(type) && this._setTranslate(panel.next, \"50%\", 0);\n\t\t/prev|resize/.test(type) && this._setTranslate(panel.prev, \"-50%\", 0);\n\t}\n\n\tonFlick(e, distance) {\n\t\tconst pos = e.pos;\n\t\tconst maxRange = this.size;\n\t\tconst delta = (pos % maxRange) / 2;\n\t\tconst siblingDelta = -(maxRange / 2 - delta);\n\n\t\tif (Math.abs(distance) >= maxRange) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst panel = this._getPanel();\n\t\tconst update = [];\n\n\t\tif (distance > 0 && panel.next) {\n\t\t\tupdate.push({el: panel.curr, x: delta});\n\t\t\tupdate.push({el: panel.next, x: siblingDelta});\n\t\t} else if (distance < 0 && panel.prev) {\n\t\t\tupdate.push({el: panel.curr, x: siblingDelta});\n\t\t\tupdate.push({el: panel.prev, x: delta});\n\t\t}\n\n\t\tupdate.forEach(v => this._setTranslate(v.el, `${v.x}px`, 0));\n\t}\n\n\tonRestore() {\n\t\tthis.arrange(\"resize\");\n\t}\n\n\tresize() {\n\t\tthis.size = this.getInstanceConf().panel.size;\n\t\tthis.onRestore(\"resize\");\n\t}\n\n\tget() {\n\t\treturn this.imgs[this._getCurrIndex()];\n\t}\n}\n\nmodule.exports = ParallaxEffect;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Flicking from \"../Flicking.js\";\n\n// is to through pass Flicking's utils & constants to plugins\nconst utils = Flicking.utils;\nconst consts = utils.extend(utils.extend({}, Flicking.consts), {\n\tDIRECTION_NONE: Flicking.DIRECTION_NONE,\n\tDIRECTION_LEFT: Flicking.DIRECTION_LEFT,\n\tDIRECTION_RIGHT: Flicking.DIRECTION_RIGHT,\n\tDIRECTION_UP: Flicking.DIRECTION_UP,\n\tDIRECTION_DOWN: Flicking.DIRECTION_DOWN,\n\tDIRECTION_HORIZONTAL: Flicking.DIRECTION_HORIZONTAL,\n\tDIRECTION_VERTICAL: Flicking.DIRECTION_VERTICAL,\n\tDIRECTION_ALL: Flicking.DIRECTION_ALL\n});\n\n/**\n * Base class to generate flicking plugin\n * Lifecycle: componentWillMount --> componentMount --> componentDidMount --> componentWillUnmount\n * @ko Flicking 플러그인을 생성하기 위한 기본 클래스\n * @alias eg.Flicking.plugin\n * @private\n */\nexport default class Plugin {\n\t/**\n\t * Constructor\n\t * @param {Object} options Option object <ko>옵션 객체</ko>\n\t */\n\tconstructor(options = {}) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * Before mounting. It's init point from Flicking instance\n\t * @param {Flicking} instance Flicking instance\n\t * @returns {Plugin}\n\t */\n\t$componentWillMount(instance) {\n\t\tthis.$$ = instance;\n\n\t\t// get hint and layer-hack setting\n\t\tthis.useWillChange = instance.$container.style.willChange === \"transform\";\n\t\tthis.useLayerHack = this.getInstanceConf().useLayerHack;\n\n\t\tthis.bindEvents();\n\t\tthis.$componentMount();\n\t\tthis.$componentDidMount();\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * After mounting\n\t * @return {Plugin}\n\t */\n\t$componentDidMount() {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Before the destroy\n\t */\n\t$componentWillUnmount() {\n\t\tObject.keys(this).forEach(v => {\n\t\t\tthis[v] = null;\n\t\t});\n\t}\n\n\tgetInstanceConf() {\n\t\treturn this.$$._conf;\n\t}\n\n\t/**\n\t * Bind flicking custom events\n\t */\n\tbindEvents() {\n\t\tthis.$$.on({\n\t\t\tflick: this._onFlick.bind(this),\n\t\t\tflickEnd: this._onFlickEnd.bind(this),\n\t\t\trestore: this._onRestore.bind(this)\n\t\t});\n\t}\n\n\t/**\n\t * 'flick' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onFlick(e) {\n\t\tconst pos = e.pos;\n\t\tconst distance = e.distance || pos - this.$$._conf.panel.size;\n\n\t\tthis.onFlick && this.onFlick(e, distance);\n\t}\n\n\t/**\n\t * 'flickEnd' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onFlickEnd(e) {\n\t\tconst type = (e.direction & consts.DIRECTION_LEFT && \"next\") ||\n\t\t\t(e.direction & consts.DIRECTION_RIGHT && \"prev\") || \"\";\n\n\t\ttype && this.arrange && this.arrange(type);\n\t\tthis.onFlickEnd && this.onFlickEnd(e);\n\t}\n\n\t/**\n\t * 'restore' event handler\n\t * @param {Object} e\n\t * @private\n\t */\n\t_onRestore(e) {\n\t\tthis.onRestore && this.onRestore(e);\n\t}\n\n\t/**\n\t * Constant to expose Flicking's utility\n\t * @ko Flicking 유틸리티\n\t * @name utils\n\t * @memberof Plugin\n\t * @static\n\t * @constant\n\t * @type {Object}\n\t * @private\n\t */\n\tstatic utils = utils;\n\n\t/**\n\t * Constant to expose Flicking's constant value\n\t * @ko Flicking 상수 값\n\t * @name utils\n\t * @memberof Plugin\n\t * @static\n\t * @constant\n\t * @type {Object}\n\t * @private\n\t */\n\tstatic consts = consts;\n\n\t/**\n\t * Version info string\n\t * @ko 버전정보 문자열\n\t * @name VERSION\n\t * @memberof Plugin\n\t * @static\n\t * @type {String}\n\t * @example\n\t * eg.Flicking.plugin.OpacityEffect.VERSION;  // ex) 2.2.0\n\t */\n\tstatic VERSION = \"2.4.1\";\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;;;;AAIA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;;;;;AACA;;;;AAIA;AAAA;AACA;AAAA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAOA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAzHA;AACA;AADA;AA2HA;;;;;;;ACtKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;;;;;;;;AAOA;;;AAAA;;;AACA;;;;AAIA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAEA;;;;;;;;;AAKA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;;;;;AAIA;AACA;AACA;AAEA;;;;;AAGA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;AAGA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAEA;;;;;;;AAKA;AACA;AACA;AAEA;AACA;AAEA;;;;;;;AAKA;AACA;AAGA;AACA;AACA;AAEA;;;;;;;AAKA;AACA;AACA;AAEA;;;;;;;;;;;;;;;AA9FA;AAAA;AAAA;AAAA;;;;;;;;;AC1BA;;;;A","sourceRoot":""}