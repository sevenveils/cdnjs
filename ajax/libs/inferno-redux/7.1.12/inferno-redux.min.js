!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("hoist-non-inferno-statics"),require("inferno"),require("redux")):"function"==typeof define&&define.amd?define(["exports","hoist-non-inferno-statics","inferno","redux"],n):n(((t=t||self).Inferno=t.Inferno||{},t.Inferno.Redux=t.Inferno.Redux||{}),t.hoistNonReactStatics,t.Inferno,t.redux)}(this,function(t,y,m,e){"use strict";function n(){}function P(t,n,e){this.store=t,this.parentSub=n,this.onStateChange=e,this.unsubscribe=null,this.listeners=r}y=y&&y.hasOwnProperty("default")?y.default:y;var r={clear:function(){},notify:function(){},subscribe:function(t){return n}};function S(t,n){var e={};if(t)for(var r in t)e[r]=t[r];if(n)for(var o in n)e[o]=n[o];return e}function C(){}function O(t,n){if(!t)throw new Error(n)}P.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},P.prototype.notifyNestedSubs=function(){this.listeners.notify()},P.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},P.prototype.trySubscribe=function(){var e,r;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],r=[],{clear:function(){e=r=null},notify:function(){for(var t=e=r,n=0;n<t.length;++n)t[n]()},subscribe:function(t){var n=!0;return r===e&&(r=e.slice()),r.push(t),function(){n&&null!==e&&(n=!1,r===e&&(r=e.slice()),r.splice(r.indexOf(t),1))}}}))},P.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=r)};var o=0,w={};function i(t){return"ConnectAdvanced("+t+")"}function s(p,t){var u=t.getDisplayName;void 0===u&&(u=i);var a=t.methodName;void 0===a&&(a="connectAdvanced");var c=t.renderCountProp;void 0===c&&(c=null);var d=t.shouldHandleStateChanges;void 0===d&&(d=!0);var f=t.storeKey;void 0===f&&(f="store");var h=t.withRef;void 0===h&&(h=!1);var l=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===n.indexOf(r)&&(e[r]=t[r]);return e}(t,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),v=f+"Subscription",b=o++;return function(n){O("function"==typeof n,"You must pass a component to the function returned by connect. Instead received "+n);var e,t=n.displayName||n.name||"Component",r=u(t),i=S(l,{WrappedComponent:n,displayName:r,getDisplayName:u,methodName:a,renderCountProp:c,shouldHandleStateChanges:d,storeKey:f,withRef:h,wrappedComponentName:t}),o=((e=m.Component)&&(s.__proto__=e),((s.prototype=Object.create(e&&e.prototype)).constructor=s).prototype.getChildContext=function(){var t,n=this.propsMode?null:this.subscription;return(t={})[v]=n||this.context[v],t},s.prototype.componentWillMount=function(){d&&!this.$SSR&&(this.subscription.trySubscribe(),this.selector.run(this.props))},s.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},s.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},s.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=C,this.store=null,this.selector.run=C,this.selector.shouldComponentUpdate=!1},s.prototype.getWrappedInstance=function(){return O(h,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+a+"() call."),this.wrappedInstance},s.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},s.prototype.initSelector=function(){var e,r,o,t=p(this.store.dispatch,i);this.selector=(e=t,r=this.store,o={error:null,props:{},run:function(t){try{var n=e(r.getState(),t);(n!==o.props||o.error)&&(o.shouldComponentUpdate=!0,o.props=n,o.error=null)}catch(t){o.shouldComponentUpdate=!0,o.error=t}},shouldComponentUpdate:!1}),this.selector.run(this.props)},s.prototype.initSubscription=function(){if(d){var t=(this.propsMode?this.props:this.context)[v];this.subscription=new P(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},s.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(w)):this.notifyNestedSubs()},s.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},s.prototype.isSubscribed=function(){return Boolean(this.subscription&&this.subscription.isSubscribed())},s.prototype.addExtraProps=function(t){if(!c)return t;var n=S(t,null);return c&&(n[c]=this.renderCount++),this.propsMode&&this.subscription&&(n[v]=this.subscription),n},s.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return m.normalizeProps(m.createComponentVNode(2,n,this.addExtraProps(t.props),null,h?this.setWrappedInstance:null))},s);function s(t,n){e.call(this,t,n),this.version=b,this.state={},this.renderCount=0,this.store=this.props[f]||this.context[f],this.propsMode=Boolean(t[f]),this.setWrappedInstance=this.setWrappedInstance.bind(this),O(!!this.store,'Could not find "'+f+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+f+'" as a prop to "'+r+'".'),this.initSelector(),this.initSubscription()}return o.displayName=r,o.WrappedComponent=n,y(o,n)}}var p=function(e){function t(t,n){e.call(this,t,n),this.store=t.store}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return this.props.children},t}(m.Component);function g(t,n){if(t===n)return!0;var e=0,r=0;for(var o in t){if(f.call(t,o)&&t[o]!==n[o])return!1;e++}for(var i in n)f.call(n,i)&&r++;return e===r}function u(o){return function(t,n){function e(){return r}var r=o(t,n);return e.dependsOnOwnProps=!1,e}}function a(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?!!t.dependsOnOwnProps:1!==t.length}function c(o,t){return function(t,n){n.displayName;var r=function(t,n){return r.dependsOnOwnProps?r.mapToProps(t,n):r.mapToProps(t)};return r.dependsOnOwnProps=a(o),r.mapToProps=function(t,n){r.mapToProps=o;var e=r(t,n);return"function"==typeof e&&(r.mapToProps=e,r.dependsOnOwnProps=a(e),e=r(t,n)),e},r}}function d(t,n,e){var r=S(e,t);if(n)for(var o in n)r[o]=n[o];return r}p.displayName="Provider";var f=Object.prototype.hasOwnProperty,N=[function(t){return"function"==typeof t?c(t):void 0},function(t){return t?void 0:u(function(t){return{dispatch:t}})},function(n){return n&&"object"==typeof n?u(function(t){return e.bindActionCreators(n,t)}):void 0}],x=[function(t){return"function"==typeof t?c(t):void 0},function(t){return t?void 0:u(function(){return{}})}],E=[function(t){return"function"==typeof t?(u=t,function(t,n){n.displayName;var o,i=n.pure,s=n.areMergedPropsEqual,p=!1;return function(t,n,e){var r=u(t,n,e);return p?i&&s(r,o)||(o=r):(p=!0,o=r),o}}):void 0;var u},function(t){return t?void 0:function(){return d}}];function q(t,n){var e=n.initMapStateToProps,r=n.initMapDispatchToProps,o=n.initMergeProps,i=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===n.indexOf(r)&&(e[r]=t[r]);return e}(n,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),s=e(t,i),p=r(t,i),u=o(t,i);return(i.pure?function(u,a,c,d,t){var f,h,l,v,b,y=t.areStatesEqual,m=t.areOwnPropsEqual,P=t.areStatePropsEqual,S=!1;return function(t,n){return S?(e=t,s=!m(r=n,h),p=!y(e,f),f=e,h=r,s&&p?(l=u(f,h),a.dependsOnOwnProps&&(v=a(d,h)),b=c(l,v,h)):s?(u.dependsOnOwnProps&&(l=u(f,h)),a.dependsOnOwnProps&&(v=a(d,h)),b=c(l,v,h)):(p&&(o=u(f,h),i=!P(o,l),l=o,i&&(b=c(l,v,h))),b)):(l=u(f=t,h=n),v=a(d,h),b=c(l,v,h),S=!0,b);var e,r,o,i,s,p}}:function(e,r,o,i){return function(t,n){return o(e(t,n),r(i,n),n)}})(s,p,u,t,i)}function M(e,t,r){for(var n=t.length-1;0<=n;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function T(t,n){return t===n}var h=function(t){void 0===t&&(t={});var h=t.connectHOC;void 0===h&&(h=s);var l=t.mapStateToPropsFactories;void 0===l&&(l=x);var v=t.mapDispatchToPropsFactories;void 0===v&&(v=N);var b=t.mergePropsFactories;void 0===b&&(b=E);var y=t.selectorFactory;return void 0===y&&(y=q),function(t,n,e,r){void 0===r&&(r={});var o=r.pure;void 0===o&&(o=!0);var i=r.areStatesEqual;void 0===i&&(i=T);var s=r.areOwnPropsEqual;void 0===s&&(s=g);var p=r.areStatePropsEqual;void 0===p&&(p=g);var u=r.areMergedPropsEqual;void 0===u&&(u=g);var a=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===n.indexOf(r)&&(e[r]=t[r]);return e}(r,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),c=M(t,l,"mapStateToProps"),d=M(n,v,"mapDispatchToProps"),f=M(e,b,"mergeProps");return h(y,S({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:!!t,areMergedPropsEqual:u,areOwnPropsEqual:s,areStatePropsEqual:p,areStatesEqual:i,initMapDispatchToProps:d,initMapStateToProps:c,initMergeProps:f,pure:o},a))}}();t.Provider=p,t.connect=h,t.connectAdvanced=s,t.wrapActionCreators=function(n){return function(t){return e.bindActionCreators(n,t)}},Object.defineProperty(t,"__esModule",{value:!0})});
