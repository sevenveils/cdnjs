/*!
 * chillout v1.1.3 - Reduce JavaScript CPU usage by asynchronous iteration
 * Copyright (c) 2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(a,b,c){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=c():exports[a]=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("chillout",this,function(){"use strict";function a(a){return new Promise(function(d,e){function f(a){a.then(function(a){a===!1?d():g()},function(a){e(a)})}function g(){for(var i,j,k,l,m,n,o,p=Date.now();;){try{if(i=a.next(),i===!1)return void d();if(b(i))return void f(i)}catch(q){return void e(q)}if(n=Date.now(),o=n-p,h+=o,h>1e3)break;if(!(10>o||(j=Math.min(10,Math.floor(o/10)),k=n%(10-j))))break}m=Math.sqrt(o)*Math.min(1e3,o)/80,l=Math.min(1e3,Math.floor(m)),h=0,l>10?setTimeout(g,l):c.nextTick(g)}var h=0;c.nextTick(g)})}function b(a){return null!=a&&"function"==typeof a.then}var c={};"function"==typeof setImmediate?c.nextTick=function(a){setImmediate(a)}:"object"==typeof process&&"function"==typeof process.nextTick?c.nextTick=function(a){process.nextTick(a)}:"function"==typeof MessageChannel?c.nextTick=function(){var a=new MessageChannel,b={},c=b;return a.port1.onmessage=function(){b=b.next;var a=b.task;delete b.task,a()},function(b){c=c.next={task:b},a.port2.postMessage(0)}}():c.nextTick=function(a){setTimeout(a,0)};var d={each:function(a,b,c){var d,e=0;if(Array.isArray(a))return d=a.length,{next:function(){return e>=d?!1:b.call(c,a[e],e++,a)}};var f=Object.keys(a);return d=f.length,{next:function(){if(e>=d)return!1;var g=f[e++];return b.call(c,a[g],g,a)}}},repeat:function(a,b,c){var d,e,f;return a&&"object"==typeof a?(d=a.start||0,e=a.step||1,f=a.end):(d=0,e=1,f=a),{next:function(){var a=b.call(c,d);return d+=e,d>=f?!1:a}}},forever:function(a,b){return{next:function(){return a.call(b)}}}};return c.each=function(b,c,e){return a(d.each(b,c,e))},c.repeat=function(b,c,e){return a(d.repeat(b,c,e))},c.forever=function(b,c){return a(d.forever(b,c))},c});