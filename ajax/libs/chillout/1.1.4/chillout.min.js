/*!
 * chillout v1.1.4 - Reduce JavaScript CPU usage by asynchronous iteration
 * Copyright (c) 2016 polygon planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(a,b,c){"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports?module.exports=c():exports[a]=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("chillout",this,function(){"use strict";function a(a){return new Promise(function(c,e){function f(a){a.then(function(a){a===!1?c():g()},function(a){e(a)})}function g(){for(var i,j,k,l,m,n,o,p=Date.now();;){try{if(i=a.next(),i===!1)return void c();if(b(i))return void f(i)}catch(q){return void e(q)}if(n=Date.now(),o=n-p,h+=o,h>1e3)break;if(!(10>o||(j=Math.min(10,Math.floor(o/10)),k=n%(10-j))))break}m=Math.sqrt(o)*Math.min(1e3,o)/80,l=Math.min(1e3,Math.floor(m)),h=0,l>10?setTimeout(g,l):d.nextTick(g)}var h=0;d.nextTick(g)})}function b(a){return null!=a&&"function"==typeof a.then}function c(a){return null!=a&&"number"==typeof a.length&&a.length>=0}var d={};"function"==typeof setImmediate?d.nextTick=function(a){setImmediate(a)}:"object"==typeof process&&"function"==typeof process.nextTick?d.nextTick=function(a){process.nextTick(a)}:"function"==typeof MessageChannel?d.nextTick=function(){var a=new MessageChannel,b={},c=b;return a.port1.onmessage=function(){b=b.next;var a=b.task;delete b.task,a()},function(b){c=c.next={task:b},a.port2.postMessage(0)}}():d.nextTick=function(a){setTimeout(a,0)};var e={each:function(a,b,d){var e,f=0;if(c(a))return e=a.length,{next:function(){return f>=e?!1:b.call(d,a[f],f++,a)}};var g=Object.keys(a);return e=g.length,{next:function(){if(f>=e)return!1;var c=g[f++];return b.call(d,a[c],c,a)}}},repeat:function(a,b,c){var d,e,f;return a&&"object"==typeof a?(d=a.start||0,e=a.step||1,f=a.end):(d=0,e=1,f=a),{next:function(){var a=b.call(c,d);return d+=e,d>=f?!1:a}}},forever:function(a,b){return{next:function(){return a.call(b)}}}};return d.each=function(b,c,d){return a(e.each(b,c,d))},d.repeat=function(b,c,d){return a(e.repeat(b,c,d))},d.forever=function(b,c){return a(e.forever(b,c))},d});