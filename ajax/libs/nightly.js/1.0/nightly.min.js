var defaults={nightMode:{body:"#282828",texts:"#f5f5f5",inputs:{color:"#f5f5f5",backgroundColor:"#313131"},buttons:{color:"#f5f5f5",backgroundColor:"#757575"},textareas:{color:"#f5f5f5",backgroundColor:"#313131"},links:"#009688",classes:[],isTwbs3:!1},nightCallback:function(){},dayCallback:function(){}},Nightly=function(t,s,o){this.isDark=!1,this.initialTheme=null,this.nightMode=t?{body:t.body||defaults.nightMode.body,texts:t.texts||defaults.nightMode.texts,inputs:{color:t.inputs?t.inputs.color:defaults.nightMode.inputs.color,backgroundColor:t.inputs?t.inputs.backgroundColor:defaults.nightMode.inputs.backgroundColor},buttons:{color:t.buttons?t.buttons.color:defaults.nightMode.buttons.color,backgroundColor:t.buttons?t.buttons.backgroundColor:defaults.nightMode.buttons.backgroundColor},textareas:{color:t.textareas?t.textareas.color:defaults.nightMode.textareas.color,backgroundColor:t.textareas?t.textareas.backgroundColor:defaults.nightMode.textareas.backgroundColor},links:t.links||defaults.nightMode.links,classes:t.classes||defaults.nightMode.classes,isTwbs3:t.isTwbs3||defaults.nightMode.isTwbs3}:defaults.nightMode,this.darkifyCallback=s||defaults.nightCallback,this.lightifyCallback=o||defaults.dayCallback,this.linkTags=document.getElementsByTagName("a"),this.inputTags=document.getElementsByTagName("input"),this.buttons=document.getElementsByTagName("button"),this.textareaTags=document.getElementsByTagName("textarea"),this.darkify=function(){this.isDark=!0,this.initialTheme={body:document.body.style.backgroundColor,texts:document.body.style.color,links:this.linkTags[0]?this.linkTags[0].style.color:"",inputs:{color:this.inputTags[0]?this.inputTags[0].style.color:"",backgroundColor:this.inputTags[0]?this.inputTags[0].style.backgroundColor:""},buttons:{color:this.buttons[0]?this.buttons[0].style.color:"",backgroundColor:this.buttons[0]?this.buttons[0].style.color:""},textareas:{color:this.textareaTags[0]?this.textareaTags[0].style.color:"",backgroundColor:this.textareaTags[0]?this.textareaTags[0].style.backgroundColor:""}};var t=this.linkTags.length?this.linkTags.length:0,s=this.inputTags.length?this.inputTags.length:0,o=this.buttons.length?this.buttons.length:0,e=this.textareaTags.length?this.textareaTags.length:0;document.body.style.backgroundColor=this.nightMode.body,document.body.style.color=this.nightMode.texts;for(var i=0;t>i;i++)this.linkTags[i].style.color=this.nightMode.links;for(i=0;s>i;i++)this.inputTags[i].style.color=this.nightMode.inputs.color,this.inputTags[i].style.backgroundColor=this.nightMode.inputs.backgroundColor;for(i=0;o>i;i++)this.buttons[i].style.color=this.nightMode.buttons.color,this.buttons[i].style.borderColor=this.nightMode.buttons.backgroundColor,this.buttons[i].style.backgroundColor=this.nightMode.buttons.backgroundColor;for(i=0;e>i;i++)this.textareaTags[i].style.color=this.nightMode.textareas.color,this.textareaTags[i].style.borderColor=this.nightMode.textareas.color,this.textareaTags[i].style.backgroundColor=this.nightMode.textareas.backgroundColor;this.nightMode.classes.length>0&&this.applyClasses(),this.darkifyCallback()},this.lightify=function(){if(this.initialTheme){this.isDark=!1,document.body.style.backgroundColor=this.initialTheme.body,document.body.style.color=this.initialTheme.texts;for(var t=this.linkTags.length?this.linkTags.length:0,s=this.inputTags.length?this.inputTags.length:0,o=this.buttons.length?this.buttons.length:0,e=this.textareaTags.length?this.textareaTags.length:0,i=0;t>i;i++)this.linkTags[i].style.color=this.initialTheme.links;for(i=0;s>i;i++)this.inputTags[i].style.color=this.initialTheme.inputs.color,this.inputTags[i].style.backgroundColor=this.initialTheme.inputs.backgroundColor;for(i=0;o>i;i++)this.buttons[i].style.color=this.initialTheme.buttons.color,this.buttons[i].style.borderColor=this.initialTheme.buttons.backgroundColor,this.buttons[i].style.backgroundColor=this.initialTheme.buttons.backgroundColor;for(i=0;e>i;i++)this.textareaTags[i].style.color=this.initialTheme.textareas.color,this.textareaTags[i].style.borderColor=this.initialTheme.textareas.backgroundColor,this.textareaTags[i].style.backgroundColor=this.initialTheme.textareas.backgroundColor;this.nightMode.classes.length>0&&this.removeClasses()}this.lightifyCallback()},this.toggle=function(){this.isDark?this.lightify():this.darkify()},this.twbs3Darkify=function(){if(this.nightMode.isTwbs3)for(var t=document.getElementsByClassName("navbar"),s=t.length?t.length:0,o=0;s>o;o++)t[o].className+=" navbar-inverse"},this.applyClasses=function(){for(var t,s=this.nightMode.classes,o=0;o<s.length;o++){t=document.getElementsByClassName(s[o].to);for(var e=0;e<t.length;e++)t[e].classList.add(s[o].apply)}},this.removeClasses=function(){for(var t,s=this.nightMode.classes,o=0;o<s.length;o++){t=document.getElementsByClassName(s[o].to);for(var e=0;e<t.length;e++)t[e].classList.remove(s[o].apply)}}};