!function(t){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],t):"object"==typeof module&&module.exports?t(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):t(window.loadImage)}(function(h){"use strict";var e=h.hasCanvasOption,a=h.hasMetaOption,l=h.transformCoordinates,s=h.getTransformedOptions;h.hasCanvasOption=function(t){return!!t.orientation||e.call(h,t)},h.hasMetaOption=function(t){return t&&!0===t.orientation||a.call(h,t)},h.transformCoordinates=function(t,e){l.call(h,t,e);var a=t.getContext("2d"),o=t.width,i=t.height,r=t.style.width,n=t.style.height,s=e.orientation;if(s&&!(8<s))switch(4<s&&(t.width=i,t.height=o,t.style.width=n,t.style.height=r),s){case 2:a.translate(o,0),a.scale(-1,1);break;case 3:a.translate(o,i),a.rotate(Math.PI);break;case 4:a.translate(0,i),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-i);break;case 7:a.rotate(.5*Math.PI),a.translate(o,-i),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-o,0)}},h.getTransformedOptions=function(t,e,a){var o,i,r=s.call(h,t,e),n=r.orientation;if(!0===n&&a&&a.exif&&(n=a.exif.get("Orientation")),!n||8<n||1===n)return r;for(i in o={},r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);switch(o.orientation=n){case 2:o.left=r.right,o.right=r.left;break;case 3:o.left=r.right,o.top=r.bottom,o.right=r.left,o.bottom=r.top;break;case 4:o.top=r.bottom,o.bottom=r.top;break;case 5:o.left=r.top,o.top=r.left,o.right=r.bottom,o.bottom=r.right;break;case 6:o.left=r.top,o.top=r.right,o.right=r.bottom,o.bottom=r.left;break;case 7:o.left=r.bottom,o.top=r.right,o.right=r.top,o.bottom=r.left;break;case 8:o.left=r.bottom,o.top=r.left,o.right=r.top,o.bottom=r.right}return 4<o.orientation&&(o.maxWidth=r.maxHeight,o.maxHeight=r.maxWidth,o.minWidth=r.minHeight,o.minHeight=r.minWidth,o.sourceWidth=r.sourceHeight,o.sourceHeight=r.sourceWidth),o}});