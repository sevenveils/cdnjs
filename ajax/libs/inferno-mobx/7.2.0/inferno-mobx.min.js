!function(e,t){"object"===typeof exports&&"undefined"!==typeof module?t(exports,require("mobx"),require("inferno"),require("hoist-non-inferno-statics")):"function"===typeof define&&define.amd?define(["exports","mobx","inferno","hoist-non-inferno-statics"],t):t(((e=e||self).Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),e.mobx,e.Inferno,e.hoistNonReactStatics)}(this,function(e,t,n,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var r=function(){this.listeners=[]};function i(e){console.error(e)}function s(e){return!(e.prototype&&e.prototype.render)}r.prototype.on=function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}},r.prototype.emit=function(e){for(var t=this.listeners,n=0,o=t.length;n<o;++n)t[n](e)};var a=!1,c=!1,p=!1,u=new r;function f(e){var t=e.$LI.dom;u.emit({component:e,event:"render",node:t,renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart})}var d=new r;function l(e,t,n){var o=e[t],r=h[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function m(e,t){if(null==e||null==t||"object"!==typeof e||"object"!==typeof t)return e!==t;var n,o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(var r=o.length-1;r>=0;r--)if(t[n=o[r]]!==e[n])return!0;return!1}var h={componentWillMount:function(){var e=this;if(!0===c)return;var n=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=!1;function r(e){var n=this[e],r=t.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return r.reportObserved(),n},set:function(e){m(n,e)?(n=e,o=!0,r.reportChanged(),o=!1):n=e}})}r.call(this,"props"),r.call(this,"state");var i=this,s=this.render.bind(this),p=function(){return s(i.props,i.state,i.context)},u=null,f=!1,l=function(){var n;f=!1;var o=null;if(u.track(function(){a&&(e.__$mobRenderStart=Date.now());try{o=t._allowStateChanges(!1,p)}catch(e){n=e}a&&(e.__$mobRenderEnd=Date.now())}),n)throw d.emit(n),n;return o};this.render=function(){return(u=new t.Reaction(n+".render()",function(){f||(f=!0,"function"===typeof e.componentWillReact&&e.componentWillReact(),o||e.forceUpdate())})).reactComponent=e,l.$mobx=u,e.render=l,l()}},componentWillUnmount:function(){if(!0===c)return;if(this.render.$mobx&&this.render.$mobx.dispose(),a){var e=this.$LI.dom;u.emit({component:this,event:"destroy",node:e})}},componentDidMount:function(){a&&f(this)},componentDidUpdate:function(){a&&f(this)},shouldComponentUpdate:function(e,t){if(c&&i("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t)return!0;return m(this.props,e)}};function v(e,t){var o;if("string"===typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return p||(p=!0,i('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?g.apply(null,e)(v(t)):function(t){return v(e,t)};var r,s=e;if(!0===s.isMobxInjector&&i("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),"function"===typeof s&&(!s.prototype||!s.prototype.render))return v(((o=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e,t,n){return s(e,n)},t}(n.Component)).displayName=s.displayName||s.name,o.defaultProps=s.defaultProps,o));if(!s)throw new Error("Please pass a valid component to 'observer'");return l(r=s.prototype||s,"componentWillMount",!0),l(r,"componentDidMount",!1),l(r,"componentWillUnmount",!1),l(r,"componentDidUpdate",!1),r.shouldComponentUpdate||(r.shouldComponentUpdate=h.shouldComponentUpdate),s.isMobXReactObserver=!0,s}var y=v(function(e){return(0,e.children)()});y.displayName="Observer";var b={isMobxInjector:{configurable:!0,enumerable:!0,value:!0,writable:!0}};function x(e,t,r){var i="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");r&&(i+="-with-"+r);var a=function(o){function r(e,t){o.call(this,e,t),this.storeRef=this.storeRef.bind(this)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.storeRef=function(e){this.wrappedInstance=e},r.prototype.render=function(o,r,i){var a,c={};for(a in o)c[a]=o[a];var p=e(i.mobxStores||{},c,i)||{};for(a in p)c[a]=p[a];return n.createComponentVNode(2,t,c,null,s(t)?null:this.storeRef)},r}(n.Component);return a.displayName=i,a.isMobxInjector=!1,o(a,t),a.wrappedComponent=t,Object.defineProperties(a,b),a}function _(e){return function(t,n){for(var o=0,r=e.length;o<r;++o){var i=e[o];i in n||(n[i]=t[i])}return n}}function g(){var e,t=arguments;if("function"===typeof arguments[0])return e=arguments[0],function(t){var n=x(e,t);return n.isMobxInjector=!1,(n=v(n)).isMobxInjector=!0,n};for(var n=[],o=0;o<arguments.length;++o)n.push(t[o]);return e=_(n),function(t){return x(e,t,n.join("-"))}}var j={children:!0,key:!0,ref:!0},C=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(e){return e.children},t.prototype.getChildContext=function(){var e={},t=this.props,n=this.context.mobxStores;if(n)for(var o in n)e[o]=n[o];for(var r in t)void 0===j[r]&&"suppressChangedStoreWarning"!==r&&(e[r]=t[r]);return{mobxStores:e}},t}(n.Component);e.EventEmitter=r,e.Observer=y,e.Provider=C,e.errorsReporter=d,e.inject=g,e.observer=v,e.onError=function(e){return d.on(e)},e.renderReporter=u,e.trackComponents=function(){a?(a=!1,u.listeners.length=0):(a=!0,i("Do not turn trackComponents on in production, its expensive. For tracking dom nodes you need inferno-compat."))},e.useStaticRendering=function(e){c=e},Object.defineProperty(e,"__esModule",{value:!0})});
