!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mobx"),require("inferno"),require("hoist-non-inferno-statics")):"function"==typeof define&&define.amd?define(["exports","mobx","inferno","hoist-non-inferno-statics"],t):t(((e=e||self).Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),e.mobx,e.Inferno,e.hoistNonReactStatics)}(this,function(e,u,p,o){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o;var t=function(){this.listeners=[]};function i(e){console.error(e)}t.prototype.on=function(t){var n=this;return this.listeners.push(t),function(){var e=n.listeners.indexOf(t);-1!==e&&n.listeners.splice(e,1)}};var f=!(t.prototype.emit=function(e){for(var t=this.listeners,n=0,o=t.length;n<o;++n)t[n](e)}),d=!1,s=!1,n=new t;function r(e){var t=e.$LI.dom;n.emit({component:e,event:"render",node:t,renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart})}var l=new t;function a(e,t,n){var o=e[t],r=c[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function m(e,t){if(null==e||null==t||"object"!=typeof e||"object"!=typeof t)return e!==t;var n,o=Object.keys(e);if(o.length!==Object.keys(t).length)return!0;for(var r=o.length-1;0<=r;r--)if(t[n=o[r]]!==e[n])return!0;return!1}var c={componentWillMount:function(){var n=this;if(!0!==d){var e=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",o=!1;p.call(this,"props"),p.call(this,"state");var t=this,r=this.render.bind(this),i=function(){return r(t.props,t.state,t.context)},s=null,a=!1,c=function(){var t;a=!1;var e=null;if(s.track(function(){f&&(n.__$mobRenderStart=Date.now());try{e=u._allowStateChanges(!1,i)}catch(e){t=e}f&&(n.__$mobRenderEnd=Date.now())}),t)throw l.emit(t),t;return e};this.render=function(){return(s=new u.Reaction(e+".render()",function(){a||(a=!0,"function"==typeof n.componentWillReact&&n.componentWillReact(),o||n.forceUpdate())})).reactComponent=n,c.$mobx=s,(n.render=c)()}}function p(e){var t=this[e],n=u.createAtom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return n.reportObserved(),t},set:function(e){m(t,e)?(t=e,o=!0,n.reportChanged(),o=!1):t=e}})}},componentWillUnmount:function(){if(!0!==d&&(this.render.$mobx&&this.render.$mobx.dispose(),f)){var e=this.$LI.dom;n.emit({component:this,event:"destroy",node:e})}},componentDidMount:function(){f&&r(this)},componentDidUpdate:function(){f&&r(this)},shouldComponentUpdate:function(e,t){return d&&i("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||m(this.props,e)}};function h(t,e){var n;if("string"==typeof t)throw new Error("Store names should be provided as array");if(Array.isArray(t))return s||(s=!0,i('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?x.apply(null,t)(h(e)):function(e){return h(t,e)};var o,r=t;if(!0===r.isMobxInjector&&i("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),!("function"!=typeof r||r.prototype&&r.prototype.render))return h(((n=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(e,t,n){return r(e,n)},t}(p.Component)).displayName=r.displayName||r.name,n.defaultProps=r.defaultProps,n));if(!r)throw new Error("Please pass a valid component to 'observer'");return a(o=r.prototype||r,"componentWillMount",!0),a(o,"componentDidMount",!1),a(o,"componentWillUnmount",!1),a(o,"componentDidUpdate",!1),o.shouldComponentUpdate||(o.shouldComponentUpdate=c.shouldComponentUpdate),r.isMobXReactObserver=!0,r}var v=h(function(e){return(0,e.children)()});v.displayName="Observer";var b={isMobxInjector:{configurable:!0,enumerable:!0,value:!0,writable:!0}};function y(a,c,e){var t="inject-"+(c.displayName||c.name||c.constructor&&c.constructor.name||"Unknown");e&&(t+="-with-"+e);var n=function(n){function e(e,t){n.call(this,e,t),this.storeRef=this.storeRef.bind(this)}return n&&(e.__proto__=n),((e.prototype=Object.create(n&&n.prototype)).constructor=e).prototype.storeRef=function(e){this.wrappedInstance=e},e.prototype.render=function(e,t,n){var o,r={};for(o in e)r[o]=e[o];var i,s=a(n.mobxStores||{},r,n)||{};for(o in s)r[o]=s[o];return p.createComponentVNode(2,c,r,null,(i=c).prototype&&i.prototype.render?this.storeRef:null)},e}(p.Component);return n.displayName=t,n.isMobxInjector=!1,o(n,c),n.wrappedComponent=c,Object.defineProperties(n,b),n}function x(){var n,i,e=arguments;if("function"==typeof arguments[0])return n=arguments[0],function(e){var t=y(n,e);return t.isMobxInjector=!1,(t=h(t)).isMobxInjector=!0,t};for(var t=[],o=0;o<arguments.length;++o)t.push(e[o]);return i=t,n=function(e,t){for(var n=0,o=i.length;n<o;++n){var r=i[n];r in t||(t[r]=e[r])}return t},function(e){return y(n,e,t.join("-"))}}var _={children:!0,key:!0,ref:!0},g=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),((t.prototype=Object.create(e&&e.prototype)).constructor=t).prototype.render=function(e){return e.children},t.prototype.getChildContext=function(){var e={},t=this.props,n=this.context.mobxStores;if(n)for(var o in n)e[o]=n[o];for(var r in t)void 0===_[r]&&"suppressChangedStoreWarning"!==r&&(e[r]=t[r]);return{mobxStores:e}},t}(p.Component);e.errorsReporter=l,e.inject=x,e.observer=h,e.onError=function(e){return l.on(e)},e.EventEmitter=t,e.Observer=v,e.Provider=g,e.renderReporter=n,e.trackComponents=function(){f?(f=!1,n.listeners.length=0):(f=!0,i("Do not turn trackComponents on in production, its expensive. For tracking dom nodes you need inferno-compat."))},e.useStaticRendering=function(e){d=e},Object.defineProperty(e,"__esModule",{value:!0})});
