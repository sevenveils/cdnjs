var InstantClick=function(c,f){var u,n,r,d,h,m,a,t=navigator.userAgent,v="createTouch"in c,l={},p=!1,y=!1,g=!1,b=!1,T={},e=!1,E=!1,L=[],i={fetch:[],receive:[],wait:[],change:[]};function w(t){var e=t.indexOf("#");return e<0?t:t.substr(0,e)}function o(t){for(;"A"!=t.nodeName;)t=t.parentNode;return t}function A(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-instant"))return!1;if(t.hasAttribute("data-no-instant"))return!0}while(t=t.parentNode);return!1}function x(t){do{if(!t.hasAttribute)break;if(t.hasAttribute("data-no-instant"))return!1;if(t.hasAttribute("data-instant"))return!0}while(t=t.parentNode);return!1}function k(t,e){for(var n=0;n<i[t].length;n++)i[t][n](e)}function s(t,e,n,r){if(c.title=t,c.documentElement.replaceChild(e,c.body),n){history.pushState(null,null,n);var i=n.indexOf("#"),a=-1<i&&c.getElementById(n.substr(i+1)),o=0;if(a)for(;a.offsetParent;)o+=a.offsetTop,a=a.offsetParent;scrollTo(0,o),u=w(n)}else scrollTo(0,r);D(),z.done(),k("change",!1)}function M(){E=e=!1}function C(t){I(o(t.target).href)}function Y(t){var e=o(t.target);e.addEventListener("mouseout",B),a?(n=e.href,r=setTimeout(I,a)):I(e.href)}function H(t){var e=o(t.target);m?e.removeEventListener("mousedown",C):e.removeEventListener("mouseover",Y),I(e.href)}function O(t){1<t.which||t.metaKey||t.ctrlKey||(t.preventDefault(),S(o(t.target).href))}function B(){if(r)return clearTimeout(r),void(r=!1);e&&!E&&(d.abort(),M())}function N(){if(!(d.readyState<4)&&0!=d.status){if(T.ready=+new Date-T.start,k("receive"),d.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var t=c.implementation.createHTMLDocument("");t.documentElement.innerHTML=d.responseText,y=t.title,b=t.body;var e=w(p);l[e]={body:b,title:y,scrollY:e in l?l[e].scrollY:0};for(var n,r,i=t.head.children,a=0,o=i.length-1;0<=o;o--)if((n=i[o]).hasAttribute("data-instant-track")){r=n.getAttribute("href")||n.getAttribute("src")||n.innerHTML;for(var s=L.length-1;0<=s;s--)L[s]==r&&a++}a!=L.length&&(g=!0)}else g=!0;E&&(E=!1,S(p))}}function D(t){for(var e,n=c.getElementsByTagName("a"),r=f.protocol+"//"+f.host,i=n.length-1;0<=i;i--)(e=n[i]).target||e.hasAttribute("download")||0!=e.href.indexOf(r+"/")||-1<e.href.indexOf("#")&&w(e.href)==u||(h?!x(e):A(e))||(e.addEventListener("touchstart",H),m?e.addEventListener("mousedown",C):e.addEventListener("mouseover",Y),e.addEventListener("click",O));if(!t){var a,o,s,d,l=c.body.getElementsByTagName("script");for(i=0,j=l.length;i<j;i++)(a=l[i]).hasAttribute("data-no-instant")||(o=c.createElement("script"),a.src&&(o.src=a.src),a.innerHTML&&(o.innerHTML=a.innerHTML),s=a.parentNode,d=a.nextSibling,s.removeChild(a),s.insertBefore(o,d))}}function I(t){!m&&"display"in T&&+new Date-(T.start+T.display)<100||(r&&(clearTimeout(r),r=!1),t||(t=n),e&&(t==p||E)||(p=t,g=b=E=!(e=!0),T={start:+new Date},k("fetch"),d.open("GET",t),d.send()))}function S(t){if("display"in T||(T.display=+new Date-T.start),r)return p&&p!=t?void(f.href=t):(I(t),z.start(0,!0),k("wait"),void(E=!0));if(e&&!E)if(g)f.href=p;else{if(!b)return z.start(0,!0),k("wait"),void(E=!0);l[u].scrollY=pageYOffset,M(),s(y,b,p)}else f.href=t}var z=function(){var i,a,o,n,r;function e(t,e){n=t,c.getElementById(i.id)&&c.body.removeChild(i),i.style.opacity="1",c.getElementById(i.id)&&c.body.removeChild(i),l(),e&&setTimeout(s,0),clearTimeout(r),r=setTimeout(d,500)}function s(){n=10,l()}function d(){98<=(n+=1+2*Math.random())?n=98:r=setTimeout(d,500),l()}function l(){a.style[o]="translate("+n+"%)",c.getElementById(i.id)||c.body.appendChild(i)}function f(){i.style.left=pageXOffset+"px",i.style.width=innerWidth+"px",i.style.top=pageYOffset+"px";var t=innerWidth/screen[90==Math.abs(orientation)?"height":"width"]*2;i.style[o]="scaleY("+t+")"}return{init:function(){(i=c.createElement("div")).id="instantclick",(a=c.createElement("div")).id="instantclick-bar",a.className="instantclick-bar",i.appendChild(a);var t=["Webkit","Moz","O"];if(!((o="transform")in a.style))for(var e=0;e<3;e++)t[e]+"Transform"in a.style&&(o=t[e]+"Transform");var n="transition";if(!(n in a.style))for(e=0;e<3;e++)t[e]+"Transition"in a.style&&(n="-"+t[e].toLowerCase()+"-"+n);var r=c.createElement("style");r.innerHTML="#instantclick{position:"+(v?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:2147483647;"+n+":opacity .25s .1s}.instantclick-bar{background:#29d;width:100%;margin-left:-100%;height:2px;"+n+":all .25s}",c.head.appendChild(r),v&&(f(),addEventListener("resize",f),addEventListener("scroll",f))},start:e,done:function t(){if(c.getElementById(i.id))return clearTimeout(r),n=100,l(),void(i.style.opacity="0");e(100==n?0:n),setTimeout(t,0)}}}(),W="pushState"in history&&(!t.match("Android")||t.match("Chrome/"))&&"file:"!=f.protocol;return{supported:W,init:function(){if(!u)if(W){for(var t=arguments.length-1;0<=t;t--){var e=arguments[t];!0===e?h=!0:"mousedown"==e?m=!0:"number"==typeof e&&(a=e)}u=w(f.href),l[u]={body:c.body,title:c.title,scrollY:pageYOffset};var n,r,i=c.head.children;for(t=i.length-1;0<=t;t--)(n=i[t]).hasAttribute("data-instant-track")&&(r=n.getAttribute("href")||n.getAttribute("src")||n.innerHTML,L.push(r));(d=new XMLHttpRequest).addEventListener("readystatechange",N),D(!0),z.init(),k("change",!0),addEventListener("popstate",function(){var t=w(f.href);t!=u&&(t in l?(l[u].scrollY=pageYOffset,s(l[u=t].title,l[t].body,!1,l[t].scrollY)):f.href=f.href)})}else k("change",!0)},on:function(t,e){i[t].push(e)}}}(document,location);