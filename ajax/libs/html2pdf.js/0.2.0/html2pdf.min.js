function html2pdf(e,a,i,t,h){if(e){a=a||"file.pdf","number"!=typeof t&&(t=1),h=h||144;var d=jsPDF_getSize(i=i||{}),r={width:d.width-2*t,height:d.height-2*t};r.ratio=r.height/r.width;r.pxheight=r.height*(d.k/.75)*(h/96),html2pdf_setStyle(".pdfpage {width: "+r.width+d.unit+"; height: "+r.height+d.unit+"; overflow: hidden;}");var o=html2pdf_makeTemplate(e,r,d),n={dpi:h,onrendered:function(e){for(var t in o)document.body.removeChild(o[t]);html2pdf_makePDF(e,a,r,i)}};html2canvas(o.template,n)}}function html2pdf_makeTemplate(e,t,a){function i(e,t){for(var a in t)e.style[a]=t[a]}if(overlayCSS={position:"fixed",backgroundColor:"rgba(0,0,0,0.8)",zIndex:1e3,left:0,right:0,bottom:0,top:0},templateCSS={position:"absolute",backgroundColor:"white",zIndex:1001,left:0,right:0,top:0,margin:"auto",width:t.width+a.unit},"string"==typeof e)(h=document.createElement("div")).innerHTML=e;else var h=e.cloneNode(!0);var d=document.createElement("div");return i(d,overlayCSS),i(h,templateCSS),document.body.appendChild(d),document.body.appendChild(h),{overlay:d,template:h}}function html2pdf_makePDF(e,t,a,i){var h=new jsPDF(i),d=e.getContext("2d"),r=e.height,o=a.pxheight,n=Math.ceil(r/o),g=d.getImageData(0,0,e.width,e.height);e.height=o;for(var p=0;p<n;p++){d.fillStyle="#FFFFFF",d.fillRect(-10,-10,e.width+20,e.height+20),d.putImageData(g,0,-p*o),p&&h.addPage();var l=e.toDataURL("image/jpeg",.95);h.addImage(l,"JPEG",margin,margin,a.width,a.height)}h.save(t)}function html2pdf_setStyle(e){var t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t.appendChild(a)}function jsPDF_getSize(e,t,a){var i={};"object"==typeof e&&(e=(i=e).orientation,t=i.unit||t,a=i.format||a),t=t||"mm",a=a||"a4",e=(""+(e||"P")).toLowerCase();var h=(""+a).toLowerCase();switch(pageFormats={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]},t){case"pt":k=1;break;case"mm":k=72/25.4;break;case"cm":k=72/2.54;break;case"in":k=72;break;case"px":k=96/72;break;case"pc":case"em":k=12;break;case"ex":k=6;break;default:throw"Invalid unit: "+t}if(pageFormats.hasOwnProperty(h))pageHeight=pageFormats[h][1]/k,pageWidth=pageFormats[h][0]/k;else try{pageHeight=a[1],pageWidth=a[0]}catch(e){throw new Error("Invalid format: "+a)}if("p"===e||"portrait"===e)e="p",pageWidth>pageHeight&&(tmp=pageWidth,pageWidth=pageHeight,pageHeight=tmp);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",pageHeight>pageWidth&&(tmp=pageWidth,pageWidth=pageHeight,pageHeight=tmp)}return{width:pageWidth,height:pageHeight,unit:t,k:k}}