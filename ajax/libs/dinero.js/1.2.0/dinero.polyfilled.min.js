(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define(b):a.Dinero=b()})(this,function(){'use strict';function a(a,b){return b={exports:{}},a(b,b.exports),b.exports}function b(a){return!isNaN(parseInt(a))&&isFinite(a)}function c(a){return b(a)&&100>=a&&0<=a}function d(a){return 0<a.length&&a.every(function(a){return 0<a})}function e(a){return 0==a%2}function g(a){return b(a)&&!r(a)}function h(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,b=a.toString().split('.')[1];return b?b.length:0}function i(a){return .5==q(a)%1}function j(){var c=Math.round,d=function(d,a){var b=function(a){return p(10,h(a))},e=t(b(d),b(a));return c(d*e)*c(a*e)/(e*e)},a={HALF_ODD:function(a){var b=c(a);return i(a)?e(b)?b-1:b:b},HALF_EVEN:function(a){var b=c(a);return i(a)?e(b)?b:b-1:b},HALF_UP:function(a){return c(a)},HALF_DOWN:function(a){return i(a)?v(a):c(a)},HALF_TOWARDS_ZERO:function(a){return i(a)?s(a)*v(q(a)):c(a)},HALF_AWAY_FROM_ZERO:function(a){return i(a)?s(a)*w(q(a)):c(a)}};return{add:function(c,a){return c+a},subtract:function(c,a){return c-a},multiply:function(c,a){return g(c)||g(a)?d(c,a):c*a},divide:function(c,a){return c/a},modulo:function(c,a){return c%a},round:function(b){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'HALF_EVEN';return a[c](b)}}}function k(a){var b=/^(?:(\$|USD)?0(?:(,)0)?(\.)?(0+)?|0(?:(,)0)?(\.)?(0+)?\s?(dollar)?)$/gm.exec(a);return{getMatches:function(){return null===b?[]:b.slice(1).filter(function(a){return'undefined'!=typeof a})},getMinimumFractionDigits:function(){var a=function(a){return'.'===a};return'undefined'==typeof this.getMatches().find(a)?0:this.getMatches()[pb.add(this.getMatches().findIndex(a),1)].split('').length},getCurrencyDisplay:function(){return{USD:'code',dollar:'name',$:'symbol'}[this.getMatches().find(function(a){return'USD'===a||'dollar'===a||'$'===a})]},getStyle:function(){return'undefined'==typeof this.getCurrencyDisplay(this.getMatches())?'decimal':'currency'},getUseGrouping:function(){return'undefined'!=typeof this.getMatches().find(function(a){return','===a})}}}function l(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:new Error;if(!a)throw b}function m(a){l(c(a),new RangeError('You must provide a numeric value between 0 and 100.'))}function n(a){l(d(a),new TypeError('You must provide a non-empty array of numeric values greater than 0.'))}function o(a){l(r(a),new TypeError('You must provide an integer.'))}var p=Math.pow,q=Math.abs,r=Number.isInteger,s=Math.sign,t=Math.max,u=Math.min,v=Math.floor,w=Math.ceil,x=a(function(a){var b=a.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=b)}),y=a(function(a){var b=a.exports={version:'2.5.5'};'number'==typeof __e&&(__e=b)}),z=y.version,A=function(a){return'object'==typeof a?null!==a:'function'==typeof a},B=function(a){if(!A(a))throw TypeError(a+' is not an object!');return a},C=function(a){try{return!!a()}catch(a){return!0}},D=!C(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),E=x.document,F=A(E)&&A(E.createElement),G=function(a){return F?E.createElement(a):{}},H=!D&&!C(function(){return 7!=Object.defineProperty(G('div'),'a',{get:function(){return 7}}).a}),I=function(a,b){if(!A(a))return a;var c,d;if(b&&'function'==typeof(c=a.toString)&&!A(d=c.call(a)))return d;if('function'==typeof(c=a.valueOf)&&!A(d=c.call(a)))return d;if(!b&&'function'==typeof(c=a.toString)&&!A(d=c.call(a)))return d;throw TypeError('Can\'t convert object to primitive value')},J=Object.defineProperty,K=D?Object.defineProperty:function(a,b,c){if(B(a),b=I(b,!0),B(c),H)try{return J(a,b,c)}catch(a){}if('get'in c||'set'in c)throw TypeError('Accessors not supported!');return'value'in c&&(a[b]=c.value),a},L={f:K},M=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}},N=D?function(a,b,c){return L.f(a,b,M(1,c))}:function(a,b,c){return a[b]=c,a},O={}.hasOwnProperty,P=function(a,b){return O.call(a,b)},Q=0,R=Math.random(),S=function(a){return'Symbol('.concat(void 0===a?'':a,')_',(++Q+R).toString(36))},T=a(function(a){var b=S('src'),c='toString',d=Function[c],e=(''+d).split(c);y.inspectSource=function(a){return d.call(a)},(a.exports=function(a,c,d,f){var g='function'==typeof d;g&&(P(d,'name')||N(d,'name',c)),a[c]===d||(g&&(P(d,b)||N(d,b,a[c]?''+a[c]:e.join(c+''))),a===x?a[c]=d:f?a[c]?a[c]=d:N(a,c,d):(delete a[c],N(a,c,d)))})(Function.prototype,c,function(){return'function'==typeof this&&this[b]||d.call(this)})}),U=function(a){if('function'!=typeof a)throw TypeError(a+' is not a function!');return a},V=function(d,e,a){return(U(d),void 0===e)?d:1===a?function(b){return d.call(e,b)}:2===a?function(c,a){return d.call(e,c,a)}:3===a?function(f,a,b){return d.call(e,f,a,b)}:function(){return d.apply(e,arguments)}},W='prototype',X=function(a,b,c){var d,e,f,g,h=a&X.F,i=a&X.G,j=a&X.S,k=a&X.P,l=a&X.B,m=i?x:j?x[b]||(x[b]={}):(x[b]||{})[W],n=i?y:y[b]||(y[b]={}),o=n[W]||(n[W]={});for(d in i&&(c=b),c)e=!h&&m&&void 0!==m[d],f=(e?m:c)[d],g=l&&e?V(f,x):k&&'function'==typeof f?V(Function.call,f):f,m&&T(m,d,f,a&X.U),n[d]!=f&&N(n,d,g),k&&o[d]!=f&&(o[d]=f)};x.core=y,X.F=1,X.G=2,X.S=4,X.P=8,X.B=16,X.W=32,X.U=64,X.R=128;var Y=X,Z={}.toString,$=function(a){return Z.call(a).slice(8,-1)},_=Object('z').propertyIsEnumerable(0)?Object:function(a){return'String'==$(a)?a.split(''):Object(a)},aa=function(a){if(a==void 0)throw TypeError('Can\'t call method on  '+a);return a},ba=function(a){return Object(aa(a))},ca=function(a){return isNaN(a=+a)?0:(0<a?v:w)(a)},da=function(a){return 0<a?u(ca(a),9007199254740991):0},ea=Array.isArray||function(a){return'Array'==$(a)},fa='__core-js_shared__',ga=x[fa]||(x[fa]={}),ha=function(a){return ga[a]||(ga[a]={})},ia=a(function(a){var b=ha('wks'),c=x.Symbol,d='function'==typeof c,e=a.exports=function(a){return b[a]||(b[a]=d&&c[a]||(d?c:S)('Symbol.'+a))};e.store=b}),ja=ia('species'),ka=function(a){var b;return ea(a)&&(b=a.constructor,'function'==typeof b&&(b===Array||ea(b.prototype))&&(b=void 0),A(b)&&(b=b[ja],null===b&&(b=void 0))),void 0===b?Array:b},la=function(a,b){return new(ka(a))(b)},ma=function(a,b){var c=1==a,d=4==a,e=6==a,g=b||la;return function(b,h,i){for(var j,k,l=ba(b),m=_(l),n=V(h,i,3),f=da(m.length),o=0,p=c?g(b,f):2==a?g(b,0):void 0;f>o;o++)if((5==a||e||o in m)&&(j=m[o],k=n(j,o,l),a))if(c)p[o]=k;else if(k)switch(a){case 3:return!0;case 5:return j;case 6:return o;case 2:p.push(j);}else if(d)return!1;return e?-1:3==a||d?d:p}},na=ma(4);Y(Y.P+Y.F*!function(a,b){return!!a&&C(function(){b?a.call(null,function(){},1):a.call(null)})}([].every,!0),'Array',{every:function(a){return na(this,a,arguments[1])}});var oa=y.Array.every,pa=ia('unscopables'),qa=Array.prototype;qa[pa]==void 0&&N(qa,pa,{});var ra=function(a){qa[pa][a]=!0},sa=ma(6),ta='findIndex',ua=!0;ta in[]&&[,][ta](function(){ua=!1}),Y(Y.P+Y.F*ua,'Array',{findIndex:function(a){return sa(this,a,1<arguments.length?arguments[1]:void 0)}}),ra(ta);var va=y.Array.findIndex,wa=ma(5),xa='find',ya=!0;xa in[]&&[,][xa](function(){ya=!1}),Y(Y.P+Y.F*ya,'Array',{find:function(a){return wa(this,a,1<arguments.length?arguments[1]:void 0)}}),ra(xa);var za=y.Array.find,Aa=function(a,b){return{value:b,done:!!a}},Ba=function(a){return _(aa(a))},Ca=function(a,b){return a=ca(a),0>a?t(a+b,0):u(a,b)},Da=ha('keys'),Ea=function(a){return Da[a]||(Da[a]=S(a))},Fa=function(a){return function(b,c,d){var e,f=Ba(b),g=da(f.length),h=Ca(d,g);if(a&&c!=c){for(;g>h;)if(e=f[h++],e!=e)return!0;}else for(;g>h;h++)if((a||h in f)&&f[h]===c)return a||h||0;return!a&&-1}}(!1),Ga=Ea('IE_PROTO'),Ha=function(a,b){var c,d=Ba(a),e=0,f=[];for(c in d)c!=Ga&&P(d,c)&&f.push(c);for(;b.length>e;)P(d,c=b[e++])&&(~Fa(f,c)||f.push(c));return f},Ia=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],Ja=Object.keys||function(a){return Ha(a,Ia)},Ka=D?Object.defineProperties:function(a,b){B(a);for(var c,d=Ja(b),e=d.length,f=0;e>f;)L.f(a,c=d[f++],b[c]);return a},La=x.document,Ma=La&&La.documentElement,Na=Ea('IE_PROTO'),Oa=function(){},Pa='prototype',Qa=function(){var a,b=G('iframe'),c=Ia.length,d='<',e='>';for(b.style.display='none',Ma.appendChild(b),b.src='javascript:',a=b.contentWindow.document,a.open(),a.write(d+'script'+e+'document.F=Object'+d+'/script'+e),a.close(),Qa=a.F;c--;)delete Qa[Pa][Ia[c]];return Qa()},Ra=Object.create||function(a,b){var c;return null===a?c=Qa():(Oa[Pa]=B(a),c=new Oa,Oa[Pa]=null,c[Na]=a),void 0===b?c:Ka(c,b)},Sa=L.f,Ta=ia('toStringTag'),Ua=function(a,b,c){a&&!P(a=c?a:a.prototype,Ta)&&Sa(a,Ta,{configurable:!0,value:b})},Va={};N(Va,ia('iterator'),function(){return this});var Wa=function(a,b,c){a.prototype=Ra(Va,{next:M(1,c)}),Ua(a,b+' Iterator')},Xa=Ea('IE_PROTO'),Ya=Object.prototype,Za=Object.getPrototypeOf||function(a){return a=ba(a),P(a,Xa)?a[Xa]:'function'==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?Ya:null},$a=ia('iterator'),_a=!([].keys&&'next'in[].keys()),ab='keys',bb='values',cb=function(){return this},db=function(a,b,c,d,e,f,g){Wa(c,b,d);var h,i,j,k=function(a){return!_a&&a in n?n[a]:a===ab?function(){return new c(this,a)}:a===bb?function(){return new c(this,a)}:function(){return new c(this,a)}},l=e==bb,m=!1,n=a.prototype,o=n[$a]||n['@@iterator']||e&&n[e],p=o||k(e),q=e?l?k('entries'):p:void 0,r='Array'==b?n.entries||o:o;if(r&&(j=Za(r.call(new a)),j!==Object.prototype&&j.next&&(Ua(j,b+' Iterator',!0),'function'!=typeof j[$a]&&N(j,$a,cb))),l&&o&&o.name!==bb&&(m=!0,p=function(){return o.call(this)}),(_a||m||!n[$a])&&N(n,$a,p),e)if(h={values:l?p:k(bb),keys:f?p:k(ab),entries:q},g)for(i in h)i in n||T(n,i,h[i]);else Y(Y.P+Y.F*(_a||m),b,h);return h},eb=db(Array,'Array',function(a,b){this._t=Ba(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,Aa(1)):'keys'==b?Aa(0,c):'values'==b?Aa(0,a[c]):Aa(0,[c,a[c]])},'values');ra('keys'),ra('values'),ra('entries');var fb=y.Array.keys,gb=Object.getOwnPropertySymbols,hb={f:gb},ib={}.propertyIsEnumerable,jb={f:ib},kb=Object.assign,lb=!kb||C(function(){var a={},b={},c=Symbol(),d='abcdefghijklmnopqrst';return a[c]=7,d.split('').forEach(function(a){b[a]=a}),7!=kb({},a)[c]||Object.keys(kb({},b)).join('')!=d})?function(a){for(var b=ba(a),c=arguments.length,d=1,e=hb.f,f=jb.f;c>d;)for(var g,h=_(arguments[d++]),i=e?Ja(h).concat(e(h)):Ja(h),k=i.length,l=0;k>l;)f.call(h,g=i[l++])&&(b[g]=h[g]);return b}:kb;Y(Y.S+Y.F,'Object',{assign:lb});var mb=y.Object.assign;Y(Y.S,'Number',{isInteger:function(a){return!A(a)&&isFinite(a)&&v(a)===a}});var nb=y.Number.isInteger;Y(Y.S,'Math',{sign:s||function(a){return 0==(a=+a)||a!=a?a:0>a?-1:1}});var ob=y.Math.sign,pb=j(),qb=j(),rb=Object.assign(function a(b){var c=Object.assign({},{amount:a.defaultAmount,currency:a.defaultCurrency},b),d=c.amount,e=c.currency;o(d);var f=a.globalLocale,g=a.globalFormat,h=a.globalRoundingMode,i=a.globalFormatRoundingMode,j=function(b){var c=Object.assign({},Object.assign({},{amount:d,currency:e},b),Object.assign({},{locale:this.locale},b));return Object.assign(a({amount:c.amount,currency:c.currency}),{locale:c.locale})},q=function(a){l(this.hasSameCurrency(a),new TypeError('You must provide a Dinero instance with the same currency.'))};return{getAmount:function(){return d},getCurrency:function(){return e},getLocale:function(){return this.locale||f},setLocale:function(a){return j.call(this,{locale:a})},add:function(a){return q.call(this,a),j.call(this,{amount:qb.add(this.getAmount(),a.getAmount())})},subtract:function(a){return q.call(this,a),j.call(this,{amount:qb.subtract(this.getAmount(),a.getAmount())})},multiply:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h;return j.call(this,{amount:qb.round(qb.multiply(this.getAmount(),a),b)})},divide:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h;return j.call(this,{amount:qb.round(qb.divide(this.getAmount(),a),b)})},percentage:function(a){return m(a),this.multiply(qb.divide(a,100))},allocate:function(a){var b=this;n(a);for(var c=a.reduce(function(c,a){return qb.add(c,a)}),d=this.getAmount(),e=a.map(function(a){var e=v(qb.divide(qb.multiply(b.getAmount(),a),c));return d=qb.subtract(d,e),j.call(b,{amount:e})}),f=0;0<d;f++)e[f]=e[f].add(j.call(this,{amount:1})),d=qb.subtract(d,1);return e},equalsTo:function(a){return this.hasSameAmount(a)&&this.hasSameCurrency(a)},lessThan:function(a){return q.call(this,a),this.getAmount()<a.getAmount()},lessThanOrEqual:function(a){return q.call(this,a),this.getAmount()<=a.getAmount()},greaterThan:function(a){return q.call(this,a),this.getAmount()>a.getAmount()},greaterThanOrEqual:function(a){return q.call(this,a),this.getAmount()>=a.getAmount()},isZero:function(){return 0===this.getAmount()},isPositive:function(){return 0<=this.getAmount()},isNegative:function(){return 0>this.getAmount()},hasCents:function(){return 0!==qb.modulo(this.getAmount(),100)},hasSameCurrency:function(a){return this.getCurrency()===a.getCurrency()},hasSameAmount:function(a){return this.getAmount()===a.getAmount()},toFormat:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:g,b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,c=k(a);return this.toRoundedUnit(c.getMinimumFractionDigits(),b).toLocaleString(this.getLocale(),{currencyDisplay:c.getCurrencyDisplay(),useGrouping:c.getUseGrouping(),minimumFractionDigits:c.getMinimumFractionDigits(),style:c.getStyle(),currency:this.getCurrency()})},toUnit:function(){return qb.divide(this.getAmount(),100)},toRoundedUnit:function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:i,c=p(10,a);return qb.divide(qb.round(qb.multiply(qb.divide(this.getAmount(),100),c),b),c)},toObject:function(){return{amount:d,currency:e}}}},{defaultAmount:0,defaultCurrency:'USD'},{globalLocale:'en-US',globalFormat:'$0,0.00',globalRoundingMode:'HALF_EVEN',globalFormatRoundingMode:'HALF_AWAY_FROM_ZERO'});return rb});
