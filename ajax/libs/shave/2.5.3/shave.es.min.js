function shave(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw Error("maxHeight is required");var n="string"==typeof e?document.querySelectorAll(e):e;if(n){var i=a.character||"â€¦",r=a.classname||"js-shave",s="boolean"!=typeof a.spaces||a.spaces,o='<span class="js-shave-char">'.concat(i,"</span>");"length"in n||(n=[n]);for(var c=0;c<n.length;c+=1){var h=n[c],l=h.style,d=h.querySelector(".".concat(r)),v=void 0===h.textContent?"innerText":"textContent";d&&(h.removeChild(h.querySelector(".js-shave-char")),h[v]=h[v]);var f=h[v],g=s?f.split(" "):f;if(!(g.length<2)){var m=l.height;l.height="auto";var p=l.maxHeight;if(l.maxHeight="none",h.offsetHeight<=t)l.height=m,l.maxHeight=p;else{for(var u=g.length-1,x=0,j=void 0;x<u;)j=x+u+1>>1,h[v]=s?g.slice(0,j).join(" "):g.slice(0,j),h.insertAdjacentHTML("beforeend",o),h.offsetHeight>t?u=s?j-1:j-2:x=j;h[v]=s?g.slice(0,u).join(" "):g.slice(0,u),h.insertAdjacentHTML("beforeend",o);var H=s?" ".concat(g.slice(u).join(" ")):g.slice(u),y=document.createTextNode(H),b=document.createElement("span");b.classList.add(r),b.style.display="none",b.appendChild(y),h.insertAdjacentElement("beforeend",b),l.height=m,l.maxHeight=p}}}}}export default shave;