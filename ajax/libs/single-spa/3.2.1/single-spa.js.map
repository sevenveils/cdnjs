{"version":3,"sources":["../jspm_packages/npm/custom-event@1.0.0/index.js","../src/child-applications/child-app-errors.js","../src/child-applications/child-app.helpers.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.13/babel-helpers/extends.js","../src/child-applications/timeouts.js","../src/utils/find.js","../src/child-applications/lifecycles/load.js","../src/loader.js","../src/navigation/navigation-events.js","../src/jquery-support.js","../src/child-applications/child-apps.js","../src/navigation/reroute.js","../src/start.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.13/regenerator-runtime.js","../jspm_packages/npm/systemjs-plugin-babel@0.0.13/babel-helpers/asyncToGenerator.js","../src/child-applications/lifecycles/bootstrap.js","../src/child-applications/lifecycles/mount.js","../src/child-applications/lifecycles/unmount.js"],"names":["NativeCustomEvent","global","CustomEvent","useNative","p","detail","foo","type","e","module","exports","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean"],"mappings":"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","file":"single-spa.js","sourcesContent":["\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","export function handleChildAppError(err, childApp) {\n\tconst transformedErr = transformErr(err, childApp);\n\n\twindow.dispatchEvent(new CustomEvent(\"single-spa:application-broken\", {detail: {appName: childApp.name}}));\n\n\tif (window.SINGLE_SPA_TESTING) {\n\t\tconsole.error(transformedErr);\n\t} else {\n\t\tsetTimeout(() => {\n\t\t\tthrow transformedErr;\n\t\t});\n\t}\n}\n\nfunction transformErr(ogErr, childApp) {\n\tconst errPrefix = `'${childApp.name}' died in status ${childApp.status}: `;\n\n\tlet result;\n\n\tif (ogErr instanceof Error) {\n\t\togErr.message = errPrefix + ogErr.message;\n\t\tresult = ogErr;\n\t} else {\n\t\tconsole.warn(`While ${childApp.status}, '${childApp.name}' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate.`);\n\t\ttry {\n\t\t\tresult = new Error(errPrefix + JSON.stringify(ogErr));\n\t\t} catch(err) {\n\t\t\t// If it's not an Error and you can't stringify it, then what else can you even do to it?\n\t\t\tresult = ogErr;\n\t\t}\n\t}\n\n\treturn result;\n}\n","import { handleChildAppError } from './child-app-errors.js';\n\n// App statuses\nexport const NOT_LOADED = 'NOT_LOADED';\nexport const LOADING_SOURCE_CODE = 'LOADING_SOURCE_CODE';\nexport const NOT_BOOTSTRAPPED = 'NOT_BOOTSTRAPPED';\nexport const BOOTSTRAPPING = 'BOOTSTRAPPING';\nexport const NOT_MOUNTED = 'NOT_MOUNTED';\nexport const MOUNTING = 'MOUNTING';\nexport const MOUNTED = 'MOUNTED';\nexport const UNMOUNTING = 'UNMOUNTING';\nexport const SKIP_BECAUSE_BROKEN = 'SKIP_BECAUSE_BROKEN';\n\nexport function isActive(app) {\n\treturn app.status === MOUNTED;\n}\n\nexport function isntActive(app) {\n\treturn !isActive(app);\n}\n\nexport function isLoaded(app) {\n\treturn app.status !== NOT_LOADED && app.status !== LOADING_SOURCE_CODE;\n}\n\nexport function isntLoaded(app) {\n\treturn !isLoaded(app);\n}\n\nexport function shouldBeActive(app) {\n\ttry {\n\t\treturn app.activeWhen(window.location);\n\t} catch (err) {\n\t\thandleChildAppError(err, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t}\n}\n\nexport function shouldntBeActive(app) {\n\ttry {\n\t\treturn !app.activeWhen(window.location);\n\t} catch (err) {\n\t\thandleChildAppError(err, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t}\n}\n\nexport function notBootstrapped(app) {\n\treturn app.status !== NOT_BOOTSTRAPPED;\n}\n\nexport function notSkipped(item) {\n\treturn item !== SKIP_BECAUSE_BROKEN && (!item || item.status !== SKIP_BECAUSE_BROKEN);\n}\n\nexport function toName(app) {\n\treturn app.name;\n}\n","export default Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","const globalTimeoutConfig = {\n\tbootstrap: {\n\t\tmillis: 4000,\n\t\tdieOnTimeout: false,\n\t},\n\tmount: {\n\t\tmillis: 3000,\n\t\tdieOnTimeout: false,\n\t},\n\tunmount: {\n\t\tmillis: 3000,\n\t\tdieOnTimeout: false,\n\t},\n};\n\nexport function setBootstrapMaxTime(time, dieOnTimeout = false) {\n\tif (typeof time !== 'number' || time <= 0) {\n\t\tthrow new Error(`bootstrap max time must be a positive integer number of milliseconds`);\n\t}\n\n\tglobalTimeoutConfig.bootstrap = {\n\t\tmillis: time,\n\t\tdieOnTimeout,\n\t};\n}\n\nexport function setMountMaxTime(time, dieOnTimeout = false) {\n\tif (typeof time !== 'number' || time <= 0) {\n\t\tthrow new Error(`mount max time must be a positive integer number of milliseconds`);\n\t}\n\n\tglobalTimeoutConfig.mount = {\n\t\tmillis: time,\n\t\tdieOnTimeout,\n\t};\n}\n\nexport function setUnmountMaxTime(time, dieOnTimeout = false) {\n\tif (typeof time !== 'number' || time <= 0) {\n\t\tthrow new Error(`unmount max time must be a positive integer number of milliseconds`);\n\t}\n\n\tglobalTimeoutConfig.unmount = {\n\t\tmillis: time,\n\t\tdieOnTimeout,\n\t};\n}\n\nexport function reasonableTime(promise, description, timeoutConfig, app) {\n\tconst warningPeriod = 1000;\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet finished = false;\n\t\tlet errored = false;\n\n\t\tpromise\n\t\t.then(val => {\n\t\t\tfinished = true;\n\t\t\tresolve(val);\n\t\t})\n\t\t.catch(val => {\n\t\t\tfinished = true;\n\t\t\treject(val);\n\t\t});\n\n\t\tsetTimeout(() => maybeTimingOut(1), warningPeriod);\n\t\tsetTimeout(() => maybeTimingOut(true), timeoutConfig.millis);\n\n\t\tfunction maybeTimingOut(shouldError) {\n\t\t\tif (!finished) {\n\t\t\t\tif (shouldError === true) {\n\t\t\t\t\terrored = true;\n\t\t\t\t\tif (timeoutConfig.dieOnTimeout) {\n\t\t\t\t\t\treject(`${description} did not resolve or reject for ${timeoutConfig.millis} milliseconds`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.error(`${description} did not resolve or reject for ${timeoutConfig.millis} milliseconds -- we're no longer going to warn you about it.`);\n\t\t\t\t\t\t//don't resolve or reject, we're waiting this one out\n\t\t\t\t\t}\n\t\t\t\t} else if (!errored) {\n\t\t\t\t\tconst numWarnings = shouldError;\n\t\t\t\t\tconst numMillis = numWarnings * warningPeriod;\n\t\t\t\t\tconsole.warn(`${description} did not resolve or reject within ${numMillis} milliseconds`);\n\t\t\t\t\tif (numMillis + warningPeriod < timeoutConfig.millis) {\n\t\t\t\t\t\tsetTimeout(() => maybeTimingOut(numWarnings + 1), warningPeriod);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport function ensureValidAppTimeouts(timeouts = {}) {\n\treturn {\n\t\t...globalTimeoutConfig,\n\t\t...timeouts,\n\t};\n}\n","/* the array.prototype.find polyfill on npmjs.com is ~20kb (not worth it)\n * and lodash is ~200kb (not worth it)\n */\n\nexport function find(arr, func) {\n\tfor (let i=0; i<arr.length; i++) {\n\t\tif (func(arr[i])) {\n\t\t\treturn arr[i];\n\t\t}\n\t}\n\n\treturn null;\n}\n","import { NOT_BOOTSTRAPPED, LOADING_SOURCE_CODE, SKIP_BECAUSE_BROKEN, NOT_LOADED } from '../child-app.helpers.js';\nimport { ensureValidAppTimeouts } from '../timeouts.js';\nimport { handleChildAppError } from '../child-app-errors.js';\nimport { find } from 'src/utils/find.js';\n\nexport async function toLoadPromise(app) {\n\tif (app.status !== NOT_LOADED) {\n\t\treturn app;\n\t}\n\n\tapp.status = LOADING_SOURCE_CODE;\n\n\tlet appOpts;\n\n\ttry {\n\t\tappOpts = await app.loadImpl();\n\t} catch(err) {\n\t\thandleChildAppError(err, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t\treturn app;\n\t}\n\n\tlet validationErrMessage;\n\n\tif (typeof appOpts !== 'object') {\n\t\tvalidationErrMessage = `does not export anything`;\n\t}\n\n\tif (!validLifecycleFn(appOpts.bootstrap)) {\n\t\tvalidationErrMessage = `does not export a bootstrap function or array of functions`;\n\t}\n\n\tif (!validLifecycleFn(appOpts.mount)) {\n\t\tvalidationErrMessage = `does not export a mount function or array of functions`;\n\t}\n\n\tif (!validLifecycleFn(appOpts.unmount)) {\n\t\tvalidationErrMessage = `does not export an unmount function or array of functions`;\n\t}\n\n\tif (validationErrMessage) {\n\t\thandleChildAppError(validationErrMessage, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t\treturn app;\n\t}\n\n\tapp.status = NOT_BOOTSTRAPPED;\n\tapp.bootstrap = flattenFnArray(appOpts.bootstrap, `App '${app.name}' bootstrap function`);\n\tapp.mount = flattenFnArray(appOpts.mount, `App '${app.name}' mount function`);\n\tapp.unmount = flattenFnArray(appOpts.unmount, `App '${app.name}' unmount function`);\n\tapp.timeouts = ensureValidAppTimeouts(appOpts.timeouts);\n\n\treturn app;\n}\n\nfunction validLifecycleFn(fn) {\n\treturn fn && (typeof fn === 'function' || isArrayOfFns(fn));\n\n\tfunction isArrayOfFns(arr) {\n\t\treturn Array.isArray(arr) && !find(arr, item => typeof item !== 'function');\n\t}\n}\n\nfunction flattenFnArray(fns, description) {\n\tfns = Array.isArray(fns) ? fns : [fns];\n\tif (fns.length === 0) {\n\t\tfns = [() => Promise.resolve()];\n\t}\n\n\treturn function() {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\twaitForPromises(0);\n\n\t\t\tfunction waitForPromises(index) {\n\t\t\t\tconst promise = fns[index]();\n\t\t\t\tif (!promise || typeof promise.then !== 'function' || typeof promise.catch !== 'function') {\n\t\t\t\t\treject(`${description} at index ${index} did not return a promise`);\n\t\t\t\t} else {\n\t\t\t\t\tpromise\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tif (index === fns.length - 1) {\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twaitForPromises(index + 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","export let Loader = null;\n\nexport function setLoader(loader) {\n\tif (!loader || typeof loader.import !== 'function') {\n\t\tthrow new Error(`'loader' is not a real loader. Must have an import function that returns a Promise`);\n\t}\n\tLoader = loader;\n}\n","import { reroute } from './reroute.js';\nimport { find } from 'src/utils/find.js';\n\n/* We capture navigation event listeners so that we can make sure\n * that child application navigation listeners are not called until\n * single-spa has ensured that the correct child applications are\n * unmounted and mounted.\n */\nconst capturedEventListeners = {\n\thashchange: [],\n\tpopstate: [],\n};\n\nexport const routingEventsListeningTo = ['hashchange', 'popstate'];\n\nexport function navigateToUrl(obj) {\n\tlet url;\n\tif (typeof obj === 'string') {\n\t\turl = obj ;\n\t} else if (this && this.href) {\n\t\turl = this.href;\n\t} else if (obj && obj.currentTarget && obj.currentTarget.href && obj.preventDefault) {\n\t\turl = obj.currentTarget.href;\n\t\tobj.preventDefault();\n\t} else {\n\t\tthrow new Error(`singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag`);\n\t}\n\n\tconst current = parseUri(window.location.href);\n\tconst destination = parseUri(url);\n\n\tif (url.indexOf('#') === 0) {\n\t\twindow.location.hash = '#' + destination.anchor;\n\t} else if (!isSamePath(destination.path, current.path) || (current.host !== destination.host && destination.host)) {\n\t\t// different path or a different host\n\t\twindow.history.pushState(null, null, url);\n\t} else {\n\t\twindow.location.hash = '#' + destination.anchor;\n\t}\n\n\tfunction isSamePath(destination, current) {\n\t\t// if the destination has a path but no domain, it doesn't include the root '/'\n\t\treturn current === destination || current === '/' + destination;\n\t}\n}\n\nexport function callCapturedEventListeners(eventArguments) {\n\tif (eventArguments) {\n\t\tconst eventType = eventArguments[0].type;\n\t\tif (routingEventsListeningTo.indexOf(eventType) >= 0) {\n\t\t\tcapturedEventListeners[eventType].forEach(listener => {\n\t\t\t\tlistener.apply(this, eventArguments);\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction urlReroute() {\n\treroute([], arguments)\n}\n\n\n// We will trigger an app change for any routing events.\nwindow.addEventListener('hashchange', urlReroute);\nwindow.addEventListener('popstate', urlReroute);\n\n// Monkeypatch addEventListener so that we can ensure correct timing\nconst originalAddEventListener = window.addEventListener;\nconst originalRemoveEventListener = window.removeEventListener;\nwindow.addEventListener = function(eventName, fn) {\n\tif (typeof fn === 'function') {\n\t\tif (routingEventsListeningTo.indexOf(eventName) >= 0 && !find(capturedEventListeners[eventName], listener => listener === fn)) {\n\t\t\tcapturedEventListeners[eventName].push(fn);\n\t\t\treturn;\n\t\t}\n\t}\n\n\treturn originalAddEventListener.apply(this, arguments);\n}\n\nwindow.removeEventListener = function(eventName, listenerFn) {\n\tif (typeof listenerFn === 'function') {\n\t\tif (routingEventsListeningTo.indexOf(eventName) >= 0) {\n\t\t\tcapturedEventListeners[eventName] = capturedEventListeners[eventName].filter(fn => fn.toString() !== listenerFn.toString());\n\t\t\treturn;\n\t\t}\n\t}\n\n\treturn originalRemoveEventListener.apply(this, arguments);\n}\n\nconst originalPushState = window.history.pushState;\nwindow.history.pushState = function(state) {\n\tconst result = originalPushState.apply(this, arguments);\n\n\treroute();\n\t\n\treturn result;\n}\n\nconst originalReplaceState = window.history.replaceState;\nwindow.history.replaceState = function() {\n\tconst result = originalReplaceState.apply(this, arguments);\n\treroute();\n\treturn result;\n}\n\n/* For convenience in `onclick` attributes, we expose a global function for navigating to\n * whatever an <a> tag's href is.\n */\nwindow.singleSpaNavigate = navigateToUrl;\n\nfunction parseUri(str) {\n\t// parseUri 1.2.2\n\t// (c) Steven Levithan <stevenlevithan.com>\n\t// MIT License\n\t// http://blog.stevenlevithan.com/archives/parseuri\n\tconst parseOptions = {\n\t\tstrictMode: true,\n\t\tkey: [\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"],\n\t\tq:   {\n\t\t\tname:   \"queryKey\",\n\t\t\tparser: /(?:^|&)([^&=]*)=?([^&]*)/g\n\t\t},\n\t\tparser: {\n\t\t\tstrict: /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n\t\t\tloose:  /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/\n\t\t}\n\t};\n\n\tlet\to = parseOptions;\n\tlet m = o.parser[o.strictMode ? \"strict\" : \"loose\"].exec(str);\n\tlet uri = {};\n\tlet i = 14;\n\n\twhile (i--) uri[o.key[i]] = m[i] || \"\";\n\n\turi[o.q.name] = {};\n\turi[o.key[12]].replace(o.q.parser, function ($0, $1, $2) {\n\t\tif ($1) uri[o.q.name][$1] = $2;\n\t});\n\n\treturn uri;\n}\n","import { routingEventsListeningTo } from './navigation/navigation-events.js';\n\nlet hasInitialized = false;\n\nexport function ensureJQuerySupport(jQuery = window.jQuery) {\n\tif (!jQuery) {\n\t\tif (window.$ && window.$.fn && window.$.fn.jquery) {\n\t\t\tjQuery = window.$;\n\t\t}\n\t}\n\n\tif (jQuery && !hasInitialized) {\n\t\tconst originalJQueryOn = jQuery.fn.on;\n\t\tconst originalJQueryOff = jQuery.fn.off;\n\n\t\tjQuery.fn.on = function(eventString, fn) {\n\t\t\treturn captureRoutingEvents.call(this, originalJQueryOn, window.addEventListener, eventString, fn, arguments);\n\t\t}\n\n\t\tjQuery.fn.off = function(eventString, fn) {\n\t\t\treturn captureRoutingEvents.call(this, originalJQueryOff, window.removeEventListener, eventString, fn, arguments);\n\t\t}\n\n\t\thasInitialized = true;\n\t}\n}\n\nfunction captureRoutingEvents(originalJQueryFunction, nativeFunctionToCall, eventString, fn, originalArgs) {\n\tif (typeof eventString !== 'string') {\n\t\treturn originalJQueryFunction.apply(this, originalArgs);\n\t}\n\n\tconst eventNames = eventString.split(/\\s+/);\n\teventNames.forEach(eventName => {\n\t\tif (routingEventsListeningTo.indexOf(eventName) >= 0) {\n\t\t\tnativeFunctionToCall(eventName, fn);\n\t\t\teventString = eventString.replace(eventName, '');\n\t\t}\n\t});\n\n\tif (eventString.trim() === '') {\n\t\treturn this;\n\t} else {\n\t\treturn originalJQueryFunction.apply(this, originalArgs);\n\t}\n}\n","import { Loader } from '../loader.js';\nimport { ensureJQuerySupport } from '../jquery-support.js';\nimport { isActive, isLoaded, isntLoaded, toName, NOT_LOADED, shouldBeActive, shouldntBeActive, isntActive, notSkipped } from './child-app.helpers.js';\nimport { reroute } from 'src/navigation/reroute.js';\nimport { find } from 'src/utils/find.js';\n\nconst childApps = [];\n\nexport function getMountedApps() {\n\treturn childApps.filter(isActive).map(toName);\n}\n\nexport function getAppStatus(appName) {\n\tconst app = find(childApps, app => app.name === appName);\n\treturn app ? app.status : null;\n}\n\nexport function declareChildApplication(appName, arg1, arg2) {\n\tif (typeof appName !== 'string' || appName.length === 0)\n\t\tthrow new Error(`The first argument must be a non-empty string 'appName'`);\n\tif (childApps[appName])\n\t\tthrow new Error(`There is already an app declared with name ${appName}`);\n\n\tlet loadImpl, activeWhen;\n\tif (!arg2) {\n\t\tif (!Loader) {\n\t\t\tthrow new Error(`You cannot declare a single-spa child application without either providing a way to load the application or a Loader. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#declarechildapplication`);\n\t\t}\n\t\tloadImpl = () => Loader.import(appName);\n\t\tactiveWhen = arg1;\n\t} else {\n\t\tloadImpl = arg1;\n\t\tactiveWhen = arg2;\n\t}\n\tif (typeof activeWhen !== 'function')\n\t\tthrow new Error(`The activeWhen argument must be a function`);\n\n\tchildApps.push({\n\t\tname: appName,\n\t\tloadImpl,\n\t\tactiveWhen,\n\t\tstatus: NOT_LOADED,\n\t});\n\n\tensureJQuerySupport();\n\n\treroute();\n}\n\nexport function getAppsToLoad() {\n\treturn childApps\n\t\t.filter(shouldBeActive)\n\t\t.filter(notSkipped)\n\t\t.filter(isntLoaded)\n}\n\nexport function getAppsToUnmount() {\n\treturn childApps\n\t\t.filter(shouldntBeActive)\n\t\t.filter(notSkipped)\n\t\t.filter(isActive)\n}\n\nexport function getAppsToMount() {\n\treturn childApps\n\t\t.filter(shouldBeActive)\n\t\t.filter(notSkipped)\n\t\t.filter(isntActive)\n\t\t.filter(isLoaded)\n}\n","import CustomEvent from 'custom-event';\nimport { isStarted } from 'src/start.js';\nimport { toLoadPromise } from 'src/child-applications/lifecycles/load.js';\nimport { toBootstrapPromise } from 'src/child-applications/lifecycles/bootstrap.js';\nimport { toMountPromise } from 'src/child-applications/lifecycles/mount.js';\nimport { toUnmountPromise } from 'src/child-applications/lifecycles/unmount.js';\nimport { getMountedApps, getAppsToLoad, getAppsToUnmount, getAppsToMount } from 'src/child-applications/child-apps.js';\nimport { notSkipped } from 'src/child-applications/child-app.helpers.js';\nimport { callCapturedEventListeners } from './navigation-events.js';\n\nlet appChangeUnderway = false, peopleWaitingOnAppChange = [];\n\nexport function reroute(pendingPromises = [], eventArguments) {\n\tif (appChangeUnderway) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpeopleWaitingOnAppChange.push({\n\t\t\t\tresolve,\n\t\t\t\treject,\n\t\t\t\teventArguments,\n\t\t\t});\n\t\t});\n\t}\n\n\tappChangeUnderway = true;\n\tlet wasNoOp = true;\n\n\tif (isStarted()) {\n\t\treturn performAppChanges();\n\t} else {\n\t\treturn loadApps();\n\t}\n\n\tasync function loadApps() {\n\t\tconst loadPromises = getAppsToLoad().map(toLoadPromise);\n\n\t\tif (loadPromises.length > 0) {\n\t\t\twasNoOp = false;\n\t\t}\n\n\t\ttry {\n\t\t\tawait Promise.all(loadPromises);\n\t\t} catch(err) {\n\t\t\tcallAllEventListeners();\n\t\t\tthrow err;\n\t\t}\n\n\t\treturn finishUpAndReturn();\n\t}\n\n\tasync function performAppChanges() {\n\t\tconst unmountPromises = getAppsToUnmount().map(toUnmountPromise);\n\t\tif (unmountPromises.length > 0) {\n\t\t\twasNoOp = false;\n\t\t}\n\t\tconst unmountAllPromise = Promise.all(unmountPromises);\n\n\t\tconst appsToLoad = getAppsToLoad();\n\n\t\t/* We load and bootstrap apps while other apps are unmounting, but we\n\t\t * wait to mount the app until all apps are finishing unmounting\n\t\t */\n\t\tconst loadThenMountPromises = appsToLoad.map(app => {\n\t\t\treturn toLoadPromise(app)\n\t\t\t\t.then(toBootstrapPromise)\n\t\t\t\t.then(async function(app) {\n\t\t\t\t\tawait unmountAllPromise;\n\t\t\t\t\treturn toMountPromise(app);\n\t\t\t\t})\n\t\t})\n\t\tif (loadThenMountPromises.length > 0) {\n\t\t\twasNoOp = false;\n\t\t}\n\n\t\t/* These are the apps that are already bootstrapped and just need\n\t\t * to be mounted. They each wait for all unmounting apps to finish up\n\t\t * before they mount.\n\t\t */\n\t\tconst mountPromises = getAppsToMount()\n\t\t\t.filter(appToMount => appsToLoad.indexOf(appToMount) < 0)\n\t\t\t.map(async function(appToMount) {\n\t\t\t\tawait toBootstrapPromise(appToMount);\n\t\t\t\tawait unmountAllPromise;\n\t\t\t\treturn toMountPromise(appToMount);\n\t\t\t})\n\t\tif (mountPromises.length > 0) {\n\t\t\twasNoOp = false;\n\t\t}\n\n\t\ttry {\n\t\t\tawait Promise.all(unmountPromises);\n\t\t} catch(err) {\n\t\t\tcallAllEventListeners();\n\t\t\tthrow err;\n\t\t}\n\n\t\t/* Now that the apps that needed to be unmounted are unmounted, their DOM navigation\n\t\t * events (like hashchange or popstate) should have been cleaned up. So it's safe\n\t\t * to let the remaining captured event listeners to handle about the DOM event.\n\t\t */\n\t\tcallAllEventListeners();\n\n\t\ttry {\n\t\t\tawait Promise.all(loadThenMountPromises.concat(mountPromises));\n\t\t} catch(err) {\n\t\t\tpendingPromises.forEach(promise => promise.reject(err));\n\t\t\tthrow err;\n\t\t}\n\n\t\treturn finishUpAndReturn();\n\t}\n\n\tfunction finishUpAndReturn() {\n\t\tconst returnValue = getMountedApps();\n\n\t\tcallAllEventListeners();\n\t\tpendingPromises.forEach(promise => promise.resolve(returnValue));\n\n\t\t/* Setting this allows for subsequent calls to reroute() to actually perform\n\t\t * a reroute instead of just getting queued behind the current reroute call.\n\t\t * We want to do this after the mounting/unmounting is done but before we\n\t\t * resolve the promise for the `reroute` async function.\n\t\t */\n\t\tappChangeUnderway = false;\n\n\t\tif (peopleWaitingOnAppChange.length > 0) {\n\t\t\t/* While we were rerouting, someone else triggered another reroute that got queued.\n\t\t\t * So we need reroute again.\n\t\t\t */\n\t\t\tconst nextPendingPromises = peopleWaitingOnAppChange;\n\t\t\tpeopleWaitingOnAppChange = [];\n\t\t\treroute(nextPendingPromises);\n\t\t} else {\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (!wasNoOp) {\n\t\t\t\t\twindow.dispatchEvent(new CustomEvent(\"single-spa:app-change\"));\n\t\t\t\t}\n\n\t\t\t\twindow.dispatchEvent(new CustomEvent(\"single-spa:routing-event\"));\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t}\n\n\t/* We need to call all event listeners that have been delayed because they were\n\t * waiting on single-spa. This includes haschange and popstate events for both\n\t * the current run of performAppChanges(), but also all of the queued event listeners.\n\t * We want to call the listeners in the same order as if they had not been delayed by\n\t * single-spa, which means queued ones first and then the most recent one.\n\t */\n\tfunction callAllEventListeners() {\n\t\tpendingPromises.forEach(pendingPromise => {\n\t\t\tcallCapturedEventListeners(pendingPromise.eventArguments);\n\t\t});\n\n\t\tcallCapturedEventListeners(eventArguments);\n\t}\n}\n","import { reroute } from './navigation/reroute.js';\nimport { setLoader } from './loader.js';\n\nexport let started = false;\n\nexport function start() {\n\tstarted = true;\n\treroute();\n}\n\nexport function isStarted() {\n\treturn started;\n}\n","export default (function(module) {\n/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value instanceof AwaitArgument) {\n          return Promise.resolve(value.arg).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    if (typeof process === \"object\" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === \"return\" ||\n              (method === \"throw\" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator[\"return\"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === \"throw\") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = \"throw\";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === \"return\") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === \"throw\") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = \"throw\";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // \"next\" with an undefined arg.\n          method = \"next\";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = arg;\n\n        } else if (method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = \"next\";\n            arg = undefined;\n          }\n\n        } else if (method === \"return\") {\n          context.abrupt(\"return\", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === \"next\") {\n              // Deliberately forget the last sent value so that we don't\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = \"throw\";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = record.arg;\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === \"object\" ? global :\n  typeof window === \"object\" ? window :\n  typeof self === \"object\" ? self : this\n);\nreturn module.exports; })({exports:{}});\n","export default (function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            return step(\"next\", value);\n          }, function (err) {\n            return step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n});","import { NOT_BOOTSTRAPPED, BOOTSTRAPPING, NOT_MOUNTED, SKIP_BECAUSE_BROKEN } from '../child-app.helpers.js';\nimport { reasonableTime } from '../timeouts.js';\nimport { handleChildAppError } from 'src/child-applications/child-app-errors.js';\n\nexport async function toBootstrapPromise(app) {\n\tif (app.status !== NOT_BOOTSTRAPPED) {\n\t\treturn app;\n\t}\n\n\tapp.status = BOOTSTRAPPING;\n\n\ttry {\n\t\tawait reasonableTime(app.bootstrap(), `Bootstrapping app '${app.name}'`, app.timeouts.bootstrap);\n\t\tapp.status = NOT_MOUNTED;\n\t} catch(err) {\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t\thandleChildAppError(err, app);\n\t}\n\n\treturn app;\n}\n","import { NOT_MOUNTED, MOUNTED, SKIP_BECAUSE_BROKEN } from '../child-app.helpers.js';\nimport { handleChildAppError } from '../child-app-errors.js';\nimport { reasonableTime } from '../timeouts.js';\n\nexport async function toMountPromise(app) {\n\tif (app.status !== NOT_MOUNTED) {\n\t\treturn app;\n\t}\n\ttry {\n\t\tawait reasonableTime(app.mount(), `Mounting application ${app.name}'`, app.timeouts.mount);\n\t\tapp.status = MOUNTED;\n\t} catch (err) {\n\t\thandleChildAppError(err, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t}\n\n\treturn app;\n}\n","import { UNMOUNTING, NOT_MOUNTED, MOUNTED, SKIP_BECAUSE_BROKEN } from '../child-app.helpers.js';\nimport { handleChildAppError } from '../child-app-errors.js';\nimport { reasonableTime } from '../timeouts.js';\n\nexport async function toUnmountPromise(app) {\n\tif (app.status !== MOUNTED) {\n\t\treturn app;\n\t}\n\tapp.status = UNMOUNTING;\n\n\ttry {\n\t\tawait reasonableTime(app.unmount(), `Unmounting application ${app.name}'`, app.timeouts.unmount);\n\t\tapp.status = NOT_MOUNTED;\n\t} catch (err) {\n\t\thandleChildAppError(err, app);\n\t\tapp.status = SKIP_BECAUSE_BROKEN;\n\t}\n\n\treturn app;\n}\n"]}