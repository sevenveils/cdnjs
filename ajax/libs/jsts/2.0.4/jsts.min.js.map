{"version":3,"sources":["../src/Array.js","../src/Number.js","../src/Math.js","../src/org/locationtech/jts/util/NumberUtil.js","../src/java/lang/IllegalArgumentException.js","../src/java/lang/Long.js","../src/java/lang/Double.js","../src/java/lang/Comparable.js","../src/java/lang/Cloneable.js","../src/java/util/Comparator.js","../src/java/io/Serializable.js","../src/java/lang/RuntimeException.js","../src/org/locationtech/jts/util/AssertionFailedException.js","../src/org/locationtech/jts/util/Assert.js","../src/org/locationtech/jts/geom/Coordinate.js","../src/hasInterface.js","../src/java/util/Iterator.js","../src/java/util/Collection.js","../src/java/util/IndexOutOfBoundsException.js","../src/java/util/List.js","../src/java/util/NoSuchElementException.js","../src/java/util/OperationNotSupported.js","../src/java/util/ArrayList.js","../src/org/locationtech/jts/geom/CoordinateList.js","../src/org/locationtech/jts/geom/Envelope.js","../src/java/lang/Exception.js","../src/org/locationtech/jts/algorithm/NotRepresentableException.js","../src/java/lang/StringBuffer.js","../src/java/lang/Integer.js","../src/java/lang/Character.js","../src/org/locationtech/jts/math/DD.js","../src/org/locationtech/jts/algorithm/CGAlgorithmsDD.js","../src/org/locationtech/jts/algorithm/Orientation.js","../src/java/lang/System.js","../src/org/locationtech/jts/algorithm/HCoordinate.js","../src/org/locationtech/jts/math/MathUtil.js","../src/org/locationtech/jts/algorithm/Distance.js","../src/org/locationtech/jts/geom/CoordinateSequence.js","../src/org/locationtech/jts/geom/CoordinateSequenceFactory.js","../src/org/locationtech/jts/geom/GeometryComponentFilter.js","../src/org/locationtech/jts/geom/Geometry.js","../src/org/locationtech/jts/geom/CoordinateFilter.js","../src/org/locationtech/jts/algorithm/BoundaryNodeRule.js","../src/org/locationtech/jts/geom/CoordinateArrays.js","../src/java/util/Map.js","../src/java/util/SortedMap.js","../src/java/util/Set.js","../src/java/util/HashSet.js","../src/java/util/TreeMap.js","../src/org/locationtech/jts/geom/Lineal.js","../src/java/util/SortedSet.js","../src/java/util/TreeSet.js","../src/Map.js","../src/java/util/Arrays.js","../src/org/locationtech/jts/geom/Dimension.js","../src/org/locationtech/jts/geom/GeometryFilter.js","../src/org/locationtech/jts/geom/CoordinateSequenceFilter.js","../src/org/locationtech/jts/geom/GeometryCollection.js","../src/org/locationtech/jts/geom/MultiLineString.js","../src/org/locationtech/jts/operation/BoundaryOp.js","../src/org/locationtech/jts/algorithm/Length.js","../src/java/io/PrintStream.js","../src/java/io/StringReader.js","../src/java/io/ByteArrayOutputStream.js","../src/java/io/IOException.js","../src/java/io/LineNumberReader.js","../src/org/locationtech/jts/util/StringUtil.js","../src/java/lang/StringBuilder.js","../src/java/text/DecimalFormat.js","../src/org/locationtech/jts/geom/CoordinateSequences.js","../src/org/locationtech/jts/geom/LineString.js","../src/org/locationtech/jts/geom/Puntal.js","../src/org/locationtech/jts/geom/Point.js","../src/org/locationtech/jts/algorithm/Area.js","../src/org/locationtech/jts/geom/Polygonal.js","../src/org/locationtech/jts/geom/Polygon.js","../src/org/locationtech/jts/geom/MultiPoint.js","../src/org/locationtech/jts/geom/LinearRing.js","../src/org/locationtech/jts/geom/MultiPolygon.js","../src/org/locationtech/jts/geom/util/GeometryEditor.js","../src/org/locationtech/jts/geom/impl/CoordinateArraySequence.js","../src/org/locationtech/jts/geom/impl/CoordinateArraySequenceFactory.js","../src/java/util/HashMap.js","../src/org/locationtech/jts/geom/PrecisionModel.js","../src/org/locationtech/jts/geom/GeometryFactory.js","../src/org/locationtech/jts/io/WKTParser.js","../src/org/locationtech/jts/io/WKTWriter.js","../src/org/locationtech/jts/algorithm/LineIntersector.js","../src/org/locationtech/jts/algorithm/RobustLineIntersector.js","../src/org/locationtech/jts/geom/LineSegment.js","../src/org/locationtech/jts/geom/Location.js","../src/org/locationtech/jts/geom/IntersectionMatrix.js","../src/org/locationtech/jts/algorithm/Angle.js","../src/org/locationtech/jts/geom/Triangle.js","../src/org/locationtech/jts/algorithm/distance/PointPairDistance.js","../src/org/locationtech/jts/algorithm/distance/DistanceToPoint.js","../src/org/locationtech/jts/algorithm/distance/DiscreteHausdorffDistance.js","../src/org/locationtech/jts/index/ItemVisitor.js","../src/org/locationtech/jts/algorithm/locate/PointOnGeometryLocator.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeNode.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeLeafNode.js","../src/java/util/Collections.js","../src/org/locationtech/jts/index/intervalrtree/IntervalRTreeBranchNode.js","../src/org/locationtech/jts/index/intervalrtree/SortedPackedIntervalRTree.js","../src/org/locationtech/jts/geom/util/LinearComponentExtracter.js","../src/org/locationtech/jts/index/ArrayListVisitor.js","../src/org/locationtech/jts/algorithm/RayCrossingCounter.js","../src/org/locationtech/jts/algorithm/locate/IndexedPointInAreaLocator.js","../src/org/locationtech/jts/algorithm/PointLocation.js","../src/org/locationtech/jts/geom/GeometryCollectionIterator.js","../src/org/locationtech/jts/algorithm/locate/SimplePointInAreaLocator.js","../src/org/locationtech/jts/algorithm/match/SimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/AreaSimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/HausdorffSimilarityMeasure.js","../src/org/locationtech/jts/algorithm/match/SimilarityMeasureCombiner.js","../src/org/locationtech/jts/algorithm/Centroid.js","../src/java/util/EmptyStackException.js","../src/java/util/Stack.js","../src/org/locationtech/jts/util/UniqueCoordinateArrayFilter.js","../src/org/locationtech/jts/algorithm/ConvexHull.js","../src/org/locationtech/jts/algorithm/InteriorPointArea.js","../src/org/locationtech/jts/algorithm/InteriorPointLine.js","../src/org/locationtech/jts/algorithm/InteriorPointPoint.js","../src/org/locationtech/jts/algorithm/PointLocator.js","../src/org/locationtech/jts/algorithm/MinimumBoundingCircle.js","../src/org/locationtech/jts/algorithm/MinimumDiameter.js","../src/org/locationtech/jts/geom/util/GeometryTransformer.js","../src/org/locationtech/jts/densify/Densifier.js","../src/org/locationtech/jts/geomgraph/Quadrant.js","../src/org/locationtech/jts/edgegraph/HalfEdge.js","../src/org/locationtech/jts/edgegraph/MarkHalfEdge.js","../src/org/locationtech/jts/edgegraph/EdgeGraph.js","../src/org/locationtech/jts/dissolve/DissolveHalfEdge.js","../src/org/locationtech/jts/dissolve/DissolveEdgeGraph.js","../src/org/locationtech/jts/dissolve/LineDissolver.js","../src/org/locationtech/jts/geomgraph/Position.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChain.js","../src/org/locationtech/jts/geomgraph/index/SweepLineEvent.js","../src/org/locationtech/jts/geomgraph/index/EdgeSetIntersector.js","../src/org/locationtech/jts/geomgraph/index/SegmentIntersector.js","../src/org/locationtech/jts/geomgraph/index/SimpleMCSweepLineIntersector.js","../src/org/locationtech/jts/geomgraph/TopologyLocation.js","../src/org/locationtech/jts/geomgraph/Label.js","../src/org/locationtech/jts/geomgraph/EdgeIntersection.js","../src/org/locationtech/jts/geomgraph/EdgeIntersectionList.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChainIndexer.js","../src/org/locationtech/jts/geomgraph/index/MonotoneChainEdge.js","../src/org/locationtech/jts/geomgraph/Depth.js","../src/org/locationtech/jts/geomgraph/GraphComponent.js","../src/org/locationtech/jts/geomgraph/Edge.js","../src/org/locationtech/jts/geomgraph/Node.js","../src/org/locationtech/jts/geomgraph/NodeMap.js","../src/org/locationtech/jts/geomgraph/EdgeEnd.js","../src/org/locationtech/jts/geom/TopologyException.js","../src/org/locationtech/jts/geomgraph/DirectedEdge.js","../src/org/locationtech/jts/geomgraph/NodeFactory.js","../src/org/locationtech/jts/geomgraph/PlanarGraph.js","../src/org/locationtech/jts/geomgraph/GeometryGraph.js","../src/org/locationtech/jts/index/kdtree/KdNodeVisitor.js","../src/org/locationtech/jts/index/kdtree/KdNode.js","../src/org/locationtech/jts/index/kdtree/KdTree.js","../src/org/locationtech/jts/index/quadtree/NodeBase.js","../src/org/locationtech/jts/index/quadtree/DoubleBits.js","../src/org/locationtech/jts/index/quadtree/Key.js","../src/org/locationtech/jts/index/quadtree/Node.js","../src/org/locationtech/jts/index/quadtree/IntervalSize.js","../src/org/locationtech/jts/index/quadtree/Root.js","../src/org/locationtech/jts/index/SpatialIndex.js","../src/org/locationtech/jts/index/quadtree/Quadtree.js","../src/org/locationtech/jts/index/strtree/Boundable.js","../src/org/locationtech/jts/index/strtree/ItemBoundable.js","../src/org/locationtech/jts/util/PriorityQueue.js","../src/org/locationtech/jts/index/strtree/AbstractNode.js","../src/org/locationtech/jts/index/strtree/BoundablePair.js","../src/org/locationtech/jts/index/strtree/AbstractSTRtree.js","../src/org/locationtech/jts/index/strtree/ItemDistance.js","../src/org/locationtech/jts/index/strtree/STRtree.js","../src/org/locationtech/jts/io/GeoJSONParser.js","../src/org/locationtech/jts/io/OL3Parser.js","../src/org/locationtech/jts/io/GeoJSONReader.js","../src/org/locationtech/jts/io/GeoJSONWriter.js","../src/org/locationtech/jts/io/WKTReader.js","../src/org/locationtech/jts/noding/SegmentPointComparator.js","../src/org/locationtech/jts/noding/SegmentNode.js","../src/org/locationtech/jts/noding/SegmentNodeList.js","../src/org/locationtech/jts/noding/Octant.js","../src/org/locationtech/jts/noding/SegmentString.js","../src/org/locationtech/jts/noding/NodableSegmentString.js","../src/org/locationtech/jts/noding/NodedSegmentString.js","../src/org/locationtech/jts/index/chain/MonotoneChainOverlapAction.js","../src/org/locationtech/jts/index/chain/MonotoneChain.js","../src/org/locationtech/jts/index/chain/MonotoneChainBuilder.js","../src/org/locationtech/jts/noding/Noder.js","../src/org/locationtech/jts/noding/SinglePassNoder.js","../src/org/locationtech/jts/noding/MCIndexNoder.js","../src/org/locationtech/jts/noding/ScaledNoder.js","../src/org/locationtech/jts/operation/IsSimpleOp.js","../src/org/locationtech/jts/operation/buffer/BufferParameters.js","../src/org/locationtech/jts/operation/buffer/RightmostEdgeFinder.js","../src/java/util/LinkedList.js","../src/org/locationtech/jts/operation/buffer/BufferSubgraph.js","../src/org/locationtech/jts/geomgraph/EdgeRing.js","../src/org/locationtech/jts/operation/overlay/MinimalEdgeRing.js","../src/org/locationtech/jts/operation/overlay/MaximalEdgeRing.js","../src/org/locationtech/jts/operation/overlay/PolygonBuilder.js","../src/org/locationtech/jts/operation/buffer/BufferInputLineSimplifier.js","../src/org/locationtech/jts/operation/buffer/OffsetSegmentString.js","../src/org/locationtech/jts/operation/buffer/OffsetSegmentGenerator.js","../src/org/locationtech/jts/operation/buffer/OffsetCurveBuilder.js","../src/org/locationtech/jts/operation/buffer/SubgraphDepthLocater.js","../src/org/locationtech/jts/operation/buffer/OffsetCurveSetBuilder.js","../src/org/locationtech/jts/geomgraph/EdgeEndStar.js","../src/org/locationtech/jts/geomgraph/DirectedEdgeStar.js","../src/org/locationtech/jts/operation/overlay/OverlayNodeFactory.js","../src/org/locationtech/jts/noding/OrientedCoordinateArray.js","../src/org/locationtech/jts/geomgraph/EdgeList.js","../src/org/locationtech/jts/noding/SegmentIntersector.js","../src/org/locationtech/jts/noding/IntersectionAdder.js","../src/org/locationtech/jts/operation/buffer/BufferBuilder.js","../src/org/locationtech/jts/noding/NodingValidator.js","../src/org/locationtech/jts/noding/snapround/HotPixel.js","../src/org/locationtech/jts/index/chain/MonotoneChainSelectAction.js","../src/org/locationtech/jts/noding/snapround/MCIndexPointSnapper.js","../src/org/locationtech/jts/noding/InteriorIntersectionFinderAdder.js","../src/org/locationtech/jts/noding/snapround/MCIndexSnapRounder.js","../src/org/locationtech/jts/operation/buffer/BufferOp.js","../src/org/locationtech/jts/geom/util/PolygonExtracter.js","../src/org/locationtech/jts/operation/distance/GeometryLocation.js","../src/org/locationtech/jts/geom/util/PointExtracter.js","../src/org/locationtech/jts/operation/distance/ConnectedElementLocationFilter.js","../src/org/locationtech/jts/operation/distance/DistanceOp.js","../src/org/locationtech/jts/operation/linemerge/EdgeString.js","../src/org/locationtech/jts/planargraph/GraphComponent.js","../src/org/locationtech/jts/planargraph/DirectedEdge.js","../src/org/locationtech/jts/operation/linemerge/LineMergeDirectedEdge.js","../src/org/locationtech/jts/planargraph/Edge.js","../src/org/locationtech/jts/planargraph/DirectedEdgeStar.js","../src/org/locationtech/jts/planargraph/Node.js","../src/org/locationtech/jts/operation/linemerge/LineMergeEdge.js","../src/org/locationtech/jts/planargraph/NodeMap.js","../src/org/locationtech/jts/planargraph/PlanarGraph.js","../src/org/locationtech/jts/operation/linemerge/LineMergeGraph.js","../src/org/locationtech/jts/operation/linemerge/LineMerger.js","../src/org/locationtech/jts/operation/overlay/snap/LineStringSnapper.js","../src/org/locationtech/jts/operation/overlay/snap/GeometrySnapper.js","../src/org/locationtech/jts/noding/BasicSegmentString.js","../src/org/locationtech/jts/noding/InteriorIntersectionFinder.js","../src/org/locationtech/jts/noding/FastNodingValidator.js","../src/org/locationtech/jts/geomgraph/EdgeNodingValidator.js","../src/org/locationtech/jts/geom/util/GeometryCollectionMapper.js","../src/org/locationtech/jts/geom/util/MapOp.js","../src/org/locationtech/jts/operation/overlay/LineBuilder.js","../src/org/locationtech/jts/operation/overlay/PointBuilder.js","../src/org/locationtech/jts/precision/CommonBits.js","../src/org/locationtech/jts/precision/CommonBitsRemover.js","../src/org/locationtech/jts/operation/overlay/snap/SnapOverlayOp.js","../src/org/locationtech/jts/operation/overlay/snap/SnapIfNeededOverlayOp.js","../src/org/locationtech/jts/operation/GeometryGraphOperation.js","../src/org/locationtech/jts/operation/overlay/OverlayOp.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeDirectedEdge.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeEdge.js","../src/org/locationtech/jts/operation/polygonize/EdgeRing.js","../src/org/locationtech/jts/operation/polygonize/PolygonizeGraph.js","../src/org/locationtech/jts/operation/polygonize/Polygonizer.js","../src/org/locationtech/jts/operation/relate/EdgeEndBuilder.js","../src/org/locationtech/jts/operation/relate/EdgeEndBundle.js","../src/org/locationtech/jts/operation/relate/EdgeEndBundleStar.js","../src/org/locationtech/jts/operation/relate/RelateNode.js","../src/org/locationtech/jts/operation/relate/RelateNodeFactory.js","../src/org/locationtech/jts/operation/relate/RelateComputer.js","../src/org/locationtech/jts/operation/predicate/RectangleContains.js","../src/org/locationtech/jts/algorithm/RectangleLineIntersector.js","../src/org/locationtech/jts/geom/util/ShortCircuitedGeometryVisitor.js","../src/org/locationtech/jts/operation/predicate/RectangleIntersects.js","../src/org/locationtech/jts/operation/relate/RelateOp.js","../src/org/locationtech/jts/geom/util/GeometryCombiner.js","../src/org/locationtech/jts/operation/union/PointGeometryUnion.js","../src/org/locationtech/jts/geom/util/GeometryExtracter.js","../src/org/locationtech/jts/operation/union/CascadedPolygonUnion.js","../src/org/locationtech/jts/operation/union/UnaryUnionOp.js","../src/org/locationtech/jts/operation/valid/ConnectedInteriorTester.js","../src/org/locationtech/jts/operation/relate/RelateNodeGraph.js","../src/org/locationtech/jts/operation/valid/ConsistentAreaTester.js","../src/org/locationtech/jts/operation/valid/IndexedNestedRingTester.js","../src/org/locationtech/jts/operation/valid/TopologyValidationError.js","../src/org/locationtech/jts/operation/valid/IsValidOp.js","../src/org/locationtech/jts/precision/PrecisionReducerCoordinateOperation.js","../src/org/locationtech/jts/precision/GeometryPrecisionReducer.js","../src/org/locationtech/jts/simplify/DouglasPeuckerLineSimplifier.js","../src/org/locationtech/jts/simplify/DouglasPeuckerSimplifier.js","../src/org/locationtech/jts/simplify/TaggedLineSegment.js","../src/org/locationtech/jts/simplify/TaggedLineString.js","../src/org/locationtech/jts/simplify/LineSegmentIndex.js","../src/org/locationtech/jts/simplify/TaggedLineStringSimplifier.js","../src/org/locationtech/jts/simplify/TaggedLinesSimplifier.js","../src/org/locationtech/jts/simplify/TopologyPreservingSimplifier.js","../src/org/locationtech/jts/simplify/VWLineSimplifier.js","../src/org/locationtech/jts/simplify/VWSimplifier.js","../src/org/locationtech/jts/triangulate/SplitSegment.js","../src/org/locationtech/jts/triangulate/ConstraintSplitPointFinder.js","../src/org/locationtech/jts/triangulate/NonEncroachingSplitPointFinder.js","../src/org/locationtech/jts/triangulate/quadedge/TrianglePredicate.js","../src/org/locationtech/jts/triangulate/quadedge/Vertex.js","../src/org/locationtech/jts/triangulate/ConstraintVertex.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdge.js","../src/org/locationtech/jts/triangulate/IncrementalDelaunayTriangulator.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdgeLocator.js","../src/org/locationtech/jts/triangulate/quadedge/LastFoundQuadEdgeLocator.js","../src/org/locationtech/jts/triangulate/quadedge/LocateFailureException.js","../src/org/locationtech/jts/triangulate/quadedge/TriangleVisitor.js","../src/org/locationtech/jts/triangulate/quadedge/QuadEdgeSubdivision.js","../src/org/locationtech/jts/triangulate/Segment.js","../src/org/locationtech/jts/triangulate/ConformingDelaunayTriangulator.js","../src/org/locationtech/jts/triangulate/DelaunayTriangulationBuilder.js","../src/org/locationtech/jts/triangulate/ConformingDelaunayTriangulationBuilder.js","../src/org/locationtech/jts/triangulate/VoronoiDiagramBuilder.js","../src/org/locationtech/jts/linearref/LinearLocation.js","../src/org/locationtech/jts/linearref/LinearIterator.js","../src/org/locationtech/jts/linearref/LocationIndexOfPoint.js","../src/org/locationtech/jts/linearref/LocationIndexOfLine.js","../src/org/locationtech/jts/linearref/LinearGeometryBuilder.js","../src/org/locationtech/jts/linearref/ExtractLineByLocation.js","../src/org/locationtech/jts/linearref/LocationIndexedLine.js","../src/org/locationtech/jts/linearref/LengthIndexOfPoint.js","../src/org/locationtech/jts/linearref/LengthLocationMap.js","../src/org/locationtech/jts/linearref/LengthIndexedLine.js","../src/org/locationtech/jts/operation/union/UnionOp.js","../src/org/locationtech/jts/monkey.js","../src/jsts.js"],"names":["Array","prototype","Object","defineProperty","configurable","value","this","TypeError","arrayLike","length","Math","max","min","relativeStart","arguments","parseInt","Number","relativeEnd","undefined","writable","isFinite","isInteger","val","floor","parseFloat","isNaN","trunc","x","ceil","log2","log","LOG2E","NumberUtil","constructor","constructor_","apply","[object Object]","x1","x2","tolerance","abs","getClass","interfaces_","IllegalArgumentException","message","Long","high","low","Double","pow","MAX_REL_BITS_INTEGER","f64buf","i32buf","Comparable","Clonable","Comparator","Serializable","RuntimeException","name","stack","Error","call","toBinaryString","i","result","mask","n","isInfinite","MAX_VALUE","Float64Array","Int32Array","buffer","doubleToLongBits","longBitsToDouble","bits","y","f","skip","sign","exp","NEGATIVE_INFINITY","Infinity","fract","BIAS","NaN","create","AssertionFailedException","super","Assert","shouldNeverReachHere","assertion","isTrue","expectedValue","actualValue","equals","Coordinate","setOrdinate","ordinateIndex","X","Y","Z","z","equals2D","other","c","equalsWithTolerance","getOrdinate","equals3D","equalInZ","compareTo","o","clone","e","CloneNotSupportedException","copy","toString","distance3D","dx","dy","dz","sqrt","distance","hashCode","setCoordinate","Cloneable","DimensionalComparator","a","b","compare","o1","o2","c1","c2","compX","compY","_dimensionsToTest","hasInterface","indexOf","Iterator","Collection","IndexOutOfBoundsException","List","NoSuchElementException","OperationNotSupported","ArrayList","array_","addAll","dimensionsToTest","NULL_ORDINATE","serialVersionUID","hasNext","next","remove","add","isEmpty","iterator","size","toArray","IndexOutOfBoundsException$1","get","set","ensureCapacity","push","splice","clear","index","element","oldElement","Iterator_","array","len","found","removeAll","arrayList","arrayList_","position_","CoordinateList","getCoordinate","coll","allowRepeated","isChanged","toCoordinateArray","coordArrayType","coord","obj","start","end","inc","closeRing","fill","Envelope","p1","p2","q","q1","q2","minq","maxq","minp","maxp","getArea","getWidth","getHeight","otherEnvelope","isNull","_maxx","getMaxX","_maxy","getMaxY","_minx","getMinX","_miny","getMinY","intersection","env","intersects","intMinX","intMinY","intMaxX","intMaxY","covers","p","expandToInclude","minExtent","w","h","translate","transX","transY","init","setToNull","maxExtent","expandBy","deltaX","deltaY","contains","centre","y1","y2","Exception","NotRepresentableException","StringBuffer","str","Integer","Character","append","setCharAt","substr","intValue","isWhitespace","toUpperCase","DD","valueOf","selfMultiply","parse","strlen","charAt","isNegative","signCh","numDigits","numBeforeDec","ch","isDigit","d","TEN","selfAdd","expStr","substring","ex","NumberFormatException","val2","numDecPlaces","scale","divide","multiply","negate","dd","xAbs","xLog10","xMag","buf","le","_hi","_lo","extractSignificantDigits","insertDecimalPoint","magnitude","mag","gt","lt","ONE","decimalPointPos","MAX_PRINT_DIGITS","digit","rebiasBy10","digitChar","subtract","continueExtractingDigits","remMag","sqr","doubleValue","isZero","selfSubtract","getSpecialNumberString","selfDivide","yhi","ylo","tc","ty","C","U","hc","hy","u","SPLIT","dump","createNaN","ge","r","s","reciprocal","fhi","flo","rint","setValue","ax","axdd","d2","H","S","T","t","zhi","zlo","tx","hx","selfSqr","toStandardNotation","toSciNotation","specialStr","sigDigits","num","stringOfChar","numZeroes","SCI_NOT_ZERO","digits","SCI_NOT_EXPONENT_CHAR","IllegalStateException","trailingDigits","digitsWithDecimal","isPositive","hi","lo","signum","PI","TWO_PI","PI_2","E","EPS","CGAlgorithmsDD","orientationIndexFilter","dx1","dy1","dx2","dy2","denom1","denom2","denom","numx1","numx2","fracP","numy1","numy2","fracQ","pa","pb","pc","detsum","detleft","detright","det","errbound","DP_SAFE_EPSILON","Orientation","orientationIndex","ring","nPts","hiPt","hiIndex","iPrev","iNext","prev","disc","System","CLOCKWISE","RIGHT","COUNTERCLOCKWISE","LEFT","COLLINEAR","STRAIGHT","arraycopy","src","srcPos","dest","destPos","getProperty","line.separator","HCoordinate","px","py","pw","qx","qy","qw","xInt","yInt","getY","getX","_x","_y","_w","MathUtil","ln","LOG_10","v1","v2","v3","v4","Distance","A","B","D","pointToSegment","noIntersection","r_num","len2","line","minDistance","dist","CoordinateSequence","getCoordinateCopy","getDimension","expandEnvelope","M","CoordinateSequenceFactory","GeometryComponentFilter","filter","geom","Geometry","isGeometryCollection","getTypeCode","TYPECODE_GEOMETRYCOLLECTION","getFactory","_factory","getGeometryN","isRectangle","g","equalsTopo","equalsExact","geometryChanged","geometryChangedFilter","geometryChangedAction","_envelope","equalsNorm","norm","getLength","getNumGeometries","compareToSameClass","comp","getUserData","_userData","getSRID","_SRID","getEnvelope","toGeometry","getEnvelopeInternal","checkNotGeometryCollection","equal","normalize","getPrecisionModel","computeEnvelopeInternal","setSRID","SRID","setUserData","userData","j","aElement","bElement","comparison","isGeometryCollectionOrDerived","TYPECODE_MULTIPOINT","TYPECODE_MULTILINESTRING","TYPECODE_MULTIPOLYGON","geometries","factory","TYPECODE_POINT","TYPECODE_LINESTRING","TYPECODE_LINEARRING","TYPECODE_POLYGON","TYPENAME_POINT","TYPENAME_MULTIPOINT","TYPENAME_LINESTRING","TYPENAME_LINEARRING","TYPENAME_MULTILINESTRING","TYPENAME_POLYGON","TYPENAME_MULTIPOLYGON","TYPENAME_GEOMETRYCOLLECTION","CoordinateFilter","BoundaryNodeRule","isInBoundary","boundaryCount","Mod2BoundaryNodeRule","EndPointBoundaryNodeRule","MultiValentEndPointBoundaryNodeRule","MonoValentEndPointBoundaryNodeRule","MOD2_BOUNDARY_RULE","ENDPOINT_BOUNDARY_RULE","MULTIVALENT_ENDPOINT_BOUNDARY_RULE","MONOVALENT_ENDPOINT_BOUNDARY_RULE","OGC_SFS_BOUNDARY_RULE","CoordinateArrays","pts","testPts","testPt","coordinates","firstCoordinate","newCoordinates","coord1","coord2","coordinateComparator","coordList","hasRepeatedPoints","last","mid","tmp","nonNull","newCoord","srcStart","destStart","pts1","pts2","coordinate","minCoord","clamp","npts","extractPts","iPts","ForwardComparator","BidirectionalComparator","forwardComp","isEqualReversed","OLDcompare","dir1","increasingDirection","dir2","i1","i2","comparePt","Map","SortedMap","Set","HashSet","put","values","entrySet","javascript","util","hashSet","hashSet_","BLACK","colorOf","color","parentOf","parent","setColor","leftOf","left","rightOf","right","TreeMap","root_","size_","key","cmp","getValue","getKey","oldValue","fixAfterInsertion","rotateLeft","rotateRight","getFirstEntry","successor","l","containsKey","Lineal","SortedSet","TreeSet","treeSet","treeSet_","Arrays","sort","comparator","slice","concat","asList","Dimension","dimensionValue","FALSE","SYM_FALSE","TRUE","SYM_TRUE","DONTCARE","SYM_DONTCARE","P","SYM_P","L","SYM_L","SYM_A","dimensionSymbol","GeometryFilter","CoordinateSequenceFilter","seq","isDone","isGeometryChanged","GeometryCollection","envelope","_geometries","getCoordinates","getNumPoints","k","childCoordinates","area","isEquivalentClass","otherCollection","getBoundaryDimension","dimension","sum","numPoints","reverse","revGeoms","createGeometryCollection","theseElements","otherElements","gc","n1","n2","thisGeom","otherGeom","holeComp","getBoundary","getGeometryType","hasNullElements","MultiLineString","isClosed","nLines","revLines","createMultiLineString","BoundaryOp","lineStrings","bnRule","boundaryMultiLineString","mLine","_geom","getEmptyMultiPoint","bdyPts","computeBoundaryCoordinates","_geomFact","createPoint","createMultiPointFromCoords","LineString","boundaryLineString","_bnRule","getStartPoint","createMultiPoint","getEndPoint","_endpointMap","addEndpoint","getCoordinateN","it","entry","valence","count","pt","counter","Counter","Length","x0","y0","PrintStream","StringReader","ByteArrayOutputStream","IOException","LineNumberReader","StringUtil","String","os","ps","printStackTrace","depth","stackTrace","lineNumberReader","getStackTrace","readLine","NEWLINE","separator","separatorlen","tokenList","tmpString","pos","token","res","SIMPLE_ORDINATE_FORMAT","format","chars","StringBuilder","CoordinateSequences","minDim","dim","cs1","cs2","cs1Size","fact","newseq","swap","copyCoord","cs","builder","createClosedRing","_points","isRing","isSimple","otherLineString","getPointN","ofLine","createLineString","getCoordinateSequence","points","getCoordinateSequenceFactory","isCoordinate","Puntal","Point","_coordinates","point","Area","ofRingSigned","p0","Polygonal","Polygon","_shell","shellCoordinates","_holes","ofRing","getNumInteriorRing","prevX","prevY","otherPolygon","thisShell","otherPolygonShell","clockwise","uniqueCoordinates","minCoordinate","scroll","isCCW","poly","convexHull","getExteriorRing","otherShell","shellComp","nHole1","nHole2","thisHole","getInteriorRingN","otherHole","rings","createLinearRing","shellCopy","holeCopies","shell","holes","hasNonEmptyElements","MultiPoint","isValid","LinearRing","validateConstruction","MINIMUM_VALID_SIZE","GeometryFactory","MultiPolygon","createMultiPolygon","allRings","allRingsArray","polygons","GeometryEditor","setCopyUserData","isUserDataCopied","_isUserDataCopied","edit","geometry","operation","editInternal","editGeometryCollection","editPolygon","getName","collection","collectionForType","polygon","newPolygon","createPolygon","hole","GeometryEditorOperation","NoOpGeometryOperation","CoordinateOperation","CoordinateSequenceOperation","CoordinateArraySequence","_dimension","cloneCoordinates","strBuilder","coordSeq","CoordinateArraySequenceFactory","instanceObject","readResolve","instance","MapPolyfill","proto","objectOnly","_keys","_values","_itp","forEach","sharedSize","createCollection","delete","has","list","keys","sharedIterator","entries","callback","context","done","itp","array2","v","MapImpl","HashMap","map_","MapInterface","PrecisionModel","pm1","pm2","otherPrecisionModel","_modelType","_scale","getMaximumSignificantDigits","otherSigDigits","getScale","isFloating","FLOATING","FLOATING_SINGLE","getType","description","FIXED","makePrecise","round","maxSigDigits","setScale","Type","nameToTypeMap","_name","modelType","pm","maximumPreciseValue","multiPolygons","multiPolygonArray","geometryArray","multiLineStrings","multiLineStringArray","lineStringArray","multiPoints","multiPointArray","linearRings","linearRingArray","pointArray","polygonArray","exemplar","buildGeometry","geomList","geomClass","isHeterogeneous","hasGeometryCollection","partClass","toGeometryArray","geom0","toPolygonArray","toLineStringArray","toPointArray","_coordinateSequenceFactory","createGeometry","CloneOp","_precisionModel","ptSeq","coordinateSequenceFactory","precisionModel","getDefaultCoordinateSequenceFactory","regExes","typeStr","emptyTypeStr","spaces","parenComma","doubleParenComma","trimParens","WKTParser","geometryFactory","read","wkt","type","replace","matches","exec","search","toLowerCase","write","extractGeometry","extract","wktType","multipoint","join","linestring","linearring","multilinestring","multipolygon","geometrycollection","coords","trim","split","components","lines","wktArray","WKTWriter","parser","LineIntersector","pdx","pdy","getIndexAlongSegment","segmentIndex","intIndex","computeIntLineIndex","_intLineIndex","getTopologySummary","catBuilder","isEndPoint","_isProper","isCollinear","computeIntersection","p3","p4","_inputLines","_result","computeIntersect","getIntersectionNum","map","getEdgeDistance","isProper","hasIntersection","setPrecisionModel","isInteriorIntersection","inputLineIndex","_intPt","getIntersection","NO_INTERSECTION","computeEdgeDistance","COLLINEAR_INTERSECTION","toLineString","getEndpoint","ptIndex","isIntersection","getIntersectionAlongSegment","_pa","_pb","DONT_INTERSECT","DO_INTERSECT","POINT_INTERSECTION","RobustLineIntersector","nearestPt","minDist","isInSegmentEnvelopes","intPt","env0","env1","normalizeToMinimum","n3","n4","normPt","smallestInAbsValue","safeHCoordinateIntersection","nearestEndpoint","intersectionWithNormalization","x3","x4","xabs","checkDD","intPtDD","isIn","out","println","normalizeToEnvCentre","computeCollinearIntersection","p1q1p2","p1q2p2","q1p1q2","q1p2q2","n00","n01","n10","n11","minX0","minY0","maxX0","maxY0","minX1","minY1","maxX1","maxY1","intMidX","intMidY","Pq1","Pq2","Qp1","Qp2","LineSegment","minX","seg","orient0","orient1","geomFactory","isVertical","li","project","projectionFactor","pf0","pf1","newp0","newp1","angle","atan2","distancePerpendicular","pointToLinePerpendicular","minY","midPoint","closestPoints","closestPt","close00","closestPoint","close01","close10","close11","factor","maxX","comp0","temp","lineIntersection","maxY","pointAlongOffset","segmentLengthFraction","offsetDistance","segx","segy","ux","uy","setCoordinates","ls","segmentFraction","inputPt","segFrac","isHorizontal","segmentToSegment","pointAlong","bits0","java","lang","hash0","bits1","Location","locationValue","EXTERIOR","BOUNDARY","INTERIOR","NONE","IntersectionMatrix","actualDimensionValue","requiredDimensionSymbol","actualDimensionSymbols","requiredDimensionSymbols","isIntersects","isDisjoint","isCovers","_matrix","isCoveredBy","dimensionSymbols","row","col","toDimensionValue","column","isContains","setAtLeast","minimumDimensionSymbols","minimumDimensionValue","setAtLeastIfValid","isWithin","isTouches","dimensionOfGeometryA","dimensionOfGeometryB","isOverlaps","isEquals","ai","bi","toDimensionSymbol","setAll","transpose","im","isCrosses","elements","Angle","radians","PI_TIMES_2","dx0","dy0","anglePrev","angleNext","tip1","tail","tip2","a1","a2","diff","ang1","ang2","delAngle","angleDegrees","crossproduct","sin","angDel","PI_OVER_2","PI_OVER_4","Triangle","m00","m01","m10","m11","v0","lenAB","lenBC","lenCA","maxLen","isAcute","cx","cy","ay","bx","by","numx","numy","l1","l2","len0","frac","uz","vx","vy","vz","crossx","crossy","crossz","absSq","len1","circum","inCentreX","inCentreY","signedArea","interpolateZ","longestSideLength","circumcentre","area3D","centroid","inCentre","PointPairDistance","_pt","setMinimum","ptDist","_isNull","initialize","_distance","getDistance","setMaximum","DistanceToPoint","tempSegment","computeDistance","segment","DiscreteHausdorffDistance","g0","g1","densifyFrac","setDensifyFraction","_ptDist","_densifyFrac","compute","computeOrientedDistance","_g0","_g1","discreteGeom","distFilter","MaxPointDistanceFilter","getMaxPointDistance","fracFilter","MaxDensifiedByFractionDistanceFilter","orientedDistance","_minPtDist","_maxPtDist","_euclideanDist","delx","_numSubSegs","dely","fraction","ItemVisitor","visitItem","item","PointOnGeometryLocator","locate","IntervalRTreeNode","getMin","_min","queryMin","queryMax","_max","getMax","NodeComparator","mid1","mid2","POSITIVE_INFINITY","IntervalRTreeLeafNode","query","visitor","_item","Collections","reverseOrder","alen","singletonList","IntervalRTreeBranchNode","buildExtent","_node1","_node2","SortedPackedIntervalRTree","buildTree","_leaves","buildLevel","insert","_root","buildRoot","printNode","node","_level","LinearComponentExtracter","getLines","forceToLineString","geoms","_isForcedToLineString","_lines","setForceToLineString","isForcedToLineString","ArrayListVisitor","_items","getItems","RayCrossingCounter","countSegment","isOnSegment","getLocation","_p","_isPointOnSegment","minx","maxx","orient","_crossingCount","isPointInPolygon","IndexedPointInAreaLocator","rcc","SegmentVisitor","_index","_counter","IntervalIndexedGeometry","addLine","PointLocation","lineIntersector","locatePointInRing","locateInRing","GeometryCollectionIterator","_atStart","isAtomic","_parent","_subcollectionIterator","UnsupportedOperationException","SimplePointInAreaLocator","shellLoc","holeLoc","locatePointInPolygon","geomi","g2","loc","locateInGeometry","SimilarityMeasure","measure","AreaSimilarityMeasure","union","HausdorffSimilarityMeasure","width","hgt","DENSIFY_FRACTION","diagonalSize","SimilarityMeasureCombiner","measure1","measure2","Centroid","getCentroid","setAreaBasePoint","basePt","_areaBasePt","addPoint","_ptCount","_ptCentSum","addLineSegments","lineLen","segmentLen","midx","_lineCentSum","midy","_totalLength","addHole","isPositiveArea","addTriangle","cent","_areasum2","_cg3","addShell","centroid3","_triangleCent3","area2","EmptyStackException","Stack","pop","peek","empty","UniqueCoordinateArrayFilter","ConvexHull","preSort","RadialComparator","computeOctRing","inputPts","octPts","computeOctPts","lineOrPolygon","cleanRing","_geomFactory","linearRing","original","cleanedRing","previousDistinctCoordinate","currentCoordinate","nextCoordinate","isBetween","cleanedRingCoordinates","c3","reduce","polyPts","reducedSet","isInRing","reducedPts","padArray3","getConvexHull","_inputPts","sortedPts","cHS","grahamScan","cH","pad","dxp","dyp","dxq","dyq","op","oq","polarCompare","_origin","origin","extractCoordinates","filterCoordinates","InteriorPointArea","avg","addPolygon","bisector","horizontalBisector","intersections","widestIntersection","widestGeometry","_interiorPoint","_maxWidth","getInteriorPoint","bisectY","SafeBisectorFinder","getBisectorY","updateInterval","_centreY","_loY","_hiY","process","_poly","InteriorPointLine","addEndpoints","addInterior","_centroid","_minDistance","InteriorPointPoint","PointLocator","locateInPolygonRing","updateLocationInfo","_isIn","_numBoundaries","computeLocation","locateOnPoint","locateOnLineString","locateInPolygon","ml","mpoly","isOnLine","_boundaryRule","boundaryRule","MinimumBoundingCircle","minSin","minAngPt","Q","minAng","ang","angleBetween","getRadius","_radius","getDiameter","_extremalPts","_input","_centre","getExtremalPoints","computeCirclePoints","hullPts","copyDeep","lowestPoint","pointWitMinAngleWithX","R","pointWithMinAngleWithSegment","isObtuse","computeCentre","getFarthestPoints","getCircle","centrePoint","getCentre","MinimumDiameter","getMinimumRectangle","getWidthCoordinate","computeMinimumDiameter","_minWidthPt","getSupportingSegment","_inputGeom","_minBaseSeg","computeWidthConvex","convexGeom","_convexHullPts","_minWidth","computeConvexRingMinDiameter","currMaxIndex","findMaxPerpDistance","_isConvex","startIndex","maxPerpDistance","nextPerpDistance","maxIndex","nextIndex","_minPtIndex","minPara","maxPara","minPerp","maxPerp","paraC","computeC","perpC","maxPerpLine","computeSegmentForLine","minPerpLine","maxParaLine","minParaLine","inputGeom","isConvex","GeometryTransformer","transformPoint","transformCoordinates","transformPolygon","isAllValidLinearRings","transformLinearRing","createCoordinateSequence","getInputGeometry","transformMultiLineString","transGeomList","transformGeom","transformLineString","transformMultiPoint","transformMultiPolygon","transformGeometryCollection","transform","_pruneEmptyGeometry","_preserveGeometryCollectionType","seqSize","_preserveType","_preserveCollections","Densifier","distanceTolerance","precModel","densifiedSegCount","densifiedSegLen","segFract","densifier","setDistanceTolerance","getResultGeometry","DensifyTransformer","_distanceTolerance","roughGeom","createValidArea","newPts","densifyPoints","roughAreaGeom","Quadrant","quad","NE","NW","quad1","quad2","halfPlane","SE","SW","HalfEdge","e0","e1","_sym","_next","find","oNext","_orig","insertAfter","ecmp","ePrev","orig","save","setNext","sym","degree","compareAngularDirection","quadrant","quadrant2","prevNode","setSym","MarkHalfEdge","isMarked","setMark","mark","_isMarked","EdgeGraph","eAdj","_vertexMap","eAdjDest","createEdge","addEdge","isValidEdge","eSame","getVertexEdges","findEdge","DissolveHalfEdge","setStart","_isStart","isStart","DissolveEdgeGraph","LineDissolver","getResult","updateRingStartEdge","_ringStartEdge","computeResult","eNode","stackEdges","buildLines","buildRing","eStartRing","eNext","buildLine","eStart","markBoth","_nodeEdgeStack","_graph","component","lineString","doneStart","Position","position","ON","MonotoneChain","computeIntersections","mc","si","mce","computeIntersectsForChain","chainIndex","SweepLineEvent","isDelete","_eventType","DELETE","setDeleteEventIndex","deleteEventIndex","_deleteEventIndex","getObject","_obj","pe","_xValue","getInsertEvent","_insertEvent","isInsert","INSERT","isSameLabel","ev","_label","getDeleteEventIndex","insertEvent","label","EdgeSetIntersector","SegmentIntersector","isTrivialIntersection","segIndex0","segIndex1","_li","isAdjacentSegments","maxSegIndex","getProperIntersectionPoint","_properIntersectionPoint","setIsDoneIfProperInt","isDoneWhenProperInt","_isDoneWhenProperInt","hasProperInteriorIntersection","_hasProperInterior","isBoundaryPointInternal","bdyNodes","hasProperIntersection","_hasProper","_hasIntersection","_isDone","isBoundaryPoint","setBoundaryNodes","bdyNodes0","bdyNodes1","_bdyNodes","addIntersections","numTests","p00","p01","p10","p11","_recordIsolated","setIsolated","_numIntersections","_includeProper","_isSelfIntersection","includeProper","recordIsolated","SimpleMCSweepLineIntersector","prepareEvents","events","nOverlaps","processOverlaps","edges0","edges1","addEdges","edges","edge","edgeSet","getMonotoneChainEdge","getStartIndexes","ev0","mc0","ev1","mc1","TopologyLocation","setAllLocations","locValue","location","setAllLocationsIfNull","isLine","merge","gl","newLoc","getLocations","flip","toLocationSymbol","setLocations","on","posIndex","isArea","isAnyNull","setLocation","locIndex","isEqualOnSide","allPositionsEqual","Label","lineLabel","getGeometryCount","elt","geomIndex","lbl","side","toLine","onLoc","leftLoc","rightLoc","EdgeIntersection","getSegmentIndex","print","maxSegmentIndex","EdgeIntersectionList","_nodeMap","addSplitEdges","edgeList","eiPrev","ei","newEdge","createSplitEdge","ei0","ei1","lastSegStartPt","useIntPt1","ipt","Edge","eiNew","MonotoneChainIndexer","getChainStartIndices","startIndexList","findChainEnd","toIntArray","chainQuad","MonotoneChainEdge","chainIndex0","chainIndex1","start0","end0","start1","end1","overlaps","mid0","computeIntersects","mcb","Depth","NULL_VALUE","getDepth","_depth","setDepth","depthValue","minDepth","newValue","getDelta","depthAtLocation","GraphComponent","setVisited","isVisited","_isVisited","setInResult","isInResult","_isInResult","isCovered","_isCovered","isCoveredSet","_isCoveredSet","setLabel","getLabel","setCovered","updateIM","computeIM","getCollapsedEdge","toLineLabel","isIsolated","_isIsolated","setName","isEqualForward","isEqualReverse","iRev","_depthDelta","isCollapsed","getMaximumSegmentIndex","getDepthDelta","printReverse","_mce","_env","addIntersection","normalizedSegmentIndex","nextSegIndex","nextPt","eiList","isPointwiseEqual","setDepthDelta","depthDelta","getEdgeIntersectionList","Node","isIncidentEdgeInResult","getEdges","getEdge","_coord","computeMergedLocation","label2","eltIndex","nLoc","argIndex","onLocation","_edges","mergeLabel","setNode","setLabelBoundary","NodeMap","nodeMap","addNode","nodeFact","createNode","getBoundaryNodes","EdgeEnd","compareDirection","_dx","_dy","_quadrant","_p0","_p1","getDy","_node","className","lastDotPos","lastIndexOf","getDirectedCoordinate","getDx","_edge","getQuadrant","getNode","computeLabel","boundaryNodeRule","TopologyException","msg","msgWithCoord","DirectedEdge","currLocation","nextLocation","getNextMin","_nextMin","computeDirectedLabel","_isForward","getNext","depthVal","isInteriorAreaEdge","setNextMin","nextMin","setMinEdgeRing","minEdgeRing","_minEdgeRing","isLineEdge","isExteriorIfArea0","isExteriorIfArea1","setEdgeRing","edgeRing","_edgeRing","getMinEdgeRing","getSym","isForward","printEdge","de","setVisitedEdge","setEdgeDepths","directionFactor","oppositePos","opposite","oppositeDepth","getEdgeRing","NodeFactory","PlanarGraph","nodes","nodeit","linkResultDirectedEdges","printEdges","_nodes","getNodeIterator","debugPrintln","isBoundaryNode","linkAllDirectedEdges","matchInSameDirection","ep0","ep1","getEdgeEnds","_edgeEndList","debugPrint","getEdgeIterator","findEdgeInSameDirection","eCoord","insertEdge","findEdgeEnd","ee","edgesToAdd","de1","de2","getNodes","GeometryGraph","insertBoundaryPoint","determineBoundary","_boundaryNodeRule","computeSelfNodes","computeRingSelfNodes","isDoneIfProperInt","esi","createEdgeSetIntersector","isRings","_parentGeom","computeAllSegments","addSelfIntersectionNodes","_argIndex","computeSplitEdges","edgelist","computeEdgeIntersections","getGeometry","getBoundaryNodeRule","hasTooFewPoints","_hasTooFewPoints","insertPoint","addPolygonRing","addLineString","removeRepeatedPoints","_invalidPoint","_lineEdgeMap","getInvalidPoint","getBoundaryPoints","_boundaryNodes","addSelfIntersectionNode","_useBoundaryDeterminationRule","lr","cwLeft","cwRight","eLoc","eiIt","addCollection","_areaPtLocator","_ptLocator","parentGeom","KdNodeVisitor","visit","KdNode","isRepeated","_count","getRight","_right","setLeft","_left","getData","_data","getCount","getLeft","increment","setRight","data","KdTree","kdnodes","toCoordinates","includeRepeated","_tolerance","matchNode","findBestMatchNode","insertExact","queryEnv","queryNode","currentNode","odd","discriminant","searchRight","BestMatchVisitor","queryEnvelope","leafNode","isOddLevel","isLessThan","_numberOfNodes","update","_matchNode","_matchDist","NodeBase","centrex","centrey","subnodeIndex","hasChildren","_subnode","isPrunable","hasItems","addAllItems","resultItems","getNodeCount","subSize","addAllItemsFromOverlapping","searchEnv","isSearchMatch","visitItems","itemEnv","maxSubDepth","sqd","DoubleBits","exponent","NumW","Qty","Sign","Expo","Mant","Bin","ExW","32","64","CVTFWD","powerOf2","Key","dMax","getLevel","computeKey","computeQuadLevel","level","quadSize","getPoint","addEnv","expandEnv","largerNode","insertNode","getSubnodeIndex","_centrex","_centrey","getSubnode","createSubnode","miny","maxy","sqEnv","childNode","IntervalSize","scaledInterval","MIN_BINARY_EXPONENT","Root","createExpanded","insertContained","tree","isZeroX","isZeroWidth","isZeroY","SpatialIndex","Quadtree","collectStats","insertEnv","ensureExtent","_minExtent","queryAll","foundItems","posEnv","delX","delY","Boundable","getBounds","ItemBoundable","getItem","_bounds","bounds","PriorityQueue","poll","minItem","_size","reorder","child","AbstractNode","_childBoundables","getChildBoundables","addChildBoundable","childBoundable","computeBounds","BoundablePair","expandToQueue","priQ","isComp1","isComposite","_boundable1","isComp2","_boundable2","expand","isLeaves","nd","bndComposite","bndOther","bp","_itemDistance","getBoundable","boundable1","boundable2","itemDistance","AbstractSTRtree","queryInternal","searchBounds","childBoundables","getIntersectsOp","getNodeCapacity","_nodeCapacity","lastNode","build","removeItem","childToRemove","itemsTree","valuesTree","valuesTreeForNode","valuesTreeForChild","_built","_itemBoundables","boundablesAtLevel","boundables","top","boundable","createHigherLevels","getRoot","childToPrune","boundablesOfALevel","parentBoundables","createParentBoundables","maxChildDepth","childDepth","newLevel","sortedChildBoundables","getComparator","IntersectsOp","DEFAULT_NODE_CAPACITY","nodeCapacity","ItemDistance","item1","item2","STRtree","kNearestNeighbors","items","createParentBoundablesFromVerticalSlices","verticalSlices","createParentBoundablesFromVerticalSlice","STRtreeNode","intersectsOp","sliceCount","sliceCapacity","slices","boundablesAddedToSlice","yComparator","minLeafCount","xComparator","nearestNeighbour","itemDist","initBndPair","distanceLowerBound","minPair","currentDistance","bndPair","bnd","maxDistance","compareDoubles","centreX","centreY","aBounds","bBounds","geometryTypes","GeoJSONParser","json","JSON","Feature","feature","bbox","FeatureCollection","featureCollection","features","sub","geoJson","shellGeoJson","holeGeoJson","p2c","olReference","ol","inject","convertFromPoint","convertFromLineString","convertFromLinearRing","convertFromPolygon","convertFromMultiPoint","convertFromMultiLineString","convertFromMultiPolygon","convertFromCollection","getLinearRings","multiPoint","getPoints","multiLineString","getLineStrings","multiPolygon","getPolygons","getGeometries","convertToPoint","convertToLineString","convertToLinearRing","convertToPolygon","convertToMultiPoint","convertToMultiLineString","convertToMultiPolygon","convertToCollection","geometryCollection","SegmentPointComparator","octant","xSign","relativeSign","ySign","compareValue","compareSign0","compareSign1","SegmentNode","_segmentOctant","_isInterior","isInterior","_segString","segString","segmentOctant","SegmentNodeList","getSplitCoordinates","addEdgeCoordinates","addCollapsedNodes","collapsedVertexIndexes","findCollapsesFromInsertedNodes","findCollapsesFromExistingVertices","vertexIndex","findCollapseIndex","collapsedVertexIndex","numVerticesBetween","NodedSegmentString","getSegmentOctant","checkSplitEdgesCorrectness","splitEdges","edgePts","pt0","splitnPts","ptn","Octant","adx","ady","SegmentString","setData","NodableSegmentString","segStrings","resultEdgelist","getNodedSubstrings","getNodeList","_pts","safeOctant","addIntersectionNode","_nodeList","MonotoneChainOverlapAction","overlap","mc2","start2","getLineSegment","_overlapSeg1","_overlapSeg2","computeSelect","mcs","select","_end","_start","computeOverlaps","mco","setId","id","_id","getEndIndex","getStartIndex","getContext","_context","getId","MonotoneChainBuilder","safeStart","getChains","mcList","Noder","computeNodes","SinglePassNoder","setSegmentIntersector","segInt","_segInt","MCIndexNoder","getMonotoneChains","_monoChains","_nodedSegStrings","getIndex","segStr","_idCounter","inputSegStrings","intersectChains","overlapAction","SegmentOverlapAction","queryChain","testChain","_nOverlaps","ss1","ss2","_si","processIntersections","ScaledNoder","rescale","ss","_scaleFactor","_offsetX","_offsetY","nodedSegmentStrings","roundPts","isIntegerPrecision","splitSS","_noder","_isScaled","intSegStrings","noder","scaleFactor","IsSimpleOp","isSimpleMultiPoint","mp","_nonSimpleLocation","isSimplePolygonal","isSimpleLinearGeometry","hasClosedEndpointIntersection","graph","endPoints","eiInfo","getNonSimpleLocation","hasNonEndpointIntersection","_isClosedEndpointsInInterior","EndpointInfo","computeSimple","isSimpleGeometryCollection","BufferParameters","quadSegs","alpha","cos","getEndCapStyle","_endCapStyle","isSingleSided","_isSingleSided","setQuadrantSegments","_quadrantSegments","_joinStyle","JOIN_BEVEL","JOIN_MITRE","_mitreLimit","JOIN_ROUND","DEFAULT_QUADRANT_SEGMENTS","getJoinStyle","setJoinStyle","joinStyle","setSimplifyFactor","simplifyFactor","_simplifyFactor","getSimplifyFactor","getQuadrantSegments","setEndCapStyle","endCapStyle","getMitreLimit","setMitreLimit","mitreLimit","setSingleSided","CAP_ROUND","DEFAULT_MITRE_LIMIT","DEFAULT_SIMPLIFY_FACTOR","quadrantSegments","CAP_FLAT","CAP_SQUARE","RightmostEdgeFinder","_minCoord","getRightmostSide","getRightmostSideOfSegment","checkForRightmostCoordinate","findRightmostEdgeAtVertex","_minDe","_minIndex","pPrev","pNext","orientation","usePrev","_orientedDe","findRightmostEdgeAtNode","star","getRightmostEdge","dirEdgeList","LinkedList","addLast","removeFirst","shift","BufferSubgraph","clearVisitedEdges","_dirEdgeList","getRightmostCoordinate","_rightMostCoord","computeNodeDepth","startEdge","computeDepths","copySymDepths","computeDepth","outsideDepth","_finder","addReachable","findResultEdges","nodesVisited","nodeQueue","startNode","adjNode","edgeEnv","nodeStack","symNode","getDirectedEdges","EdgeRing","computeRing","_ring","_geometryFactory","_isHole","computePoints","_startDe","isFirstEdge","addPoints","getLinearRing","computeMaxNodeDegree","_maxNodeDegree","getOutgoingDegree","isHole","containsPoint","isShell","getMaxNodeDegree","getShell","deLabel","setShell","toPolygon","holeLR","MinimalEdgeRing","er","MaximalEdgeRing","buildMinimalRings","minEdgeRings","minEr","linkDirectedEdgesForMinimalEdgeRings","linkMinimalDirectedEdges","PolygonBuilder","sortShellsAndHoles","edgeRings","shellList","freeHoleList","computePolygons","resultPolyList","placeFreeHoles","findEdgeRingContaining","buildMinimalEdgeRings","maxEdgeRings","findShell","placePolygonHoles","_shellList","buildMaximalEdgeRings","dirEdges","testEr","testRing","testEnv","minShell","minEnv","tryShell","tryRing","tryEnv","isContained","shellCount","BufferInputLineSimplifier","inputLine","distanceTol","simplify","isDeletable","i0","_inputLine","isConcave","isShallow","isShallowSampled","deleteShallowConcavities","midIndex","findNextNonDeletedIndex","lastIndex","isMiddleVertexDeleted","_distanceTol","_isDeleted","isShallowConcavity","_angleOrientation","NUM_PTS_TO_CHECK","collapseLine","INIT","KEEP","OffsetSegmentString","_ptList","COORDINATE_ARRAY_TYPE","addPt","bufPt","isRedundant","addPts","lastPt","_minimimVertexDistance","startPt","setMinimumVertexDistance","minimimVertexDistance","OffsetSegmentGenerator","addNextSegment","addStartPoint","_s0","_s1","_s2","_seg0","computeOffsetSegment","_side","_offset0","_seg1","_offset1","outsideTurn","addCollinear","addOutsideTurn","addInsideTurn","addLineEndCap","offsetL","offsetR","_bufParams","_segList","addDirectedFillet","squareCapSideOffset","squareCapLOffset","squareCapROffset","addMitreJoin","offset0","offset1","isMitreWithinLimit","addLimitedMitreJoin","OFFSET_SEGMENT_SEPARATION_FACTOR","addBevelJoin","addCornerFillet","createSquare","addSegments","addFirstSegment","direction","radius","startAngle","endAngle","addLastSegment","initSideSegments","s1","s2","ang0","angDiffHalf","angleBetweenOriented","midAng","mitreMidAng","mitreDist","bevelHalfLen","bevelMidX","bevelMidY","bevelMidPt","mitreMidLine","bevelEndLeft","bevelEndRight","totalAngle","nSegs","_filletAngleQuantum","currAngleInc","currAngle","offset","sideSign","_hasNarrowConcaveAngle","INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR","_closingSegLengthFactor","createCircle","_maxCurveSegmentError","CURVE_VERTEX_SNAP_DISTANCE_FACTOR","hasNarrowConcaveAngle","bufParams","MAX_CLOSING_SEG_LEN_FACTOR","OffsetCurveBuilder","getOffsetCurve","isRightSide","posDistance","segGen","getSegGen","computePointCurve","computeOffsetCurve","curvePts","computeSingleSidedBufferCurve","distTol","simplifyTolerance","simp2","simp1","computeRingBufferCurve","simp","computeLineBufferCurve","getLineCurve","getBufferParameters","bufDistance","getRingCurve","copyCoordinates","SubgraphDepthLocater","findStabbedSegments","stabbingRayLeftPt","stabbedSegments","_subgraphs","bsg","dirEdge","_seg","ds","DepthSegment","_leftDepth","_upwardSeg","orientIndex","compareX","seg0","seg1","compare0","subgraphs","OffsetCurveSetBuilder","curve","_curveBuilder","addCurve","offsetSide","shellCoord","isErodedCompletely","holeCoord","isTriangleErodedCompletely","triangleCoord","bufferDistance","tri","_curveList","getCurves","cwLeftLoc","cwRightLoc","ringCoord","envMinDimension","curveBuilder","EdgeEndStar","getNextCW","_edgeList","iNextCW","propagateSideLabels","startLoc","currLoc","isAreaLabelsConsistent","geomGraph","computeEdgeEndLabels","checkAreaLabelsConsistent","lastEdgeIndex","findIndex","eSearch","_edgeMap","_ptInAreaLocation","computeLabelling","hasDimensionalCollapseEdge","getDegree","insertEdgeEnd","DirectedEdgeStar","getResultAreaEdges","firstOut","incoming","state","_SCANNING_FOR_INCOMING","_resultAreaEdgeList","nextOut","nextIn","_LINKING_TO_OUTGOING","de0","deLast","quad0","isNorthern","updateLabelling","nodeLabel","prevOut","firstIn","edgeIndex","startDepth","targetLastDepth","nextDepth","endIndex","currDepth","nextDe","mergeSymLabels","findCoveredLineEdges","eLabel","OverlayNodeFactory","OrientedCoordinateArray","orientation1","orientation2","limit1","limit2","compPt","done1","done2","oca","compareOriented","_orientation","EdgeList","edgeColl","findEdgeIndex","findEqualEdge","_ocaMap","IntersectionAdder","getLineIntersector","numIntersections","numInteriorIntersections","_hasInterior","numProperIntersections","hasInteriorIntersection","BufferBuilder","lLoc","rLoc","setWorkingPrecisionModel","_workingPrecisionModel","insertUniqueEdge","existingEdge","existingLabel","labelToMerge","mergeDelta","newDelta","buildSubgraphs","subgraphList","polyBuilder","processedGraphs","subgraph","createSubgraphs","createEmptyResultGeometry","getNoder","_workingNoder","bufferSegStrList","computeNodedEdges","oldLabel","setNoder","NodingValidator","checkEndPtVertexIntersections","_segStrings","checkInteriorIntersections","ss0","pts0","checkValid","checkCollapses","checkCollapse","HotPixel","intersectsScaled","segMinx","segMaxx","segMiny","segMaxy","isOutsidePixelEnv","intersectsToleranceSquare","initCorners","_corner","copyScaled","_p0Scaled","_p1Scaled","_originalPt","pScaled","getSafeEnvelope","_safeEnv","safeTolerance","SAFE_ENV_EXPANSION_FACTOR","intersectsPixelClosure","intersectsLeft","intersectsBottom","addSnappedNode","segIndex","_ptScaled","MonotoneChainSelectAction","selectedSegment","MCIndexPointSnapper","snap","hotPixel","parentEdge","hotPixelVertexIndex","pixelEnv","hotPixelSnapAction","HotPixelSnapAction","isNodeAdded","_isNodeAdded","_parentEdge","_hotPixelVertexIndex","_hotPixel","InteriorIntersectionFinderAdder","_interiorIntersections","getInteriorIntersections","MCIndexSnapRounder","checkCorrectness","inputSegmentStrings","resultSegStrings","nv","snapRound","findInteriorIntersections","computeIntersectionSnaps","computeVertexSnaps","intFinderAdder","edge0","_pointSnapper","snapPts","snapPt","_pm","BufferOp","bufOp","params","maxPrecisionDigits","bufEnvMax","minUnitLog10","bufferFixedPrecision","fixedPM","bufBuilder","_resultGeometry","_argGeom","bufferReducedPrecision","precDigits","MAX_PRECISION_DIGITS","_saveException","precisionDigits","sizeBasedScaleFactor","precisionScaleFactor","computeGeometry","bufferOriginalPrecision","argPM","CAP_BUTT","PolygonExtracter","_comps","comps","GeometryLocation","isInsideArea","_segIndex","INSIDE_AREA","getGeometryComponent","_component","PointExtracter","ConnectedElementLocationFilter","locations","_locations","DistanceOp","nearestPoints","computeContainmentDistance","locPtPoly","_terminateDistance","polyGeomIndex","polyGeom","locationsIndex","polys","insideLocs","_minDistanceLocation","locs","ptLoc","computeMinDistanceLinesPoints","locGeom","computeMinDistance","computeFacetDistance","lines0","lines1","computeMinDistanceLines","updateMinDistance","computeMinDistancePoints","nearestLocations","coord0","segClosestPoint","line0","line1","points0","points1","pt1","terminateDistance","EdgeString","forwardDirectedEdges","reverseDirectedEdges","coordinateList","_directedEdges","directedEdge","getEdgeDirection","getLine","visitedState","visited","marked","setMarked","setContext","isRemoved","_from","_angle","getDirectionPt","getAngle","getFromNode","setEdge","getToNode","_to","_edgeDirection","from","to","directionPt","edgeDirection","LineMergeDirectedEdge","getOutEdges","_dirEdge","setDirectedEdges","addOutEdge","getDirEdge","fromNode","getOppositeNode","getNextEdge","_outEdges","sortEdges","_sorted","getNextCWEdge","modi","node0","node1","commonEdges","toEdges","retainAll","_deStar","deStar","LineMergeEdge","_line","findNodesOfDegree","nodesFound","nodeIterator","dirEdgeIterator","_dirEdges","edgeIterator","findNode","LineMergeGraph","startCoordinate","endCoordinate","endNode","directedEdge0","directedEdge1","LineMerger","buildEdgeStringsForUnprocessedNodes","buildEdgeStringsStartingAt","buildEdgeStringsForNonDegree2Nodes","buildEdgeStringsForObviousStartNodes","getMergedLineStrings","_mergedLineStrings","_edgeStrings","buildEdgeStringStartingWith","buildEdgeStringsForIsolatedLoops","edgeString","current","LineStringSnapper","snapVertices","srcCoords","_isClosed","srcPt","snapVert","findSnapForVertex","_snapTolerance","snapTo","_srcPts","snapSegments","distinctPtCount","findSegmentIndexToSnap","snapIndex","_allowSnappingToSourceVertices","setAllowSnappingToSourceVertices","allowSnappingToSourceVertices","srcLine","snapTolerance","srcPts","GeometrySnapper","snapGeom","snapper0","snapper1","computeSizeBasedSnapTolerance","fixedSnapTol","computeOverlaySnapTolerance","SNAP_PRECISION_FACTOR","cleanResult","snapToSelf","extractTargetCoordinates","SnapTransformer","_srcGeom","snappedGeom","computeSnapTolerance","ringPts","computeMinimumSegmentLength","ptSet","minSegLen","segLen","srcGeom","snapLine","snapper","_isSelfSnap","_snapPts","isSelfSnap","BasicSegmentString","InteriorIntersectionFinder","finder","setFindAllIntersections","setKeepIntersections","getInteriorIntersection","_interiorIntersection","setCheckEndSegmentsOnly","isCheckEndSegmentsOnly","_isCheckEndSegmentsOnly","getIntersectionSegments","_intSegments","_intersectionCount","getIntersections","_intersections","findAllIntersections","_findAllIntersections","keepIntersections","_keepIntersections","isEndSegment","FastNodingValidator","execute","_isValid","getErrorMessage","intSegs","EdgeNodingValidator","_nv","toSegmentStrings","GeometryCollectionMapper","mapped","_mapOp","mapOp","MapOp","LineBuilder","collectLines","opCode","_op","getGraph","collectLineEdge","_lineEdgesList","collectBoundaryTouchEdge","labelIsolatedLine","targetIndex","getArgGeometry","_resultLineList","OverlayOp","isResultOfOp","isCoveredByA","labelIsolatedLines","edgesList","INTERSECTION","ptLocator","PointBuilder","filterCoveredNodeToPoint","isCoveredByLA","_resultPointList","extractNonCoveredResultNodes","CommonBits","_isFirst","_commonMantissaBitsCount","_commonBits","_commonSignExp","getCommon","numBits","signExpBits","numCommonMostSigMantissaBits","zeroLowerBits","padStr","bitStr","nBits","prop","num1","num2","getBit","CommonBitsRemover","addCommonBits","trans","Translater","_commonCoord","removeCommonBits","invCoord","getCommonCoordinate","_ccFilter","CommonCoordinateFilter","_commonBitsX","_commonBitsY","xp","yp","SnapOverlayOp","overlayOp","UNION","SYMDIFFERENCE","DIFFERENCE","selfSnap","_cbr","remGeom","prepareResult","prepGeom","SnapIfNeededOverlayOp","isSuccess","savedException","GeometryGraphOperation","_arg","setComputationPrecision","_resultPrecisionModel","geom1","createEmptyResult","dim0","dim1","resultDimension","overlayOpCode","geomFact","loc0","loc1","cancelDuplicateResultEdges","_resultPolyList","resultPointList","resultLineList","opcode","replaceCollapsedEdges","newEdges","updateNodeLabelling","computeOverlay","_resultGeom","insertUniqueEdges","copyPoints","baseSplitEdges","computeLabelsFromDepths","labelIncompleteNodes","findResultAreaEdges","lineBuilder","pointBuilder","labelIncompleteNode","graphNode","ni","PolygonizeDirectedEdge","setRing","getRing","PolygonizeEdge","startDE","minShellEnv","tryShellRing","tryShellEnv","ptNotInList","isIncluded","_isIncluded","_ringPts","_deList","isIncludedSet","_isIncludedSet","isOuterHole","hasShell","getPolygon","isProcessed","_isProcessed","holeER","setIncluded","getOuterHole","adjRing","computeHole","isOuterShell","getLineString","updateIncluded","adjShell","setProcessed","EnvelopeComparator","obj0","obj1","r1","_lowestEdge","PolygonizeGraph","edgeRingStarts","currLabel","findDirEdgesInRing","prevDE","outDE","firstOutDE","prevInDE","inDE","intNodes","findEdgeRing","computeDepthParity","computeNextCWEdges","iNode","linePts","endPt","nStart","nEnd","deleteCutEdges","findLabeledEdgeRings","cutLines","getEdgeRings","maximalRings","convertMaximalToMinimalEdgeRings","edgeRingList","ringEdges","findIntersectionNodes","computeNextCCWEdges","deleteDangles","nodesToRemove","dangleLines","deleteAllEdges","toNode","getDegreeNonDeleted","Polygonizer","outerHoleER","includeAll","polyList","holeList","assignHoleToShell","findOuterShells","isMoreToScan","polygonize","_extractOnlyPolygonal","_polyList","getInvalidRingLines","_invalidRingLines","findValidRings","validEdgeRingList","invalidRingList","_dangles","_cutEdges","_isCheckingRingsValid","findShellsAndHoles","assignHolesToShells","_holeList","findDisjointShells","extractPolygons","getDangles","getCutEdges","_lineStringAdder","setCheckRingsValid","isCheckingRingsValid","LineStringAdder","extractOnlyPolygonal","EdgeEndBuilder","createEdgeEndForNext","eiCurr","eiNext","createEdgeEndForPrev","computeEdgeEnds","EdgeEndBundle","_edgeEnds","computeLabelOn","foundInterior","computeLabelSide","computeLabelSides","EdgeEndBundleStar","eb","RelateNode","updateIMFromEdges","RelateNodeFactory","RelateComputer","insertEdgeEnds","computeProperIntersectionIM","intersector","dimA","dimB","hasProper","hasProperInterior","labelIsolatedEdges","thisIndex","labelIsolatedEdge","_isolatedEdges","target","computeDisjointIM","computeIntersectionNodes","copyNodesAndLabels","labelIsolatedNodes","eeBuilder","ee0","ee1","labelNodeEdges","labelIntersectionNodes","labelIsolatedNode","ga","gb","_im","arg","RectangleContains","rectangle","isContainedInBoundary","isPointContainedInBoundary","isLineStringContainedInBoundary","isLineSegmentContainedInBoundary","_rectEnv","RectangleLineIntersector","segEnv","isSegUpwards","_diagDown0","_diagDown1","_diagUp0","_diagUp1","rectEnv","ShortCircuitedGeometryVisitor","applyTo","RectangleIntersects","EnvelopeIntersectsVisitor","ecpVisitor","GeometryContainsPointVisitor","_rectangle","riVisitor","RectangleIntersectsSegmentVisitor","_intersects","elementEnv","_containsPoint","rectPt","_rectSeq","containsPointInPolygon","checkIntersectionWithLineStrings","testLine","checkIntersectionWithSegments","seq1","_rectIntersector","RelateOp","getIntersectionMatrix","_relate","GeometryCombiner","combine","createList","obj2","extractElements","elems","elemGeom","_skipEmpty","_inputGeoms","extractFactory","PointGeometryUnion","pointGeom","locater","exteriorCoords","_pointGeom","_otherGeom","ptComp","GeometryExtracter","geometryType","Class","clz","toGeometryType","_geometryType","isOfType","CascadedPolygonUnion","reduceToGeometries","geomTree","unionTree","extractByEnvelope","disjointGeoms","intersectingGeoms","elem","unionOptimized","g0Env","g1Env","unionActual","commonEnv","unionUsingEnvelopeIntersection","_inputPolys","STRTREE_NODE_CAPACITY","itemTree","binaryUnion","unionSafe","repeatedUnion","restrictToPolygons","common","disjointPolys","g0Int","g1Int","bufferUnion","UnaryUnionOp","unionNoOpt","unionWithNull","_polygons","unionPoints","ptGeom","unionLines","lineGeom","unionPolygons","unionLA","ConnectedInteriorTester","visitInteriorRing","findDifferentPoint","intDe","visitLinkedDirectedEdges","visitShellInteriors","_disconnectedRingcoord","setInteriorEdgesInResult","startDe","buildEdgeRings","hasUnvisitedShellEdge","isInteriorsConnected","_geomGraph","RelateNodeGraph","nodeIt","eeList","edgeIt","ConsistentAreaTester","isNodeEdgeAreaLabelsConsistent","_nodeGraph","hasDuplicateRings","eeb","isNodeConsistentArea","IndexedNestedRingTester","buildIndex","_rings","getNestedPoint","_nestedPt","isNonNested","innerRing","innerRingPts","results","searchRing","searchRingPts","innerRingPt","IsValidOp","findPtNotNode","_totalEnv","TopologyValidationError","getErrorType","_errorType","getMessage","errMsg","locStr","errorType","ERROR","REPEATED_POINT","HOLE_OUTSIDE_SHELL","NESTED_HOLES","DISCONNECTED_INTERIOR","SELF_INTERSECTION","RING_SELF_INTERSECTION","NESTED_SHELLS","DUPLICATE_RINGS","TOO_FEW_POINTS","INVALID_COORDINATE","RING_NOT_CLOSED","testCoords","checkInvalidCoordinates","_validErr","checkHolesNotNested","nestedTester","innerHole","checkConsistentArea","cat","_parentGeometry","checkShellInsideHole","shellPts","holePts","shellPt","holePt","checkNoSelfIntersectingRings","checkNoSelfIntersectingRing","checkConnectedInteriors","cit","nodeSet","isFirst","checkHolesInShell","pir","checkTooFewPoints","getValidationError","checkClosedRing","checkClosedRings","_isSelfTouchingRingFormingHoleValid","checkShellsNotNested","setSelfTouchingRingFormingHoleValid","checkShellNotNested","polyShell","badNestedPt","parentGeometry","PrecisionReducerCoordinateOperation","reducedCoords","_targetPM","noRepeatedCoords","minLength","collapsedCoords","_removeCollapsed","targetPM","removeCollapsed","GeometryPrecisionReducer","reducer","setPointwise","fixPolygonalTopology","geomToBuffer","_changePrecisionModel","changePM","bufGeom","bufferOp","finalGeom","reducePointwise","geomEdit","newFactory","createFactory","finalRemoveCollapsed","newPM","createEditor","setRemoveCollapsedComponents","inputFactory","setChangePrecisionModel","changePrecisionModel","reducePW","_isPointwise","isPointwise","DouglasPeuckerLineSimplifier","simplifySection","_usePt","DouglasPeuckerSimplifier","tss","setEnsureValid","isEnsureValidTopology","_isEnsureValidTopology","DPTransformer","rawGeom","rawAreaGeom","removeDegenerateRings","simpResult","TaggedLineSegment","getParent","TaggedLineString","segs","addToResult","_resultSegs","asLineString","_parentLine","getResultSize","resultSegsSize","getSegment","_segs","getParentCoordinates","getMinimumSize","_minimumSize","asLinearRing","getSegments","getResultCoordinates","parentLine","minimumSize","LineSegmentIndex","querySeg","LineSegmentVisitor","_querySeg","TaggedLineStringSimplifier","sectionIndex","flatten","_linePts","newSeg","_outputIndex","hasBadIntersection","candidateSeg","hasBadOutputIntersection","hasBadInputIntersection","isValidToSimplify","furthestPtIndex","findFurthestPoint","maxDist","midPt","_inputIndex","isInLineSection","inputIndex","outputIndex","TaggedLinesSimplifier","taggedLines","tlss","TopologyPreservingSimplifier","_linestringMap","LineStringMapBuilderFilter","_lineSimplifier","LineStringTransformer","taggedLine","linestringMap","minSize","tps","VWLineSimplifier","simplifyVertex","vwLine","curr","minArea","minVertex","isLive","VWVertex","first","setPrev","updateArea","_area","_prev","MAX_AREA","tmpPrev","tmpNext","_isLive","VWSimplifier","VWTransformer","SplitSegment","splitAt","minFrac","_minimumLen","_segLen","_splitPt","pointAlongReverse","getConstrainedLength","setMinimumLength","minLen","getSplitPoint","ConstraintSplitPointFinder","findSplitPoint","encroachPt","NonEncroachingSplitPointFinder","lineSeg","midPtLen","splitSeg","projPt","projectedSplitPoint","maxSplitLen","TrianglePredicate","bdx","bdy","cdx","cdy","abdet","bcdet","cadet","alift","blift","clift","nonRobustInCircle","isInCircleNonRobust","isInCircleDD","isInCircleDDSlow","isInCircleCC","circumCentre","toPoint","aTerm","triAreaDDFast","bTerm","cTerm","pTerm","cc","ccRadius","triAreaDDSlow","triArea","isInCircleNormalized","t1","t2","Vertex","ptLen","circleCenter","cab","cbc","hcc","nre","err","dot","magn","getZ","isInCircle","isInCircleRobust","interpolateZValue","xm","ym","zm","crossProduct","setZ","_z","times","cross","classify","sa","BEHIND","BEYOND","ORIGIN","DESTINATION","BETWEEN","circumRadiusRatio","edgeLength","el","ConstraintVertex","getConstraint","_constraint","setOnConstraint","isOnConstraint","_isOnConstraint","setConstraint","constraint","QuadEdge","q0","q3","_rot","base","setOrig","setDest","oPrev","lNext","rot","beta","t3","t4","makeEdge","equalsNonOriented","qe","equalsOriented","toLineSegment","_vertex","dNext","lPrev","rPrev","invRot","rNext","getPrimary","dPrev","IncrementalDelaunayTriangulator","insertSite","_subdiv","isVertexOfEdge","isOnEdge","connect","insertSites","vertices","_isUsingTolerance","subdiv","getTolerance","QuadEdgeLocator","LastFoundQuadEdgeLocator","_lastEdge","locateFromEdge","LocateFailureException","msgWithSpatial","TriangleVisitor","triEdges","QuadEdgeSubdivision","startQE","triEdge","getTriangleVertices","includeFrame","TriangleVertexListVisitor","visitTriangles","isFrameVertex","_frameVertex","_quadEdges","getVoronoiCellPolygon","cellPts","cellPoly","setLocator","locator","_locator","initSubdiv","ea","ec","isFrameBorderEdge","leftTri","getTriangleEdges","rightTri","vLeftTriOther","vRightTriOther","triVisitor","_visitedKey","edgeStack","_startingEdge","visitedEdges","fetchTriangleToVisit","isFrameEdge","_edgeCoincidenceTolerance","_frameEnv","createFrame","getTriangleCoordinates","TriangleCoordinatesVisitor","getTriangles","getVertices","vd","edgeCount","isFrame","_triEdges","quadEdges","getPrimaryEdges","getVertexUniqueEdges","visitedVertices","qd","TriangleEdgesListVisitor","priQE","eSym","eRot","eRotSym","iter","maxIter","getVoronoiCellPolygons","TriangleCircumcentreVisitor","cells","getVoronoiDiagram","vorCells","triPtsList","tris","triPt","locEdge","ccVertex","_triList","checkTriangleSize","_coordList","_triCoords","EDGE_COINCIDENCE_TOL_FACTOR","Segment","_ls","getEndZ","getStartZ","getStart","getEnd","getEndY","getStartX","getStartY","getEndX","z1","z2","ConformingDelaunayTriangulator","getInitialVertices","_initialVertices","getKDT","_kdt","enforceConstraints","addConstraintVertices","splits","enforceGabriel","_segments","MAX_SPLIT_ITER","getVertexFactory","_vertexFactory","getPointArray","_segVertices","setConstraints","segments","segVertices","computeConvexHull","hull","_convexHull","findNonGabrielPoint","segRadius","closestNonGabriel","testRadius","getConstraintSegments","setSplitPointFinder","splitFinder","_splitFinder","segsToInsert","newSegments","segsToRemove","splitVertex","createVertex","getSubdivision","computeBoundingBox","vertexEnv","computeVertexEnvelope","allPointsEnv","delta","_computeAreaEnv","setVertexFactory","vertexFactory","formInitialDelaunay","_incDel","kdnode","snappedV","initialVertices","DelaunayTriangulationBuilder","unique","coordsCopy","verts","siteEnv","_siteCoords","toVertices","setTolerance","setSites","extractUniqueCoordinates","ConformingDelaunayTriangulationBuilder","constraintSegs","createConstraintSegments","createSiteVertices","_constraintVertexMap","_constraintLines","createVertices","sites","cdt","constraintLines","VoronoiDiagramBuilder","clipEnv","clipPoly","clipped","_diagramEnv","_clipEnv","getDiagram","clipGeometryCollection","setClipEnvelope","LinearLocation","linear","setToEnd","componentIndex0","segmentIndex0","segmentFraction0","componentIndex1","segmentIndex1","segmentFraction1","_segmentIndex","getComponentIndex","_componentIndex","isEndpoint","linearGeom","nseg","_segmentFraction","lineComp","toLowest","pointAlongSegmentByFraction","getSegmentFraction","lastLine","isOnSameSegment","snapToVertex","getSegmentLength","lenToStart","lenToEnd","compareLocationValues","isVertex","componentIndex","doNormalize","LinearIterator","_currentLine","getVertexIndex","_vertexIndex","getSegmentEnd","loadCurrentLine","_numLines","_linearGeom","getSegmentStart","isEndOfLine","segmentEndVertexIndex","LocationIndexOfPoint","minIndex","indexOfAfter","indexOfFromStart","minComponentIndex","minSegmentIndex","segDistance","candidateComponentIndex","candidateSegmentIndex","endLoc","getEndLocation","closestAfter","LocationIndexOfLine","subLine","indicesOf","locPt","subLineLoc","LinearGeometryBuilder","endLine","getLastCoordinate","_lastPt","_ignoreInvalidLines","rawPts","_fixInvalidLines","validCoordinateSequence","setFixInvalidLines","fixInvalidLines","allowRepeatedPoints","setIgnoreInvalidLines","ignoreInvalidLines","ExtractLineByLocation","computeLinear","computeLine","startSegmentIndex","lastSegmentIndex","newCoordinateArray","LocationIndexedLine","clampIndex","checkGeometryType","extractPoint","indexLow","isValidIndex","extractLine","LengthIndexOfPoint","ptMeasure","segmentStartMeasure","segMeasureToPt","segmentNearestMeasure","projFactor","LengthLocationMap","resolveLower","totalLength","resolveHigher","compIndex","forwardLength","getLocationForward","LengthIndexedLine","positiveIndex","locationOf","locLow","startIndex2","endIndex2","resolveStartLower","UnionOp","relate","coveredBy","touches","within","disjoint","crosses","_len","args","_key","intersectionPattern","centPt","createPointFromInternalCoord","interiorPt","symDifference","toText","difference","isWithinDistance"],"mappings":"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","file":"dist/jsts.min.js.map","sourcesContent":["/* Polyfill service v3.13.0\n * For detailed credits and licence information see http://github.com/financial-times/polyfill-service\n *\n * - Array.prototype.fill, License: CC0 */\n\nif (!('fill' in Array.prototype)) {\n  Object.defineProperty(Array.prototype, 'fill', {\n    configurable: true,\n    value: function fill(value) {\n      if (this === undefined || this === null) {\n        throw new TypeError(this + ' is not an object');\n      }\n\n      var arrayLike = Object(this);\n\n      var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;\n\n      var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;\n\n      relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);\n\n      var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;\n\n      relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);\n\n      while (relativeStart < relativeEnd) {\n        arrayLike[relativeStart] = value;\n\n        ++relativeStart;\n      }\n\n      return arrayLike;\n    },\n    writable: true\n  });\n}\n","Number.isFinite = Number.isFinite || function (value) {\n  return typeof value === 'number' && isFinite(value)\n}\n\nNumber.isInteger = Number.isInteger || function (val) {\n  return typeof val === 'number' &&\n  isFinite(val) &&\n  Math.floor(val) === val\n}\n\nNumber.parseFloat = Number.parseFloat || parseFloat\n\nNumber.isNaN = Number.isNaN || function (value) {\n  return value !== value // eslint-disable-line\n}\n","Math.trunc = Math.trunc || function(x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x)\n}\n\nMath.log2 = Math.log2 || function(x) {\n  return Math.log(x) * Math.LOG2E\n}\n","export default class NumberUtil {\n\tconstructor() {\n\t\tNumberUtil.constructor_.apply(this, arguments);\n\t}\n\tstatic equalsWithTolerance(x1, x2, tolerance) {\n\t\treturn Math.abs(x1 - x2) <= tolerance;\n\t}\n\tgetClass() {\n\t\treturn NumberUtil;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNumberUtil.constructor_ = function () {};\n","export default function IllegalArgumentException (message) {\n  this.message = message\n}\n","export default function Long(high, low) {\n  this.low = low | 0\n  this.high = high | 0\n}\n\nLong.toBinaryString = function (i) {\n  var result = ''\n  for (var mask = 0x80000000; mask > 0; mask >>>= 1)\n    result += (i.high & mask) === mask ? '1' : '0'\n  for (var mask = 0x80000000; mask > 0; mask >>>= 1)\n    result += (i.low & mask) === mask ? '1' : '0'\n  return result\n}","import Long from './Long';\n\nexport default function Double () {}\n\nDouble.isNaN = n => Number.isNaN(n)\nDouble.isInfinite = n => !Number.isFinite(n)\nDouble.MAX_VALUE = Number.MAX_VALUE\n\nif (typeof Float64Array == 'function' &&\n\t  typeof Int32Array == 'function') {\n\t// Simple and fast conversion between double and long bits\n\t// using TypedArrays and ArrayViewBuffers.\n\t(function() {\n\t\tvar EXP_BIT_MASK = 0x7ff00000;\n\t\tvar SIGNIF_BIT_MASK = 0xFFFFF;\n\t\tvar f64buf = new Float64Array(1);\n\t\tvar i32buf = new Int32Array(f64buf.buffer);\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tf64buf[0] = value;\n\t\t\tvar low = i32buf[0] | 0;\n\t\t\tvar high = i32buf[1] | 0;\n\t\t\t// Check for NaN based on values of bit fields, maximum\n\t\t\t// exponent and nonzero significand.\n\t\t\tif (((high & EXP_BIT_MASK) === EXP_BIT_MASK) &&\n\t\t\t\t((high & SIGNIF_BIT_MASK) !== 0) &&\n\t\t\t\t(low !== 0)) {\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000 | 0;\n\t\t\t}\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\ti32buf[0] = bits.low;\n\t\t\ti32buf[1] = bits.high;\n\t\t\treturn f64buf[0];\n\t\t};\n\t})();\n} else {\n\t// More complex and slower fallback implementation using \n\t// math and the divide-by-two and multiply-by-two algorithms.\n\t(function() {\n\t\tvar BIAS = 1023;\n\t\tvar log2 = Math.log2;\n\t\tvar floor = Math.floor;\n\t\tvar pow = Math.pow;\n\t\tvar MAX_REL_BITS_INTEGER = (function () {\n\t\t\tfor (var i = 53; i > 0; i--) {\n\t\t\t\tvar bits = pow(2, i) - 1;\n\t\t\t\tif (floor(log2(bits)) + 1 === i) {\n\t\t\t\t\treturn bits;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn 0;\n\t\t})();\n\t\tDouble.doubleToLongBits = function (value) {\n\t\t\tvar x, y, f, bits, skip;\n\t\t\tvar sign, exp, high, low;\n\t\n\t\t\t// Get the sign bit and absolute value.\n\t\t\tif (value < 0 || 1 / value === Number.NEGATIVE_INFINITY) {\n\t\t\t\tsign = (1 << 31);\n\t\t\t\tvalue = (-value);\n\t\t\t} else {\n\t\t\t\tsign = 0;\n\t\t\t}\n\t\n\t\t\t// Handle some special values.\n\t\t\tif (value === 0) {\n\t\t\t\t// Handle zeros (+/-0).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign; // exponent: 00..00, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\tif (value === Infinity) {\n\t\t\t\t// Handle infinity (only positive values for value possible).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = sign | 0x7ff00000; // exponent: 11..11, significand: 00..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\tif (value !== value) {\n\t\t\t\t// Handle NaNs (boiled down to only one distinct NaN).\n\t\t\t\tlow = 0 | 0;\n\t\t\t\thigh = 0x7ff80000; // exponent: 11..11, significand: 10..00\n\t\t\t\treturn new Long(high, low);\n\t\t\t}\n\t\n\t\t\t// Preinitialize variables, that are not neccessarily set by\n\t\t\t// the algorithm.\n\t\t\tbits = 0;\n\t\t\tlow = 0 | 0;\n\t\n\t\t\t// Get the (always positive) integer part of value.\n\t\t\tx = floor(value);\n\t\n\t\t\t// Process the integer part if it's greater than 1. Zero requires\n\t\t\t// no bits at all, 1 represents the implicit (hidden) leading bit,\n\t\t\t// which must not be written as well.\n\t\t\tif (x > 1) {\n\t\t\t\t// If we can reliably determine the number of bits required for\n\t\t\t\t// the integer part,\n\t\t\t\tif (x <= MAX_REL_BITS_INTEGER) {\n\t\t\t\t\t// get the number of bits required to represent it minus 1\n\t\t\t\t\tbits = floor(log2(x)) /* + 1 - 1*/ ;\n\t\t\t\t\t// and simply copy/shift the integer bits into low and high.\n\t\t\t\t\t// That's much faster than the divide-by-two algorithm (saves\n\t\t\t\t\t// up to ~60%).\n\t\t\t\t\t// We always need to mask out the most significant bit, which\n\t\t\t\t\t// is the implicit (aka hidden) bit.\n\t\t\t\t\tif (bits <= 20) {\n\t\t\t\t\t\t// The simple case in which the integer fits into the\n\t\t\t\t\t\t// lower 20 bits of the high word is worth to be handled\n\t\t\t\t\t\t// separately (saves ~25%).\n\t\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\t\thigh = (x << (20 - bits)) & 0xfffff;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Here, the integer part is split into low and high.\n\t\t\t\t\t\t// Since its value may require more than 32 bits, we\n\t\t\t\t\t\t// cannot use bitwise operators (which implicitly cast\n\t\t\t\t\t\t// to Int32), but use arithmetic operators % and / to\n\t\t\t\t\t\t// get low and high parts. The uppper 20 bits go to high,\n\t\t\t\t\t\t// the remaining bits (in f) to low.\n\t\t\t\t\t\tf = bits - 20;\n\t\t\t\t\t\t// Like (1 << f) but safe with even more than 32 bits.\n\t\t\t\t\t\ty = pow(2, f);\n\t\t\t\t\t\tlow = (x % y) << (32 - f);\n\t\t\t\t\t\thigh = (x / y) & 0xfffff;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// For greater values, we must use the much slower divide-by-two\n\t\t\t\t\t// algorithm. Bits are generated from right to left, that is from\n\t\t\t\t\t// least to most significant bit. For each bit, we left-shift both\n\t\t\t\t\t// low and high by one and carry bit #0 from high to #31 in low.\n\t\t\t\t\t// The next bit is then copied into bit #19 in high, the leftmost\n\t\t\t\t\t// bit of the double's significand.\n\t\n\t\t\t\t\t// Preserve x for later user, so work with f.\n\t\t\t\t\tf = x;\n\t\t\t\t\tlow = 0 | 0;\n\t\t\t\t\twhile (true) {\n\t\t\t\t\t\ty = f / 2;\n\t\t\t\t\t\tf = floor(y);\n\t\t\t\t\t\tif (f === 0) {\n\t\t\t\t\t\t\t// We just found the most signigicant (1-)bit, which\n\t\t\t\t\t\t\t// is the implicit bit and so, not stored in the double\n\t\t\t\t\t\t\t// value. So, it's time to leave the loop.\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// Count this bit, shift low and carry bit #0 from high.\n\t\t\t\t\t\tbits++;\n\t\t\t\t\t\tlow >>>= 1;\n\t\t\t\t\t\tlow |= (high & 0x1) << 31;\n\t\t\t\t\t\t// Shift high.\n\t\t\t\t\t\thigh >>>= 1;\n\t\t\t\t\t\tif (y !== f) {\n\t\t\t\t\t\t\t// Copy the new bit into bit #19 in high (only required if 1).\n\t\t\t\t\t\t\thigh |= 0x80000;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Bias the exponent.\n\t\t\texp = bits + BIAS;\n\t\n\t\t\t// If the integer part is zero, we've not yet seen the implicit\n\t\t\t// leading bit. Variable skip is later used while processing the \n\t\t\t// fractional part (if any).\n\t\t\tskip = (x === 0);\n\t\n\t\t\t// Get fraction only into x.\n\t\t\tx = value - x;\n\t\n\t\t\t// If some significand bits are still left to be filled and\n\t\t\t// the fractional part is not zero, convert the fraction using\n\t\t\t// the multiply-by-2 algorithm.\n\t\t\tif (bits < 52 && x !== 0) {\n\t\n\t\t\t\t// Initialize 'buffer' f, into which newly created bits get\n\t\t\t\t// shifted from right to left.\n\t\t\t\tf = 0;\n\t\n\t\t\t\twhile (true) {\n\t\t\t\t\ty = x * 2;\n\t\t\t\t\tif (y >= 1) {\n\t\t\t\t\t\t// This is a new 1-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y - 1;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tf |= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Otherwise, decrement the exponent and unset\n\t\t\t\t\t\t\t// skip, so that all following bits get written.\n\t\t\t\t\t\t\texp--;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a new 0-bit. Add and count this bit, if not\n\t\t\t\t\t\t// prohibited by skip.\n\t\t\t\t\t\tx = y;\n\t\t\t\t\t\tif (!skip) {\n\t\t\t\t\t\t\tf <<= 1;\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t} else if (--exp === 0) {\n\t\t\t\t\t\t\t// Otherwise we've just decremented the exponent. If the\n\t\t\t\t\t\t\t// biased exponent is zero now (-1023), we process a\n\t\t\t\t\t\t\t// subnormal number, which has no impled leading 1-bit.\n\t\t\t\t\t\t\t// So, count this 0-bit and unset skip to write out\n\t\t\t\t\t\t\t// all the following bits.\n\t\t\t\t\t\t\tbits++;\n\t\t\t\t\t\t\tskip = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (bits === 20) {\n\t\t\t\t\t\t// When 20 bits have been created in total, we're done with\n\t\t\t\t\t\t// the high word. Copy the bits from 'buffer' f into high\n\t\t\t\t\t\t// and reset 'buffer' f. Following bits will end up in the\n\t\t\t\t\t\t// low word.\n\t\t\t\t\t\thigh |= f;\n\t\t\t\t\t\tf = 0;\n\t\t\t\t\t} else if (bits === 52) {\n\t\t\t\t\t\t// When 52 bits have been created in total, we're done with\n\t\t\t\t\t\t// low word as well. Copy the bits from 'buffer' f into low\n\t\t\t\t\t\t// and exit the loop.\n\t\t\t\t\t\tlow |= f;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (y === 1) {\n\t\t\t\t\t\t// When y is exactly 1, there is no remainder and the process\n\t\t\t\t\t\t// is complete (the number is finite). Copy the bits from\n\t\t\t\t\t\t// 'buffer' f into either low or high and exit the loop.\n\t\t\t\t\t\tif (bits < 20) {\n\t\t\t\t\t\t\thigh |= (f << (20 - bits));\n\t\t\t\t\t\t} else if (bits < 52) {\n\t\t\t\t\t\t\tlow |= (f << (52 - bits));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Copy/shift the exponent and sign bits into the high word.\n\t\t\thigh |= (exp << 20);\n\t\t\thigh |= sign;\n\t\n\t\t\treturn new Long(high, low);\n\t\t};\n\t\tDouble.longBitsToDouble = function (bits) {\n\t\t\tvar x, sign, exp, fract;\n\t\t\tvar high = bits.high;\n\t\t\tvar low = bits.low;\n\t\n\t\t\t// Extract the sign.\n\t\t\tsign = (high & (1 << 31)) ? -1 : 1;\n\t\n\t\t\t// Extract the unbiased exponent.\n\t\t\texp = ((high & 0x7ff00000) >> 20) - BIAS;\n\t\n\t\t\t// Calculate the fraction from left to right. Start\n\t\t\t// off with the 20 lower bits from the high word.\n\t\t\tfract = 0;\n\t\t\tx = (1 << 19);\n\t\t\tfor (var i = 1; i <= 20; i++) {\n\t\t\t\tif (high & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\t\t\t// Continue with all 32 bits from the low word.\n\t\t\tx = (1 << 31);\n\t\t\tfor (var i = 21; i <= 52; i++) {\n\t\t\t\tif (low & x) {\n\t\t\t\t\tfract += pow(2, -i);\n\t\t\t\t}\n\t\t\t\tx >>>= 1;\n\t\t\t}\n\t\n\t\t\t// Handle special values.\n\t\t\t// Check for zero and subnormal values.\n\t\t\tif (exp === -BIAS) {\n\t\t\t\tif (fract === 0) {\n\t\t\t\t\t// +/-1.0 * 0.0 => +/-0.0\n\t\t\t\t\treturn sign * 0;\n\t\t\t\t}\n\t\t\t\texp = -1022;\n\t\t\t}\n\t\t\t// Check for +/-Infinity or NaN.\n\t\t\telse if (exp === BIAS + 1) {\n\t\t\t\tif (fract === 0) {\n\t\t\t\t\t// +/-1.0 / 0.0 => +/-Infinity\n\t\t\t\t\treturn sign / 0;\n\t\t\t\t}\n\t\t\t\treturn NaN;\n\t\t\t}\n\t\t\t// Nothing special? Seems to be a normal number.\n\t\t\telse {\n\t\t\t\t// Add the implicit leading bit (1*2^0).\n\t\t\t\tfract += 1;\n\t\t\t}\n\t\n\t\t\treturn sign * fract * pow(2, exp);\n\t\t};\n\t})();\n}","export default function Comparable () {}\n","export default function Clonable () {}\n","export default function Comparator () {}\n","export default function Serializable () {}\n","export default function RuntimeException (message) {\n  this.name = 'RuntimeException'\n  this.message = message\n  this.stack = (new Error()).stack\n  Error.call(this, message)\n}\n\nRuntimeException.prototype = Object.create(Error.prototype)\nRuntimeException.prototype.constructor = Error\n","import RuntimeException from '../../../../java/lang/RuntimeException';\nexport default class AssertionFailedException extends RuntimeException {\n\tconstructor() {\n\t\tsuper();\n\t\tAssertionFailedException.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn AssertionFailedException;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nAssertionFailedException.constructor_ = function () {\n\tif (arguments.length === 0) {\n\t\tRuntimeException.constructor_.call(this);\n\t} else if (arguments.length === 1) {\n\t\tlet message = arguments[0];\n\t\tRuntimeException.constructor_.call(this, message);\n\t}\n};\n","import AssertionFailedException from './AssertionFailedException';\nexport default class Assert {\n\tconstructor() {\n\t\tAssert.constructor_.apply(this, arguments);\n\t}\n\tstatic shouldNeverReachHere() {\n\t\tif (arguments.length === 0) {\n\t\t\tAssert.shouldNeverReachHere(null);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet message = arguments[0];\n\t\t\tthrow new AssertionFailedException(\"Should never reach here\" + (message !== null ? \": \" + message : \"\"));\n\t\t}\n\t}\n\tstatic isTrue() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet assertion = arguments[0];\n\t\t\tAssert.isTrue(assertion, null);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet assertion = arguments[0], message = arguments[1];\n\t\t\tif (!assertion) {\n\t\t\t\tif (message === null) {\n\t\t\t\t\tthrow new AssertionFailedException();\n\t\t\t\t} else {\n\t\t\t\t\tthrow new AssertionFailedException(message);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tstatic equals() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet expectedValue = arguments[0], actualValue = arguments[1];\n\t\t\tAssert.equals(expectedValue, actualValue, null);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet expectedValue = arguments[0], actualValue = arguments[1], message = arguments[2];\n\t\t\tif (!actualValue.equals(expectedValue)) {\n\t\t\t\tthrow new AssertionFailedException(\"Expected \" + expectedValue + \" but encountered \" + actualValue + (message !== null ? \": \" + message : \"\"));\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Assert;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nAssert.constructor_ = function () {};\n","import NumberUtil from '../util/NumberUtil';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Double from '../../../../java/lang/Double';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Comparator from '../../../../java/util/Comparator';\nimport Serializable from '../../../../java/io/Serializable';\nimport Assert from '../util/Assert';\nexport default class Coordinate {\n\tconstructor() {\n\t\tCoordinate.constructor_.apply(this, arguments);\n\t}\n\tstatic hashCode() {\n\t\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\t\tlet x = arguments[0];\n\t\t\tvar f = Double.doubleToLongBits(x);\n\t\t\treturn Math.trunc(f ^ f >>> 32);\n\t\t}\n\t}\n\tsetOrdinate(ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\tthis.x = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Y:\n\t\t\t\tthis.y = value;\n\t\t\t\tbreak;\n\t\t\tcase Coordinate.Z:\n\t\t\t\tthis.z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t\t}\n\t}\n\tequals2D() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet other = arguments[0];\n\t\t\tif (this.x !== other.x) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.y !== other.y) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet c = arguments[0], tolerance = arguments[1];\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.x, c.x, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!NumberUtil.equalsWithTolerance(this.y, c.y, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\tgetOrdinate(ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase Coordinate.X:\n\t\t\t\treturn this.x;\n\t\t\tcase Coordinate.Y:\n\t\t\t\treturn this.y;\n\t\t\tcase Coordinate.Z:\n\t\t\t\treturn this.z;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Invalid ordinate index: \" + ordinateIndex);\n\t}\n\tequals3D(other) {\n\t\treturn this.x === other.x && this.y === other.y && (this.z === other.z || Double.isNaN(this.z) && Double.isNaN(other.z));\n\t}\n\tequals(other) {\n\t\tif (!(other instanceof Coordinate)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.equals2D(other);\n\t}\n\tequalInZ(c, tolerance) {\n\t\treturn NumberUtil.equalsWithTolerance(this.z, c.z, tolerance);\n\t}\n\tcompareTo(o) {\n\t\tvar other = o;\n\t\tif (this.x < other.x) return -1;\n\t\tif (this.x > other.x) return 1;\n\t\tif (this.y < other.y) return -1;\n\t\tif (this.y > other.y) return 1;\n\t\treturn 0;\n\t}\n\tclone() {\n\t\ttry {\n\t\t\tvar coord = null;\n\t\t\treturn coord;\n\t\t} catch (e) {\n\t\t\tif (e instanceof CloneNotSupportedException) {\n\t\t\t\tAssert.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\");\n\t\t\t\treturn null;\n\t\t\t} else throw e;\n\t\t} finally {}\n\t}\n\tcopy() {\n\t\treturn new Coordinate(this);\n\t}\n\ttoString() {\n\t\treturn \"(\" + this.x + \", \" + this.y + \", \" + this.z + \")\";\n\t}\n\tdistance3D(c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\tvar dz = this.z - c.z;\n\t\treturn Math.sqrt(dx * dx + dy * dy + dz * dz);\n\t}\n\tdistance(c) {\n\t\tvar dx = this.x - c.x;\n\t\tvar dy = this.y - c.y;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n\thashCode() {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this.x);\n\t\tresult = 37 * result + Coordinate.hashCode(this.y);\n\t\treturn result;\n\t}\n\tsetCoordinate(other) {\n\t\tthis.x = other.x;\n\t\tthis.y = other.y;\n\t\tthis.z = other.z;\n\t}\n\tgetClass() {\n\t\treturn Coordinate;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable, Cloneable, Serializable];\n\t}\n}\nclass DimensionalComparator {\n\tconstructor() {\n\t\tDimensionalComparator.constructor_.apply(this, arguments);\n\t}\n\tstatic compare(a, b) {\n\t\tif (a < b) return -1;\n\t\tif (a > b) return 1;\n\t\tif (Double.isNaN(a)) {\n\t\t\tif (Double.isNaN(b)) return 0;\n\t\t\treturn -1;\n\t\t}\n\t\tif (Double.isNaN(b)) return 1;\n\t\treturn 0;\n\t}\n\tcompare(o1, o2) {\n\t\tvar c1 = o1;\n\t\tvar c2 = o2;\n\t\tvar compX = DimensionalComparator.compare(c1.x, c2.x);\n\t\tif (compX !== 0) return compX;\n\t\tvar compY = DimensionalComparator.compare(c1.y, c2.y);\n\t\tif (compY !== 0) return compY;\n\t\tif (this._dimensionsToTest <= 2) return 0;\n\t\tvar compZ = DimensionalComparator.compare(c1.z, c2.z);\n\t\treturn compZ;\n\t}\n\tgetClass() {\n\t\treturn DimensionalComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nDimensionalComparator.constructor_ = function () {\n\tthis._dimensionsToTest = 2;\n\tif (arguments.length === 0) {\n\t\tDimensionalComparator.constructor_.call(this, 2);\n\t} else if (arguments.length === 1) {\n\t\tlet dimensionsToTest = arguments[0];\n\t\tif (dimensionsToTest !== 2 && dimensionsToTest !== 3) throw new IllegalArgumentException(\"only 2 or 3 dimensions may be specified\");\n\t\tthis._dimensionsToTest = dimensionsToTest;\n\t}\n};\nCoordinate.DimensionalComparator = DimensionalComparator;\nCoordinate.constructor_ = function () {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.z = null;\n\tif (arguments.length === 0) {\n\t\tCoordinate.constructor_.call(this, 0.0, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tlet c = arguments[0];\n\t\tCoordinate.constructor_.call(this, c.x, c.y, c.z);\n\t} else if (arguments.length === 2) {\n\t\tlet x = arguments[0], y = arguments[1];\n\t\tCoordinate.constructor_.call(this, x, y, Coordinate.NULL_ORDINATE);\n\t} else if (arguments.length === 3) {\n\t\tlet x = arguments[0], y = arguments[1], z = arguments[2];\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t}\n};\nCoordinate.serialVersionUID = 6683108902428366910;\nCoordinate.NULL_ORDINATE = Double.NaN;\nCoordinate.X = 0;\nCoordinate.Y = 1;\nCoordinate.Z = 2;\n","export default function (o, i) {\n  return o.interfaces_ && o.interfaces_.indexOf(i) > -1\n}\n","/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\n * @constructor\n * @private\n */\nexport default function Iterator() {};\n\n/**\n * Returns true if the iteration has more elements.\n * @return {boolean}\n */\nIterator.prototype.hasNext = function() {};\n\n/**\n * Returns the next element in the iteration.\n * @return {Object}\n */\nIterator.prototype.next = function() {};\n\n/**\n * Removes from the underlying collection the last element returned by the\n * iterator (optional operation).\n */\nIterator.prototype.remove = function() {};\n","import Iterator from './Iterator'\n\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Collection.html\n *\n * @constructor\n * @private\n */\nexport default function Collection() {};\n\n/**\n * Ensures that this collection contains the specified element (optional\n * operation).\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.add = function() {};\n\n\n/**\n * Appends all of the elements in the specified collection to the end of this\n * list, in the order that they are returned by the specified collection's\n * iterator (optional operation).\n * @param {javascript.util.Collection} c\n * @return {boolean}\n */\nCollection.prototype.addAll = function() {};\n\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nCollection.prototype.isEmpty = function() {};\n\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {javascript.util.Iterator}\n */\nCollection.prototype.iterator = function() {};\n\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {number}\n */\nCollection.prototype.size = function() {};\n\n\n/**\n * Returns an array containing all of the elements in this collection.\n * @return {Array}\n */\nCollection.prototype.toArray = function() {};\n\n\n/**\n * Removes a single instance of the specified element from this collection if it\n * is present. (optional)\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.remove = function() {};\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function IndexOutOfBoundsException(message) {\n  this.message = message || '';\n};\nIndexOutOfBoundsException.prototype = new Error();\n\n/**\n * @type {string}\n */\nIndexOutOfBoundsException.prototype.name = 'IndexOutOfBoundsException';\n","import Collection from './Collection'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/List.html\n *\n * @extends {javascript.util.Collection}\n * @constructor\n * @private\n */\nexport default function List() { };\nList.prototype = Object.create(Collection.prototype);\nList.prototype.constructor = List\n\n/**\n * Returns the element at the specified position in this list.\n * @param {number} index\n * @return {Object}\n */\nList.prototype.get = function() { };\n\n\n/**\n * Replaces the element at the specified position in this list with the\n * specified element (optional operation).\n * @param {number} index\n * @param {Object} e\n * @return {Object}\n */\nList.prototype.set = function() { };\n\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nList.prototype.isEmpty = function() { };\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function NoSuchElementException(message) {\n  this.message = message || '';\n};\nNoSuchElementException.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nNoSuchElementException.prototype.name = 'NoSuchElementException';\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function OperationNotSupported(message) {\n  this.message = message || '';\n};\nOperationNotSupported.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nOperationNotSupported.prototype.name = 'OperationNotSupported';\n","import Collection from './Collection'\nimport IndexOutOfBoundsException from './IndexOutOfBoundsException'\nimport Iterator from './Iterator'\nimport List from './List'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\n *\n * @extends List\n * @private\n */\nexport default function ArrayList () {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nArrayList.prototype = Object.create(List.prototype)\nArrayList.prototype.constructor = ArrayList;\n\nArrayList.prototype.ensureCapacity = function () {}\nArrayList.prototype.interfaces_ = [List, Collection]\n\n/**\n * @override\n */\nArrayList.prototype.add = function(e) {\n  if (arguments.length === 1) {\n    this.array_.push(e)\n  } else {\n    this.array_.splice(arguments[0], 0, arguments[1])\n  }\n  return true\n};\n\nArrayList.prototype.clear = function() {\n  this.array_ = []\n}\n\n/**\n * @override\n */\nArrayList.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.set = function(index, element) {\n  var oldElement = this.array_[index];\n  this.array_[index] = element;\n  return oldElement;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.get = function(index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException();\n  }\n\n  return this.array_[index];\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nArrayList.prototype.remove = function(o) {\n  var found = false;\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    if (this.array_[i] === o) {\n      this.array_.splice(i, 1);\n      found = true;\n      break;\n    }\n  }\n\n  return found;\n};\n\n\nArrayList.prototype.removeAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.remove(i.next());\n  }\n  return true;\n};\n\n\n\n/**\n * @extends {Iterator}\n * @param {ArrayList} arrayList\n * @constructor\n * @private\n */\nvar Iterator_ = function(arrayList) {\n  /**\n   * @type {ArrayList}\n   * @private\n  */\n  this.arrayList_ = arrayList;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.arrayList_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.arrayList_.get(this.position_++);\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.arrayList_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n * TODO: should be in ListIterator\n * @override\n */\nIterator_.prototype.set = function(element) {\n  return this.arrayList_.set(this.position_ - 1, element);\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  this.arrayList_.remove(this.arrayList_.get(this.position_));\n};\n","import hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Coordinate from './Coordinate';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class CoordinateList extends ArrayList {\n\tconstructor() {\n\t\tsuper();\n\t\tCoordinateList.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinate(i) {\n\t\treturn this.get(i);\n\t}\n\taddAll() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"boolean\" && hasInterface(arguments[0], Collection))) {\n\t\t\tlet coll = arguments[0], allowRepeated = arguments[1];\n\t\t\tvar isChanged = false;\n\t\t\tfor (var i = coll.iterator(); i.hasNext(); ) {\n\t\t\t\tthis.add(i.next(), allowRepeated);\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\treturn isChanged;\n\t\t} else return super.addAll.apply(this, arguments);\n\t}\n\tclone() {\n\t\tvar clone = super.clone.call(this);\n\t\tfor (var i = 0; i < this.size(); i++) {\n\t\t\tclone.add(i, this.get(i).clone());\n\t\t}\n\t\treturn clone;\n\t}\n\ttoCoordinateArray() {\n\t\treturn this.toArray(CoordinateList.coordArrayType);\n\t}\n\tadd() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet coord = arguments[0];\n\t\t\tsuper.add.call(this, coord);\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tthis.add(coord, allowRepeated, true);\n\t\t\t\treturn true;\n\t\t\t} else if (arguments[0] instanceof Coordinate && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tif (!allowRepeated) {\n\t\t\t\t\tif (this.size() >= 1) {\n\t\t\t\t\t\tvar last = this.get(this.size() - 1);\n\t\t\t\t\t\tif (last.equals2D(coord)) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsuper.add.call(this, coord);\n\t\t\t} else if (arguments[0] instanceof Object && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet obj = arguments[0], allowRepeated = arguments[1];\n\t\t\t\tthis.add(obj, allowRepeated);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (typeof arguments[2] === \"boolean\" && (arguments[0] instanceof Array && typeof arguments[1] === \"boolean\")) {\n\t\t\t\tlet coord = arguments[0], allowRepeated = arguments[1], direction = arguments[2];\n\t\t\t\tif (direction) {\n\t\t\t\t\tfor (var i = 0; i < coord.length; i++) {\n\t\t\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i = coord.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && (Number.isInteger(arguments[0]) && arguments[1] instanceof Coordinate)) {\n\t\t\t\tlet i = arguments[0], coord = arguments[1], allowRepeated = arguments[2];\n\t\t\t\tif (!allowRepeated) {\n\t\t\t\t\tvar size = this.size();\n\t\t\t\t\tif (size > 0) {\n\t\t\t\t\t\tif (i > 0) {\n\t\t\t\t\t\t\tvar prev = this.get(i - 1);\n\t\t\t\t\t\t\tif (prev.equals2D(coord)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (i < size) {\n\t\t\t\t\t\t\tvar next = this.get(i);\n\t\t\t\t\t\t\tif (next.equals2D(coord)) return null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tsuper.add.call(this, i, coord);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet coord = arguments[0], allowRepeated = arguments[1], start = arguments[2], end = arguments[3];\n\t\t\tvar inc = 1;\n\t\t\tif (start > end) inc = -1;\n\t\t\tfor (var i = start; i !== end; i += inc) {\n\t\t\t\tthis.add(coord[i], allowRepeated);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\tcloseRing() {\n\t\tif (this.size() > 0) this.add(new Coordinate(this.get(0)), false);\n\t}\n\tgetClass() {\n\t\treturn CoordinateList;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCoordinateList.constructor_ = function () {\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet coord = arguments[0];\n\t\tthis.ensureCapacity(coord.length);\n\t\tthis.add(coord, true);\n\t} else if (arguments.length === 2) {\n\t\tlet coord = arguments[0], allowRepeated = arguments[1];\n\t\tthis.ensureCapacity(coord.length);\n\t\tthis.add(coord, allowRepeated);\n\t}\n};\nCoordinateList.coordArrayType = new Array(0).fill(null);\n","import Coordinate from './Coordinate';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default class Envelope {\n\tconstructor() {\n\t\tEnvelope.constructor_.apply(this, arguments);\n\t}\n\tstatic intersects() {\n\t\tif (arguments.length === 3) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1], q = arguments[2];\n\t\t\tif (q.x >= (p1.x < p2.x ? p1.x : p2.x) && q.x <= (p1.x > p2.x ? p1.x : p2.x) && (q.y >= (p1.y < p2.y ? p1.y : p2.y) && q.y <= (p1.y > p2.y ? p1.y : p2.y))) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1], q1 = arguments[2], q2 = arguments[3];\n\t\t\tvar minq = Math.min(q1.x, q2.x);\n\t\t\tvar maxq = Math.max(q1.x, q2.x);\n\t\t\tvar minp = Math.min(p1.x, p2.x);\n\t\t\tvar maxp = Math.max(p1.x, p2.x);\n\t\t\tif (minp > maxq) return false;\n\t\t\tif (maxp < minq) return false;\n\t\t\tminq = Math.min(q1.y, q2.y);\n\t\t\tmaxq = Math.max(q1.y, q2.y);\n\t\t\tminp = Math.min(p1.y, p2.y);\n\t\t\tmaxp = Math.max(p1.y, p2.y);\n\t\t\tif (minp > maxq) return false;\n\t\t\tif (maxp < minq) return false;\n\t\t\treturn true;\n\t\t}\n\t}\n\tgetArea() {\n\t\treturn this.getWidth() * this.getHeight();\n\t}\n\tequals(other) {\n\t\tif (!(other instanceof Envelope)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherEnvelope = other;\n\t\tif (this.isNull()) {\n\t\t\treturn otherEnvelope.isNull();\n\t\t}\n\t\treturn this._maxx === otherEnvelope.getMaxX() && this._maxy === otherEnvelope.getMaxY() && this._minx === otherEnvelope.getMinX() && this._miny === otherEnvelope.getMinY();\n\t}\n\tintersection(env) {\n\t\tif (this.isNull() || env.isNull() || !this.intersects(env)) return new Envelope();\n\t\tvar intMinX = this._minx > env._minx ? this._minx : env._minx;\n\t\tvar intMinY = this._miny > env._miny ? this._miny : env._miny;\n\t\tvar intMaxX = this._maxx < env._maxx ? this._maxx : env._maxx;\n\t\tvar intMaxY = this._maxy < env._maxy ? this._maxy : env._maxy;\n\t\treturn new Envelope(intMinX, intMaxX, intMinY, intMaxY);\n\t}\n\tisNull() {\n\t\treturn this._maxx < this._minx;\n\t}\n\tgetMaxX() {\n\t\treturn this._maxx;\n\t}\n\tcovers() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.covers(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn other.getMinX() >= this._minx && other.getMaxX() <= this._maxx && other.getMinY() >= this._miny && other.getMaxY() <= this._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\tif (this.isNull()) return false;\n\t\t\treturn x >= this._minx && x <= this._maxx && y >= this._miny && y <= this._maxy;\n\t\t}\n\t}\n\tintersects() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (this.isNull() || other.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn !(other._minx > this._maxx || other._maxx < this._minx || other._miny > this._maxy || other._maxy < this._miny);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.intersects(p.x, p.y);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\t\tlet a = arguments[0], b = arguments[1];\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar envminx = a.x < b.x ? a.x : b.x;\n\t\t\t\tif (envminx > this._maxx) return false;\n\t\t\t\tvar envmaxx = a.x > b.x ? a.x : b.x;\n\t\t\t\tif (envmaxx < this._minx) return false;\n\t\t\t\tvar envminy = a.y < b.y ? a.y : b.y;\n\t\t\t\tif (envminy > this._maxy) return false;\n\t\t\t\tvar envmaxy = a.y > b.y ? a.y : b.y;\n\t\t\t\tif (envmaxy < this._miny) return false;\n\t\t\t\treturn true;\n\t\t\t} else if (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\t\tif (this.isNull()) return false;\n\t\t\t\treturn !(x > this._maxx || x < this._minx || y > this._maxy || y < this._miny);\n\t\t\t}\n\t\t}\n\t}\n\tgetMinY() {\n\t\treturn this._miny;\n\t}\n\tgetMinX() {\n\t\treturn this._minx;\n\t}\n\texpandToInclude() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\tthis.expandToInclude(p.x, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\tif (other.isNull()) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif (this.isNull()) {\n\t\t\t\t\tthis._minx = other.getMinX();\n\t\t\t\t\tthis._maxx = other.getMaxX();\n\t\t\t\t\tthis._miny = other.getMinY();\n\t\t\t\t\tthis._maxy = other.getMaxY();\n\t\t\t\t} else {\n\t\t\t\t\tif (other._minx < this._minx) {\n\t\t\t\t\t\tthis._minx = other._minx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxx > this._maxx) {\n\t\t\t\t\t\tthis._maxx = other._maxx;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._miny < this._miny) {\n\t\t\t\t\t\tthis._miny = other._miny;\n\t\t\t\t\t}\n\t\t\t\t\tif (other._maxy > this._maxy) {\n\t\t\t\t\t\tthis._maxy = other._maxy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\tif (this.isNull()) {\n\t\t\t\tthis._minx = x;\n\t\t\t\tthis._maxx = x;\n\t\t\t\tthis._miny = y;\n\t\t\t\tthis._maxy = y;\n\t\t\t} else {\n\t\t\t\tif (x < this._minx) {\n\t\t\t\t\tthis._minx = x;\n\t\t\t\t}\n\t\t\t\tif (x > this._maxx) {\n\t\t\t\t\tthis._maxx = x;\n\t\t\t\t}\n\t\t\t\tif (y < this._miny) {\n\t\t\t\t\tthis._miny = y;\n\t\t\t\t}\n\t\t\t\tif (y > this._maxy) {\n\t\t\t\t\tthis._maxy = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tminExtent() {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w < h) return w;\n\t\treturn h;\n\t}\n\tgetWidth() {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxx - this._minx;\n\t}\n\tcompareTo(o) {\n\t\tvar env = o;\n\t\tif (this.isNull()) {\n\t\t\tif (env.isNull()) return 0;\n\t\t\treturn -1;\n\t\t} else {\n\t\t\tif (env.isNull()) return 1;\n\t\t}\n\t\tif (this._minx < env._minx) return -1;\n\t\tif (this._minx > env._minx) return 1;\n\t\tif (this._miny < env._miny) return -1;\n\t\tif (this._miny > env._miny) return 1;\n\t\tif (this._maxx < env._maxx) return -1;\n\t\tif (this._maxx > env._maxx) return 1;\n\t\tif (this._maxy < env._maxy) return -1;\n\t\tif (this._maxy > env._maxy) return 1;\n\t\treturn 0;\n\t}\n\ttranslate(transX, transY) {\n\t\tif (this.isNull()) {\n\t\t\treturn null;\n\t\t}\n\t\tthis.init(this.getMinX() + transX, this.getMaxX() + transX, this.getMinY() + transY, this.getMaxY() + transY);\n\t}\n\ttoString() {\n\t\treturn \"Env[\" + this._minx + \" : \" + this._maxx + \", \" + this._miny + \" : \" + this._maxy + \"]\";\n\t}\n\tsetToNull() {\n\t\tthis._minx = 0;\n\t\tthis._maxx = -1;\n\t\tthis._miny = 0;\n\t\tthis._maxy = -1;\n\t}\n\tgetHeight() {\n\t\tif (this.isNull()) {\n\t\t\treturn 0;\n\t\t}\n\t\treturn this._maxy - this._miny;\n\t}\n\tmaxExtent() {\n\t\tif (this.isNull()) return 0.0;\n\t\tvar w = this.getWidth();\n\t\tvar h = this.getHeight();\n\t\tif (w > h) return w;\n\t\treturn h;\n\t}\n\texpandBy() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet distance = arguments[0];\n\t\t\tthis.expandBy(distance, distance);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet deltaX = arguments[0], deltaY = arguments[1];\n\t\t\tif (this.isNull()) return null;\n\t\t\tthis._minx -= deltaX;\n\t\t\tthis._maxx += deltaX;\n\t\t\tthis._miny -= deltaY;\n\t\t\tthis._maxy += deltaY;\n\t\t\tif (this._minx > this._maxx || this._miny > this._maxy) this.setToNull();\n\t\t}\n\t}\n\tcontains() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Envelope) {\n\t\t\t\tlet other = arguments[0];\n\t\t\t\treturn this.covers(other);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this.covers(p);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet x = arguments[0], y = arguments[1];\n\t\t\treturn this.covers(x, y);\n\t\t}\n\t}\n\tcentre() {\n\t\tif (this.isNull()) return null;\n\t\treturn new Coordinate((this.getMinX() + this.getMaxX()) / 2.0, (this.getMinY() + this.getMaxY()) / 2.0);\n\t}\n\tinit() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.setToNull();\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\t\tlet env = arguments[0];\n\t\t\t\tthis._minx = env._minx;\n\t\t\t\tthis._maxx = env._maxx;\n\t\t\t\tthis._miny = env._miny;\n\t\t\t\tthis._maxy = env._maxy;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet x1 = arguments[0], x2 = arguments[1], y1 = arguments[2], y2 = arguments[3];\n\t\t\tif (x1 < x2) {\n\t\t\t\tthis._minx = x1;\n\t\t\t\tthis._maxx = x2;\n\t\t\t} else {\n\t\t\t\tthis._minx = x2;\n\t\t\t\tthis._maxx = x1;\n\t\t\t}\n\t\t\tif (y1 < y2) {\n\t\t\t\tthis._miny = y1;\n\t\t\t\tthis._maxy = y2;\n\t\t\t} else {\n\t\t\t\tthis._miny = y2;\n\t\t\t\tthis._maxy = y1;\n\t\t\t}\n\t\t}\n\t}\n\tgetMaxY() {\n\t\treturn this._maxy;\n\t}\n\tdistance(env) {\n\t\tif (this.intersects(env)) return 0;\n\t\tvar dx = 0.0;\n\t\tif (this._maxx < env._minx) dx = env._minx - this._maxx; else if (this._minx > env._maxx) dx = this._minx - env._maxx;\n\t\tvar dy = 0.0;\n\t\tif (this._maxy < env._miny) dy = env._miny - this._maxy; else if (this._miny > env._maxy) dy = this._miny - env._maxy;\n\t\tif (dx === 0.0) return dy;\n\t\tif (dy === 0.0) return dx;\n\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t}\n\thashCode() {\n\t\tvar result = 17;\n\t\tresult = 37 * result + Coordinate.hashCode(this._minx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxx);\n\t\tresult = 37 * result + Coordinate.hashCode(this._miny);\n\t\tresult = 37 * result + Coordinate.hashCode(this._maxy);\n\t\treturn result;\n\t}\n\tgetClass() {\n\t\treturn Envelope;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable, Serializable];\n\t}\n}\nEnvelope.constructor_ = function () {\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tif (arguments.length === 0) {\n\t\tthis.init();\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tthis.init(p.x, p.x, p.y, p.y);\n\t\t} else if (arguments[0] instanceof Envelope) {\n\t\t\tlet env = arguments[0];\n\t\t\tthis.init(env);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\tthis.init(p1.x, p2.x, p1.y, p2.y);\n\t} else if (arguments.length === 4) {\n\t\tlet x1 = arguments[0], x2 = arguments[1], y1 = arguments[2], y2 = arguments[3];\n\t\tthis.init(x1, x2, y1, y2);\n\t}\n};\nEnvelope.serialVersionUID = 5873921885273102420;\n","export default function Exception () {}\n","import Exception from '../../../../java/lang/Exception';\nexport default class NotRepresentableException extends Exception {\n\tconstructor() {\n\t\tsuper();\n\t\tNotRepresentableException.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn NotRepresentableException;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNotRepresentableException.constructor_ = function () {\n\tException.constructor_.call(this, \"Projective point not representable on the Cartesian plane.\");\n};\n","export default function StringBuffer (str) {\n  this.str = str\n}\n\nStringBuffer.prototype.append = function (e) {\n  this.str += e\n}\n\nStringBuffer.prototype.setCharAt = function (i, c) {\n  this.str = this.str.substr(0, i) + c + this.str.substr(i + 1)\n}\n\nStringBuffer.prototype.toString = function (e) {\n  return this.str\n}\n","export default function Integer (value) {\n  this.value = value\n}\n\nInteger.prototype.intValue = function () {\n  return this.value\n}\nInteger.prototype.compareTo = function (o) {\n  if (this.value < o) return -1\n  if (this.value > o) return 1\n  return 0\n}\n\nInteger.isNaN = n => Number.isNaN(n)\n","export default function Character () {}\nCharacter.isWhitespace = c => ((c <= 32 && c >= 0) || c == 127)\nCharacter.toUpperCase = c => c.toUpperCase()\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Double from '../../../../java/lang/Double';\nimport Integer from '../../../../java/lang/Integer';\nimport Character from '../../../../java/lang/Character';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default class DD {\n\tconstructor() {\n\t\tDD.constructor_.apply(this, arguments);\n\t}\n\tstatic sqr(x) {\n\t\treturn DD.valueOf(x).selfMultiply(x);\n\t}\n\tstatic valueOf() {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tlet str = arguments[0];\n\t\t\treturn DD.parse(str);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet x = arguments[0];\n\t\t\treturn new DD(x);\n\t\t}\n\t}\n\tstatic sqrt(x) {\n\t\treturn DD.valueOf(x).sqrt();\n\t}\n\tstatic parse(str) {\n\t\tvar i = 0;\n\t\tvar strlen = str.length;\n\t\twhile (Character.isWhitespace(str.charAt(i))) i++;\n\t\tvar isNegative = false;\n\t\tif (i < strlen) {\n\t\t\tvar signCh = str.charAt(i);\n\t\t\tif (signCh === '-' || signCh === '+') {\n\t\t\t\ti++;\n\t\t\t\tif (signCh === '-') isNegative = true;\n\t\t\t}\n\t\t}\n\t\tvar val = new DD();\n\t\tvar numDigits = 0;\n\t\tvar numBeforeDec = 0;\n\t\tvar exp = 0;\n\t\twhile (true) {\n\t\t\tif (i >= strlen) break;\n\t\t\tvar ch = str.charAt(i);\n\t\t\ti++;\n\t\t\tif (Character.isDigit(ch)) {\n\t\t\t\tvar d = ch - '0';\n\t\t\t\tval.selfMultiply(DD.TEN);\n\t\t\t\tval.selfAdd(d);\n\t\t\t\tnumDigits++;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (ch === '.') {\n\t\t\t\tnumBeforeDec = numDigits;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (ch === 'e' || ch === 'E') {\n\t\t\t\tvar expStr = str.substring(i);\n\t\t\t\ttry {\n\t\t\t\t\texp = Integer.parseInt(expStr);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tif (ex instanceof NumberFormatException) {\n\t\t\t\t\t\tthrow new NumberFormatException(\"Invalid exponent \" + expStr + \" in string \" + str);\n\t\t\t\t\t} else throw ex;\n\t\t\t\t} finally {}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthrow new NumberFormatException(\"Unexpected character '\" + ch + \"' at position \" + i + \" in string \" + str);\n\t\t}\n\t\tvar val2 = val;\n\t\tvar numDecPlaces = numDigits - numBeforeDec - exp;\n\t\tif (numDecPlaces === 0) {\n\t\t\tval2 = val;\n\t\t} else if (numDecPlaces > 0) {\n\t\t\tvar scale = DD.TEN.pow(numDecPlaces);\n\t\t\tval2 = val.divide(scale);\n\t\t} else if (numDecPlaces < 0) {\n\t\t\tvar scale = DD.TEN.pow(-numDecPlaces);\n\t\t\tval2 = val.multiply(scale);\n\t\t}\n\t\tif (isNegative) {\n\t\t\treturn val2.negate();\n\t\t}\n\t\treturn val2;\n\t}\n\tstatic createNaN() {\n\t\treturn new DD(Double.NaN, Double.NaN);\n\t}\n\tstatic copy(dd) {\n\t\treturn new DD(dd);\n\t}\n\tstatic magnitude(x) {\n\t\tvar xAbs = Math.abs(x);\n\t\tvar xLog10 = Math.log(xAbs) / Math.log(10);\n\t\tvar xMag = Math.trunc(Math.floor(xLog10));\n\t\tvar xApprox = Math.pow(10, xMag);\n\t\tif (xApprox * 10 <= xAbs) xMag += 1;\n\t\treturn xMag;\n\t}\n\tstatic stringOfChar(ch, len) {\n\t\tvar buf = new StringBuffer();\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tbuf.append(ch);\n\t\t}\n\t\treturn buf.toString();\n\t}\n\tle(y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo <= y._lo;\n\t}\n\textractSignificantDigits(insertDecimalPoint, magnitude) {\n\t\tvar y = this.abs();\n\t\tvar mag = DD.magnitude(y._hi);\n\t\tvar scale = DD.TEN.pow(mag);\n\t\ty = y.divide(scale);\n\t\tif (y.gt(DD.TEN)) {\n\t\t\ty = y.divide(DD.TEN);\n\t\t\tmag += 1;\n\t\t} else if (y.lt(DD.ONE)) {\n\t\t\ty = y.multiply(DD.TEN);\n\t\t\tmag -= 1;\n\t\t}\n\t\tvar decimalPointPos = mag + 1;\n\t\tvar buf = new StringBuffer();\n\t\tvar numDigits = DD.MAX_PRINT_DIGITS - 1;\n\t\tfor (var i = 0; i <= numDigits; i++) {\n\t\t\tif (insertDecimalPoint && i === decimalPointPos) {\n\t\t\t\tbuf.append('.');\n\t\t\t}\n\t\t\tvar digit = Math.trunc(y._hi);\n\t\t\tif (digit < 0 || digit > 9) {}\n\t\t\tif (digit < 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar rebiasBy10 = false;\n\t\t\tvar digitChar = 0;\n\t\t\tif (digit > 9) {\n\t\t\t\trebiasBy10 = true;\n\t\t\t\tdigitChar = '9';\n\t\t\t} else {\n\t\t\t\tdigitChar = '0' + digit;\n\t\t\t}\n\t\t\tbuf.append(digitChar);\n\t\t\ty = y.subtract(DD.valueOf(digit)).multiply(DD.TEN);\n\t\t\tif (rebiasBy10) y.selfAdd(DD.TEN);\n\t\t\tvar continueExtractingDigits = true;\n\t\t\tvar remMag = DD.magnitude(y._hi);\n\t\t\tif (remMag < 0 && Math.abs(remMag) >= numDigits - i) continueExtractingDigits = false;\n\t\t\tif (!continueExtractingDigits) break;\n\t\t}\n\t\tmagnitude[0] = mag;\n\t\treturn buf.toString();\n\t}\n\tsqr() {\n\t\treturn this.multiply(this);\n\t}\n\tdoubleValue() {\n\t\treturn this._hi + this._lo;\n\t}\n\tsubtract() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this.add(y.negate());\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this.add(-y);\n\t\t}\n\t}\n\tequals() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn this._hi === y._hi && this._lo === y._lo;\n\t\t}\n\t}\n\tisZero() {\n\t\treturn this._hi === 0.0 && this._lo === 0.0;\n\t}\n\tselfSubtract() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-y._hi, -y._lo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (this.isNaN()) return this;\n\t\t\treturn this.selfAdd(-y, 0.0);\n\t\t}\n\t}\n\tgetSpecialNumberString() {\n\t\tif (this.isZero()) return \"0.0\";\n\t\tif (this.isNaN()) return \"NaN \";\n\t\treturn null;\n\t}\n\tmin(x) {\n\t\tif (this.le(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t}\n\tselfDivide() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfDivide(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfDivide(y, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\t\tC = this._hi / yhi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * yhi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - yhi;\n\t\t\tU = C * yhi;\n\t\t\thy = u - hy;\n\t\t\tty = yhi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * ylo) / yhi;\n\t\t\tu = C + c;\n\t\t\tthis._hi = u;\n\t\t\tthis._lo = C - u + c;\n\t\t\treturn this;\n\t\t}\n\t}\n\tdump() {\n\t\treturn \"DD<\" + this._hi + \", \" + this._lo + \">\";\n\t}\n\tdivide() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\t\tC = this._hi / y._hi;\n\t\t\tc = DD.SPLIT * C;\n\t\t\thc = c - C;\n\t\t\tu = DD.SPLIT * y._hi;\n\t\t\thc = c - hc;\n\t\t\ttc = C - hc;\n\t\t\thy = u - y._hi;\n\t\t\tU = C * y._hi;\n\t\t\thy = u - hy;\n\t\t\tty = y._hi - hy;\n\t\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\t\tc = (this._hi - U - u + this._lo - C * y._lo) / y._hi;\n\t\t\tu = C + c;\n\t\t\tvar zhi = u;\n\t\t\tvar zlo = C - u + c;\n\t\t\treturn new DD(zhi, zlo);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (Double.isNaN(y)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfDivide(y, 0.0);\n\t\t}\n\t}\n\tge(y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo >= y._lo;\n\t}\n\tpow(exp) {\n\t\tif (exp === 0.0) return DD.valueOf(1.0);\n\t\tvar r = new DD(this);\n\t\tvar s = DD.valueOf(1.0);\n\t\tvar n = Math.abs(exp);\n\t\tif (n > 1) {\n\t\t\twhile (n > 0) {\n\t\t\t\tif (n % 2 === 1) {\n\t\t\t\t\ts.selfMultiply(r);\n\t\t\t\t}\n\t\t\t\tn /= 2;\n\t\t\t\tif (n > 0) r = r.sqr();\n\t\t\t}\n\t\t} else {\n\t\t\ts = r;\n\t\t}\n\t\tif (exp < 0) return s.reciprocal();\n\t\treturn s;\n\t}\n\tceil() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.ceil(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.ceil(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t}\n\tcompareTo(o) {\n\t\tvar other = o;\n\t\tif (this._hi < other._hi) return -1;\n\t\tif (this._hi > other._hi) return 1;\n\t\tif (this._lo < other._lo) return -1;\n\t\tif (this._lo > other._lo) return 1;\n\t\treturn 0;\n\t}\n\trint() {\n\t\tif (this.isNaN()) return this;\n\t\tvar plus5 = this.add(0.5);\n\t\treturn plus5.floor();\n\t}\n\tsetValue() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet value = arguments[0];\n\t\t\tthis.init(value);\n\t\t\treturn this;\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet value = arguments[0];\n\t\t\tthis.init(value);\n\t\t\treturn this;\n\t\t}\n\t}\n\tmax(x) {\n\t\tif (this.ge(x)) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\treturn x;\n\t\t}\n\t}\n\tsqrt() {\n\t\tif (this.isZero()) return DD.valueOf(0.0);\n\t\tif (this.isNegative()) {\n\t\t\treturn DD.NaN;\n\t\t}\n\t\tvar x = 1.0 / Math.sqrt(this._hi);\n\t\tvar ax = this._hi * x;\n\t\tvar axdd = DD.valueOf(ax);\n\t\tvar diffSq = this.subtract(axdd.sqr());\n\t\tvar d2 = diffSq._hi * (x * 0.5);\n\t\treturn axdd.add(d2);\n\t}\n\tselfAdd() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfAdd(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\tvar H = null, h = null, S = null, s = null, e = null, f = null;\n\t\t\t\tS = this._hi + y;\n\t\t\t\te = S - this._hi;\n\t\t\t\ts = S - e;\n\t\t\t\ts = y - e + (this._hi - s);\n\t\t\t\tf = s + this._lo;\n\t\t\t\tH = S + f;\n\t\t\t\th = f + (S - H);\n\t\t\t\tthis._hi = H + h;\n\t\t\t\tthis._lo = h + (H - this._hi);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar H = null, h = null, T = null, t = null, S = null, s = null, e = null, f = null;\n\t\t\tS = this._hi + yhi;\n\t\t\tT = this._lo + ylo;\n\t\t\te = S - this._hi;\n\t\t\tf = T - this._lo;\n\t\t\ts = S - e;\n\t\t\tt = T - f;\n\t\t\ts = yhi - e + (this._hi - s);\n\t\t\tt = ylo - f + (this._lo - t);\n\t\t\te = s + T;\n\t\t\tH = S + e;\n\t\t\th = e + (S - H);\n\t\t\te = t + h;\n\t\t\tvar zhi = H + e;\n\t\t\tvar zlo = e + (H - zhi);\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t}\n\tselfMultiply() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof DD) {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfMultiply(y._hi, y._lo);\n\t\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\t\tlet y = arguments[0];\n\t\t\t\treturn this.selfMultiply(y, 0.0);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet yhi = arguments[0], ylo = arguments[1];\n\t\t\tvar hx = null, tx = null, hy = null, ty = null, C = null, c = null;\n\t\t\tC = DD.SPLIT * this._hi;\n\t\t\thx = C - this._hi;\n\t\t\tc = DD.SPLIT * yhi;\n\t\t\thx = C - hx;\n\t\t\ttx = this._hi - hx;\n\t\t\thy = c - yhi;\n\t\t\tC = this._hi * yhi;\n\t\t\thy = c - hy;\n\t\t\tty = yhi - hy;\n\t\t\tc = hx * hy - C + hx * ty + tx * hy + tx * ty + (this._hi * ylo + this._lo * yhi);\n\t\t\tvar zhi = C + c;\n\t\t\thx = C - zhi;\n\t\t\tvar zlo = c + hx;\n\t\t\tthis._hi = zhi;\n\t\t\tthis._lo = zlo;\n\t\t\treturn this;\n\t\t}\n\t}\n\tselfSqr() {\n\t\treturn this.selfMultiply(this);\n\t}\n\tfloor() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tvar fhi = Math.floor(this._hi);\n\t\tvar flo = 0.0;\n\t\tif (fhi === this._hi) {\n\t\t\tflo = Math.floor(this._lo);\n\t\t}\n\t\treturn new DD(fhi, flo);\n\t}\n\tnegate() {\n\t\tif (this.isNaN()) return this;\n\t\treturn new DD(-this._hi, -this._lo);\n\t}\n\tclone() {\n\t\ttry {\n\t\t\treturn null;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof CloneNotSupportedException) {\n\t\t\t\treturn null;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t}\n\tmultiply() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\tif (y.isNaN()) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\tif (Double.isNaN(y)) return DD.createNaN();\n\t\t\treturn DD.copy(this).selfMultiply(y, 0.0);\n\t\t}\n\t}\n\tisNaN() {\n\t\treturn Double.isNaN(this._hi);\n\t}\n\tintValue() {\n\t\treturn Math.trunc(this._hi);\n\t}\n\ttoString() {\n\t\tvar mag = DD.magnitude(this._hi);\n\t\tif (mag >= -3 && mag <= 20) return this.toStandardNotation();\n\t\treturn this.toSciNotation();\n\t}\n\ttoStandardNotation() {\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar sigDigits = this.extractSignificantDigits(true, magnitude);\n\t\tvar decimalPointPos = magnitude[0] + 1;\n\t\tvar num = sigDigits;\n\t\tif (sigDigits.charAt(0) === '.') {\n\t\t\tnum = \"0\" + sigDigits;\n\t\t} else if (decimalPointPos < 0) {\n\t\t\tnum = \"0.\" + DD.stringOfChar('0', -decimalPointPos) + sigDigits;\n\t\t} else if (sigDigits.indexOf('.') === -1) {\n\t\t\tvar numZeroes = decimalPointPos - sigDigits.length;\n\t\t\tvar zeroes = DD.stringOfChar('0', numZeroes);\n\t\t\tnum = sigDigits + zeroes + \".0\";\n\t\t}\n\t\tif (this.isNegative()) return \"-\" + num;\n\t\treturn num;\n\t}\n\treciprocal() {\n\t\tvar hc = null, tc = null, hy = null, ty = null, C = null, c = null, U = null, u = null;\n\t\tC = 1.0 / this._hi;\n\t\tc = DD.SPLIT * C;\n\t\thc = c - C;\n\t\tu = DD.SPLIT * this._hi;\n\t\thc = c - hc;\n\t\ttc = C - hc;\n\t\thy = u - this._hi;\n\t\tU = C * this._hi;\n\t\thy = u - hy;\n\t\tty = this._hi - hy;\n\t\tu = hc * hy - U + hc * ty + tc * hy + tc * ty;\n\t\tc = (1.0 - U - u - C * this._lo) / this._hi;\n\t\tvar zhi = C + c;\n\t\tvar zlo = C - zhi + c;\n\t\treturn new DD(zhi, zlo);\n\t}\n\ttoSciNotation() {\n\t\tif (this.isZero()) return DD.SCI_NOT_ZERO;\n\t\tvar specialStr = this.getSpecialNumberString();\n\t\tif (specialStr !== null) return specialStr;\n\t\tvar magnitude = new Array(1).fill(null);\n\t\tvar digits = this.extractSignificantDigits(false, magnitude);\n\t\tvar expStr = DD.SCI_NOT_EXPONENT_CHAR + magnitude[0];\n\t\tif (digits.charAt(0) === '0') {\n\t\t\tthrow new IllegalStateException(\"Found leading zero: \" + digits);\n\t\t}\n\t\tvar trailingDigits = \"\";\n\t\tif (digits.length > 1) trailingDigits = digits.substring(1);\n\t\tvar digitsWithDecimal = digits.charAt(0) + \".\" + trailingDigits;\n\t\tif (this.isNegative()) return \"-\" + digitsWithDecimal + expStr;\n\t\treturn digitsWithDecimal + expStr;\n\t}\n\tabs() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isNegative()) return this.negate();\n\t\treturn new DD(this);\n\t}\n\tisPositive() {\n\t\treturn this._hi > 0.0 || this._hi === 0.0 && this._lo > 0.0;\n\t}\n\tlt(y) {\n\t\treturn this._hi < y._hi || this._hi === y._hi && this._lo < y._lo;\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof DD) {\n\t\t\tlet y = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(y);\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet y = arguments[0];\n\t\t\treturn DD.copy(this).selfAdd(y);\n\t\t}\n\t}\n\tinit() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (typeof arguments[0] === \"number\") {\n\t\t\t\tlet x = arguments[0];\n\t\t\t\tthis._hi = x;\n\t\t\t\tthis._lo = 0.0;\n\t\t\t} else if (arguments[0] instanceof DD) {\n\t\t\t\tlet dd = arguments[0];\n\t\t\t\tthis._hi = dd._hi;\n\t\t\t\tthis._lo = dd._lo;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet hi = arguments[0], lo = arguments[1];\n\t\t\tthis._hi = hi;\n\t\t\tthis._lo = lo;\n\t\t}\n\t}\n\tgt(y) {\n\t\treturn this._hi > y._hi || this._hi === y._hi && this._lo > y._lo;\n\t}\n\tisNegative() {\n\t\treturn this._hi < 0.0 || this._hi === 0.0 && this._lo < 0.0;\n\t}\n\ttrunc() {\n\t\tif (this.isNaN()) return DD.NaN;\n\t\tif (this.isPositive()) return this.floor(); else return this.ceil();\n\t}\n\tsignum() {\n\t\tif (this._hi > 0) return 1;\n\t\tif (this._hi < 0) return -1;\n\t\tif (this._lo > 0) return 1;\n\t\tif (this._lo < 0) return -1;\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn DD;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable, Comparable, Cloneable];\n\t}\n}\nDD.constructor_ = function () {\n\tthis._hi = 0.0;\n\tthis._lo = 0.0;\n\tif (arguments.length === 0) {\n\t\tthis.init(0.0);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tlet x = arguments[0];\n\t\t\tthis.init(x);\n\t\t} else if (arguments[0] instanceof DD) {\n\t\t\tlet dd = arguments[0];\n\t\t\tthis.init(dd);\n\t\t} else if (typeof arguments[0] === \"string\") {\n\t\t\tlet str = arguments[0];\n\t\t\tDD.constructor_.call(this, DD.parse(str));\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet hi = arguments[0], lo = arguments[1];\n\t\tthis.init(hi, lo);\n\t}\n};\nDD.PI = new DD(3.141592653589793116e+00, 1.224646799147353207e-16);\nDD.TWO_PI = new DD(6.283185307179586232e+00, 2.449293598294706414e-16);\nDD.PI_2 = new DD(1.570796326794896558e+00, 6.123233995736766036e-17);\nDD.E = new DD(2.718281828459045091e+00, 1.445646891729250158e-16);\nDD.NaN = new DD(Double.NaN, Double.NaN);\nDD.EPS = 1.23259516440783e-32;\nDD.SPLIT = 134217729.0;\nDD.MAX_PRINT_DIGITS = 32;\nDD.TEN = DD.valueOf(10.0);\nDD.ONE = DD.valueOf(1.0);\nDD.SCI_NOT_EXPONENT_CHAR = \"E\";\nDD.SCI_NOT_ZERO = \"0.0E0\";\n","import Coordinate from '../geom/Coordinate';\nimport DD from '../math/DD';\nexport default class CGAlgorithmsDD {\n\tconstructor() {\n\t\tCGAlgorithmsDD.constructor_.apply(this, arguments);\n\t}\n\tstatic orientationIndex(p1, p2, q) {\n\t\tvar index = CGAlgorithmsDD.orientationIndexFilter(p1, p2, q);\n\t\tif (index <= 1) return index;\n\t\tvar dx1 = DD.valueOf(p2.x).selfAdd(-p1.x);\n\t\tvar dy1 = DD.valueOf(p2.y).selfAdd(-p1.y);\n\t\tvar dx2 = DD.valueOf(q.x).selfAdd(-p2.x);\n\t\tvar dy2 = DD.valueOf(q.y).selfAdd(-p2.y);\n\t\treturn dx1.selfMultiply(dy2).selfSubtract(dy1.selfMultiply(dx2)).signum();\n\t}\n\tstatic signOfDet2x2() {\n\t\tif (arguments[3] instanceof DD && (arguments[2] instanceof DD && (arguments[0] instanceof DD && arguments[1] instanceof DD))) {\n\t\t\tlet x1 = arguments[0], y1 = arguments[1], x2 = arguments[2], y2 = arguments[3];\n\t\t\tvar det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n\t\t\treturn det.signum();\n\t\t} else if (typeof arguments[3] === \"number\" && (typeof arguments[2] === \"number\" && (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\"))) {\n\t\t\tlet dx1 = arguments[0], dy1 = arguments[1], dx2 = arguments[2], dy2 = arguments[3];\n\t\t\tvar x1 = DD.valueOf(dx1);\n\t\t\tvar y1 = DD.valueOf(dy1);\n\t\t\tvar x2 = DD.valueOf(dx2);\n\t\t\tvar y2 = DD.valueOf(dy2);\n\t\t\tvar det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n\t\t\treturn det.signum();\n\t\t}\n\t}\n\tstatic intersection(p1, p2, q1, q2) {\n\t\tvar denom1 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p2.x).selfSubtract(p1.x));\n\t\tvar denom2 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p2.y).selfSubtract(p1.y));\n\t\tvar denom = denom1.subtract(denom2);\n\t\tvar numx1 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\t\tvar numx2 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\t\tvar numx = numx1.subtract(numx2);\n\t\tvar fracP = numx.selfDivide(denom).doubleValue();\n\t\tvar x = DD.valueOf(p1.x).selfAdd(DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(fracP)).doubleValue();\n\t\tvar numy1 = DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n\t\tvar numy2 = DD.valueOf(p2.y).selfSubtract(p1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n\t\tvar numy = numy1.subtract(numy2);\n\t\tvar fracQ = numy.selfDivide(denom).doubleValue();\n\t\tvar y = DD.valueOf(q1.y).selfAdd(DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(fracQ)).doubleValue();\n\t\treturn new Coordinate(x, y);\n\t}\n\tstatic orientationIndexFilter(pa, pb, pc) {\n\t\tvar detsum = null;\n\t\tvar detleft = (pa.x - pc.x) * (pb.y - pc.y);\n\t\tvar detright = (pa.y - pc.y) * (pb.x - pc.x);\n\t\tvar det = detleft - detright;\n\t\tif (detleft > 0.0) {\n\t\t\tif (detright <= 0.0) {\n\t\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t\t} else {\n\t\t\t\tdetsum = detleft + detright;\n\t\t\t}\n\t\t} else if (detleft < 0.0) {\n\t\t\tif (detright >= 0.0) {\n\t\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t\t} else {\n\t\t\t\tdetsum = -detleft - detright;\n\t\t\t}\n\t\t} else {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t}\n\t\tvar errbound = CGAlgorithmsDD.DP_SAFE_EPSILON * detsum;\n\t\tif (det >= errbound || -det >= errbound) {\n\t\t\treturn CGAlgorithmsDD.signum(det);\n\t\t}\n\t\treturn 2;\n\t}\n\tstatic signum(x) {\n\t\tif (x > 0) return 1;\n\t\tif (x < 0) return -1;\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn CGAlgorithmsDD;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCGAlgorithmsDD.constructor_ = function () {};\nCGAlgorithmsDD.DP_SAFE_EPSILON = 1e-15;\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport CGAlgorithmsDD from './CGAlgorithmsDD';\nexport default class Orientation {\n\tconstructor() {\n\t\tOrientation.constructor_.apply(this, arguments);\n\t}\n\tstatic index(p1, p2, q) {\n\t\treturn CGAlgorithmsDD.orientationIndex(p1, p2, q);\n\t}\n\tstatic isCCW(ring) {\n\t\tvar nPts = ring.length - 1;\n\t\tif (nPts < 3) throw new IllegalArgumentException(\"Ring has fewer than 4 points, so orientation cannot be determined\");\n\t\tvar hiPt = ring[0];\n\t\tvar hiIndex = 0;\n\t\tfor (var i = 1; i <= nPts; i++) {\n\t\t\tvar p = ring[i];\n\t\t\tif (p.y > hiPt.y) {\n\t\t\t\thiPt = p;\n\t\t\t\thiIndex = i;\n\t\t\t}\n\t\t}\n\t\tvar iPrev = hiIndex;\n\t\tdo {\n\t\t\tiPrev = iPrev - 1;\n\t\t\tif (iPrev < 0) iPrev = nPts;\n\t\t} while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex);\n\t\tvar iNext = hiIndex;\n\t\tdo {\n\t\t\tiNext = (iNext + 1) % nPts;\n\t\t} while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex);\n\t\tvar prev = ring[iPrev];\n\t\tvar next = ring[iNext];\n\t\tif (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) return false;\n\t\tvar disc = Orientation.index(prev, hiPt, next);\n\t\tvar isCCW = null;\n\t\tif (disc === 0) {\n\t\t\tisCCW = prev.x > next.x;\n\t\t} else {\n\t\t\tisCCW = disc > 0;\n\t\t}\n\t\treturn isCCW;\n\t}\n\tgetClass() {\n\t\treturn Orientation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOrientation.constructor_ = function () {};\nOrientation.CLOCKWISE = -1;\nOrientation.RIGHT = Orientation.CLOCKWISE;\nOrientation.COUNTERCLOCKWISE = 1;\nOrientation.LEFT = Orientation.COUNTERCLOCKWISE;\nOrientation.COLLINEAR = 0;\nOrientation.STRAIGHT = Orientation.COLLINEAR;\n","export default function System () { }\n\nSystem.arraycopy = (src, srcPos, dest, destPos, len) => {\n  let c = 0\n  for (let i = srcPos; i < srcPos + len; i++) {\n    dest[destPos + c] = src[i]\n    c++\n  }\n}\n\nSystem.getProperty = (name) => {\n  return {\n    'line.separator': '\\n'\n  }[name]\n}\n","import NotRepresentableException from './NotRepresentableException';\nimport Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nexport default class HCoordinate {\n\tconstructor() {\n\t\tHCoordinate.constructor_.apply(this, arguments);\n\t}\n\tstatic intersection(p1, p2, q1, q2) {\n\t\tvar px = p1.y - p2.y;\n\t\tvar py = p2.x - p1.x;\n\t\tvar pw = p1.x * p2.y - p2.x * p1.y;\n\t\tvar qx = q1.y - q2.y;\n\t\tvar qy = q2.x - q1.x;\n\t\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\t\tvar x = py * qw - qy * pw;\n\t\tvar y = qx * pw - px * qw;\n\t\tvar w = px * qy - qx * py;\n\t\tvar xInt = x / w;\n\t\tvar yInt = y / w;\n\t\tif (Double.isNaN(xInt) || (Double.isInfinite(xInt) || Double.isNaN(yInt)) || Double.isInfinite(yInt)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn new Coordinate(xInt, yInt);\n\t}\n\tgetY() {\n\t\tvar a = this.y / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t}\n\tgetX() {\n\t\tvar a = this.x / this.w;\n\t\tif (Double.isNaN(a) || Double.isInfinite(a)) {\n\t\t\tthrow new NotRepresentableException();\n\t\t}\n\t\treturn a;\n\t}\n\tgetCoordinate() {\n\t\tvar p = new Coordinate();\n\t\tp.x = this.getX();\n\t\tp.y = this.getY();\n\t\treturn p;\n\t}\n\tgetClass() {\n\t\treturn HCoordinate;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nHCoordinate.constructor_ = function () {\n\tthis.x = null;\n\tthis.y = null;\n\tthis.w = null;\n\tif (arguments.length === 0) {\n\t\tthis.x = 0.0;\n\t\tthis.y = 0.0;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 1) {\n\t\tlet p = arguments[0];\n\t\tthis.x = p.x;\n\t\tthis.y = p.y;\n\t\tthis.w = 1.0;\n\t} else if (arguments.length === 2) {\n\t\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\tlet _x = arguments[0], _y = arguments[1];\n\t\t\tthis.x = _x;\n\t\t\tthis.y = _y;\n\t\t\tthis.w = 1.0;\n\t\t} else if (arguments[0] instanceof HCoordinate && arguments[1] instanceof HCoordinate) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.x = p1.y * p2.w - p2.y * p1.w;\n\t\t\tthis.y = p2.x * p1.w - p1.x * p2.w;\n\t\t\tthis.w = p1.x * p2.y - p2.x * p1.y;\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\tlet p1 = arguments[0], p2 = arguments[1];\n\t\t\tthis.x = p1.y - p2.y;\n\t\t\tthis.y = p2.x - p1.x;\n\t\t\tthis.w = p1.x * p2.y - p2.x * p1.y;\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], _w = arguments[2];\n\t\tthis.x = _x;\n\t\tthis.y = _y;\n\t\tthis.w = _w;\n\t} else if (arguments.length === 4) {\n\t\tlet p1 = arguments[0], p2 = arguments[1], q1 = arguments[2], q2 = arguments[3];\n\t\tvar px = p1.y - p2.y;\n\t\tvar py = p2.x - p1.x;\n\t\tvar pw = p1.x * p2.y - p2.x * p1.y;\n\t\tvar qx = q1.y - q2.y;\n\t\tvar qy = q2.x - q1.x;\n\t\tvar qw = q1.x * q2.y - q2.x * q1.y;\n\t\tthis.x = py * qw - qy * pw;\n\t\tthis.y = qx * pw - px * qw;\n\t\tthis.w = px * qy - qx * py;\n\t}\n};\n","import Double from '../../../../java/lang/Double';\nexport default class MathUtil {\n\tconstructor() {\n\t\tMathUtil.constructor_.apply(this, arguments);\n\t}\n\tstatic log10(x) {\n\t\tvar ln = Math.log(x);\n\t\tif (Double.isInfinite(ln)) return ln;\n\t\tif (Double.isNaN(ln)) return ln;\n\t\treturn ln / MathUtil.LOG_10;\n\t}\n\tstatic min(v1, v2, v3, v4) {\n\t\tvar min = v1;\n\t\tif (v2 < min) min = v2;\n\t\tif (v3 < min) min = v3;\n\t\tif (v4 < min) min = v4;\n\t\treturn min;\n\t}\n\tstatic clamp() {\n\t\tif (typeof arguments[2] === \"number\" && (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\")) {\n\t\t\tlet x = arguments[0], min = arguments[1], max = arguments[2];\n\t\t\tif (x < min) return min;\n\t\t\tif (x > max) return max;\n\t\t\treturn x;\n\t\t} else if (Number.isInteger(arguments[2]) && (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1]))) {\n\t\t\tlet x = arguments[0], min = arguments[1], max = arguments[2];\n\t\t\tif (x < min) return min;\n\t\t\tif (x > max) return max;\n\t\t\treturn x;\n\t\t}\n\t}\n\tstatic wrap(index, max) {\n\t\tif (index < 0) {\n\t\t\treturn max - -index % max;\n\t\t}\n\t\treturn index % max;\n\t}\n\tstatic max() {\n\t\tif (arguments.length === 3) {\n\t\t\tlet v1 = arguments[0], v2 = arguments[1], v3 = arguments[2];\n\t\t\tvar max = v1;\n\t\t\tif (v2 > max) max = v2;\n\t\t\tif (v3 > max) max = v3;\n\t\t\treturn max;\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet v1 = arguments[0], v2 = arguments[1], v3 = arguments[2], v4 = arguments[3];\n\t\t\tvar max = v1;\n\t\t\tif (v2 > max) max = v2;\n\t\t\tif (v3 > max) max = v3;\n\t\t\tif (v4 > max) max = v4;\n\t\t\treturn max;\n\t\t}\n\t}\n\tstatic average(x1, x2) {\n\t\treturn (x1 + x2) / 2.0;\n\t}\n\tgetClass() {\n\t\treturn MathUtil;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMathUtil.constructor_ = function () {};\nMathUtil.LOG_10 = Math.log(10);\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport MathUtil from '../math/MathUtil';\nimport Envelope from '../geom/Envelope';\nexport default class Distance {\n\tconstructor() {\n\t\tDistance.constructor_.apply(this, arguments);\n\t}\n\tstatic segmentToSegment(A, B, C, D) {\n\t\tif (A.equals(B)) return Distance.pointToSegment(A, C, D);\n\t\tif (C.equals(D)) return Distance.pointToSegment(D, A, B);\n\t\tvar noIntersection = false;\n\t\tif (!Envelope.intersects(A, B, C, D)) {\n\t\t\tnoIntersection = true;\n\t\t} else {\n\t\t\tvar denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n\t\t\tif (denom === 0) {\n\t\t\t\tnoIntersection = true;\n\t\t\t} else {\n\t\t\t\tvar r_num = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n\t\t\t\tvar s_num = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n\t\t\t\tvar s = s_num / denom;\n\t\t\t\tvar r = r_num / denom;\n\t\t\t\tif (r < 0 || r > 1 || s < 0 || s > 1) {\n\t\t\t\t\tnoIntersection = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (noIntersection) {\n\t\t\treturn MathUtil.min(Distance.pointToSegment(A, C, D), Distance.pointToSegment(B, C, D), Distance.pointToSegment(C, A, B), Distance.pointToSegment(D, A, B));\n\t\t}\n\t\treturn 0.0;\n\t}\n\tstatic pointToSegment(p, A, B) {\n\t\tif (A.x === B.x && A.y === B.y) return p.distance(A);\n\t\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\t\tvar r = ((p.x - A.x) * (B.x - A.x) + (p.y - A.y) * (B.y - A.y)) / len2;\n\t\tif (r <= 0.0) return p.distance(A);\n\t\tif (r >= 1.0) return p.distance(B);\n\t\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\t\treturn Math.abs(s) * Math.sqrt(len2);\n\t}\n\tstatic pointToLinePerpendicular(p, A, B) {\n\t\tvar len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n\t\tvar s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n\t\treturn Math.abs(s) * Math.sqrt(len2);\n\t}\n\tstatic pointToSegmentString(p, line) {\n\t\tif (line.length === 0) throw new IllegalArgumentException(\"Line array must contain at least one vertex\");\n\t\tvar minDistance = p.distance(line[0]);\n\t\tfor (var i = 0; i < line.length - 1; i++) {\n\t\t\tvar dist = Distance.pointToSegment(p, line[i], line[i + 1]);\n\t\t\tif (dist < minDistance) {\n\t\t\t\tminDistance = dist;\n\t\t\t}\n\t\t}\n\t\treturn minDistance;\n\t}\n\tgetClass() {\n\t\treturn Distance;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDistance.constructor_ = function () {};\n","import Cloneable from '../../../../java/lang/Cloneable';\nexport default class CoordinateSequence {\n\tconstructor() {\n\t\tCoordinateSequence.constructor_.apply(this, arguments);\n\t}\n\tsetOrdinate(index, ordinateIndex, value) {}\n\tsize() {}\n\tgetOrdinate(index, ordinateIndex) {}\n\tgetCoordinate() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], coord = arguments[1];\n\t\t}\n\t}\n\tgetCoordinateCopy(i) {}\n\tgetDimension() {}\n\tgetX(index) {}\n\texpandEnvelope(env) {}\n\tcopy() {}\n\tgetY(index) {}\n\ttoCoordinateArray() {}\n\tgetClass() {\n\t\treturn CoordinateSequence;\n\t}\n\tget interfaces_() {\n\t\treturn [Cloneable];\n\t}\n}\nCoordinateSequence.constructor_ = function () {};\nCoordinateSequence.X = 0;\nCoordinateSequence.Y = 1;\nCoordinateSequence.Z = 2;\nCoordinateSequence.M = 3;\n","import hasInterface from '../../../../hasInterface';\nimport CoordinateSequence from './CoordinateSequence';\nexport default class CoordinateSequenceFactory {\n\tconstructor() {\n\t\tCoordinateSequenceFactory.constructor_.apply(this, arguments);\n\t}\n\tcreate() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordSeq = arguments[0];\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn CoordinateSequenceFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCoordinateSequenceFactory.constructor_ = function () {};\n","export default class GeometryComponentFilter {\n\tconstructor() {\n\t\tGeometryComponentFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(geom) {}\n\tgetClass() {\n\t\treturn GeometryComponentFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryComponentFilter.constructor_ = function () {};\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport Serializable from '../../../../java/io/Serializable';\nimport Envelope from './Envelope';\nexport default class Geometry {\n\tconstructor() {\n\t\tGeometry.constructor_.apply(this, arguments);\n\t}\n\tisGeometryCollection() {\n\t\treturn this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t}\n\tgetFactory() {\n\t\treturn this._factory;\n\t}\n\tgetGeometryN(n) {\n\t\treturn this;\n\t}\n\tgetArea() {\n\t\treturn 0.0;\n\t}\n\tisRectangle() {\n\t\treturn false;\n\t}\n\tequals() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tif (g === null) return false;\n\t\t\treturn this.equalsTopo(g);\n\t\t} else if (arguments[0] instanceof Object) {\n\t\t\tlet o = arguments[0];\n\t\t\tif (!(o instanceof Geometry)) return false;\n\t\t\tvar g = o;\n\t\t\treturn this.equalsExact(g);\n\t\t}\n\t}\n\tequalsExact(other) {\n\t\treturn this === other || this.equalsExact(other, 0);\n\t}\n\tgeometryChanged() {\n\t\tthis.apply(Geometry.geometryChangedFilter);\n\t}\n\tgeometryChangedAction() {\n\t\tthis._envelope = null;\n\t}\n\tequalsNorm(g) {\n\t\tif (g === null) return false;\n\t\treturn this.norm().equalsExact(g.norm());\n\t}\n\tgetLength() {\n\t\treturn 0.0;\n\t}\n\tgetNumGeometries() {\n\t\treturn 1;\n\t}\n\tcompareTo() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar other = o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(o);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar other = o;\n\t\t\tif (this.getTypeCode() !== other.getTypeCode()) {\n\t\t\t\treturn this.getTypeCode() - other.getTypeCode();\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (other.isEmpty()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn this.compareToSameClass(o, comp);\n\t\t}\n\t}\n\tgetUserData() {\n\t\treturn this._userData;\n\t}\n\tgetSRID() {\n\t\treturn this._SRID;\n\t}\n\tgetEnvelope() {\n\t\treturn this.getFactory().toGeometry(this.getEnvelopeInternal());\n\t}\n\tcheckNotGeometryCollection(g) {\n\t\tif (g.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION) {\n\t\t\tthrow new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\t}\n\t}\n\tequal(a, b, tolerance) {\n\t\tif (tolerance === 0) {\n\t\t\treturn a.equals(b);\n\t\t}\n\t\treturn a.distance(b) <= tolerance;\n\t}\n\tnorm() {\n\t\tvar copy = this.copy();\n\t\tcopy.normalize();\n\t\treturn copy;\n\t}\n\tgetPrecisionModel() {\n\t\treturn this._factory.getPrecisionModel();\n\t}\n\tgetEnvelopeInternal() {\n\t\tif (this._envelope === null) {\n\t\t\tthis._envelope = this.computeEnvelopeInternal();\n\t\t}\n\t\treturn new Envelope(this._envelope);\n\t}\n\tsetSRID(SRID) {\n\t\tthis._SRID = SRID;\n\t}\n\tsetUserData(userData) {\n\t\tthis._userData = userData;\n\t}\n\tcompare(a, b) {\n\t\tvar i = a.iterator();\n\t\tvar j = b.iterator();\n\t\twhile (i.hasNext() && j.hasNext()) {\n\t\t\tvar aElement = i.next();\n\t\t\tvar bElement = j.next();\n\t\t\tvar comparison = aElement.compareTo(bElement);\n\t\t\tif (comparison !== 0) {\n\t\t\t\treturn comparison;\n\t\t\t}\n\t\t}\n\t\tif (i.hasNext()) {\n\t\t\treturn 1;\n\t\t}\n\t\tif (j.hasNext()) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t}\n\thashCode() {\n\t\treturn this.getEnvelopeInternal().hashCode();\n\t}\n\tisGeometryCollectionOrDerived() {\n\t\tif (this.getTypeCode() === Geometry.TYPECODE_GEOMETRYCOLLECTION || this.getTypeCode() === Geometry.TYPECODE_MULTIPOINT || this.getTypeCode() === Geometry.TYPECODE_MULTILINESTRING || this.getTypeCode() === Geometry.TYPECODE_MULTIPOLYGON) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tget interfaces_() {\n\t\treturn [Cloneable, Comparable, Serializable];\n\t}\n\tgetClass() {\n\t\treturn Geometry;\n\t}\n\tstatic hasNonEmptyElements(geometries) {\n\t\tfor (var i = 0; i < geometries.length; i++) {\n\t\t\tif (!geometries[i].isEmpty()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tstatic hasNullElements(array) {\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tif (array[i] === null) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n};\nGeometry.constructor_ = function (factory) {\n\tif (!factory)\n\t\treturn;\n\tthis._envelope = null;\n\tthis._userData = null;\n\tthis._factory = factory;\n\tthis._SRID = factory.getSRID();\n};\nGeometry.serialVersionUID = 8763622679187376702;\nGeometry.TYPECODE_POINT = 0;\nGeometry.TYPECODE_MULTIPOINT = 1;\nGeometry.TYPECODE_LINESTRING = 2;\nGeometry.TYPECODE_LINEARRING = 3;\nGeometry.TYPECODE_MULTILINESTRING = 4;\nGeometry.TYPECODE_POLYGON = 5;\nGeometry.TYPECODE_MULTIPOLYGON = 6;\nGeometry.TYPECODE_GEOMETRYCOLLECTION = 7;\nGeometry.TYPENAME_POINT = \"Point\";\nGeometry.TYPENAME_MULTIPOINT = \"MultiPoint\";\nGeometry.TYPENAME_LINESTRING = \"LineString\";\nGeometry.TYPENAME_LINEARRING = \"LinearRing\";\nGeometry.TYPENAME_MULTILINESTRING = \"MultiLineString\";\nGeometry.TYPENAME_POLYGON = \"Polygon\";\nGeometry.TYPENAME_MULTIPOLYGON = \"MultiPolygon\";\nGeometry.TYPENAME_GEOMETRYCOLLECTION = \"GeometryCollection\";\nGeometry.geometryChangedFilter = {\n\tget interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t},\n\tfilter(geom) {\n\t\tgeom.geometryChangedAction();\n\t}\n};\n","export default class CoordinateFilter {\n\tconstructor() {\n\t\tCoordinateFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(coord) {}\n\tgetClass() {\n\t\treturn CoordinateFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCoordinateFilter.constructor_ = function () {};\n","export default class BoundaryNodeRule {\n\tconstructor() {\n\t\tBoundaryNodeRule.constructor_.apply(this, arguments);\n\t}\n\tisInBoundary(boundaryCount) {}\n\tgetClass() {\n\t\treturn BoundaryNodeRule;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass Mod2BoundaryNodeRule {\n\tconstructor() {\n\t\tMod2BoundaryNodeRule.constructor_.apply(this, arguments);\n\t}\n\tisInBoundary(boundaryCount) {\n\t\treturn boundaryCount % 2 === 1;\n\t}\n\tgetClass() {\n\t\treturn Mod2BoundaryNodeRule;\n\t}\n\tget interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t}\n}\nMod2BoundaryNodeRule.constructor_ = function () {};\nclass EndPointBoundaryNodeRule {\n\tconstructor() {\n\t\tEndPointBoundaryNodeRule.constructor_.apply(this, arguments);\n\t}\n\tisInBoundary(boundaryCount) {\n\t\treturn boundaryCount > 0;\n\t}\n\tgetClass() {\n\t\treturn EndPointBoundaryNodeRule;\n\t}\n\tget interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t}\n}\nEndPointBoundaryNodeRule.constructor_ = function () {};\nclass MultiValentEndPointBoundaryNodeRule {\n\tconstructor() {\n\t\tMultiValentEndPointBoundaryNodeRule.constructor_.apply(this, arguments);\n\t}\n\tisInBoundary(boundaryCount) {\n\t\treturn boundaryCount > 1;\n\t}\n\tgetClass() {\n\t\treturn MultiValentEndPointBoundaryNodeRule;\n\t}\n\tget interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t}\n}\nMultiValentEndPointBoundaryNodeRule.constructor_ = function () {};\nclass MonoValentEndPointBoundaryNodeRule {\n\tconstructor() {\n\t\tMonoValentEndPointBoundaryNodeRule.constructor_.apply(this, arguments);\n\t}\n\tisInBoundary(boundaryCount) {\n\t\treturn boundaryCount === 1;\n\t}\n\tgetClass() {\n\t\treturn MonoValentEndPointBoundaryNodeRule;\n\t}\n\tget interfaces_() {\n\t\treturn [BoundaryNodeRule];\n\t}\n}\nMonoValentEndPointBoundaryNodeRule.constructor_ = function () {};\nBoundaryNodeRule.Mod2BoundaryNodeRule = Mod2BoundaryNodeRule;\nBoundaryNodeRule.EndPointBoundaryNodeRule = EndPointBoundaryNodeRule;\nBoundaryNodeRule.MultiValentEndPointBoundaryNodeRule = MultiValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.MonoValentEndPointBoundaryNodeRule = MonoValentEndPointBoundaryNodeRule;\nBoundaryNodeRule.constructor_ = function () {};\nBoundaryNodeRule.MOD2_BOUNDARY_RULE = new Mod2BoundaryNodeRule();\nBoundaryNodeRule.ENDPOINT_BOUNDARY_RULE = new EndPointBoundaryNodeRule();\nBoundaryNodeRule.MULTIVALENT_ENDPOINT_BOUNDARY_RULE = new MultiValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.MONOVALENT_ENDPOINT_BOUNDARY_RULE = new MonoValentEndPointBoundaryNodeRule();\nBoundaryNodeRule.OGC_SFS_BOUNDARY_RULE = BoundaryNodeRule.MOD2_BOUNDARY_RULE;\n","import CoordinateList from './CoordinateList';\nimport Coordinate from './Coordinate';\nimport MathUtil from '../math/MathUtil';\nimport System from '../../../../java/lang/System';\nimport Comparator from '../../../../java/util/Comparator';\nimport Envelope from './Envelope';\nexport default class CoordinateArrays {\n\tconstructor() {\n\t\tCoordinateArrays.constructor_.apply(this, arguments);\n\t}\n\tstatic isRing(pts) {\n\t\tif (pts.length < 4) return false;\n\t\tif (!pts[0].equals2D(pts[pts.length - 1])) return false;\n\t\treturn true;\n\t}\n\tstatic ptNotInList(testPts, pts) {\n\t\tfor (var i = 0; i < testPts.length; i++) {\n\t\t\tvar testPt = testPts[i];\n\t\t\tif (CoordinateArrays.indexOf(testPt, pts) < 0) return testPt;\n\t\t}\n\t\treturn null;\n\t}\n\tstatic scroll(coordinates, firstCoordinate) {\n\t\tvar i = CoordinateArrays.indexOf(firstCoordinate, coordinates);\n\t\tif (i < 0) return null;\n\t\tvar newCoordinates = new Array(coordinates.length).fill(null);\n\t\tSystem.arraycopy(coordinates, i, newCoordinates, 0, coordinates.length - i);\n\t\tSystem.arraycopy(coordinates, 0, newCoordinates, coordinates.length - i, i);\n\t\tSystem.arraycopy(newCoordinates, 0, coordinates, 0, coordinates.length);\n\t}\n\tstatic equals() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet coord1 = arguments[0], coord2 = arguments[1];\n\t\t\tif (coord1 === coord2) return true;\n\t\t\tif (coord1 === null || coord2 === null) return false;\n\t\t\tif (coord1.length !== coord2.length) return false;\n\t\t\tfor (var i = 0; i < coord1.length; i++) {\n\t\t\t\tif (!coord1[i].equals(coord2[i])) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet coord1 = arguments[0], coord2 = arguments[1], coordinateComparator = arguments[2];\n\t\t\tif (coord1 === coord2) return true;\n\t\t\tif (coord1 === null || coord2 === null) return false;\n\t\t\tif (coord1.length !== coord2.length) return false;\n\t\t\tfor (var i = 0; i < coord1.length; i++) {\n\t\t\t\tif (coordinateComparator.compare(coord1[i], coord2[i]) !== 0) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t}\n\tstatic intersection(coordinates, env) {\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tif (env.intersects(coordinates[i])) coordList.add(coordinates[i], true);\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tstatic hasRepeatedPoints(coord) {\n\t\tfor (var i = 1; i < coord.length; i++) {\n\t\t\tif (coord[i - 1].equals(coord[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tstatic removeRepeatedPoints(coord) {\n\t\tif (!CoordinateArrays.hasRepeatedPoints(coord)) return coord;\n\t\tvar coordList = new CoordinateList(coord, false);\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tstatic reverse(coord) {\n\t\tvar last = coord.length - 1;\n\t\tvar mid = Math.trunc(last / 2);\n\t\tfor (var i = 0; i <= mid; i++) {\n\t\t\tvar tmp = coord[i];\n\t\t\tcoord[i] = coord[last - i];\n\t\t\tcoord[last - i] = tmp;\n\t\t}\n\t}\n\tstatic removeNull(coord) {\n\t\tvar nonNull = 0;\n\t\tfor (var i = 0; i < coord.length; i++) {\n\t\t\tif (coord[i] !== null) nonNull++;\n\t\t}\n\t\tvar newCoord = new Array(nonNull).fill(null);\n\t\tif (nonNull === 0) return newCoord;\n\t\tvar j = 0;\n\t\tfor (var i = 0; i < coord.length; i++) {\n\t\t\tif (coord[i] !== null) newCoord[j++] = coord[i];\n\t\t}\n\t\treturn newCoord;\n\t}\n\tstatic copyDeep() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet coordinates = arguments[0];\n\t\t\tvar copy = new Array(coordinates.length).fill(null);\n\t\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\t\tcopy[i] = new Coordinate(coordinates[i]);\n\t\t\t}\n\t\t\treturn copy;\n\t\t} else if (arguments.length === 5) {\n\t\t\tlet src = arguments[0], srcStart = arguments[1], dest = arguments[2], destStart = arguments[3], length = arguments[4];\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tdest[destStart + i] = new Coordinate(src[srcStart + i]);\n\t\t\t}\n\t\t}\n\t}\n\tstatic isEqualReversed(pts1, pts2) {\n\t\tfor (var i = 0; i < pts1.length; i++) {\n\t\t\tvar p1 = pts1[i];\n\t\t\tvar p2 = pts2[pts1.length - i - 1];\n\t\t\tif (p1.compareTo(p2) !== 0) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tstatic envelope(coordinates) {\n\t\tvar env = new Envelope();\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tenv.expandToInclude(coordinates[i]);\n\t\t}\n\t\treturn env;\n\t}\n\tstatic toCoordinateArray(coordList) {\n\t\treturn coordList.toArray(CoordinateArrays.coordArrayType);\n\t}\n\tstatic atLeastNCoordinatesOrNothing(n, c) {\n\t\treturn c.length >= n ? c : [];\n\t}\n\tstatic indexOf(coordinate, coordinates) {\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tif (coordinate.equals(coordinates[i])) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n\tstatic increasingDirection(pts) {\n\t\tfor (var i = 0; i < Math.trunc(pts.length / 2); i++) {\n\t\t\tvar j = pts.length - 1 - i;\n\t\t\tvar comp = pts[i].compareTo(pts[j]);\n\t\t\tif (comp !== 0) return comp;\n\t\t}\n\t\treturn 1;\n\t}\n\tstatic compare(pts1, pts2) {\n\t\tvar i = 0;\n\t\twhile (i < pts1.length && i < pts2.length) {\n\t\t\tvar compare = pts1[i].compareTo(pts2[i]);\n\t\t\tif (compare !== 0) return compare;\n\t\t\ti++;\n\t\t}\n\t\tif (i < pts2.length) return -1;\n\t\tif (i < pts1.length) return 1;\n\t\treturn 0;\n\t}\n\tstatic minCoordinate(coordinates) {\n\t\tvar minCoord = null;\n\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\tif (minCoord === null || minCoord.compareTo(coordinates[i]) > 0) {\n\t\t\t\tminCoord = coordinates[i];\n\t\t\t}\n\t\t}\n\t\treturn minCoord;\n\t}\n\tstatic extract(pts, start, end) {\n\t\tstart = MathUtil.clamp(start, 0, pts.length);\n\t\tend = MathUtil.clamp(end, -1, pts.length);\n\t\tvar npts = end - start + 1;\n\t\tif (end < 0) npts = 0;\n\t\tif (start >= pts.length) npts = 0;\n\t\tif (end < start) npts = 0;\n\t\tvar extractPts = new Array(npts).fill(null);\n\t\tif (npts === 0) return extractPts;\n\t\tvar iPts = 0;\n\t\tfor (var i = start; i <= end; i++) {\n\t\t\textractPts[iPts++] = pts[i];\n\t\t}\n\t\treturn extractPts;\n\t}\n\tgetClass() {\n\t\treturn CoordinateArrays;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass ForwardComparator {\n\tconstructor() {\n\t\tForwardComparator.constructor_.apply(this, arguments);\n\t}\n\tcompare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\treturn CoordinateArrays.compare(pts1, pts2);\n\t}\n\tgetClass() {\n\t\treturn ForwardComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nForwardComparator.constructor_ = function () {};\nclass BidirectionalComparator {\n\tconstructor() {\n\t\tBidirectionalComparator.constructor_.apply(this, arguments);\n\t}\n\tcompare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar forwardComp = CoordinateArrays.compare(pts1, pts2);\n\t\tvar isEqualRev = CoordinateArrays.isEqualReversed(pts1, pts2);\n\t\tif (isEqualRev) return 0;\n\t\treturn forwardComp;\n\t}\n\tOLDcompare(o1, o2) {\n\t\tvar pts1 = o1;\n\t\tvar pts2 = o2;\n\t\tif (pts1.length < pts2.length) return -1;\n\t\tif (pts1.length > pts2.length) return 1;\n\t\tif (pts1.length === 0) return 0;\n\t\tvar dir1 = CoordinateArrays.increasingDirection(pts1);\n\t\tvar dir2 = CoordinateArrays.increasingDirection(pts2);\n\t\tvar i1 = dir1 > 0 ? 0 : pts1.length - 1;\n\t\tvar i2 = dir2 > 0 ? 0 : pts1.length - 1;\n\t\tfor (var i = 0; i < pts1.length; i++) {\n\t\t\tvar comparePt = pts1[i1].compareTo(pts2[i2]);\n\t\t\tif (comparePt !== 0) return comparePt;\n\t\t\ti1 += dir1;\n\t\t\ti2 += dir2;\n\t\t}\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn BidirectionalComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nBidirectionalComparator.constructor_ = function () {};\nCoordinateArrays.ForwardComparator = ForwardComparator;\nCoordinateArrays.BidirectionalComparator = BidirectionalComparator;\nCoordinateArrays.constructor_ = function () {};\nCoordinateArrays.coordArrayType = new Array(0).fill(null);\n","/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Map.html\n *\n * @constructor\n * @private\n */\nexport default function Map() {};\n\n\n/**\n * Returns the value to which the specified key is mapped, or null if this map\n * contains no mapping for the key.\n * @param {Object} key\n * @return {Object}\n */\nMap.prototype.get = function() {};\n\n\n/**\n * Associates the specified value with the specified key in this map (optional\n * operation).\n * @param {Object} key\n * @param {Object} value\n * @return {Object}\n */\nMap.prototype.put = function() {};\n\n\n/**\n * Returns the number of key-value mappings in this map.\n * @return {number}\n */\nMap.prototype.size = function() {};\n\n\n/**\n * Returns a Collection view of the values contained in this map.\n * @return {javascript.util.Collection}\n */\nMap.prototype.values = function() {};\n\n/**\n * Returns a {@link Set} view of the mappings contained in this map.\n * The set is backed by the map, so changes to the map are\n * reflected in the set, and vice-versa.  If the map is modified\n * while an iteration over the set is in progress (except through\n * the iterator's own <tt>remove</tt> operation, or through the\n * <tt>setValue</tt> operation on a map entry returned by the\n * iterator) the results of the iteration are undefined.  The set\n * supports element removal, which removes the corresponding\n * mapping from the map, via the <tt>Iterator.remove</tt>,\n * <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and\n * <tt>clear</tt> operations.  It does not support the\n * <tt>add</tt> or <tt>addAll</tt> operations.\n *\n * @return {Set} a set view of the mappings contained in this map\n */\nMap.prototype.entrySet = function() {};\n","import Map from './Map'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\n *\n * @extends {Map}\n * @constructor\n * @private\n */\nexport default function SortedMap() {};\nSortedMap.prototype = new Map();\n","import Collection from './Collection'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Set.html\n *\n * @extends {Collection}\n * @constructor\n * @private\n */\nexport default function Set() {};\nSet.prototype = new Collection();\n\n\n/**\n * Returns true if this set contains the specified element. More formally,\n * returns true if and only if this set contains an element e such that (o==null ?\n * e==null : o.equals(e)).\n * @param {Object} e\n * @return {boolean}\n */\nSet.prototype.contains = function() {};\n","import Collection from './Collection'\nimport Iterator from './Iterator'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\nimport Set from './Set'\n\n/**\n * @see http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\n *\n * @extends {javascript.util.Set}\n * @constructor\n * @private\n */\nexport default function HashSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nHashSet.prototype = new Set();\n\n\n/**\n * @override\n */\nHashSet.prototype.contains = function(o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e === o) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.add = function(o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.remove = function(o) {\n  throw new javascript.util.OperationNotSupported();\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nHashSet.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n\n/**\n * @extends {Iterator}\n * @param {HashSet} hashSet\n * @constructor\n * @private\n */\nvar Iterator_ = function(hashSet) {\n  /**\n   * @type {HashSet}\n   * @private\n   */\n  this.hashSet_ = hashSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.hashSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.hashSet_.array_[this.position_++];\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.hashSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  throw new OperationNotSupported();\n};\n","import ArrayList from './ArrayList'\nimport SortedMap from './SortedMap'\nimport HashSet from './HashSet'\n\nconst BLACK = 0\nconst RED = 1\nfunction colorOf (p) { return (p == null ? BLACK : p.color) }\nfunction parentOf (p) { return (p == null ? null : p.parent) }\nfunction setColor (p, c) { if (p !== null) p.color = c }\nfunction leftOf (p) { return (p == null ? null : p.left) }\nfunction rightOf (p) { return (p == null ? null : p.right) }\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\n *\n * @extends {SortedMap}\n * @constructor\n * @private\n */\nexport default function TreeMap() {\n  /**\n   * @type {Object}\n   * @private\n   */\n  this.root_ = null;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.size_ = 0;\n};\nTreeMap.prototype = new SortedMap();\n\n\n/**\n * @override\n */\nTreeMap.prototype.get = function(key) {\n  var p = this.root_;\n  while (p !== null) {\n    var cmp = key['compareTo'](p.key);\n    if (cmp < 0) {\n      p = p.left;\n    } else if (cmp > 0) {\n      p = p.right;\n    } else {\n      return p.value;\n    }\n  }\n  return null;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.put = function(key, value) {\n  if (this.root_ === null) {\n    this.root_ = {\n      key: key,\n      value: value,\n      left: null,\n      right: null,\n      parent: null,\n      color: BLACK,\n      getValue() { return this.value },\n      getKey() { return this.key }\n    };\n    this.size_ = 1;\n    return null;\n  }\n  var t = this.root_, parent, cmp;\n  do {\n    parent = t;\n    cmp = key['compareTo'](t.key);\n    if (cmp < 0) {\n      t = t.left;\n    } else if (cmp > 0) {\n      t = t.right;\n    } else {\n      var oldValue = t.value;\n      t.value = value;\n      return oldValue;\n    }\n  } while (t !== null);\n  var e = {\n    key: key,\n    left: null,\n    right: null,\n    value: value,\n    parent: parent,\n    color: BLACK,\n    getValue() { return this.value },\n    getKey() { return this.key }\n  };\n  if (cmp < 0) {\n    parent.left = e;\n  } else {\n    parent.right = e;\n  }\n  this.fixAfterInsertion(e);\n  this.size_++;\n  return null;\n};\n\n\n/**\n * @param {Object} x\n */\nTreeMap.prototype.fixAfterInsertion = function(x) {\n  x.color = RED;\n  while (x != null && x != this.root_ && x.parent.color == RED) {\n    if (parentOf(x) == leftOf(parentOf(parentOf(x)))) {\n      var y = rightOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == rightOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateLeft(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateRight(parentOf(parentOf(x)));\n      }\n    } else {\n      var y = leftOf(parentOf(parentOf(x)));\n      if (colorOf(y) == RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x == leftOf(parentOf(x))) {\n          x = parentOf(x);\n          this.rotateRight(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this.rotateLeft(parentOf(parentOf(x)));\n      }\n    }\n  }\n  this.root_.color = BLACK;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.values = function() {\n  var arrayList = new ArrayList();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    arrayList.add(p.value);\n    while ((p = TreeMap.successor(p)) !== null) {\n      arrayList.add(p.value);\n    }\n  }\n  return arrayList;\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.entrySet = function() {\n  var hashSet = new HashSet();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    hashSet.add(p);\n    while ((p = TreeMap.successor(p)) !== null) {\n      hashSet.add(p);\n    }\n  }\n  return hashSet;\n};\n\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateLeft = function(p) {\n  if (p != null) {\n    var r = p.right;\n    p.right = r.left;\n    if (r.left != null)\n      r.left.parent = p;\n    r.parent = p.parent;\n    if (p.parent == null)\n      this.root_ = r;\n    else if (p.parent.left == p)\n      p.parent.left = r;\n    else\n      p.parent.right = r;\n    r.left = p;\n    p.parent = r;\n  }\n};\n\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateRight = function(p) {\n  if (p != null) {\n    var l = p.left;\n    p.left = l.right;\n    if (l.right != null) l.right.parent = p;\n    l.parent = p.parent;\n    if (p.parent == null)\n      this.root_ = l;\n    else if (p.parent.right == p)\n      p.parent.right = l;\n    else p.parent.left = l;\n    l.right = p;\n    p.parent = l;\n  }\n};\n\n\n/**\n * @return {Object}\n */\nTreeMap.prototype.getFirstEntry = function() {\n  var p = this.root_;\n  if (p != null) {\n    while (p.left != null) {\n      p = p.left;\n    }\n  }\n  return p;\n};\n\n\n/**\n * @param {Object} t\n * @return {Object}\n * @private\n */\nTreeMap.successor = function(t) {\n  if (t === null)\n    return null;\n  else if (t.right !== null) {\n    var p = t.right;\n    while (p.left !== null) {\n      p = p.left;\n    }\n    return p;\n  } else {\n    var p = t.parent;\n    var ch = t;\n    while (p !== null && ch === p.right) {\n      ch = p;\n      p = p.parent;\n    }\n    return p;\n  }\n};\n\n\n/**\n * @override\n */\nTreeMap.prototype.size = function() {\n  return this.size_;\n};\n\n\nTreeMap.prototype.containsKey = function(key) {\n  var p = this.root_;\n  while (p !== null) {\n    var cmp = key['compareTo'](p.key);\n    if (cmp < 0) {\n      p = p.left;\n    } else if (cmp > 0) {\n      p = p.right;\n    } else {\n      return true;\n    }\n  }\n  return false;\n};\n","export default class Lineal {\n\tconstructor() {\n\t\tLineal.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn Lineal;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineal.constructor_ = function () {};\n","import Set from './Set'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html\n *\n * @extends {Set}\n * @constructor\n * @private\n */\nexport default function SortedSet() {};\nSortedSet.prototype = new Set();\n","import Collection from './Collection'\nimport Iterator from './Iterator'\nimport NoSuchElementException from './NoSuchElementException'\nimport OperationNotSupported from './OperationNotSupported'\nimport SortedSet from './SortedSet'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\n *\n * @extends {SortedSet}\n * @constructor\n * @private\n */\nexport default function TreeSet() {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n};\nTreeSet.prototype = new SortedSet();\n\n\n/**\n * @override\n */\nTreeSet.prototype.contains = function(o) {\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 0) {\n      return true;\n    }\n  }\n  return false;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.add = function(o) {\n  if (this.contains(o)) {\n    return false;\n  }\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this.array_[i];\n    if (e['compareTo'](o) === 1) {\n      this.array_.splice(i, 0, o);\n      return true;\n    }\n  }\n\n  this.array_.push(o);\n\n  return true;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.addAll = function(c) {\n  for (var i = c.iterator(); i.hasNext();) {\n    this.add(i.next());\n  }\n  return true;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.remove = function(e) {\n  throw new OperationNotSupported();\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.isEmpty = function() {\n  return this.array_.length === 0;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n\n\n/**\n * @override\n */\nTreeSet.prototype.iterator = function() {\n  return new Iterator_(this);\n};\n\n\n\n/**\n * @extends {javascript.util.Iterator}\n * @param {javascript.util.TreeSet} treeSet\n * @constructor\n * @private\n */\nvar Iterator_ = function(treeSet) {\n  /**\n   * @type {javascript.util.TreeSet}\n   * @private\n   */\n  this.treeSet_ = treeSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.next = function() {\n  if (this.position_ === this.treeSet_.size()) {\n    throw new NoSuchElementException();\n  }\n  return this.treeSet_.array_[this.position_++];\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.hasNext = function() {\n  if (this.position_ < this.treeSet_.size()) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @override\n */\nIterator_.prototype.remove = function() {\n  throw new OperationNotSupported();\n};\n","// shared pointer\nvar i\n// shortcuts\nvar defineProperty = Object.defineProperty\nfunction is (a, b) { return (a === b) || (a !== a && b !== b) } // eslint-disable-line\n\nexport default createCollection({\n  // WeakMap#delete(key:void*):boolean\n  'delete': sharedDelete,\n  // :was Map#get(key:void*[, d3fault:void*]):void*\n  // Map#has(key:void*):boolean\n  has: mapHas,\n  // Map#get(key:void*):boolean\n  get: sharedGet,\n  // Map#set(key:void*, value:void*):void\n  set: sharedSet,\n  // Map#keys(void):Iterator\n  keys: sharedKeys,\n  // Map#values(void):Iterator\n  values: sharedValues,\n  // Map#entries(void):Iterator\n  entries: mapEntries,\n  // Map#forEach(callback:Function, context:void*):void ==> callback.call(context, key, value, mapObject) === not in specs`\n  forEach: sharedForEach,\n  // Map#clear():\n  clear: sharedClear\n})\n\nfunction createCollection (proto, objectOnly) {\n  function Collection (a) {\n    if (!this || this.constructor !== Collection) return new Collection(a)\n    this._keys = []\n    this._values = []\n    this._itp = [] // iteration pointers\n    this.objectOnly = objectOnly\n\n    // parse initial iterable argument passed\n    if (a) init.call(this, a)\n  }\n\n  // define size for non object-only collections\n  if (!objectOnly) {\n    defineProperty(proto, 'size', {\n      get: sharedSize\n    })\n  }\n\n  // set prototype\n  proto.constructor = Collection\n  Collection.prototype = proto\n\n  return Collection\n}\n\nfunction init (a) {\n  // init Set argument, like `[1,2,3,{}]`\n  if (this.add) a.forEach(this.add, this)\n  // init Map argument like `[[1,2], [{}, 4]]`\n  else a.forEach(function (a) { this.set(a[0], a[1]) }, this)\n}\n\nfunction sharedDelete (key) {\n  if (this.has(key)) {\n    this._keys.splice(i, 1)\n    this._values.splice(i, 1)\n    // update iteration pointers\n    this._itp.forEach(function (p) { if (i < p[0]) p[0]-- })\n  }\n  // Aurora here does it while Canary doesn't\n  return i > -1\n}\n\nfunction sharedGet (key) {\n  return this.has(key) ? this._values[i] : undefined\n}\n\nfunction has (list, key) {\n  if (this.objectOnly && key !== Object(key)) throw new TypeError('Invalid value used as weak collection key')\n  // NaN or 0 passed\n  if (key !== key || key === 0) for (i = list.length; i-- && !is(list[i], key);) {} // eslint-disable-line\n  else i = list.indexOf(key)\n  return i > -1\n}\n\nfunction mapHas (value) {\n  return has.call(this, this._keys, value)\n}\n\nfunction sharedSet (key, value) {\n  this.has(key) ? this._values[i] = value : this._values[this._keys.push(key) - 1] = value\n  return this\n}\n\nfunction sharedClear () {\n  (this._keys || 0).length =\n    this._values.length = 0\n}\n\nfunction sharedKeys () {\n  return sharedIterator(this._itp, this._keys)\n}\n\nfunction sharedValues () {\n  return sharedIterator(this._itp, this._values)\n}\n\nfunction mapEntries () {\n  return sharedIterator(this._itp, this._keys, this._values)\n}\n\nfunction sharedIterator (itp, array, array2) {\n  var p = [0]\n  var done = false\n  itp.push(p)\n  return {\n    next: function () {\n      var v\n      var k = p[0]\n      if (!done && k < array.length) {\n        v = array2 ? [array[k], array2[k]] : array[k]\n        p[0]++\n      } else {\n        done = true\n        itp.splice(itp.indexOf(p), 1)\n      }\n      return { done: done, value: v }\n    }\n  }\n}\n\nfunction sharedSize () {\n  return this._values.length\n}\n\nfunction sharedForEach (callback, context) {\n  var it = this.entries()\n  for (;;) {\n    var r = it.next()\n    if (r.done) break\n    callback.call(context, r.value[1], r.value[0], this)\n  }\n}\n","import ArrayList from './ArrayList'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\n *\n * @constructor\n * @private\n */\nexport default function Arrays() {};\n\n/**\n */\nArrays.sort = function() {\n  var a = arguments[0], i, t, comparator, compare;\n  if (arguments.length === 1) {\n    compare = function(a, b) {\n      return a.compareTo(b);\n    }\n    a.sort(compare);\n    return;\n  } else if (arguments.length === 2) {\n    comparator = arguments[1];\n    compare = function(a, b) {\n      return comparator['compare'](a, b);\n    };\n    a.sort(compare);\n  } else if (arguments.length === 3) {\n    t = a.slice(arguments[1], arguments[2]);\n    t.sort();\n    var r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  } else if (arguments.length === 4) {\n    t = a.slice(arguments[1], arguments[2]);\n    comparator = arguments[3];\n    compare = function(a, b) {\n      return comparator['compare'](a, b);\n    };\n    t.sort(compare);\n    r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n    return;\n  }\n};\n\n\n/**\n * @param {Array} array\n * @return {ArrayList}\n */\nArrays.asList = function(array) {\n  var arrayList = new ArrayList();\n  for (var i = 0, len = array.length; i < len; i++) {\n    arrayList.add(array[i]);\n  }\n  return arrayList;\n};\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Character from '../../../../java/lang/Character';\nexport default class Dimension {\n\tconstructor() {\n\t\tDimension.constructor_.apply(this, arguments);\n\t}\n\tstatic toDimensionSymbol(dimensionValue) {\n\t\tswitch (dimensionValue) {\n\t\t\tcase Dimension.FALSE:\n\t\t\t\treturn Dimension.SYM_FALSE;\n\t\t\tcase Dimension.TRUE:\n\t\t\t\treturn Dimension.SYM_TRUE;\n\t\t\tcase Dimension.DONTCARE:\n\t\t\t\treturn Dimension.SYM_DONTCARE;\n\t\t\tcase Dimension.P:\n\t\t\t\treturn Dimension.SYM_P;\n\t\t\tcase Dimension.L:\n\t\t\t\treturn Dimension.SYM_L;\n\t\t\tcase Dimension.A:\n\t\t\t\treturn Dimension.SYM_A;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Unknown dimension value: \" + dimensionValue);\n\t}\n\tstatic toDimensionValue(dimensionSymbol) {\n\t\tswitch (Character.toUpperCase(dimensionSymbol)) {\n\t\t\tcase Dimension.SYM_FALSE:\n\t\t\t\treturn Dimension.FALSE;\n\t\t\tcase Dimension.SYM_TRUE:\n\t\t\t\treturn Dimension.TRUE;\n\t\t\tcase Dimension.SYM_DONTCARE:\n\t\t\t\treturn Dimension.DONTCARE;\n\t\t\tcase Dimension.SYM_P:\n\t\t\t\treturn Dimension.P;\n\t\t\tcase Dimension.SYM_L:\n\t\t\t\treturn Dimension.L;\n\t\t\tcase Dimension.SYM_A:\n\t\t\t\treturn Dimension.A;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Unknown dimension symbol: \" + dimensionSymbol);\n\t}\n\tgetClass() {\n\t\treturn Dimension;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDimension.constructor_ = function () {};\nDimension.P = 0;\nDimension.L = 1;\nDimension.A = 2;\nDimension.FALSE = -1;\nDimension.TRUE = -2;\nDimension.DONTCARE = -3;\nDimension.SYM_FALSE = 'F';\nDimension.SYM_TRUE = 'T';\nDimension.SYM_DONTCARE = '*';\nDimension.SYM_P = '0';\nDimension.SYM_L = '1';\nDimension.SYM_A = '2';\n","export default class GeometryFilter {\n\tconstructor() {\n\t\tGeometryFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(geom) {}\n\tgetClass() {\n\t\treturn GeometryFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryFilter.constructor_ = function () {};\n","export default class CoordinateSequenceFilter {\n\tconstructor() {\n\t\tCoordinateSequenceFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(seq, i) {}\n\tisDone() {}\n\tisGeometryChanged() {}\n\tgetClass() {\n\t\treturn CoordinateSequenceFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCoordinateSequenceFilter.constructor_ = function () {};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport Geometry from './Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Envelope from './Envelope';\nimport Assert from '../util/Assert';\nexport default class GeometryCollection extends Geometry {\n\tconstructor() {\n\t\tsuper();\n\t\tGeometryCollection.constructor_.apply(this, arguments);\n\t}\n\tcomputeEnvelopeInternal() {\n\t\tvar envelope = new Envelope();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tenvelope.expandToInclude(this._geometries[i].getEnvelopeInternal());\n\t\t}\n\t\treturn envelope;\n\t}\n\tgetGeometryN(n) {\n\t\treturn this._geometries[n];\n\t}\n\tgetCoordinates() {\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar childCoordinates = this._geometries[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t}\n\tgetArea() {\n\t\tvar area = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tarea += this._geometries[i].getArea();\n\t\t}\n\t\treturn area;\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherCollection = other;\n\t\t\tif (this._geometries.length !== otherCollection._geometries.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tif (!this._geometries[i].equalsExact(otherCollection._geometries[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tnormalize() {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tthis._geometries[i].normalize();\n\t\t}\n\t\tArrays.sort(this._geometries);\n\t}\n\tgetCoordinate() {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._geometries[0].getCoordinate();\n\t}\n\tgetBoundaryDimension() {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getBoundaryDimension());\n\t\t}\n\t\treturn dimension;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_GEOMETRYCOLLECTION;\n\t}\n\tgetDimension() {\n\t\tvar dimension = Dimension.FALSE;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tdimension = Math.max(dimension, this._geometries[i].getDimension());\n\t\t}\n\t\treturn dimension;\n\t}\n\tgetLength() {\n\t\tvar sum = 0.0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tsum += this._geometries[i].getLength();\n\t\t}\n\t\treturn sum;\n\t}\n\tgetNumPoints() {\n\t\tvar numPoints = 0;\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tnumPoints += this._geometries[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t}\n\tgetNumGeometries() {\n\t\treturn this._geometries.length;\n\t}\n\treverse() {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createGeometryCollection(revGeoms);\n\t}\n\tcompareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar theseElements = new TreeSet(Arrays.asList(this._geometries));\n\t\t\tvar otherElements = new TreeSet(Arrays.asList(o._geometries));\n\t\t\treturn this.compare(theseElements, otherElements);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar gc = o;\n\t\t\tvar n1 = this.getNumGeometries();\n\t\t\tvar n2 = gc.getNumGeometries();\n\t\t\tvar i = 0;\n\t\t\twhile (i < n1 && i < n2) {\n\t\t\t\tvar thisGeom = this.getGeometryN(i);\n\t\t\t\tvar otherGeom = gc.getGeometryN(i);\n\t\t\t\tvar holeComp = thisGeom.compareToSameClass(otherGeom, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < n1) return 1;\n\t\t\tif (i < n2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tapply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this._geometries.length === 0) return null;\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t\tif (filter.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\t\tthis._geometries[i].apply(filter);\n\t\t\t}\n\t\t}\n\t}\n\tgetBoundary() {\n\t\tthis.checkNotGeometryCollection(this);\n\t\tAssert.shouldNeverReachHere();\n\t\treturn null;\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_GEOMETRYCOLLECTION;\n\t}\n\tcopy() {\n\t\tvar geometries = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < geometries.length; i++) {\n\t\t\tgeometries[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new GeometryCollection(geometries, this._factory);\n\t}\n\tisEmpty() {\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn GeometryCollection;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryCollection.constructor_ = function () {\n\tthis._geometries = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tlet geometries = arguments[0], factory = arguments[1];\n\t\tGeometry.constructor_.call(this, factory);\n\t\tif (geometries === null) {\n\t\t\tgeometries = [];\n\t\t}\n\t\tif (Geometry.hasNullElements(geometries)) {\n\t\t\tthrow new IllegalArgumentException(\"geometries must not contain null elements\");\n\t\t}\n\t\tthis._geometries = geometries;\n\t}\n};\nGeometryCollection.serialVersionUID = -5694727726395021467;\n","import Geometry from './Geometry';\nimport BoundaryOp from '../operation/BoundaryOp';\nimport Lineal from './Lineal';\nimport GeometryCollection from './GeometryCollection';\nimport Dimension from './Dimension';\nexport default class MultiLineString extends GeometryCollection {\n\tconstructor() {\n\t\tsuper();\n\t\tMultiLineString.constructor_.apply(this, arguments);\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn super.equalsExact.call(this, other, tolerance);\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tgetBoundaryDimension() {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t}\n\tisClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tif (!this._geometries[i].isClosed()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTILINESTRING;\n\t}\n\tgetDimension() {\n\t\treturn 1;\n\t}\n\treverse() {\n\t\tvar nLines = this._geometries.length;\n\t\tvar revLines = new Array(nLines).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevLines[nLines - 1 - i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiLineString(revLines);\n\t}\n\tgetBoundary() {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTILINESTRING;\n\t}\n\tcopy() {\n\t\tvar lineStrings = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < lineStrings.length; i++) {\n\t\t\tlineStrings[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiLineString(lineStrings, this._factory);\n\t}\n\tgetClass() {\n\t\treturn MultiLineString;\n\t}\n\tget interfaces_() {\n\t\treturn [Lineal];\n\t}\n}\nMultiLineString.constructor_ = function () {\n\tlet lineStrings = arguments[0], factory = arguments[1];\n\tGeometryCollection.constructor_.call(this, lineStrings, factory);\n};\nMultiLineString.serialVersionUID = 8166665132445433741;\n","import LineString from '../geom/LineString';\nimport BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nimport MultiLineString from '../geom/MultiLineString';\nexport default class BoundaryOp {\n\tconstructor() {\n\t\tBoundaryOp.constructor_.apply(this, arguments);\n\t}\n\tstatic getBoundary() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet g = arguments[0];\n\t\t\tvar bop = new BoundaryOp(g);\n\t\t\treturn bop.getBoundary();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet g = arguments[0], bnRule = arguments[1];\n\t\t\tvar bop = new BoundaryOp(g, bnRule);\n\t\t\treturn bop.getBoundary();\n\t\t}\n\t}\n\tboundaryMultiLineString(mLine) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tvar bdyPts = this.computeBoundaryCoordinates(mLine);\n\t\tif (bdyPts.length === 1) {\n\t\t\treturn this._geomFact.createPoint(bdyPts[0]);\n\t\t}\n\t\treturn this._geomFact.createMultiPointFromCoords(bdyPts);\n\t}\n\tgetBoundary() {\n\t\tif (this._geom instanceof LineString) return this.boundaryLineString(this._geom);\n\t\tif (this._geom instanceof MultiLineString) return this.boundaryMultiLineString(this._geom);\n\t\treturn this._geom.getBoundary();\n\t}\n\tboundaryLineString(line) {\n\t\tif (this._geom.isEmpty()) {\n\t\t\treturn this.getEmptyMultiPoint();\n\t\t}\n\t\tif (line.isClosed()) {\n\t\t\tvar closedEndpointOnBoundary = this._bnRule.isInBoundary(2);\n\t\t\tif (closedEndpointOnBoundary) {\n\t\t\t\treturn line.getStartPoint();\n\t\t\t} else {\n\t\t\t\treturn this._geomFact.createMultiPoint();\n\t\t\t}\n\t\t}\n\t\treturn this._geomFact.createMultiPoint([line.getStartPoint(), line.getEndPoint()]);\n\t}\n\tgetEmptyMultiPoint() {\n\t\treturn this._geomFact.createMultiPoint();\n\t}\n\tcomputeBoundaryCoordinates(mLine) {\n\t\tvar bdyPts = new ArrayList();\n\t\tthis._endpointMap = new TreeMap();\n\t\tfor (var i = 0; i < mLine.getNumGeometries(); i++) {\n\t\t\tvar line = mLine.getGeometryN(i);\n\t\t\tif (line.getNumPoints() === 0) continue;\n\t\t\tthis.addEndpoint(line.getCoordinateN(0));\n\t\t\tthis.addEndpoint(line.getCoordinateN(line.getNumPoints() - 1));\n\t\t}\n\t\tfor (var it = this._endpointMap.entrySet().iterator(); it.hasNext(); ) {\n\t\t\tvar entry = it.next();\n\t\t\tvar counter = entry.getValue();\n\t\t\tvar valence = counter.count;\n\t\t\tif (this._bnRule.isInBoundary(valence)) {\n\t\t\t\tbdyPts.add(entry.getKey());\n\t\t\t}\n\t\t}\n\t\treturn CoordinateArrays.toCoordinateArray(bdyPts);\n\t}\n\taddEndpoint(pt) {\n\t\tvar counter = this._endpointMap.get(pt);\n\t\tif (counter === null) {\n\t\t\tcounter = new Counter();\n\t\t\tthis._endpointMap.put(pt, counter);\n\t\t}\n\t\tcounter.count++;\n\t}\n\tgetClass() {\n\t\treturn BoundaryOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBoundaryOp.constructor_ = function () {\n\tthis._geom = null;\n\tthis._geomFact = null;\n\tthis._bnRule = null;\n\tthis._endpointMap = null;\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tBoundaryOp.constructor_.call(this, geom, BoundaryNodeRule.MOD2_BOUNDARY_RULE);\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], bnRule = arguments[1];\n\t\tthis._geom = geom;\n\t\tthis._geomFact = geom.getFactory();\n\t\tthis._bnRule = bnRule;\n\t}\n};\nclass Counter {\n\tconstructor() {\n\t\tCounter.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn Counter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCounter.constructor_ = function () {\n\tthis.count = null;\n};\n","import Coordinate from '../geom/Coordinate';\nexport default class Length {\n\tconstructor() {\n\t\tLength.constructor_.apply(this, arguments);\n\t}\n\tstatic ofLine(pts) {\n\t\tvar n = pts.size();\n\t\tif (n <= 1) return 0.0;\n\t\tvar len = 0.0;\n\t\tvar p = new Coordinate();\n\t\tpts.getCoordinate(0, p);\n\t\tvar x0 = p.x;\n\t\tvar y0 = p.y;\n\t\tfor (var i = 1; i < n; i++) {\n\t\t\tpts.getCoordinate(i, p);\n\t\t\tvar x1 = p.x;\n\t\t\tvar y1 = p.y;\n\t\t\tvar dx = x1 - x0;\n\t\t\tvar dy = y1 - y0;\n\t\t\tlen += Math.sqrt(dx * dx + dy * dy);\n\t\t\tx0 = x1;\n\t\t\ty0 = y1;\n\t\t}\n\t\treturn len;\n\t}\n\tgetClass() {\n\t\treturn Length;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLength.constructor_ = function () {};\n","export default function PrintStream () {}\n","export default function StringReader () {}\n","export default function ByteArrayOutputStream () {}\n","export default function IOException () {}\n","export default function LineNumberReader () {}\n","import PrintStream from '../../../../java/io/PrintStream';\nimport StringReader from '../../../../java/io/StringReader';\nimport DecimalFormat from '../../../../java/text/DecimalFormat';\nimport System from '../../../../java/lang/System';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport ByteArrayOutputStream from '../../../../java/io/ByteArrayOutputStream';\nimport Assert from './Assert';\nimport IOException from '../../../../java/io/IOException';\nimport LineNumberReader from '../../../../java/io/LineNumberReader';\nexport default class StringUtil {\n\tconstructor() {\n\t\tStringUtil.constructor_.apply(this, arguments);\n\t}\n\tstatic chars(c, n) {\n\t\tvar ch = new Array(n).fill(null);\n\t\tfor (var i = 0; i < n; i++) {\n\t\t\tch[i] = c;\n\t\t}\n\t\treturn new String(ch);\n\t}\n\tstatic getStackTrace() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet t = arguments[0];\n\t\t\tvar os = new ByteArrayOutputStream();\n\t\t\tvar ps = new PrintStream(os);\n\t\t\tt.printStackTrace(ps);\n\t\t\treturn os.toString();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet t = arguments[0], depth = arguments[1];\n\t\t\tvar stackTrace = \"\";\n\t\t\tvar stringReader = new StringReader(StringUtil.getStackTrace(t));\n\t\t\tvar lineNumberReader = new LineNumberReader(stringReader);\n\t\t\tfor (var i = 0; i < depth; i++) {\n\t\t\t\ttry {\n\t\t\t\t\tstackTrace += lineNumberReader.readLine() + StringUtil.NEWLINE;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (e instanceof IOException) {\n\t\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t\t} else throw e;\n\t\t\t\t} finally {}\n\t\t\t}\n\t\t\treturn stackTrace;\n\t\t}\n\t}\n\tstatic split(s, separator) {\n\t\tvar separatorlen = separator.length;\n\t\tvar tokenList = new ArrayList();\n\t\tvar tmpString = \"\" + s;\n\t\tvar pos = tmpString.indexOf(separator);\n\t\twhile (pos >= 0) {\n\t\t\tvar token = tmpString.substring(0, pos);\n\t\t\ttokenList.add(token);\n\t\t\ttmpString = tmpString.substring(pos + separatorlen);\n\t\t\tpos = tmpString.indexOf(separator);\n\t\t}\n\t\tif (tmpString.length > 0) tokenList.add(tmpString);\n\t\tvar res = new Array(tokenList.size()).fill(null);\n\t\tfor (var i = 0; i < res.length; i++) {\n\t\t\tres[i] = tokenList.get(i);\n\t\t}\n\t\treturn res;\n\t}\n\tstatic toString() {\n\t\tif (arguments.length === 1 && typeof arguments[0] === \"number\") {\n\t\t\tlet d = arguments[0];\n\t\t\treturn StringUtil.SIMPLE_ORDINATE_FORMAT.format(d);\n\t\t}\n\t}\n\tstatic spaces(n) {\n\t\treturn StringUtil.chars(' ', n);\n\t}\n\tgetClass() {\n\t\treturn StringUtil;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nStringUtil.constructor_ = function () {};\nStringUtil.NEWLINE = System.getProperty(\"line.separator\");\nStringUtil.SIMPLE_ORDINATE_FORMAT = new DecimalFormat(\"0.#\");\n","export default function StringBuilder (str) {\n    this.str = str\n  }\n  \n  StringBuilder.prototype.append = function (e) {\n    this.str += e\n  }\n  \n  StringBuilder.prototype.setCharAt = function (i, c) {\n    this.str = this.str.substr(0, i) + c + this.str.substr(i + 1)\n  }\n  \n  StringBuilder.prototype.toString = function (e) {\n    return this.str\n  }\n  ","export default function DecimalFormat () {}\n","import hasInterface from '../../../../hasInterface';\nimport StringUtil from '../util/StringUtil';\nimport Double from '../../../../java/lang/Double';\nimport CoordinateSequence from './CoordinateSequence';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default class CoordinateSequences {\n\tconstructor() {\n\t\tCoordinateSequences.constructor_.apply(this, arguments);\n\t}\n\tstatic copyCoord(src, srcPos, dest, destPos) {\n\t\tvar minDim = Math.min(src.getDimension(), dest.getDimension());\n\t\tfor (var dim = 0; dim < minDim; dim++) {\n\t\t\tdest.setOrdinate(destPos, dim, src.getOrdinate(srcPos, dim));\n\t\t}\n\t}\n\tstatic isRing(seq) {\n\t\tvar n = seq.size();\n\t\tif (n === 0) return true;\n\t\tif (n <= 3) return false;\n\t\treturn seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n\t}\n\tstatic isEqual(cs1, cs2) {\n\t\tvar cs1Size = cs1.size();\n\t\tvar cs2Size = cs2.size();\n\t\tif (cs1Size !== cs2Size) return false;\n\t\tvar dim = Math.min(cs1.getDimension(), cs2.getDimension());\n\t\tfor (var i = 0; i < cs1Size; i++) {\n\t\t\tfor (var d = 0; d < dim; d++) {\n\t\t\t\tvar v1 = cs1.getOrdinate(i, d);\n\t\t\t\tvar v2 = cs2.getOrdinate(i, d);\n\t\t\t\tif (cs1.getOrdinate(i, d) === cs2.getOrdinate(i, d)) continue;\n\t\t\t\tif (Double.isNaN(v1) && Double.isNaN(v2)) continue;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tstatic extend(fact, seq, size) {\n\t\tvar newseq = fact.create(size, seq.getDimension());\n\t\tvar n = seq.size();\n\t\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\t\tif (n > 0) {\n\t\t\tfor (var i = n; i < size; i++) CoordinateSequences.copy(seq, n - 1, newseq, i, 1);\n\t\t}\n\t\treturn newseq;\n\t}\n\tstatic reverse(seq) {\n\t\tvar last = seq.size() - 1;\n\t\tvar mid = Math.trunc(last / 2);\n\t\tfor (var i = 0; i <= mid; i++) {\n\t\t\tCoordinateSequences.swap(seq, i, last - i);\n\t\t}\n\t}\n\tstatic swap(seq, i, j) {\n\t\tif (i === j) return null;\n\t\tfor (var dim = 0; dim < seq.getDimension(); dim++) {\n\t\t\tvar tmp = seq.getOrdinate(i, dim);\n\t\t\tseq.setOrdinate(i, dim, seq.getOrdinate(j, dim));\n\t\t\tseq.setOrdinate(j, dim, tmp);\n\t\t}\n\t}\n\tstatic copy(src, srcPos, dest, destPos, length) {\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tCoordinateSequences.copyCoord(src, srcPos + i, dest, destPos + i);\n\t\t}\n\t}\n\tstatic toString() {\n\t\tif (arguments.length === 1 && hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tlet cs = arguments[0];\n\t\t\tvar size = cs.size();\n\t\t\tif (size === 0) return \"()\";\n\t\t\tvar dim = cs.getDimension();\n\t\t\tvar builder = new StringBuilder();\n\t\t\tbuilder.append('(');\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tif (i > 0) builder.append(\" \");\n\t\t\t\tfor (var d = 0; d < dim; d++) {\n\t\t\t\t\tif (d > 0) builder.append(\",\");\n\t\t\t\t\tbuilder.append(StringUtil.toString(cs.getOrdinate(i, d)));\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuilder.append(')');\n\t\t\treturn builder.toString();\n\t\t}\n\t}\n\tstatic ensureValidRing(fact, seq) {\n\t\tvar n = seq.size();\n\t\tif (n === 0) return seq;\n\t\tif (n <= 3) return CoordinateSequences.createClosedRing(fact, seq, 4);\n\t\tvar isClosed = seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n\t\tif (isClosed) return seq;\n\t\treturn CoordinateSequences.createClosedRing(fact, seq, n + 1);\n\t}\n\tstatic createClosedRing(fact, seq, size) {\n\t\tvar newseq = fact.create(size, seq.getDimension());\n\t\tvar n = seq.size();\n\t\tCoordinateSequences.copy(seq, 0, newseq, 0, n);\n\t\tfor (var i = n; i < size; i++) CoordinateSequences.copy(seq, 0, newseq, i, 1);\n\t\treturn newseq;\n\t}\n\tgetClass() {\n\t\treturn CoordinateSequences;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCoordinateSequences.constructor_ = function () {};\n","import Geometry from './Geometry';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport BoundaryOp from '../operation/BoundaryOp';\nimport Length from '../algorithm/Length';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Lineal from './Lineal';\nimport CoordinateSequences from './CoordinateSequences';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Envelope from './Envelope';\nexport default class LineString extends Geometry {\n\tconstructor() {\n\t\tsuper();\n\t\tLineString.constructor_.apply(this, arguments);\n\t}\n\tcomputeEnvelopeInternal() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\treturn this._points.expandEnvelope(new Envelope());\n\t}\n\tisRing() {\n\t\treturn this.isClosed() && this.isSimple();\n\t}\n\tgetCoordinates() {\n\t\treturn this._points.toCoordinateArray();\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherLineString = other;\n\t\t\tif (this._points.size() !== otherLineString._points.size()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tif (!this.equal(this._points.getCoordinate(i), otherLineString._points.getCoordinate(i), tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tnormalize() {\n\t\tfor (var i = 0; i < Math.trunc(this._points.size() / 2); i++) {\n\t\t\tvar j = this._points.size() - 1 - i;\n\t\t\tif (!this._points.getCoordinate(i).equals(this._points.getCoordinate(j))) {\n\t\t\t\tif (this._points.getCoordinate(i).compareTo(this._points.getCoordinate(j)) > 0) {\n\t\t\t\t\tvar copy = this._points.copy();\n\t\t\t\t\tCoordinateSequences.reverse(copy);\n\t\t\t\t\tthis._points = copy;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\tif (this.isEmpty()) return null;\n\t\treturn this._points.getCoordinate(0);\n\t}\n\tgetBoundaryDimension() {\n\t\tif (this.isClosed()) {\n\t\t\treturn Dimension.FALSE;\n\t\t}\n\t\treturn 0;\n\t}\n\tisClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1));\n\t}\n\tgetEndPoint() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(this.getNumPoints() - 1);\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_LINESTRING;\n\t}\n\tgetDimension() {\n\t\treturn 1;\n\t}\n\tgetLength() {\n\t\treturn Length.ofLine(this._points);\n\t}\n\tgetNumPoints() {\n\t\treturn this._points.size();\n\t}\n\treverse() {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar revLine = this.getFactory().createLineString(seq);\n\t\treturn revLine;\n\t}\n\tcompareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar line = o;\n\t\t\tvar i = 0;\n\t\t\tvar j = 0;\n\t\t\twhile (i < this._points.size() && j < line._points.size()) {\n\t\t\t\tvar comparison = this._points.getCoordinate(i).compareTo(line._points.getCoordinate(j));\n\t\t\t\tif (comparison !== 0) {\n\t\t\t\t\treturn comparison;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t\tj++;\n\t\t\t}\n\t\t\tif (i < this._points.size()) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (j < line._points.size()) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar line = o;\n\t\t\treturn comp.compare(this._points, line._points);\n\t\t}\n\t}\n\tapply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tfilter.filter(this._points.getCoordinate(i));\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this._points.size() === 0) return null;\n\t\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\t\tfilter.filter(this._points, i);\n\t\t\t\tif (filter.isDone()) break;\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t}\n\t}\n\tgetBoundary() {\n\t\treturn new BoundaryOp(this).getBoundary();\n\t}\n\tisEquivalentClass(other) {\n\t\treturn other instanceof LineString;\n\t}\n\tgetCoordinateN(n) {\n\t\treturn this._points.getCoordinate(n);\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_LINESTRING;\n\t}\n\tcopy() {\n\t\treturn new LineString(this._points.copy(), this._factory);\n\t}\n\tgetCoordinateSequence() {\n\t\treturn this._points;\n\t}\n\tisEmpty() {\n\t\treturn this._points.size() === 0;\n\t}\n\tinit(points) {\n\t\tif (points === null) {\n\t\t\tpoints = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tif (points.size() === 1) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LineString (found \" + points.size() + \" - must be 0 or >= 2)\");\n\t\t}\n\t\tthis._points = points;\n\t}\n\tisCoordinate(pt) {\n\t\tfor (var i = 0; i < this._points.size(); i++) {\n\t\t\tif (this._points.getCoordinate(i).equals(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetStartPoint() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.getPointN(0);\n\t}\n\tgetPointN(n) {\n\t\treturn this.getFactory().createPoint(this._points.getCoordinate(n));\n\t}\n\tgetClass() {\n\t\treturn LineString;\n\t}\n\tget interfaces_() {\n\t\treturn [Lineal];\n\t}\n}\nLineString.constructor_ = function () {\n\tthis._points = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tlet points = arguments[0], factory = arguments[1];\n\t\tGeometry.constructor_.call(this, factory);\n\t\tthis.init(points);\n\t}\n};\nLineString.serialVersionUID = 3110669828065365560;\n","export default class Puntal {\n\tconstructor() {\n\t\tPuntal.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn Puntal;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPuntal.constructor_ = function () {};\n","import Geometry from './Geometry';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport Dimension from './Dimension';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nimport Puntal from './Puntal';\nimport Envelope from './Envelope';\nimport Assert from '../util/Assert';\nexport default class Point extends Geometry {\n\tconstructor() {\n\t\tsuper();\n\t\tPoint.constructor_.apply(this, arguments);\n\t}\n\tcomputeEnvelopeInternal() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn new Envelope();\n\t\t}\n\t\tvar env = new Envelope();\n\t\tenv.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0));\n\t\treturn env;\n\t}\n\tgetCoordinates() {\n\t\treturn this.isEmpty() ? [] : [this.getCoordinate()];\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.isEmpty() && other.isEmpty()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (this.isEmpty() !== other.isEmpty()) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn this.equal(other.getCoordinate(), this.getCoordinate(), tolerance);\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tnormalize() {}\n\tgetCoordinate() {\n\t\treturn this._coordinates.size() !== 0 ? this._coordinates.getCoordinate(0) : null;\n\t}\n\tgetBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_POINT;\n\t}\n\tgetDimension() {\n\t\treturn 0;\n\t}\n\tgetNumPoints() {\n\t\treturn this.isEmpty() ? 0 : 1;\n\t}\n\treverse() {\n\t\treturn this.copy();\n\t}\n\tgetX() {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getX called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().x;\n\t}\n\tcompareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet other = arguments[0];\n\t\t\tvar point = other;\n\t\t\treturn this.getCoordinate().compareTo(point.getCoordinate());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet other = arguments[0], comp = arguments[1];\n\t\t\tvar point = other;\n\t\t\treturn comp.compare(this._coordinates, point._coordinates);\n\t\t}\n\t}\n\tapply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfilter.filter(this.getCoordinate());\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tif (this.isEmpty()) return null;\n\t\t\tfilter.filter(this._coordinates, 0);\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t}\n\t}\n\tgetBoundary() {\n\t\treturn this.getFactory().createGeometryCollection();\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_POINT;\n\t}\n\tcopy() {\n\t\treturn new Point(this._coordinates.copy(), this._factory);\n\t}\n\tgetCoordinateSequence() {\n\t\treturn this._coordinates;\n\t}\n\tgetY() {\n\t\tif (this.getCoordinate() === null) {\n\t\t\tthrow new IllegalStateException(\"getY called on empty Point\");\n\t\t}\n\t\treturn this.getCoordinate().y;\n\t}\n\tisEmpty() {\n\t\treturn this._coordinates.size() === 0;\n\t}\n\tinit(coordinates) {\n\t\tif (coordinates === null) {\n\t\t\tcoordinates = this.getFactory().getCoordinateSequenceFactory().create([]);\n\t\t}\n\t\tAssert.isTrue(coordinates.size() <= 1);\n\t\tthis._coordinates = coordinates;\n\t}\n\tisSimple() {\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn Point;\n\t}\n\tget interfaces_() {\n\t\treturn [Puntal];\n\t}\n}\nPoint.constructor_ = function () {\n\tthis._coordinates = null;\n\tlet coordinates = arguments[0], factory = arguments[1];\n\tGeometry.constructor_.call(this, factory);\n\tthis.init(coordinates);\n};\nPoint.serialVersionUID = 4902022702746614570;\n","import hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nexport default class Area {\n\tconstructor() {\n\t\tArea.constructor_.apply(this, arguments);\n\t}\n\tstatic ofRing() {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet ring = arguments[0];\n\t\t\treturn Math.abs(Area.ofRingSigned(ring));\n\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tlet ring = arguments[0];\n\t\t\treturn Math.abs(Area.ofRingSigned(ring));\n\t\t}\n\t}\n\tstatic ofRingSigned() {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet ring = arguments[0];\n\t\t\tif (ring.length < 3) return 0.0;\n\t\t\tvar sum = 0.0;\n\t\t\tvar x0 = ring[0].x;\n\t\t\tfor (var i = 1; i < ring.length - 1; i++) {\n\t\t\t\tvar x = ring[i].x - x0;\n\t\t\t\tvar y1 = ring[i + 1].y;\n\t\t\t\tvar y2 = ring[i - 1].y;\n\t\t\t\tsum += x * (y2 - y1);\n\t\t\t}\n\t\t\treturn sum / 2.0;\n\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tlet ring = arguments[0];\n\t\t\tvar n = ring.size();\n\t\t\tif (n < 3) return 0.0;\n\t\t\tvar p0 = new Coordinate();\n\t\t\tvar p1 = new Coordinate();\n\t\t\tvar p2 = new Coordinate();\n\t\t\tring.getCoordinate(0, p1);\n\t\t\tring.getCoordinate(1, p2);\n\t\t\tvar x0 = p1.x;\n\t\t\tp2.x -= x0;\n\t\t\tvar sum = 0.0;\n\t\t\tfor (var i = 1; i < n - 1; i++) {\n\t\t\t\tp0.y = p1.y;\n\t\t\t\tp1.x = p2.x;\n\t\t\t\tp1.y = p2.y;\n\t\t\t\tring.getCoordinate(i + 1, p2);\n\t\t\t\tp2.x -= x0;\n\t\t\t\tsum += p1.x * (p0.y - p2.y);\n\t\t\t}\n\t\t\treturn sum / 2.0;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Area;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nArea.constructor_ = function () {};\n","export default class Polygonal {\n\tconstructor() {\n\t\tPolygonal.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn Polygonal;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPolygonal.constructor_ = function () {};\n","import Area from '../algorithm/Area';\nimport Geometry from './Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport CoordinateFilter from './CoordinateFilter';\nimport hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Orientation from '../algorithm/Orientation';\nimport System from '../../../../java/lang/System';\nimport GeometryComponentFilter from './GeometryComponentFilter';\nimport CoordinateArrays from './CoordinateArrays';\nimport Polygonal from './Polygonal';\nimport GeometryFilter from './GeometryFilter';\nimport CoordinateSequenceFilter from './CoordinateSequenceFilter';\nexport default class Polygon extends Geometry {\n\tconstructor() {\n\t\tsuper();\n\t\tPolygon.constructor_.apply(this, arguments);\n\t}\n\tcomputeEnvelopeInternal() {\n\t\treturn this._shell.getEnvelopeInternal();\n\t}\n\tgetCoordinates() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn [];\n\t\t}\n\t\tvar coordinates = new Array(this.getNumPoints()).fill(null);\n\t\tvar k = -1;\n\t\tvar shellCoordinates = this._shell.getCoordinates();\n\t\tfor (var x = 0; x < shellCoordinates.length; x++) {\n\t\t\tk++;\n\t\t\tcoordinates[k] = shellCoordinates[x];\n\t\t}\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tvar childCoordinates = this._holes[i].getCoordinates();\n\t\t\tfor (var j = 0; j < childCoordinates.length; j++) {\n\t\t\t\tk++;\n\t\t\t\tcoordinates[k] = childCoordinates[j];\n\t\t\t}\n\t\t}\n\t\treturn coordinates;\n\t}\n\tgetArea() {\n\t\tvar area = 0.0;\n\t\tarea += Area.ofRing(this._shell.getCoordinateSequence());\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tarea -= Area.ofRing(this._holes[i].getCoordinateSequence());\n\t\t}\n\t\treturn area;\n\t}\n\tisRectangle() {\n\t\tif (this.getNumInteriorRing() !== 0) return false;\n\t\tif (this._shell === null) return false;\n\t\tif (this._shell.getNumPoints() !== 5) return false;\n\t\tvar seq = this._shell.getCoordinateSequence();\n\t\tvar env = this.getEnvelopeInternal();\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tif (!(x === env.getMinX() || x === env.getMaxX())) return false;\n\t\t\tvar y = seq.getY(i);\n\t\t\tif (!(y === env.getMinY() || y === env.getMaxY())) return false;\n\t\t}\n\t\tvar prevX = seq.getX(0);\n\t\tvar prevY = seq.getY(0);\n\t\tfor (var i = 1; i <= 4; i++) {\n\t\t\tvar x = seq.getX(i);\n\t\t\tvar y = seq.getY(i);\n\t\t\tvar xChanged = x !== prevX;\n\t\t\tvar yChanged = y !== prevY;\n\t\t\tif (xChanged === yChanged) return false;\n\t\t\tprevX = x;\n\t\t\tprevY = y;\n\t\t}\n\t\treturn true;\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar otherPolygon = other;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherPolygonShell = otherPolygon._shell;\n\t\t\tif (!thisShell.equalsExact(otherPolygonShell, tolerance)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this._holes.length !== otherPolygon._holes.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tif (!this._holes[i].equalsExact(otherPolygon._holes[i], tolerance)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tnormalize() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.normalize(this._shell, true);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis.normalize(this._holes[i], false);\n\t\t\t}\n\t\t\tArrays.sort(this._holes);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet ring = arguments[0], clockwise = arguments[1];\n\t\t\tif (ring.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar uniqueCoordinates = new Array(ring.getCoordinates().length - 1).fill(null);\n\t\t\tSystem.arraycopy(ring.getCoordinates(), 0, uniqueCoordinates, 0, uniqueCoordinates.length);\n\t\t\tvar minCoordinate = CoordinateArrays.minCoordinate(ring.getCoordinates());\n\t\t\tCoordinateArrays.scroll(uniqueCoordinates, minCoordinate);\n\t\t\tSystem.arraycopy(uniqueCoordinates, 0, ring.getCoordinates(), 0, uniqueCoordinates.length);\n\t\t\tring.getCoordinates()[uniqueCoordinates.length] = uniqueCoordinates[0];\n\t\t\tif (Orientation.isCCW(ring.getCoordinates()) === clockwise) {\n\t\t\t\tCoordinateArrays.reverse(ring.getCoordinates());\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\treturn this._shell.getCoordinate();\n\t}\n\tgetNumInteriorRing() {\n\t\treturn this._holes.length;\n\t}\n\tgetBoundaryDimension() {\n\t\treturn 1;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_POLYGON;\n\t}\n\tgetDimension() {\n\t\treturn 2;\n\t}\n\tgetLength() {\n\t\tvar len = 0.0;\n\t\tlen += this._shell.getLength();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tlen += this._holes[i].getLength();\n\t\t}\n\t\treturn len;\n\t}\n\tgetNumPoints() {\n\t\tvar numPoints = this._shell.getNumPoints();\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tnumPoints += this._holes[i].getNumPoints();\n\t\t}\n\t\treturn numPoints;\n\t}\n\treverse() {\n\t\tvar poly = this.copy();\n\t\tpoly._shell = this._shell.copy().reverse();\n\t\tpoly._holes = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tpoly._holes[i] = this._holes[i].copy().reverse();\n\t\t}\n\t\treturn poly;\n\t}\n\tconvexHull() {\n\t\treturn this.getExteriorRing().convexHull();\n\t}\n\tcompareToSameClass() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet o = arguments[0];\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = o._shell;\n\t\t\treturn thisShell.compareToSameClass(otherShell);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet o = arguments[0], comp = arguments[1];\n\t\t\tvar poly = o;\n\t\t\tvar thisShell = this._shell;\n\t\t\tvar otherShell = poly._shell;\n\t\t\tvar shellComp = thisShell.compareToSameClass(otherShell, comp);\n\t\t\tif (shellComp !== 0) return shellComp;\n\t\t\tvar nHole1 = this.getNumInteriorRing();\n\t\t\tvar nHole2 = poly.getNumInteriorRing();\n\t\t\tvar i = 0;\n\t\t\twhile (i < nHole1 && i < nHole2) {\n\t\t\t\tvar thisHole = this.getInteriorRingN(i);\n\t\t\t\tvar otherHole = poly.getInteriorRingN(i);\n\t\t\t\tvar holeComp = thisHole.compareToSameClass(otherHole, comp);\n\t\t\t\tif (holeComp !== 0) return holeComp;\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < nHole1) return 1;\n\t\t\tif (i < nHole2) return -1;\n\t\t\treturn 0;\n\t\t}\n\t}\n\tapply() {\n\t\tif (hasInterface(arguments[0], CoordinateFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tthis._shell.apply(filter);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tthis._shell.apply(filter);\n\t\t\tif (!filter.isDone()) {\n\t\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t\t\tif (filter.isDone()) break;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (filter.isGeometryChanged()) this.geometryChanged();\n\t\t} else if (hasInterface(arguments[0], GeometryFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t} else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n\t\t\tlet filter = arguments[0];\n\t\t\tfilter.filter(this);\n\t\t\tthis._shell.apply(filter);\n\t\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\t\tthis._holes[i].apply(filter);\n\t\t\t}\n\t\t}\n\t}\n\tgetBoundary() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar rings = new Array(this._holes.length + 1).fill(null);\n\t\trings[0] = this._shell;\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\trings[i + 1] = this._holes[i];\n\t\t}\n\t\tif (rings.length <= 1) return this.getFactory().createLinearRing(rings[0].getCoordinateSequence());\n\t\treturn this.getFactory().createMultiLineString(rings);\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_POLYGON;\n\t}\n\tcopy() {\n\t\tvar shellCopy = this._shell.copy();\n\t\tvar holeCopies = new Array(this._holes.length).fill(null);\n\t\tfor (var i = 0; i < this._holes.length; i++) {\n\t\t\tholeCopies[i] = this._holes[i].copy();\n\t\t}\n\t\treturn new Polygon(shellCopy, holeCopies, this._factory);\n\t}\n\tgetExteriorRing() {\n\t\treturn this._shell;\n\t}\n\tisEmpty() {\n\t\treturn this._shell.isEmpty();\n\t}\n\tgetInteriorRingN(n) {\n\t\treturn this._holes[n];\n\t}\n\tgetClass() {\n\t\treturn Polygon;\n\t}\n\tget interfaces_() {\n\t\treturn [Polygonal];\n\t}\n}\nPolygon.constructor_ = function () {\n\tthis._shell = null;\n\tthis._holes = null;\n\tlet shell = arguments[0], holes = arguments[1], factory = arguments[2];\n\tGeometry.constructor_.call(this, factory);\n\tif (shell === null) {\n\t\tshell = this.getFactory().createLinearRing();\n\t}\n\tif (holes === null) {\n\t\tholes = [];\n\t}\n\tif (Geometry.hasNullElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"holes must not contain null elements\");\n\t}\n\tif (shell.isEmpty() && Geometry.hasNonEmptyElements(holes)) {\n\t\tthrow new IllegalArgumentException(\"shell is empty but holes are not\");\n\t}\n\tthis._shell = shell;\n\tthis._holes = holes;\n};\nPolygon.serialVersionUID = -3494792200821764533;\n","import Geometry from './Geometry';\nimport GeometryCollection from './GeometryCollection';\nimport Dimension from './Dimension';\nimport Puntal from './Puntal';\nexport default class MultiPoint extends GeometryCollection {\n\tconstructor() {\n\t\tsuper();\n\t\tMultiPoint.constructor_.apply(this, arguments);\n\t}\n\tisValid() {\n\t\treturn true;\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn super.equalsExact.call(this, other, tolerance);\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tgetCoordinate() {\n\t\tif (arguments.length === 1 && Number.isInteger(arguments[0])) {\n\t\t\tlet n = arguments[0];\n\t\t\treturn this._geometries[n].getCoordinate();\n\t\t} else return super.getCoordinate.apply(this, arguments);\n\t}\n\tgetBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTIPOINT;\n\t}\n\tgetDimension() {\n\t\treturn 0;\n\t}\n\tgetBoundary() {\n\t\treturn this.getFactory().createGeometryCollection();\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTIPOINT;\n\t}\n\tcopy() {\n\t\tvar points = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < points.length; i++) {\n\t\t\tpoints[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPoint(points, this._factory);\n\t}\n\tgetClass() {\n\t\treturn MultiPoint;\n\t}\n\tget interfaces_() {\n\t\treturn [Puntal];\n\t}\n}\nMultiPoint.constructor_ = function () {\n\tlet points = arguments[0], factory = arguments[1];\n\tGeometryCollection.constructor_.call(this, points, factory);\n};\nMultiPoint.serialVersionUID = -8048474874175355449;\n","import LineString from './LineString';\nimport Geometry from './Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport GeometryFactory from './GeometryFactory';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport CoordinateSequences from './CoordinateSequences';\nimport CoordinateSequence from './CoordinateSequence';\nimport Dimension from './Dimension';\nexport default class LinearRing extends LineString {\n\tconstructor() {\n\t\tsuper();\n\t\tLinearRing.constructor_.apply(this, arguments);\n\t}\n\tgetBoundaryDimension() {\n\t\treturn Dimension.FALSE;\n\t}\n\tisClosed() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn true;\n\t\t}\n\t\treturn super.isClosed.call(this);\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_LINEARRING;\n\t}\n\treverse() {\n\t\tvar seq = this._points.copy();\n\t\tCoordinateSequences.reverse(seq);\n\t\tvar rev = this.getFactory().createLinearRing(seq);\n\t\treturn rev;\n\t}\n\tvalidateConstruction() {\n\t\tif (!this.isEmpty() && !super.isClosed.call(this)) {\n\t\t\tthrow new IllegalArgumentException(\"Points of LinearRing do not form a closed linestring\");\n\t\t}\n\t\tif (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < LinearRing.MINIMUM_VALID_SIZE) {\n\t\t\tthrow new IllegalArgumentException(\"Invalid number of points in LinearRing (found \" + this.getCoordinateSequence().size() + \" - must be 0 or >= 4)\");\n\t\t}\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_LINEARRING;\n\t}\n\tcopy() {\n\t\treturn new LinearRing(this._points.copy(), this._factory);\n\t}\n\tgetClass() {\n\t\treturn LinearRing;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLinearRing.constructor_ = function () {\n\tif (arguments[0] instanceof Array && arguments[1] instanceof GeometryFactory) {\n\t\tlet points = arguments[0], factory = arguments[1];\n\t\tLinearRing.constructor_.call(this, factory.getCoordinateSequenceFactory().create(points), factory);\n\t} else if (hasInterface(arguments[0], CoordinateSequence) && arguments[1] instanceof GeometryFactory) {\n\t\tlet points = arguments[0], factory = arguments[1];\n\t\tLineString.constructor_.call(this, points, factory);\n\t\tthis.validateConstruction();\n\t}\n};\nLinearRing.MINIMUM_VALID_SIZE = 4;\nLinearRing.serialVersionUID = -4261142084085851829;\n","import Geometry from './Geometry';\nimport GeometryCollection from './GeometryCollection';\nimport Polygonal from './Polygonal';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class MultiPolygon extends GeometryCollection {\n\tconstructor() {\n\t\tsuper();\n\t\tMultiPolygon.constructor_.apply(this, arguments);\n\t}\n\tequalsExact() {\n\t\tif (arguments.length === 2 && (typeof arguments[1] === \"number\" && arguments[0] instanceof Geometry)) {\n\t\t\tlet other = arguments[0], tolerance = arguments[1];\n\t\t\tif (!this.isEquivalentClass(other)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn super.equalsExact.call(this, other, tolerance);\n\t\t} else return super.equalsExact.apply(this, arguments);\n\t}\n\tgetBoundaryDimension() {\n\t\treturn 1;\n\t}\n\tgetTypeCode() {\n\t\treturn Geometry.TYPECODE_MULTIPOLYGON;\n\t}\n\tgetDimension() {\n\t\treturn 2;\n\t}\n\treverse() {\n\t\tvar n = this._geometries.length;\n\t\tvar revGeoms = new Array(n).fill(null);\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\trevGeoms[i] = this._geometries[i].reverse();\n\t\t}\n\t\treturn this.getFactory().createMultiPolygon(revGeoms);\n\t}\n\tgetBoundary() {\n\t\tif (this.isEmpty()) {\n\t\t\treturn this.getFactory().createMultiLineString();\n\t\t}\n\t\tvar allRings = new ArrayList();\n\t\tfor (var i = 0; i < this._geometries.length; i++) {\n\t\t\tvar polygon = this._geometries[i];\n\t\t\tvar rings = polygon.getBoundary();\n\t\t\tfor (var j = 0; j < rings.getNumGeometries(); j++) {\n\t\t\t\tallRings.add(rings.getGeometryN(j));\n\t\t\t}\n\t\t}\n\t\tvar allRingsArray = new Array(allRings.size()).fill(null);\n\t\treturn this.getFactory().createMultiLineString(allRings.toArray(allRingsArray));\n\t}\n\tgetGeometryType() {\n\t\treturn Geometry.TYPENAME_MULTIPOLYGON;\n\t}\n\tcopy() {\n\t\tvar polygons = new Array(this._geometries.length).fill(null);\n\t\tfor (var i = 0; i < polygons.length; i++) {\n\t\t\tpolygons[i] = this._geometries[i].copy();\n\t\t}\n\t\treturn new MultiPolygon(polygons, this._factory);\n\t}\n\tgetClass() {\n\t\treturn MultiPolygon;\n\t}\n\tget interfaces_() {\n\t\treturn [Polygonal];\n\t}\n}\nMultiPolygon.constructor_ = function () {\n\tlet polygons = arguments[0], factory = arguments[1];\n\tGeometryCollection.constructor_.call(this, polygons, factory);\n};\nMultiPolygon.serialVersionUID = -551033529766975875;\n","import LineString from '../LineString';\nimport Point from '../Point';\nimport Polygon from '../Polygon';\nimport MultiPoint from '../MultiPoint';\nimport LinearRing from '../LinearRing';\nimport MultiPolygon from '../MultiPolygon';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport MultiLineString from '../MultiLineString';\nexport default class GeometryEditor {\n\tconstructor() {\n\t\tGeometryEditor.constructor_.apply(this, arguments);\n\t}\n\tsetCopyUserData(isUserDataCopied) {\n\t\tthis._isUserDataCopied = isUserDataCopied;\n\t}\n\tedit(geometry, operation) {\n\t\tif (geometry === null) return null;\n\t\tvar result = this.editInternal(geometry, operation);\n\t\tif (this._isUserDataCopied) {\n\t\t\tresult.setUserData(geometry.getUserData());\n\t\t}\n\t\treturn result;\n\t}\n\teditInternal(geometry, operation) {\n\t\tif (this._factory === null) this._factory = geometry.getFactory();\n\t\tif (geometry instanceof GeometryCollection) {\n\t\t\treturn this.editGeometryCollection(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Polygon) {\n\t\t\treturn this.editPolygon(geometry, operation);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn operation.edit(geometry, this._factory);\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Unsupported Geometry class: \" + geometry.getClass().getName());\n\t\treturn null;\n\t}\n\teditGeometryCollection(collection, operation) {\n\t\tvar collectionForType = operation.edit(collection, this._factory);\n\t\tvar geometries = new ArrayList();\n\t\tfor (var i = 0; i < collectionForType.getNumGeometries(); i++) {\n\t\t\tvar geometry = this.edit(collectionForType.getGeometryN(i), operation);\n\t\t\tif (geometry === null || geometry.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tgeometries.add(geometry);\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPoint) {\n\t\t\treturn this._factory.createMultiPoint(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiLineString) {\n\t\t\treturn this._factory.createMultiLineString(geometries.toArray([]));\n\t\t}\n\t\tif (collectionForType.getClass() === MultiPolygon) {\n\t\t\treturn this._factory.createMultiPolygon(geometries.toArray([]));\n\t\t}\n\t\treturn this._factory.createGeometryCollection(geometries.toArray([]));\n\t}\n\teditPolygon(polygon, operation) {\n\t\tvar newPolygon = operation.edit(polygon, this._factory);\n\t\tif (newPolygon === null) newPolygon = this._factory.createPolygon();\n\t\tif (newPolygon.isEmpty()) {\n\t\t\treturn newPolygon;\n\t\t}\n\t\tvar shell = this.edit(newPolygon.getExteriorRing(), operation);\n\t\tif (shell === null || shell.isEmpty()) {\n\t\t\treturn this._factory.createPolygon();\n\t\t}\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < newPolygon.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.edit(newPolygon.getInteriorRingN(i), operation);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tholes.add(hole);\n\t\t}\n\t\treturn this._factory.createPolygon(shell, holes.toArray([]));\n\t}\n\tgetClass() {\n\t\treturn GeometryEditor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nfunction GeometryEditorOperation() {}\nGeometryEditor.GeometryEditorOperation = GeometryEditorOperation;\nclass NoOpGeometryOperation {\n\tconstructor() {\n\t\tNoOpGeometryOperation.constructor_.apply(this, arguments);\n\t}\n\tedit(geometry, factory) {\n\t\treturn geometry;\n\t}\n\tgetClass() {\n\t\treturn NoOpGeometryOperation;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t}\n}\nNoOpGeometryOperation.constructor_ = function () {};\nclass CoordinateOperation {\n\tconstructor() {\n\t\tCoordinateOperation.constructor_.apply(this, arguments);\n\t}\n\tedit(geometry, factory) {\n\t\tvar coordinates = this.edit(geometry.getCoordinates(), geometry);\n\t\tif (geometry instanceof LinearRing) {\n\t\t\tif (coordinates === null) return factory.createLinearRing(); else return factory.createLinearRing(coordinates);\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\tif (coordinates === null) return factory.createLineString(); else return factory.createLineString(coordinates);\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\tif (coordinates === null || coordinates.length === 0) return factory.createPoint(); else return factory.createPoint(coordinates[0]);\n\t\t}\n\t\treturn geometry;\n\t}\n\tgetClass() {\n\t\treturn CoordinateOperation;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t}\n}\nCoordinateOperation.constructor_ = function () {};\nclass CoordinateSequenceOperation {\n\tconstructor() {\n\t\tCoordinateSequenceOperation.constructor_.apply(this, arguments);\n\t}\n\tedit(geometry, factory) {\n\t\tif (geometry instanceof LinearRing) {\n\t\t\treturn factory.createLinearRing(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof LineString) {\n\t\t\treturn factory.createLineString(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\tif (geometry instanceof Point) {\n\t\t\treturn factory.createPoint(this.edit(geometry.getCoordinateSequence(), geometry));\n\t\t}\n\t\treturn geometry;\n\t}\n\tgetClass() {\n\t\treturn CoordinateSequenceOperation;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryEditorOperation];\n\t}\n}\nCoordinateSequenceOperation.constructor_ = function () {};\nGeometryEditor.NoOpGeometryOperation = NoOpGeometryOperation;\nGeometryEditor.CoordinateOperation = CoordinateOperation;\nGeometryEditor.CoordinateSequenceOperation = CoordinateSequenceOperation;\nGeometryEditor.constructor_ = function () {\n\tthis._factory = null;\n\tthis._isUserDataCopied = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet factory = arguments[0];\n\t\tthis._factory = factory;\n\t}\n};\n","import hasInterface from '../../../../../hasInterface';\nimport Coordinate from '../Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Double from '../../../../../java/lang/Double';\nimport CoordinateSequence from '../CoordinateSequence';\nimport Serializable from '../../../../../java/io/Serializable';\nimport StringBuilder from '../../../../../java/lang/StringBuilder';\nexport default class CoordinateArraySequence {\n\tconstructor() {\n\t\tCoordinateArraySequence.constructor_.apply(this, arguments);\n\t}\n\tsetOrdinate(index, ordinateIndex, value) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\tthis._coordinates[index].x = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\tthis._coordinates[index].y = value;\n\t\t\t\tbreak;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\tthis._coordinates[index].z = value;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new IllegalArgumentException(\"invalid ordinateIndex\");\n\t\t}\n\t}\n\tsize() {\n\t\treturn this._coordinates.length;\n\t}\n\tgetOrdinate(index, ordinateIndex) {\n\t\tswitch (ordinateIndex) {\n\t\t\tcase CoordinateSequence.X:\n\t\t\t\treturn this._coordinates[index].x;\n\t\t\tcase CoordinateSequence.Y:\n\t\t\t\treturn this._coordinates[index].y;\n\t\t\tcase CoordinateSequence.Z:\n\t\t\t\treturn this._coordinates[index].z;\n\t\t}\n\t\treturn Double.NaN;\n\t}\n\tgetCoordinate() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this._coordinates[i];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], coord = arguments[1];\n\t\t\tcoord.x = this._coordinates[index].x;\n\t\t\tcoord.y = this._coordinates[index].y;\n\t\t\tcoord.z = this._coordinates[index].z;\n\t\t}\n\t}\n\tgetCoordinateCopy(i) {\n\t\treturn new Coordinate(this._coordinates[i]);\n\t}\n\tgetDimension() {\n\t\treturn this._dimension;\n\t}\n\tgetX(index) {\n\t\treturn this._coordinates[index].x;\n\t}\n\texpandEnvelope(env) {\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tenv.expandToInclude(this._coordinates[i]);\n\t\t}\n\t\treturn env;\n\t}\n\tcopy() {\n\t\tvar cloneCoordinates = new Array(this.size()).fill(null);\n\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\tcloneCoordinates[i] = this._coordinates[i].copy();\n\t\t}\n\t\treturn new CoordinateArraySequence(cloneCoordinates, this._dimension);\n\t}\n\ttoString() {\n\t\tif (this._coordinates.length > 0) {\n\t\t\tvar strBuilder = new StringBuilder(17 * this._coordinates.length);\n\t\t\tstrBuilder.append('(');\n\t\t\tstrBuilder.append(this._coordinates[0]);\n\t\t\tfor (var i = 1; i < this._coordinates.length; i++) {\n\t\t\t\tstrBuilder.append(\", \");\n\t\t\t\tstrBuilder.append(this._coordinates[i]);\n\t\t\t}\n\t\t\tstrBuilder.append(')');\n\t\t\treturn strBuilder.toString();\n\t\t} else {\n\t\t\treturn \"()\";\n\t\t}\n\t}\n\tgetY(index) {\n\t\treturn this._coordinates[index].y;\n\t}\n\ttoCoordinateArray() {\n\t\treturn this._coordinates;\n\t}\n\tgetClass() {\n\t\treturn CoordinateArraySequence;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateSequence, Serializable];\n\t}\n}\nCoordinateArraySequence.constructor_ = function () {\n\tthis._dimension = 3;\n\tthis._coordinates = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet coordinates = arguments[0];\n\t\t\tCoordinateArraySequence.constructor_.call(this, coordinates, 3);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet size = arguments[0];\n\t\t\tthis._coordinates = new Array(size).fill(null);\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\tlet coordSeq = arguments[0];\n\t\t\tif (coordSeq === null) {\n\t\t\t\tthis._coordinates = new Array(0).fill(null);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._dimension = coordSeq.getDimension();\n\t\t\tthis._coordinates = new Array(coordSeq.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._coordinates.length; i++) {\n\t\t\t\tthis._coordinates[i] = coordSeq.getCoordinateCopy(i);\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tif (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {\n\t\t\tlet coordinates = arguments[0], dimension = arguments[1];\n\t\t\tthis._coordinates = coordinates;\n\t\t\tthis._dimension = dimension;\n\t\t\tif (coordinates === null) this._coordinates = new Array(0).fill(null);\n\t\t} else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t\tthis._coordinates = new Array(size).fill(null);\n\t\t\tthis._dimension = dimension;\n\t\t\tfor (var i = 0; i < size; i++) {\n\t\t\t\tthis._coordinates[i] = new Coordinate();\n\t\t\t}\n\t\t}\n\t}\n};\nCoordinateArraySequence.serialVersionUID = -915438501601840650;\n","import CoordinateSequenceFactory from '../CoordinateSequenceFactory';\nimport hasInterface from '../../../../../hasInterface';\nimport CoordinateArraySequence from './CoordinateArraySequence';\nimport CoordinateSequence from '../CoordinateSequence';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default class CoordinateArraySequenceFactory {\n\tconstructor() {\n\t\tCoordinateArraySequenceFactory.constructor_.apply(this, arguments);\n\t}\n\tstatic instance() {\n\t\treturn CoordinateArraySequenceFactory.instanceObject;\n\t}\n\treadResolve() {\n\t\treturn CoordinateArraySequenceFactory.instance();\n\t}\n\tcreate() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordinates);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordSeq = arguments[0];\n\t\t\t\treturn new CoordinateArraySequence(coordSeq);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet size = arguments[0], dimension = arguments[1];\n\t\t\tif (dimension > 3) dimension = 3;\n\t\t\tif (dimension < 2) return new CoordinateArraySequence(size);\n\t\t\treturn new CoordinateArraySequence(size, dimension);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn CoordinateArraySequenceFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateSequenceFactory, Serializable];\n\t}\n}\nCoordinateArraySequenceFactory.constructor_ = function () {};\nCoordinateArraySequenceFactory.serialVersionUID = -4099577099607551657;\nCoordinateArraySequenceFactory.instanceObject = new CoordinateArraySequenceFactory();\n","import ArrayList from './ArrayList'\nimport MapInterface from './Map'\nimport HashSet from './HashSet'\nimport MapPolyfill from '../../Map'\n\nlet MapImpl = typeof Map === 'undefined' || !Map.prototype.values ? MapPolyfill : Map\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\n *\n * @extends {javascript.util.Map}\n * @constructor\n * @private\n */\nexport default function HashMap () {\n  /**\n   * @type {Object}\n   * @private\n  */\n  this.map_ = new MapImpl()\n}\nHashMap.prototype = new MapInterface()\n\n/**\n * @override\n */\nHashMap.prototype.get = function (key) {\n  return this.map_.get(key) || null\n}\n\n/**\n * @override\n */\nHashMap.prototype.put = function (key, value) {\n  this.map_.set(key, value)\n  return value\n}\n\n/**\n * @override\n */\nHashMap.prototype.values = function () {\n  const arrayList = new ArrayList()\n  const it = this.map_.values()\n  let o = it.next()\n  while (!o.done) {\n    arrayList.add(o.value)\n    o = it.next()\n  }\n  return arrayList\n}\n\n/**\n * @override\n */\nHashMap.prototype.entrySet = function () {\n  const hashSet = new HashSet()\n  this.map_.entries().forEach(entry => hashSet.add(entry))\n  return hashSet\n}\n\n/**\n * @override\n */\nHashMap.prototype.size = function () {\n  return this.map_.size()\n}\n","import HashMap from '../../../../java/util/HashMap';\nimport Coordinate from './Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport Integer from '../../../../java/lang/Integer';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Serializable from '../../../../java/io/Serializable';\nexport default class PrecisionModel {\n\tconstructor() {\n\t\tPrecisionModel.constructor_.apply(this, arguments);\n\t}\n\tstatic mostPrecise(pm1, pm2) {\n\t\tif (pm1.compareTo(pm2) >= 0) return pm1;\n\t\treturn pm2;\n\t}\n\tequals(other) {\n\t\tif (!(other instanceof PrecisionModel)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar otherPrecisionModel = other;\n\t\treturn this._modelType === otherPrecisionModel._modelType && this._scale === otherPrecisionModel._scale;\n\t}\n\tcompareTo(o) {\n\t\tvar other = o;\n\t\tvar sigDigits = this.getMaximumSignificantDigits();\n\t\tvar otherSigDigits = other.getMaximumSignificantDigits();\n\t\treturn new Integer(sigDigits).compareTo(new Integer(otherSigDigits));\n\t}\n\tgetScale() {\n\t\treturn this._scale;\n\t}\n\tisFloating() {\n\t\treturn this._modelType === PrecisionModel.FLOATING || this._modelType === PrecisionModel.FLOATING_SINGLE;\n\t}\n\tgetType() {\n\t\treturn this._modelType;\n\t}\n\ttoString() {\n\t\tvar description = \"UNKNOWN\";\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tdescription = \"Floating\";\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tdescription = \"Floating-Single\";\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tdescription = \"Fixed (Scale=\" + this.getScale() + \")\";\n\t\t}\n\t\treturn description;\n\t}\n\tmakePrecise() {\n\t\tif (typeof arguments[0] === \"number\") {\n\t\t\tlet val = arguments[0];\n\t\t\tif (Double.isNaN(val)) return val;\n\t\t\tif (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\t\tvar floatSingleVal = val;\n\t\t\t\treturn floatSingleVal;\n\t\t\t}\n\t\t\tif (this._modelType === PrecisionModel.FIXED) {\n\t\t\t\treturn Math.round(val * this._scale) / this._scale;\n\t\t\t}\n\t\t\treturn val;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\tif (this._modelType === PrecisionModel.FLOATING) return null;\n\t\t\tcoord.x = this.makePrecise(coord.x);\n\t\t\tcoord.y = this.makePrecise(coord.y);\n\t\t}\n\t}\n\tgetMaximumSignificantDigits() {\n\t\tvar maxSigDigits = 16;\n\t\tif (this._modelType === PrecisionModel.FLOATING) {\n\t\t\tmaxSigDigits = 16;\n\t\t} else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n\t\t\tmaxSigDigits = 6;\n\t\t} else if (this._modelType === PrecisionModel.FIXED) {\n\t\t\tmaxSigDigits = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)));\n\t\t}\n\t\treturn maxSigDigits;\n\t}\n\tsetScale(scale) {\n\t\tthis._scale = Math.abs(scale);\n\t}\n\tgetClass() {\n\t\treturn PrecisionModel;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable, Comparable];\n\t}\n}\nclass Type {\n\tconstructor() {\n\t\tType.constructor_.apply(this, arguments);\n\t}\n\treadResolve() {\n\t\treturn Type.nameToTypeMap.get(this._name);\n\t}\n\ttoString() {\n\t\treturn this._name;\n\t}\n\tgetClass() {\n\t\treturn Type;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable];\n\t}\n}\nType.constructor_ = function () {\n\tthis._name = null;\n\tlet name = arguments[0];\n\tthis._name = name;\n\tType.nameToTypeMap.put(name, this);\n};\nType.serialVersionUID = -5528602631731589822;\nType.nameToTypeMap = new HashMap();\nPrecisionModel.Type = Type;\nPrecisionModel.constructor_ = function () {\n\tthis._modelType = null;\n\tthis._scale = null;\n\tif (arguments.length === 0) {\n\t\tthis._modelType = PrecisionModel.FLOATING;\n\t} else if (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Type) {\n\t\t\tlet modelType = arguments[0];\n\t\t\tthis._modelType = modelType;\n\t\t\tif (modelType === PrecisionModel.FIXED) {\n\t\t\t\tthis.setScale(1.0);\n\t\t\t}\n\t\t} else if (typeof arguments[0] === \"number\") {\n\t\t\tlet scale = arguments[0];\n\t\t\tthis._modelType = PrecisionModel.FIXED;\n\t\t\tthis.setScale(scale);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tlet pm = arguments[0];\n\t\t\tthis._modelType = pm._modelType;\n\t\t\tthis._scale = pm._scale;\n\t\t}\n\t}\n};\nPrecisionModel.serialVersionUID = 7777263578777803835;\nPrecisionModel.FIXED = new Type(\"FIXED\");\nPrecisionModel.FLOATING = new Type(\"FLOATING\");\nPrecisionModel.FLOATING_SINGLE = new Type(\"FLOATING SINGLE\");\nPrecisionModel.maximumPreciseValue = 9007199254740992.0;\n","import CoordinateSequenceFactory from './CoordinateSequenceFactory';\nimport LineString from './LineString';\nimport Geometry from './Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from './Coordinate';\nimport Point from './Point';\nimport Polygon from './Polygon';\nimport MultiPoint from './MultiPoint';\nimport GeometryEditor from './util/GeometryEditor';\nimport LinearRing from './LinearRing';\nimport CoordinateArraySequenceFactory from './impl/CoordinateArraySequenceFactory';\nimport MultiPolygon from './MultiPolygon';\nimport CoordinateSequences from './CoordinateSequences';\nimport CoordinateSequence from './CoordinateSequence';\nimport GeometryCollection from './GeometryCollection';\nimport PrecisionModel from './PrecisionModel';\nimport Serializable from '../../../../java/io/Serializable';\nimport Assert from '../util/Assert';\nimport MultiLineString from './MultiLineString';\nexport default class GeometryFactory {\n\tconstructor() {\n\t\tGeometryFactory.constructor_.apply(this, arguments);\n\t}\n\tstatic toMultiPolygonArray(multiPolygons) {\n\t\tvar multiPolygonArray = new Array(multiPolygons.size()).fill(null);\n\t\treturn multiPolygons.toArray(multiPolygonArray);\n\t}\n\tstatic toGeometryArray(geometries) {\n\t\tif (geometries === null) return null;\n\t\tvar geometryArray = new Array(geometries.size()).fill(null);\n\t\treturn geometries.toArray(geometryArray);\n\t}\n\tstatic getDefaultCoordinateSequenceFactory() {\n\t\treturn CoordinateArraySequenceFactory.instance();\n\t}\n\tstatic toMultiLineStringArray(multiLineStrings) {\n\t\tvar multiLineStringArray = new Array(multiLineStrings.size()).fill(null);\n\t\treturn multiLineStrings.toArray(multiLineStringArray);\n\t}\n\tstatic toLineStringArray(lineStrings) {\n\t\tvar lineStringArray = new Array(lineStrings.size()).fill(null);\n\t\treturn lineStrings.toArray(lineStringArray);\n\t}\n\tstatic toMultiPointArray(multiPoints) {\n\t\tvar multiPointArray = new Array(multiPoints.size()).fill(null);\n\t\treturn multiPoints.toArray(multiPointArray);\n\t}\n\tstatic toLinearRingArray(linearRings) {\n\t\tvar linearRingArray = new Array(linearRings.size()).fill(null);\n\t\treturn linearRings.toArray(linearRingArray);\n\t}\n\tstatic toPointArray(points) {\n\t\tvar pointArray = new Array(points.size()).fill(null);\n\t\treturn points.toArray(pointArray);\n\t}\n\tstatic toPolygonArray(polygons) {\n\t\tvar polygonArray = new Array(polygons.size()).fill(null);\n\t\treturn polygons.toArray(polygonArray);\n\t}\n\tstatic createPointFromInternalCoord(coord, exemplar) {\n\t\texemplar.getPrecisionModel().makePrecise(coord);\n\t\treturn exemplar.getFactory().createPoint(coord);\n\t}\n\ttoGeometry(envelope) {\n\t\tif (envelope.isNull()) {\n\t\t\treturn this.createPoint();\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() && envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createPoint(new Coordinate(envelope.getMinX(), envelope.getMinY()));\n\t\t}\n\t\tif (envelope.getMinX() === envelope.getMaxX() || envelope.getMinY() === envelope.getMaxY()) {\n\t\t\treturn this.createLineString([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY())]);\n\t\t}\n\t\treturn this.createPolygon(this.createLinearRing([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMinY())]), null);\n\t}\n\tcreateLineString() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLineString(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn this.createLineString(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new LineString(coordinates, this);\n\t\t\t}\n\t\t}\n\t}\n\tcreateMultiLineString() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiLineString(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet lineStrings = arguments[0];\n\t\t\treturn new MultiLineString(lineStrings, this);\n\t\t}\n\t}\n\tbuildGeometry(geomList) {\n\t\tvar geomClass = null;\n\t\tvar isHeterogeneous = false;\n\t\tvar hasGeometryCollection = false;\n\t\tfor (var i = geomList.iterator(); i.hasNext(); ) {\n\t\t\tvar geom = i.next();\n\t\t\tvar partClass = geom.getClass();\n\t\t\tif (geomClass === null) {\n\t\t\t\tgeomClass = partClass;\n\t\t\t}\n\t\t\tif (partClass !== geomClass) {\n\t\t\t\tisHeterogeneous = true;\n\t\t\t}\n\t\t\tif (geom instanceof GeometryCollection) hasGeometryCollection = true;\n\t\t}\n\t\tif (geomClass === null) {\n\t\t\treturn this.createGeometryCollection();\n\t\t}\n\t\tif (isHeterogeneous || hasGeometryCollection) {\n\t\t\treturn this.createGeometryCollection(GeometryFactory.toGeometryArray(geomList));\n\t\t}\n\t\tvar geom0 = geomList.iterator().next();\n\t\tvar isCollection = geomList.size() > 1;\n\t\tif (isCollection) {\n\t\t\tif (geom0 instanceof Polygon) {\n\t\t\t\treturn this.createMultiPolygon(GeometryFactory.toPolygonArray(geomList));\n\t\t\t} else if (geom0 instanceof LineString) {\n\t\t\t\treturn this.createMultiLineString(GeometryFactory.toLineStringArray(geomList));\n\t\t\t} else if (geom0 instanceof Point) {\n\t\t\t\treturn this.createMultiPoint(GeometryFactory.toPointArray(geomList));\n\t\t\t}\n\t\t\tAssert.shouldNeverReachHere(\"Unhandled class: \" + geom0.getClass().getName());\n\t\t}\n\t\treturn geom0;\n\t}\n\tcreateMultiPointFromCoords(coordinates) {\n\t\treturn this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t}\n\tcreatePoint() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPoint(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet coordinate = arguments[0];\n\t\t\t\treturn this.createPoint(coordinate !== null ? this.getCoordinateSequenceFactory().create([coordinate]) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new Point(coordinates, this);\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinateSequenceFactory() {\n\t\treturn this._coordinateSequenceFactory;\n\t}\n\tcreatePolygon() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createPolygon(null, null);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(shell));\n\t\t\t} else if (arguments[0] instanceof Array) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(this.createLinearRing(shell));\n\t\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\t\tlet shell = arguments[0];\n\t\t\t\treturn this.createPolygon(shell, null);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet shell = arguments[0], holes = arguments[1];\n\t\t\treturn new Polygon(shell, holes, this);\n\t\t}\n\t}\n\tgetSRID() {\n\t\treturn this._SRID;\n\t}\n\tcreateGeometryCollection() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new GeometryCollection(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geometries = arguments[0];\n\t\t\treturn new GeometryCollection(geometries, this);\n\t\t}\n\t}\n\tcreateGeometry(g) {\n\t\tvar editor = new GeometryEditor(this);\n\t\treturn editor.edit(g, new CloneOp(this._coordinateSequenceFactory));\n\t}\n\tgetPrecisionModel() {\n\t\treturn this._precisionModel;\n\t}\n\tcreateLinearRing() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.createLinearRing(this.getCoordinateSequenceFactory().create([]));\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn this.createLinearRing(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\treturn new LinearRing(coordinates, this);\n\t\t\t}\n\t\t}\n\t}\n\tcreateMultiPolygon() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPolygon(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet polygons = arguments[0];\n\t\t\treturn new MultiPolygon(polygons, this);\n\t\t}\n\t}\n\tcreateMultiPoint() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn new MultiPoint(null, this);\n\t\t} else if (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Array) {\n\t\t\t\tlet point = arguments[0];\n\t\t\t\treturn new MultiPoint(point, this);\n\t\t\t} else if (hasInterface(arguments[0], CoordinateSequence)) {\n\t\t\t\tlet coordinates = arguments[0];\n\t\t\t\tif (coordinates === null) {\n\t\t\t\t\treturn this.createMultiPoint(new Array(0).fill(null));\n\t\t\t\t}\n\t\t\t\tvar points = new Array(coordinates.size()).fill(null);\n\t\t\t\tfor (var i = 0; i < coordinates.size(); i++) {\n\t\t\t\t\tvar ptSeq = this.getCoordinateSequenceFactory().create(1, coordinates.getDimension());\n\t\t\t\t\tCoordinateSequences.copy(coordinates, i, ptSeq, 0, 1);\n\t\t\t\t\tpoints[i] = this.createPoint(ptSeq);\n\t\t\t\t}\n\t\t\t\treturn this.createMultiPoint(points);\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn GeometryFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable];\n\t}\n}\nclass CloneOp extends GeometryEditor.CoordinateSequenceOperation {\n\tconstructor() {\n\t\tsuper();\n\t\tCloneOp.constructor_.apply(this, arguments);\n\t}\n\tedit() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Geometry && hasInterface(arguments[0], CoordinateSequence))) {\n\t\t\tlet coordSeq = arguments[0], geometry = arguments[1];\n\t\t\treturn this.coordinateSequenceFactory.create(coordSeq);\n\t\t} else return super.edit.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn CloneOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCloneOp.constructor_ = function () {\n\tthis.coordinateSequenceFactory = null;\n\tlet coordinateSequenceFactory = arguments[0];\n\tthis.coordinateSequenceFactory = coordinateSequenceFactory;\n};\nGeometryFactory.CloneOp = CloneOp;\nGeometryFactory.constructor_ = function () {\n\tthis._precisionModel = null;\n\tthis._coordinateSequenceFactory = null;\n\tthis._SRID = null;\n\tif (arguments.length === 0) {\n\t\tGeometryFactory.constructor_.call(this, new PrecisionModel(), 0);\n\t} else if (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], CoordinateSequenceFactory)) {\n\t\t\tlet coordinateSequenceFactory = arguments[0];\n\t\t\tGeometryFactory.constructor_.call(this, new PrecisionModel(), 0, coordinateSequenceFactory);\n\t\t} else if (arguments[0] instanceof PrecisionModel) {\n\t\t\tlet precisionModel = arguments[0];\n\t\t\tGeometryFactory.constructor_.call(this, precisionModel, 0, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet precisionModel = arguments[0], SRID = arguments[1];\n\t\tGeometryFactory.constructor_.call(this, precisionModel, SRID, GeometryFactory.getDefaultCoordinateSequenceFactory());\n\t} else if (arguments.length === 3) {\n\t\tlet precisionModel = arguments[0], SRID = arguments[1], coordinateSequenceFactory = arguments[2];\n\t\tthis._precisionModel = precisionModel;\n\t\tthis._coordinateSequenceFactory = coordinateSequenceFactory;\n\t\tthis._SRID = SRID;\n\t}\n};\nGeometryFactory.serialVersionUID = -6820524753094095635;\n","import Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\n\nconst regExes = {\n  'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n  'emptyTypeStr': /^\\s*(\\w+)\\s*EMPTY\\s*$/,\n  'spaces': /\\s+/,\n  'parenComma': /\\)\\s*,\\s*\\(/,\n  'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/, // can't use {2} here\n  'trimParens': /^\\s*\\(?(.*?)\\)?\\s*$/\n}\n\n/**\n * Class for reading and writing Well-Known Text.\n *\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\nexport default class WKTParser {\n  /** Create a new parser for WKT\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @return An instance of WKTParser.\n   * @private\n   */\n  constructor(geometryFactory) {\n    this.geometryFactory = geometryFactory || new GeometryFactory()\n    this.precisionModel = this.geometryFactory.getPrecisionModel()\n  }\n\n  /**\n   * Deserialize a WKT string and return a geometry. Supports WKT for POINT,\n   * MULTIPOINT, LINESTRING, LINEARRING, MULTILINESTRING, POLYGON, MULTIPOLYGON,\n   * and GEOMETRYCOLLECTION.\n   *\n   * @param {String} wkt A WKT string.\n   * @return {Geometry} A geometry instance.\n   * @private\n   */\n  read (wkt) {\n    var geometry, type, str\n    wkt = wkt.replace(/[\\n\\r]/g, ' ')\n    var matches = regExes.typeStr.exec(wkt)\n    if (wkt.search('EMPTY') !== -1) {\n      matches = regExes.emptyTypeStr.exec(wkt)\n      matches[2] = undefined\n    }\n    if (matches) {\n      type = matches[1].toLowerCase()\n      str = matches[2]\n      if (parse[type]) {\n        geometry = parse[type].call(this, str)\n      }\n    }\n\n    if (geometry === undefined) throw new Error('Could not parse WKT ' + wkt)\n\n    return geometry\n  }\n\n  /**\n   * Serialize a geometry into a WKT string.\n   *\n   * @param {Geometry} geometry A feature or array of features.\n   * @return {String} The WKT string representation of the input geometries.\n   * @private\n   */\n  write (geometry) {\n    return this.extractGeometry(geometry)\n  }\n\n  /**\n   * Entry point to construct the WKT for a single Geometry object.\n   *\n   * @param {Geometry} geometry\n   * @return {String} A WKT string of representing the geometry.\n   * @private\n   */\n  extractGeometry (geometry) {\n    var type = geometry.getGeometryType().toLowerCase()\n    if (!extract[type]) {\n      return null\n    }\n    var wktType = type.toUpperCase()\n    var data\n    if (geometry.isEmpty()) {\n      data = wktType + ' EMPTY'\n    } else {\n      data = wktType + '(' + extract[type].call(this, geometry) + ')'\n    }\n    return data\n  }\n}\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual data extraction.\n * @private\n */\nconst extract = {\n  coordinate (coordinate) {\n    this.precisionModel.makePrecise(coordinate)\n    return coordinate.x + ' ' + coordinate.y\n  },\n\n  /**\n   * Return a space delimited string of point coordinates.\n   *\n   * @param {Point}\n   *          point\n   * @return {String} A string of coordinates representing the point.\n   */\n  point (point) {\n    return extract.coordinate.call(this, point._coordinates._coordinates[0])\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a multipoint.\n   *\n   * @param {MultiPoint}\n   *          multipoint\n   * @return {String} A string of point coordinate strings representing the\n   *         multipoint.\n   */\n  multipoint (multipoint) {\n    var array = []\n    for (let i = 0, len = multipoint._geometries.length; i < len; ++i) {\n      array.push('(' + extract.point.call(this, multipoint._geometries[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a line.\n   *\n   * @param {LineString} linestring\n   * @return {String} A string of point coordinate strings representing the linestring.\n   */\n  linestring (linestring) {\n    var array = []\n    for (let i = 0, len = linestring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, linestring._points._coordinates[i]))\n    }\n    return array.join(',')\n  },\n\n  linearring (linearring) {\n    var array = []\n    for (let i = 0, len = linearring._points._coordinates.length; i < len; ++i) {\n      array.push(extract.coordinate.call(this, linearring._points._coordinates[i]))\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linestring strings from a\n   * multilinestring.\n   *\n   * @param {MultiLineString} multilinestring\n   * @return {String} A string of of linestring strings representing the multilinestring.\n   */\n  multilinestring (multilinestring) {\n    var array = []\n    for (let i = 0, len = multilinestring._geometries.length; i < len; ++i) {\n      array.push('(' +\n        extract.linestring.call(this, multilinestring._geometries[i]) +\n        ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linear ring arrays from a polygon.\n   *\n   * @param {Polygon} polygon\n   * @return {String} An array of linear ring arrays representing the polygon.\n   */\n  polygon (polygon) {\n    var array = []\n    array.push('(' + extract.linestring.call(this, polygon._shell) + ')')\n    for (let i = 0, len = polygon._holes.length; i < len; ++i) {\n      array.push('(' + extract.linestring.call(this, polygon._holes[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return an array of polygon arrays from a multipolygon.\n   *\n   * @param {MultiPolygon} multipolygon\n   * @return {String} An array of polygon arrays representing the multipolygon.\n   */\n  multipolygon (multipolygon) {\n    var array = []\n    for (let i = 0, len = multipolygon._geometries.length; i < len; ++i) {\n      array.push('(' + extract.polygon.call(this, multipolygon._geometries[i]) + ')')\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an\n   * geometrycollection.\n   *\n   * @param {GeometryCollection} collection\n   * @return {String} internal WKT representation of the collection.\n   */\n  geometrycollection (collection) {\n    var array = []\n    for (let i = 0, len = collection._geometries.length; i < len; ++i) {\n      array.push(this.extractGeometry(collection._geometries[i]))\n    }\n    return array.join(',')\n  }\n}\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual parsing.\n * @private\n */\nconst parse = {\n  \n  coord (str) {\n    var coords = str.trim().split(regExes.spaces)\n    var coord = new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1]))\n    this.precisionModel.makePrecise(coord)\n    return coord\n  },\n\n  /**\n   * Return point geometry given a point WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the point.\n   * @return {Point} A point geometry.\n   * @private\n   */\n  point (str) {\n    if (str === undefined)\n      return this.geometryFactory.createPoint()\n    return this.geometryFactory.createPoint(parse.coord.call(this, str))\n  },\n\n  /**\n   * Return a multipoint geometry given a multipoint WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipoint.\n   * @return {Point} A multipoint feature.\n   * @private\n   */\n  multipoint (str) {\n    if (str === undefined)\n      return this.geometryFactory.createMultiPoint()\n    var point\n    var points = str.trim().split(',')\n    var components = []\n    for (let i = 0, len = points.length; i < len; ++i) {\n      point = points[i].replace(regExes.trimParens, '$1')\n      components.push(parse.point.call(this, point))\n    }\n    return this.geometryFactory.createMultiPoint(components)\n  },\n\n  /**\n   * Return a linestring geometry given a linestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linestring.\n   * @return {LineString} A linestring geometry.\n   * @private\n   */\n  linestring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLineString()\n    }\n\n    var points = str.trim().split(',')\n    var components = []\n    var coords\n    for (let i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]))\n    }\n    return this.geometryFactory.createLineString(components)\n  },\n\n  /**\n   * Return a linearring geometry given a linearring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linearring.\n   * @return {LinearRing} A linearring geometry.\n   * @private\n   */\n  linearring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLinearRing()\n    }\n\n    var points = str.trim().split(',')\n    var components = []\n    var coords\n    for (let i = 0, len = points.length; i < len; ++i) {\n      components.push(parse.coord.call(this, points[i]))\n    }\n    return this.geometryFactory.createLinearRing(components)\n  },\n\n  /**\n   * Return a multilinestring geometry given a multilinestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multilinestring.\n   * @return {MultiLineString} A multilinestring geometry.\n   * @private\n   */\n  multilinestring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiLineString()\n    }\n\n    var line\n    var lines = str.trim().split(regExes.parenComma)\n    var components = []\n    for (let i = 0, len = lines.length; i < len; ++i) {\n      line = lines[i].replace(regExes.trimParens, '$1')\n      components.push(parse.linestring.call(this, line))\n    }\n    return this.geometryFactory.createMultiLineString(components)\n  },\n\n  /**\n   * Return a polygon geometry given a polygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the polygon.\n   * @return {Polygon} A polygon geometry.\n   * @private\n   */\n  polygon (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createPolygon()\n    }\n\n    var ring, linestring, linearring\n    var rings = str.trim().split(regExes.parenComma)\n    var shell\n    var holes = []\n    for (let i = 0, len = rings.length; i < len; ++i) {\n      ring = rings[i].replace(regExes.trimParens, '$1')\n      linestring = parse.linestring.call(this, ring)\n      linearring = this.geometryFactory.createLinearRing(linestring._points)\n      if (i === 0) {\n        shell = linearring\n      } else {\n        holes.push(linearring)\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Return a multipolygon geometry given a multipolygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipolygon.\n   * @return {MultiPolygon} A multipolygon geometry.\n   * @private\n   */\n  multipolygon (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createMultiPolygon()\n    }\n\n    var polygon\n    var polygons = str.trim().split(regExes.doubleParenComma)\n    var components = []\n    for (let i = 0, len = polygons.length; i < len; ++i) {\n      polygon = polygons[i].replace(regExes.trimParens, '$1')\n      components.push(parse.polygon.call(this, polygon))\n    }\n    return this.geometryFactory.createMultiPolygon(components)\n  },\n\n  /**\n   * Return a geometrycollection given a geometrycollection WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the geometrycollection.\n   * @return {GeometryCollection}\n   * @private\n   */\n  geometrycollection (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createGeometryCollection()\n    }\n\n    // separate components of the collection with |\n    str = str.replace(/,\\s*([A-Za-z])/g, '|$1')\n    var wktArray = str.trim().split('|')\n    var components = []\n    for (let i = 0, len = wktArray.length; i < len; ++i) {\n      components.push(this.read(wktArray[i]))\n    }\n    return this.geometryFactory.createGeometryCollection(components)\n  }\n}\n","/**\n * @module org/locationtech/jts/io/WKTWriter\n */\n\nimport WKTParser from './WKTParser'\n\n/**\n * Writes the Well-Known Text representation of a {@link Geometry}. The\n * Well-Known Text format is defined in the <A\n * HREF=\"http://www.opengis.org/techno/specs.htm\"> OGC Simple Features\n * Specification for SQL</A>.\n * <p>\n * The <code>WKTWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n * <p>\n * The SFS WKT spec does not define a special tag for {@link LinearRing}s.\n * Under the spec, rings are output as <code>LINESTRING</code>s.\n */\nexport default class WKTWriter {\n  /**\n   * @param {GeometryFactory} geometryFactory\n   */\n  constructor(geometryFactory) {\n    this.parser = new WKTParser(geometryFactory)\n  }\n  /**\n   * Converts a <code>Geometry</code> to its Well-known Text representation.\n   *\n   * @param {Geometry} geometry a <code>Geometry</code> to process.\n   * @return {string} a <Geometry Tagged Text> string (see the OpenGIS Simple\n   *         Features Specification).\n   * @memberof module:org/locationtech/jts/io/WKTWriter#\n   */\n  write (geometry) {\n    return this.parser.write(geometry)\n  }\n  /**\n   * Generates the WKT for a <tt>LINESTRING</tt> specified by two\n   * {@link Coordinate}s.\n   *\n   * @param p0 the first coordinate.\n   * @param p1 the second coordinate.\n   *\n   * @return the WKT.\n   * @private\n   */\n  static toLineString (p0, p1) {\n    if (arguments.length !== 2) {\n      throw new Error('Not implemented')\n    }\n\n    return 'LINESTRING ( ' + p0.x + ' ' + p0.y + ', ' + p1.x + ' ' + p1.y + ' )'\n  }\n}\n","import WKTWriter from '../io/WKTWriter';\nimport Coordinate from '../geom/Coordinate';\nimport Assert from '../util/Assert';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default class LineIntersector {\n\tconstructor() {\n\t\tLineIntersector.constructor_.apply(this, arguments);\n\t}\n\tstatic computeEdgeDistance(p, p0, p1) {\n\t\tvar dx = Math.abs(p1.x - p0.x);\n\t\tvar dy = Math.abs(p1.y - p0.y);\n\t\tvar dist = -1.0;\n\t\tif (p.equals(p0)) {\n\t\t\tdist = 0.0;\n\t\t} else if (p.equals(p1)) {\n\t\t\tif (dx > dy) dist = dx; else dist = dy;\n\t\t} else {\n\t\t\tvar pdx = Math.abs(p.x - p0.x);\n\t\t\tvar pdy = Math.abs(p.y - p0.y);\n\t\t\tif (dx > dy) dist = pdx; else dist = pdy;\n\t\t\tif (dist === 0.0 && !p.equals(p0)) {\n\t\t\t\tdist = Math.max(pdx, pdy);\n\t\t\t}\n\t\t}\n\t\tAssert.isTrue(!(dist === 0.0 && !p.equals(p0)), \"Bad distance calculation\");\n\t\treturn dist;\n\t}\n\tstatic nonRobustComputeEdgeDistance(p, p1, p2) {\n\t\tvar dx = p.x - p1.x;\n\t\tvar dy = p.y - p1.y;\n\t\tvar dist = Math.sqrt(dx * dx + dy * dy);\n\t\tAssert.isTrue(!(dist === 0.0 && !p.equals(p1)), \"Invalid distance calculation\");\n\t\treturn dist;\n\t}\n\tgetIndexAlongSegment(segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intLineIndex[segmentIndex][intIndex];\n\t}\n\tgetTopologySummary() {\n\t\tvar catBuilder = new StringBuilder();\n\t\tif (this.isEndPoint()) catBuilder.append(\" endpoint\");\n\t\tif (this._isProper) catBuilder.append(\" proper\");\n\t\tif (this.isCollinear()) catBuilder.append(\" collinear\");\n\t\treturn catBuilder.toString();\n\t}\n\tcomputeIntersection(p1, p2, p3, p4) {\n\t\tthis._inputLines[0][0] = p1;\n\t\tthis._inputLines[0][1] = p2;\n\t\tthis._inputLines[1][0] = p3;\n\t\tthis._inputLines[1][1] = p4;\n\t\tthis._result = this.computeIntersect(p1, p2, p3, p4);\n\t}\n\tgetIntersectionNum() {\n\t\treturn this._result;\n\t}\n\tcomputeIntLineIndex() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._intLineIndex === null) {\n\t\t\t\tthis._intLineIndex = Array(2).fill().map(() => Array(2));\n\t\t\t\tthis.computeIntLineIndex(0);\n\t\t\t\tthis.computeIntLineIndex(1);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet segmentIndex = arguments[0];\n\t\t\tvar dist0 = this.getEdgeDistance(segmentIndex, 0);\n\t\t\tvar dist1 = this.getEdgeDistance(segmentIndex, 1);\n\t\t\tif (dist0 > dist1) {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 0;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 1;\n\t\t\t} else {\n\t\t\t\tthis._intLineIndex[segmentIndex][0] = 1;\n\t\t\t\tthis._intLineIndex[segmentIndex][1] = 0;\n\t\t\t}\n\t\t}\n\t}\n\tisProper() {\n\t\treturn this.hasIntersection() && this._isProper;\n\t}\n\tsetPrecisionModel(precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t}\n\tisInteriorIntersection() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isInteriorIntersection(0)) return true;\n\t\t\tif (this.isInteriorIntersection(1)) return true;\n\t\t\treturn false;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet inputLineIndex = arguments[0];\n\t\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\t\tif (!(this._intPt[i].equals2D(this._inputLines[inputLineIndex][0]) || this._intPt[i].equals2D(this._inputLines[inputLineIndex][1]))) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\tgetIntersection(intIndex) {\n\t\treturn this._intPt[intIndex];\n\t}\n\tisEndPoint() {\n\t\treturn this.hasIntersection() && !this._isProper;\n\t}\n\thasIntersection() {\n\t\treturn this._result !== LineIntersector.NO_INTERSECTION;\n\t}\n\tgetEdgeDistance(segmentIndex, intIndex) {\n\t\tvar dist = LineIntersector.computeEdgeDistance(this._intPt[intIndex], this._inputLines[segmentIndex][0], this._inputLines[segmentIndex][1]);\n\t\treturn dist;\n\t}\n\tisCollinear() {\n\t\treturn this._result === LineIntersector.COLLINEAR_INTERSECTION;\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + \" - \" + WKTWriter.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary();\n\t}\n\tgetEndpoint(segmentIndex, ptIndex) {\n\t\treturn this._inputLines[segmentIndex][ptIndex];\n\t}\n\tisIntersection(pt) {\n\t\tfor (var i = 0; i < this._result; i++) {\n\t\t\tif (this._intPt[i].equals2D(pt)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetIntersectionAlongSegment(segmentIndex, intIndex) {\n\t\tthis.computeIntLineIndex();\n\t\treturn this._intPt[this._intLineIndex[segmentIndex][intIndex]];\n\t}\n\tgetClass() {\n\t\treturn LineIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineIntersector.constructor_ = function () {\n\tthis._result = null;\n\tthis._inputLines = Array(2).fill().map(() => Array(2));\n\tthis._intPt = new Array(2).fill(null);\n\tthis._intLineIndex = null;\n\tthis._isProper = null;\n\tthis._pa = null;\n\tthis._pb = null;\n\tthis._precisionModel = null;\n\tthis._intPt[0] = new Coordinate();\n\tthis._intPt[1] = new Coordinate();\n\tthis._pa = this._intPt[0];\n\tthis._pb = this._intPt[1];\n\tthis._result = 0;\n};\nLineIntersector.DONT_INTERSECT = 0;\nLineIntersector.DO_INTERSECT = 1;\nLineIntersector.COLLINEAR = 2;\nLineIntersector.NO_INTERSECTION = 0;\nLineIntersector.POINT_INTERSECTION = 1;\nLineIntersector.COLLINEAR_INTERSECTION = 2;\n","import NotRepresentableException from './NotRepresentableException';\nimport Coordinate from '../geom/Coordinate';\nimport Orientation from './Orientation';\nimport CGAlgorithmsDD from './CGAlgorithmsDD';\nimport System from '../../../../java/lang/System';\nimport HCoordinate from './HCoordinate';\nimport Envelope from '../geom/Envelope';\nimport Distance from './Distance';\nimport LineIntersector from './LineIntersector';\nexport default class RobustLineIntersector extends LineIntersector {\n\tconstructor() {\n\t\tsuper();\n\t\tRobustLineIntersector.constructor_.apply(this, arguments);\n\t}\n\tstatic nearestEndpoint(p1, p2, q1, q2) {\n\t\tvar nearestPt = p1;\n\t\tvar minDist = Distance.pointToSegment(p1, q1, q2);\n\t\tvar dist = Distance.pointToSegment(p2, q1, q2);\n\t\tif (dist < minDist) {\n\t\t\tminDist = dist;\n\t\t\tnearestPt = p2;\n\t\t}\n\t\tdist = Distance.pointToSegment(q1, p1, p2);\n\t\tif (dist < minDist) {\n\t\t\tminDist = dist;\n\t\t\tnearestPt = q1;\n\t\t}\n\t\tdist = Distance.pointToSegment(q2, p1, p2);\n\t\tif (dist < minDist) {\n\t\t\tminDist = dist;\n\t\t\tnearestPt = q2;\n\t\t}\n\t\treturn nearestPt;\n\t}\n\tisInSegmentEnvelopes(intPt) {\n\t\tvar env0 = new Envelope(this._inputLines[0][0], this._inputLines[0][1]);\n\t\tvar env1 = new Envelope(this._inputLines[1][0], this._inputLines[1][1]);\n\t\treturn env0.contains(intPt) && env1.contains(intPt);\n\t}\n\tcomputeIntersection() {\n\t\tif (arguments.length === 3) {\n\t\t\tlet p = arguments[0], p1 = arguments[1], p2 = arguments[2];\n\t\t\tthis._isProper = false;\n\t\t\tif (Envelope.intersects(p1, p2, p)) {\n\t\t\t\tif (Orientation.index(p1, p2, p) === 0 && Orientation.index(p2, p1, p) === 0) {\n\t\t\t\t\tthis._isProper = true;\n\t\t\t\t\tif (p.equals(p1) || p.equals(p2)) {\n\t\t\t\t\t\tthis._isProper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._result = LineIntersector.POINT_INTERSECTION;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._result = LineIntersector.NO_INTERSECTION;\n\t\t} else return super.computeIntersection.apply(this, arguments);\n\t}\n\tnormalizeToMinimum(n1, n2, n3, n4, normPt) {\n\t\tnormPt.x = this.smallestInAbsValue(n1.x, n2.x, n3.x, n4.x);\n\t\tnormPt.y = this.smallestInAbsValue(n1.y, n2.y, n3.y, n4.y);\n\t\tn1.x -= normPt.x;\n\t\tn1.y -= normPt.y;\n\t\tn2.x -= normPt.x;\n\t\tn2.y -= normPt.y;\n\t\tn3.x -= normPt.x;\n\t\tn3.y -= normPt.y;\n\t\tn4.x -= normPt.x;\n\t\tn4.y -= normPt.y;\n\t}\n\tsafeHCoordinateIntersection(p1, p2, q1, q2) {\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(p1, p2, q1, q2);\n\t\t} catch (e) {\n\t\t\tif (e instanceof NotRepresentableException) {\n\t\t\t\tintPt = RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2);\n\t\t\t} else throw e;\n\t\t} finally {}\n\t\treturn intPt;\n\t}\n\tintersection(p1, p2, q1, q2) {\n\t\tvar intPt = this.intersectionWithNormalization(p1, p2, q1, q2);\n\t\tif (!this.isInSegmentEnvelopes(intPt)) {\n\t\t\tintPt = new Coordinate(RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2));\n\t\t}\n\t\tif (this._precisionModel !== null) {\n\t\t\tthis._precisionModel.makePrecise(intPt);\n\t\t}\n\t\treturn intPt;\n\t}\n\tsmallestInAbsValue(x1, x2, x3, x4) {\n\t\tvar x = x1;\n\t\tvar xabs = Math.abs(x);\n\t\tif (Math.abs(x2) < xabs) {\n\t\t\tx = x2;\n\t\t\txabs = Math.abs(x2);\n\t\t}\n\t\tif (Math.abs(x3) < xabs) {\n\t\t\tx = x3;\n\t\t\txabs = Math.abs(x3);\n\t\t}\n\t\tif (Math.abs(x4) < xabs) {\n\t\t\tx = x4;\n\t\t}\n\t\treturn x;\n\t}\n\tcheckDD(p1, p2, q1, q2, intPt) {\n\t\tvar intPtDD = CGAlgorithmsDD.intersection(p1, p2, q1, q2);\n\t\tvar isIn = this.isInSegmentEnvelopes(intPtDD);\n\t\tSystem.out.println(\"DD in env = \" + isIn + \"  --------------------- \" + intPtDD);\n\t\tif (intPt.distance(intPtDD) > 0.0001) {\n\t\t\tSystem.out.println(\"Distance = \" + intPt.distance(intPtDD));\n\t\t}\n\t}\n\tintersectionWithNormalization(p1, p2, q1, q2) {\n\t\tvar n1 = new Coordinate(p1);\n\t\tvar n2 = new Coordinate(p2);\n\t\tvar n3 = new Coordinate(q1);\n\t\tvar n4 = new Coordinate(q2);\n\t\tvar normPt = new Coordinate();\n\t\tthis.normalizeToEnvCentre(n1, n2, n3, n4, normPt);\n\t\tvar intPt = this.safeHCoordinateIntersection(n1, n2, n3, n4);\n\t\tintPt.x += normPt.x;\n\t\tintPt.y += normPt.y;\n\t\treturn intPt;\n\t}\n\tcomputeCollinearIntersection(p1, p2, q1, q2) {\n\t\tvar p1q1p2 = Envelope.intersects(p1, p2, q1);\n\t\tvar p1q2p2 = Envelope.intersects(p1, p2, q2);\n\t\tvar q1p1q2 = Envelope.intersects(q1, q2, p1);\n\t\tvar q1p2q2 = Envelope.intersects(q1, q2, p2);\n\t\tif (p1q1p2 && p1q2p2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = q2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (q1p1q2 && q1p2q2) {\n\t\t\tthis._intPt[0] = p1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q1.equals(p1) && !p1q2p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q1p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q1;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q1.equals(p2) && !p1q2p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p1q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p1;\n\t\t\treturn q2.equals(p1) && !p1q1p2 && !q1p2q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\tif (p1q2p2 && q1p2q2) {\n\t\t\tthis._intPt[0] = q2;\n\t\t\tthis._intPt[1] = p2;\n\t\t\treturn q2.equals(p2) && !p1q1p2 && !q1p1q2 ? LineIntersector.POINT_INTERSECTION : LineIntersector.COLLINEAR_INTERSECTION;\n\t\t}\n\t\treturn LineIntersector.NO_INTERSECTION;\n\t}\n\tnormalizeToEnvCentre(n00, n01, n10, n11, normPt) {\n\t\tvar minX0 = n00.x < n01.x ? n00.x : n01.x;\n\t\tvar minY0 = n00.y < n01.y ? n00.y : n01.y;\n\t\tvar maxX0 = n00.x > n01.x ? n00.x : n01.x;\n\t\tvar maxY0 = n00.y > n01.y ? n00.y : n01.y;\n\t\tvar minX1 = n10.x < n11.x ? n10.x : n11.x;\n\t\tvar minY1 = n10.y < n11.y ? n10.y : n11.y;\n\t\tvar maxX1 = n10.x > n11.x ? n10.x : n11.x;\n\t\tvar maxY1 = n10.y > n11.y ? n10.y : n11.y;\n\t\tvar intMinX = minX0 > minX1 ? minX0 : minX1;\n\t\tvar intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;\n\t\tvar intMinY = minY0 > minY1 ? minY0 : minY1;\n\t\tvar intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;\n\t\tvar intMidX = (intMinX + intMaxX) / 2.0;\n\t\tvar intMidY = (intMinY + intMaxY) / 2.0;\n\t\tnormPt.x = intMidX;\n\t\tnormPt.y = intMidY;\n\t\tn00.x -= normPt.x;\n\t\tn00.y -= normPt.y;\n\t\tn01.x -= normPt.x;\n\t\tn01.y -= normPt.y;\n\t\tn10.x -= normPt.x;\n\t\tn10.y -= normPt.y;\n\t\tn11.x -= normPt.x;\n\t\tn11.y -= normPt.y;\n\t}\n\tcomputeIntersect(p1, p2, q1, q2) {\n\t\tthis._isProper = false;\n\t\tif (!Envelope.intersects(p1, p2, q1, q2)) return LineIntersector.NO_INTERSECTION;\n\t\tvar Pq1 = Orientation.index(p1, p2, q1);\n\t\tvar Pq2 = Orientation.index(p1, p2, q2);\n\t\tif (Pq1 > 0 && Pq2 > 0 || Pq1 < 0 && Pq2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar Qp1 = Orientation.index(q1, q2, p1);\n\t\tvar Qp2 = Orientation.index(q1, q2, p2);\n\t\tif (Qp1 > 0 && Qp2 > 0 || Qp1 < 0 && Qp2 < 0) {\n\t\t\treturn LineIntersector.NO_INTERSECTION;\n\t\t}\n\t\tvar collinear = Pq1 === 0 && Pq2 === 0 && Qp1 === 0 && Qp2 === 0;\n\t\tif (collinear) {\n\t\t\treturn this.computeCollinearIntersection(p1, p2, q1, q2);\n\t\t}\n\t\tif (Pq1 === 0 || Pq2 === 0 || Qp1 === 0 || Qp2 === 0) {\n\t\t\tthis._isProper = false;\n\t\t\tif (p1.equals2D(q1) || p1.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p1;\n\t\t\t} else if (p2.equals2D(q1) || p2.equals2D(q2)) {\n\t\t\t\tthis._intPt[0] = p2;\n\t\t\t} else if (Pq1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q1);\n\t\t\t} else if (Pq2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(q2);\n\t\t\t} else if (Qp1 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p1);\n\t\t\t} else if (Qp2 === 0) {\n\t\t\t\tthis._intPt[0] = new Coordinate(p2);\n\t\t\t}\n\t\t} else {\n\t\t\tthis._isProper = true;\n\t\t\tthis._intPt[0] = this.intersection(p1, p2, q1, q2);\n\t\t}\n\t\treturn LineIntersector.POINT_INTERSECTION;\n\t}\n\tgetClass() {\n\t\treturn RobustLineIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRobustLineIntersector.constructor_ = function () {};\n","import NotRepresentableException from '../algorithm/NotRepresentableException';\nimport Coordinate from './Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport HCoordinate from '../algorithm/HCoordinate';\nimport Serializable from '../../../../java/io/Serializable';\nimport Distance from '../algorithm/Distance';\nexport default class LineSegment {\n\tconstructor() {\n\t\tLineSegment.constructor_.apply(this, arguments);\n\t}\n\tstatic midPoint(p0, p1) {\n\t\treturn new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);\n\t}\n\tminX() {\n\t\treturn Math.min(this.p0.x, this.p1.x);\n\t}\n\torientationIndex() {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tvar orient0 = Orientation.index(this.p0, this.p1, seg.p0);\n\t\t\tvar orient1 = Orientation.index(this.p0, this.p1, seg.p1);\n\t\t\tif (orient0 >= 0 && orient1 >= 0) return Math.max(orient0, orient1);\n\t\t\tif (orient0 <= 0 && orient1 <= 0) return Math.max(orient0, orient1);\n\t\t\treturn 0;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn Orientation.index(this.p0, this.p1, p);\n\t\t}\n\t}\n\ttoGeometry(geomFactory) {\n\t\treturn geomFactory.createLineString([this.p0, this.p1]);\n\t}\n\tisVertical() {\n\t\treturn this.p0.x === this.p1.x;\n\t}\n\tequals(o) {\n\t\tif (!(o instanceof LineSegment)) {\n\t\t\treturn false;\n\t\t}\n\t\tvar other = o;\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1);\n\t}\n\tintersection(line) {\n\t\tvar li = new RobustLineIntersector();\n\t\tli.computeIntersection(this.p0, this.p1, line.p0, line.p1);\n\t\tif (li.hasIntersection()) return li.getIntersection(0);\n\t\treturn null;\n\t}\n\tproject() {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tif (p.equals(this.p0) || p.equals(this.p1)) return new Coordinate(p);\n\t\t\tvar r = this.projectionFactor(p);\n\t\t\tvar coord = new Coordinate();\n\t\t\tcoord.x = this.p0.x + r * (this.p1.x - this.p0.x);\n\t\t\tcoord.y = this.p0.y + r * (this.p1.y - this.p0.y);\n\t\t\treturn coord;\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tvar pf0 = this.projectionFactor(seg.p0);\n\t\t\tvar pf1 = this.projectionFactor(seg.p1);\n\t\t\tif (pf0 >= 1.0 && pf1 >= 1.0) return null;\n\t\t\tif (pf0 <= 0.0 && pf1 <= 0.0) return null;\n\t\t\tvar newp0 = this.project(seg.p0);\n\t\t\tif (pf0 < 0.0) newp0 = this.p0;\n\t\t\tif (pf0 > 1.0) newp0 = this.p1;\n\t\t\tvar newp1 = this.project(seg.p1);\n\t\t\tif (pf1 < 0.0) newp1 = this.p0;\n\t\t\tif (pf1 > 1.0) newp1 = this.p1;\n\t\t\treturn new LineSegment(newp0, newp1);\n\t\t}\n\t}\n\tnormalize() {\n\t\tif (this.p1.compareTo(this.p0) < 0) this.reverse();\n\t}\n\tangle() {\n\t\treturn Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x);\n\t}\n\tgetCoordinate(i) {\n\t\tif (i === 0) return this.p0;\n\t\treturn this.p1;\n\t}\n\tdistancePerpendicular(p) {\n\t\treturn Distance.pointToLinePerpendicular(p, this.p0, this.p1);\n\t}\n\tminY() {\n\t\treturn Math.min(this.p0.y, this.p1.y);\n\t}\n\tmidPoint() {\n\t\treturn LineSegment.midPoint(this.p0, this.p1);\n\t}\n\tprojectionFactor(p) {\n\t\tif (p.equals(this.p0)) return 0.0;\n\t\tif (p.equals(this.p1)) return 1.0;\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = dx * dx + dy * dy;\n\t\tif (len <= 0.0) return Double.NaN;\n\t\tvar r = ((p.x - this.p0.x) * dx + (p.y - this.p0.y) * dy) / len;\n\t\treturn r;\n\t}\n\tclosestPoints(line) {\n\t\tvar intPt = this.intersection(line);\n\t\tif (intPt !== null) {\n\t\t\treturn [intPt, intPt];\n\t\t}\n\t\tvar closestPt = new Array(2).fill(null);\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar dist = null;\n\t\tvar close00 = this.closestPoint(line.p0);\n\t\tminDistance = close00.distance(line.p0);\n\t\tclosestPt[0] = close00;\n\t\tclosestPt[1] = line.p0;\n\t\tvar close01 = this.closestPoint(line.p1);\n\t\tdist = close01.distance(line.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = close01;\n\t\t\tclosestPt[1] = line.p1;\n\t\t}\n\t\tvar close10 = line.closestPoint(this.p0);\n\t\tdist = close10.distance(this.p0);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p0;\n\t\t\tclosestPt[1] = close10;\n\t\t}\n\t\tvar close11 = line.closestPoint(this.p1);\n\t\tdist = close11.distance(this.p1);\n\t\tif (dist < minDistance) {\n\t\t\tminDistance = dist;\n\t\t\tclosestPt[0] = this.p1;\n\t\t\tclosestPt[1] = close11;\n\t\t}\n\t\treturn closestPt;\n\t}\n\tclosestPoint(p) {\n\t\tvar factor = this.projectionFactor(p);\n\t\tif (factor > 0 && factor < 1) {\n\t\t\treturn this.project(p);\n\t\t}\n\t\tvar dist0 = this.p0.distance(p);\n\t\tvar dist1 = this.p1.distance(p);\n\t\tif (dist0 < dist1) return this.p0;\n\t\treturn this.p1;\n\t}\n\tmaxX() {\n\t\treturn Math.max(this.p0.x, this.p1.x);\n\t}\n\tgetLength() {\n\t\treturn this.p0.distance(this.p1);\n\t}\n\tcompareTo(o) {\n\t\tvar other = o;\n\t\tvar comp0 = this.p0.compareTo(other.p0);\n\t\tif (comp0 !== 0) return comp0;\n\t\treturn this.p1.compareTo(other.p1);\n\t}\n\treverse() {\n\t\tvar temp = this.p0;\n\t\tthis.p0 = this.p1;\n\t\tthis.p1 = temp;\n\t}\n\tequalsTopo(other) {\n\t\treturn this.p0.equals(other.p0) && this.p1.equals(other.p1) || this.p0.equals(other.p1) && this.p1.equals(other.p0);\n\t}\n\tlineIntersection(line) {\n\t\ttry {\n\t\t\tvar intPt = HCoordinate.intersection(this.p0, this.p1, line.p0, line.p1);\n\t\t\treturn intPt;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {} else throw ex;\n\t\t} finally {}\n\t\treturn null;\n\t}\n\tmaxY() {\n\t\treturn Math.max(this.p0.y, this.p1.y);\n\t}\n\tpointAlongOffset(segmentLengthFraction, offsetDistance) {\n\t\tvar segx = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tvar segy = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\tvar dx = this.p1.x - this.p0.x;\n\t\tvar dy = this.p1.y - this.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = 0.0;\n\t\tvar uy = 0.0;\n\t\tif (offsetDistance !== 0.0) {\n\t\t\tif (len <= 0.0) throw new IllegalStateException(\"Cannot compute offset from zero-length line segment\");\n\t\t\tux = offsetDistance * dx / len;\n\t\t\tuy = offsetDistance * dy / len;\n\t\t}\n\t\tvar offsetx = segx - uy;\n\t\tvar offsety = segy + ux;\n\t\tvar coord = new Coordinate(offsetx, offsety);\n\t\treturn coord;\n\t}\n\tsetCoordinates() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ls = arguments[0];\n\t\t\tthis.setCoordinates(ls.p0, ls.p1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tthis.p0.x = p0.x;\n\t\t\tthis.p0.y = p0.y;\n\t\t\tthis.p1.x = p1.x;\n\t\t\tthis.p1.y = p1.y;\n\t\t}\n\t}\n\tsegmentFraction(inputPt) {\n\t\tvar segFrac = this.projectionFactor(inputPt);\n\t\tif (segFrac < 0.0) segFrac = 0.0; else if (segFrac > 1.0 || Double.isNaN(segFrac)) segFrac = 1.0;\n\t\treturn segFrac;\n\t}\n\ttoString() {\n\t\treturn \"LINESTRING( \" + this.p0.x + \" \" + this.p0.y + \", \" + this.p1.x + \" \" + this.p1.y + \")\";\n\t}\n\tisHorizontal() {\n\t\treturn this.p0.y === this.p1.y;\n\t}\n\tdistance() {\n\t\tif (arguments[0] instanceof LineSegment) {\n\t\t\tlet ls = arguments[0];\n\t\t\treturn Distance.segmentToSegment(this.p0, this.p1, ls.p0, ls.p1);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn Distance.pointToSegment(p, this.p0, this.p1);\n\t\t}\n\t}\n\tpointAlong(segmentLengthFraction) {\n\t\tvar coord = new Coordinate();\n\t\tcoord.x = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n\t\tcoord.y = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n\t\treturn coord;\n\t}\n\thashCode() {\n\t\tvar bits0 = java.lang.Double.doubleToLongBits(this.p0.x);\n\t\tbits0 ^= java.lang.Double.doubleToLongBits(this.p0.y) * 31;\n\t\tvar hash0 = Math.trunc(bits0) ^ Math.trunc(bits0 >> 32);\n\t\tvar bits1 = java.lang.Double.doubleToLongBits(this.p1.x);\n\t\tbits1 ^= java.lang.Double.doubleToLongBits(this.p1.y) * 31;\n\t\tvar hash1 = Math.trunc(bits1) ^ Math.trunc(bits1 >> 32);\n\t\treturn hash0 ^ hash1;\n\t}\n\tgetClass() {\n\t\treturn LineSegment;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable, Serializable];\n\t}\n}\nLineSegment.constructor_ = function () {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tif (arguments.length === 0) {\n\t\tLineSegment.constructor_.call(this, new Coordinate(), new Coordinate());\n\t} else if (arguments.length === 1) {\n\t\tlet ls = arguments[0];\n\t\tLineSegment.constructor_.call(this, ls.p0, ls.p1);\n\t} else if (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tthis.p0 = p0;\n\t\tthis.p1 = p1;\n\t} else if (arguments.length === 4) {\n\t\tlet x0 = arguments[0], y0 = arguments[1], x1 = arguments[2], y1 = arguments[3];\n\t\tLineSegment.constructor_.call(this, new Coordinate(x0, y0), new Coordinate(x1, y1));\n\t}\n};\nLineSegment.serialVersionUID = 3252005833466256227;\n","import IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nexport default class Location {\n\tconstructor() {\n\t\tLocation.constructor_.apply(this, arguments);\n\t}\n\tstatic toLocationSymbol(locationValue) {\n\t\tswitch (locationValue) {\n\t\t\tcase Location.EXTERIOR:\n\t\t\t\treturn 'e';\n\t\t\tcase Location.BOUNDARY:\n\t\t\t\treturn 'b';\n\t\t\tcase Location.INTERIOR:\n\t\t\t\treturn 'i';\n\t\t\tcase Location.NONE:\n\t\t\t\treturn '-';\n\t\t}\n\t\tthrow new IllegalArgumentException(\"Unknown location value: \" + locationValue);\n\t}\n\tgetClass() {\n\t\treturn Location;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLocation.constructor_ = function () {};\nLocation.INTERIOR = 0;\nLocation.BOUNDARY = 1;\nLocation.EXTERIOR = 2;\nLocation.NONE = -1;\n","import Location from './Location';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Dimension from './Dimension';\nimport Cloneable from '../../../../java/lang/Cloneable';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nexport default class IntersectionMatrix {\n\tconstructor() {\n\t\tIntersectionMatrix.constructor_.apply(this, arguments);\n\t}\n\tstatic matches() {\n\t\tif (Number.isInteger(arguments[0]) && typeof arguments[1] === \"string\") {\n\t\t\tlet actualDimensionValue = arguments[0], requiredDimensionSymbol = arguments[1];\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_DONTCARE) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_TRUE && (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_FALSE && actualDimensionValue === Dimension.FALSE) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_P && actualDimensionValue === Dimension.P) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_L && actualDimensionValue === Dimension.L) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (requiredDimensionSymbol === Dimension.SYM_A && actualDimensionValue === Dimension.A) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (typeof arguments[0] === \"string\" && typeof arguments[1] === \"string\") {\n\t\t\tlet actualDimensionSymbols = arguments[0], requiredDimensionSymbols = arguments[1];\n\t\t\tvar m = new IntersectionMatrix(actualDimensionSymbols);\n\t\t\treturn m.matches(requiredDimensionSymbols);\n\t\t}\n\t}\n\tstatic isTrue(actualDimensionValue) {\n\t\tif (actualDimensionValue >= 0 || actualDimensionValue === Dimension.TRUE) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tisIntersects() {\n\t\treturn !this.isDisjoint();\n\t}\n\tisCovers() {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t}\n\tisCoveredBy() {\n\t\tvar hasPointInCommon = IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]);\n\t\treturn hasPointInCommon && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t}\n\tset() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet dimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < dimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis._matrix[row][col] = Dimension.toDimensionValue(dimensionSymbols.charAt(i));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet row = arguments[0], column = arguments[1], dimensionValue = arguments[2];\n\t\t\tthis._matrix[row][column] = dimensionValue;\n\t\t}\n\t}\n\tisContains() {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t}\n\tsetAtLeast() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet minimumDimensionSymbols = arguments[0];\n\t\t\tfor (var i = 0; i < minimumDimensionSymbols.length; i++) {\n\t\t\t\tvar row = Math.trunc(i / 3);\n\t\t\t\tvar col = i % 3;\n\t\t\t\tthis.setAtLeast(row, col, Dimension.toDimensionValue(minimumDimensionSymbols.charAt(i)));\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet row = arguments[0], column = arguments[1], minimumDimensionValue = arguments[2];\n\t\t\tif (this._matrix[row][column] < minimumDimensionValue) {\n\t\t\t\tthis._matrix[row][column] = minimumDimensionValue;\n\t\t\t}\n\t\t}\n\t}\n\tsetAtLeastIfValid(row, column, minimumDimensionValue) {\n\t\tif (row >= 0 && column >= 0) {\n\t\t\tthis.setAtLeast(row, column, minimumDimensionValue);\n\t\t}\n\t}\n\tisWithin() {\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE;\n\t}\n\tisTouches(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA > dimensionOfGeometryB) {\n\t\t\treturn this.isTouches(dimensionOfGeometryB, dimensionOfGeometryA);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && (IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.BOUNDARY]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.INTERIOR]) || IntersectionMatrix.isTrue(this._matrix[Location.BOUNDARY][Location.BOUNDARY]));\n\t\t}\n\t\treturn false;\n\t}\n\tisOverlaps(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 1 && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\treturn false;\n\t}\n\tisEquals(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA !== dimensionOfGeometryB) {\n\t\t\treturn false;\n\t\t}\n\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && this._matrix[Location.INTERIOR][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.EXTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.EXTERIOR][Location.BOUNDARY] === Dimension.FALSE;\n\t}\n\ttoString() {\n\t\tvar builder = new StringBuilder(\"123456789\");\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tbuilder.setCharAt(3 * ai + bi, Dimension.toDimensionSymbol(this._matrix[ai][bi]));\n\t\t\t}\n\t\t}\n\t\treturn builder.toString();\n\t}\n\tsetAll(dimensionValue) {\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tthis._matrix[ai][bi] = dimensionValue;\n\t\t\t}\n\t\t}\n\t}\n\tget(row, column) {\n\t\treturn this._matrix[row][column];\n\t}\n\ttranspose() {\n\t\tvar temp = this._matrix[1][0];\n\t\tthis._matrix[1][0] = this._matrix[0][1];\n\t\tthis._matrix[0][1] = temp;\n\t\ttemp = this._matrix[2][0];\n\t\tthis._matrix[2][0] = this._matrix[0][2];\n\t\tthis._matrix[0][2] = temp;\n\t\ttemp = this._matrix[2][1];\n\t\tthis._matrix[2][1] = this._matrix[1][2];\n\t\tthis._matrix[1][2] = temp;\n\t\treturn this;\n\t}\n\tmatches(requiredDimensionSymbols) {\n\t\tif (requiredDimensionSymbols.length !== 9) {\n\t\t\tthrow new IllegalArgumentException(\"Should be length 9: \" + requiredDimensionSymbols);\n\t\t}\n\t\tfor (var ai = 0; ai < 3; ai++) {\n\t\t\tfor (var bi = 0; bi < 3; bi++) {\n\t\t\t\tif (!IntersectionMatrix.matches(this._matrix[ai][bi], requiredDimensionSymbols.charAt(3 * ai + bi))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tadd(im) {\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\tthis.setAtLeast(i, j, im.get(i, j));\n\t\t\t}\n\t\t}\n\t}\n\tisDisjoint() {\n\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.INTERIOR][Location.BOUNDARY] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.INTERIOR] === Dimension.FALSE && this._matrix[Location.BOUNDARY][Location.BOUNDARY] === Dimension.FALSE;\n\t}\n\tisCrosses(dimensionOfGeometryA, dimensionOfGeometryB) {\n\t\tif (dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.L || dimensionOfGeometryA === Dimension.P && dimensionOfGeometryB === Dimension.A || dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.A) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.EXTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.P || dimensionOfGeometryA === Dimension.A && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn IntersectionMatrix.isTrue(this._matrix[Location.INTERIOR][Location.INTERIOR]) && IntersectionMatrix.isTrue(this._matrix[Location.EXTERIOR][Location.INTERIOR]);\n\t\t}\n\t\tif (dimensionOfGeometryA === Dimension.L && dimensionOfGeometryB === Dimension.L) {\n\t\t\treturn this._matrix[Location.INTERIOR][Location.INTERIOR] === 0;\n\t\t}\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn IntersectionMatrix;\n\t}\n\tget interfaces_() {\n\t\treturn [Cloneable];\n\t}\n}\nIntersectionMatrix.constructor_ = function () {\n\tthis._matrix = null;\n\tif (arguments.length === 0) {\n\t\tthis._matrix = Array(3).fill().map(() => Array(3));\n\t\tthis.setAll(Dimension.FALSE);\n\t} else if (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tlet elements = arguments[0];\n\t\t\tIntersectionMatrix.constructor_.call(this);\n\t\t\tthis.set(elements);\n\t\t} else if (arguments[0] instanceof IntersectionMatrix) {\n\t\t\tlet other = arguments[0];\n\t\t\tIntersectionMatrix.constructor_.call(this);\n\t\t\tthis._matrix[Location.INTERIOR][Location.INTERIOR] = other._matrix[Location.INTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.INTERIOR][Location.BOUNDARY] = other._matrix[Location.INTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.INTERIOR][Location.EXTERIOR] = other._matrix[Location.INTERIOR][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.INTERIOR] = other._matrix[Location.BOUNDARY][Location.INTERIOR];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.BOUNDARY] = other._matrix[Location.BOUNDARY][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.BOUNDARY][Location.EXTERIOR] = other._matrix[Location.BOUNDARY][Location.EXTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.INTERIOR] = other._matrix[Location.EXTERIOR][Location.INTERIOR];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.BOUNDARY] = other._matrix[Location.EXTERIOR][Location.BOUNDARY];\n\t\t\tthis._matrix[Location.EXTERIOR][Location.EXTERIOR] = other._matrix[Location.EXTERIOR][Location.EXTERIOR];\n\t\t}\n\t}\n};\n","import Orientation from './Orientation';\nexport default class Angle {\n\tconstructor() {\n\t\tAngle.constructor_.apply(this, arguments);\n\t}\n\tstatic toDegrees(radians) {\n\t\treturn radians * 180 / Math.PI;\n\t}\n\tstatic normalize(angle) {\n\t\twhile (angle > Math.PI) angle -= Angle.PI_TIMES_2;\n\t\twhile (angle <= -Math.PI) angle += Angle.PI_TIMES_2;\n\t\treturn angle;\n\t}\n\tstatic angle() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn Math.atan2(p.y, p.x);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tvar dx = p1.x - p0.x;\n\t\t\tvar dy = p1.y - p0.y;\n\t\t\treturn Math.atan2(dy, dx);\n\t\t}\n\t}\n\tstatic isAcute(p0, p1, p2) {\n\t\tvar dx0 = p0.x - p1.x;\n\t\tvar dy0 = p0.y - p1.y;\n\t\tvar dx1 = p2.x - p1.x;\n\t\tvar dy1 = p2.y - p1.y;\n\t\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\t\treturn dotprod > 0;\n\t}\n\tstatic isObtuse(p0, p1, p2) {\n\t\tvar dx0 = p0.x - p1.x;\n\t\tvar dy0 = p0.y - p1.y;\n\t\tvar dx1 = p2.x - p1.x;\n\t\tvar dy1 = p2.y - p1.y;\n\t\tvar dotprod = dx0 * dx1 + dy0 * dy1;\n\t\treturn dotprod < 0;\n\t}\n\tstatic interiorAngle(p0, p1, p2) {\n\t\tvar anglePrev = Angle.angle(p1, p0);\n\t\tvar angleNext = Angle.angle(p1, p2);\n\t\treturn Math.abs(angleNext - anglePrev);\n\t}\n\tstatic normalizePositive(angle) {\n\t\tif (angle < 0.0) {\n\t\t\twhile (angle < 0.0) angle += Angle.PI_TIMES_2;\n\t\t\tif (angle >= Angle.PI_TIMES_2) angle = 0.0;\n\t\t} else {\n\t\t\twhile (angle >= Angle.PI_TIMES_2) angle -= Angle.PI_TIMES_2;\n\t\t\tif (angle < 0.0) angle = 0.0;\n\t\t}\n\t\treturn angle;\n\t}\n\tstatic angleBetween(tip1, tail, tip2) {\n\t\tvar a1 = Angle.angle(tail, tip1);\n\t\tvar a2 = Angle.angle(tail, tip2);\n\t\treturn Angle.diff(a1, a2);\n\t}\n\tstatic diff(ang1, ang2) {\n\t\tvar delAngle = null;\n\t\tif (ang1 < ang2) {\n\t\t\tdelAngle = ang2 - ang1;\n\t\t} else {\n\t\t\tdelAngle = ang1 - ang2;\n\t\t}\n\t\tif (delAngle > Math.PI) {\n\t\t\tdelAngle = 2 * Math.PI - delAngle;\n\t\t}\n\t\treturn delAngle;\n\t}\n\tstatic toRadians(angleDegrees) {\n\t\treturn angleDegrees * Math.PI / 180.0;\n\t}\n\tstatic getTurn(ang1, ang2) {\n\t\tvar crossproduct = Math.sin(ang2 - ang1);\n\t\tif (crossproduct > 0) {\n\t\t\treturn Angle.COUNTERCLOCKWISE;\n\t\t}\n\t\tif (crossproduct < 0) {\n\t\t\treturn Angle.CLOCKWISE;\n\t\t}\n\t\treturn Angle.NONE;\n\t}\n\tstatic angleBetweenOriented(tip1, tail, tip2) {\n\t\tvar a1 = Angle.angle(tail, tip1);\n\t\tvar a2 = Angle.angle(tail, tip2);\n\t\tvar angDel = a2 - a1;\n\t\tif (angDel <= -Math.PI) return angDel + Angle.PI_TIMES_2;\n\t\tif (angDel > Math.PI) return angDel - Angle.PI_TIMES_2;\n\t\treturn angDel;\n\t}\n\tgetClass() {\n\t\treturn Angle;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nAngle.constructor_ = function () {};\nAngle.PI_TIMES_2 = 2.0 * Math.PI;\nAngle.PI_OVER_2 = Math.PI / 2.0;\nAngle.PI_OVER_4 = Math.PI / 4.0;\nAngle.COUNTERCLOCKWISE = Orientation.COUNTERCLOCKWISE;\nAngle.CLOCKWISE = Orientation.CLOCKWISE;\nAngle.NONE = Orientation.COLLINEAR;\n","import Coordinate from './Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Angle from '../algorithm/Angle';\nimport HCoordinate from '../algorithm/HCoordinate';\nexport default class Triangle {\n\tconstructor() {\n\t\tTriangle.constructor_.apply(this, arguments);\n\t}\n\tstatic area(a, b, c) {\n\t\treturn Math.abs(((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2);\n\t}\n\tstatic signedArea(a, b, c) {\n\t\treturn ((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2;\n\t}\n\tstatic det(m00, m01, m10, m11) {\n\t\treturn m00 * m11 - m01 * m10;\n\t}\n\tstatic interpolateZ(p, v0, v1, v2) {\n\t\tvar x0 = v0.x;\n\t\tvar y0 = v0.y;\n\t\tvar a = v1.x - x0;\n\t\tvar b = v2.x - x0;\n\t\tvar c = v1.y - y0;\n\t\tvar d = v2.y - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = p.x - x0;\n\t\tvar dy = p.y - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\t\treturn z;\n\t}\n\tstatic longestSideLength(a, b, c) {\n\t\tvar lenAB = a.distance(b);\n\t\tvar lenBC = b.distance(c);\n\t\tvar lenCA = c.distance(a);\n\t\tvar maxLen = lenAB;\n\t\tif (lenBC > maxLen) maxLen = lenBC;\n\t\tif (lenCA > maxLen) maxLen = lenCA;\n\t\treturn maxLen;\n\t}\n\tstatic isAcute(a, b, c) {\n\t\tif (!Angle.isAcute(a, b, c)) return false;\n\t\tif (!Angle.isAcute(b, c, a)) return false;\n\t\tif (!Angle.isAcute(c, a, b)) return false;\n\t\treturn true;\n\t}\n\tstatic circumcentre(a, b, c) {\n\t\tvar cx = c.x;\n\t\tvar cy = c.y;\n\t\tvar ax = a.x - cx;\n\t\tvar ay = a.y - cy;\n\t\tvar bx = b.x - cx;\n\t\tvar by = b.y - cy;\n\t\tvar denom = 2 * Triangle.det(ax, ay, bx, by);\n\t\tvar numx = Triangle.det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\n\t\tvar numy = Triangle.det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\n\t\tvar ccx = cx - numx / denom;\n\t\tvar ccy = cy + numy / denom;\n\t\treturn new Coordinate(ccx, ccy);\n\t}\n\tstatic perpendicularBisector(a, b) {\n\t\tvar dx = b.x - a.x;\n\t\tvar dy = b.y - a.y;\n\t\tvar l1 = new HCoordinate(a.x + dx / 2.0, a.y + dy / 2.0, 1.0);\n\t\tvar l2 = new HCoordinate(a.x - dy + dx / 2.0, a.y + dx + dy / 2.0, 1.0);\n\t\treturn new HCoordinate(l1, l2);\n\t}\n\tstatic angleBisector(a, b, c) {\n\t\tvar len0 = b.distance(a);\n\t\tvar len2 = b.distance(c);\n\t\tvar frac = len0 / (len0 + len2);\n\t\tvar dx = c.x - a.x;\n\t\tvar dy = c.y - a.y;\n\t\tvar splitPt = new Coordinate(a.x + frac * dx, a.y + frac * dy);\n\t\treturn splitPt;\n\t}\n\tstatic area3D(a, b, c) {\n\t\tvar ux = b.x - a.x;\n\t\tvar uy = b.y - a.y;\n\t\tvar uz = b.z - a.z;\n\t\tvar vx = c.x - a.x;\n\t\tvar vy = c.y - a.y;\n\t\tvar vz = c.z - a.z;\n\t\tvar crossx = uy * vz - uz * vy;\n\t\tvar crossy = uz * vx - ux * vz;\n\t\tvar crossz = ux * vy - uy * vx;\n\t\tvar absSq = crossx * crossx + crossy * crossy + crossz * crossz;\n\t\tvar area3D = Math.sqrt(absSq) / 2;\n\t\treturn area3D;\n\t}\n\tstatic centroid(a, b, c) {\n\t\tvar x = (a.x + b.x + c.x) / 3;\n\t\tvar y = (a.y + b.y + c.y) / 3;\n\t\treturn new Coordinate(x, y);\n\t}\n\tstatic inCentre(a, b, c) {\n\t\tvar len0 = b.distance(c);\n\t\tvar len1 = a.distance(c);\n\t\tvar len2 = a.distance(b);\n\t\tvar circum = len0 + len1 + len2;\n\t\tvar inCentreX = (len0 * a.x + len1 * b.x + len2 * c.x) / circum;\n\t\tvar inCentreY = (len0 * a.y + len1 * b.y + len2 * c.y) / circum;\n\t\treturn new Coordinate(inCentreX, inCentreY);\n\t}\n\tarea() {\n\t\treturn Triangle.area(this.p0, this.p1, this.p2);\n\t}\n\tsignedArea() {\n\t\treturn Triangle.signedArea(this.p0, this.p1, this.p2);\n\t}\n\tinterpolateZ(p) {\n\t\tif (p === null) throw new IllegalArgumentException(\"Supplied point is null.\");\n\t\treturn Triangle.interpolateZ(p, this.p0, this.p1, this.p2);\n\t}\n\tlongestSideLength() {\n\t\treturn Triangle.longestSideLength(this.p0, this.p1, this.p2);\n\t}\n\tisAcute() {\n\t\treturn Triangle.isAcute(this.p0, this.p1, this.p2);\n\t}\n\tcircumcentre() {\n\t\treturn Triangle.circumcentre(this.p0, this.p1, this.p2);\n\t}\n\tarea3D() {\n\t\treturn Triangle.area3D(this.p0, this.p1, this.p2);\n\t}\n\tcentroid() {\n\t\treturn Triangle.centroid(this.p0, this.p1, this.p2);\n\t}\n\tinCentre() {\n\t\treturn Triangle.inCentre(this.p0, this.p1, this.p2);\n\t}\n\tgetClass() {\n\t\treturn Triangle;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTriangle.constructor_ = function () {\n\tthis.p0 = null;\n\tthis.p1 = null;\n\tthis.p2 = null;\n\tlet p0 = arguments[0], p1 = arguments[1], p2 = arguments[2];\n\tthis.p0 = p0;\n\tthis.p1 = p1;\n\tthis.p2 = p2;\n};\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport Double from '../../../../../java/lang/Double';\nexport default class PointPairDistance {\n\tconstructor() {\n\t\tPointPairDistance.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {\n\t\treturn this._pt;\n\t}\n\tgetCoordinate(i) {\n\t\treturn this._pt[i];\n\t}\n\tsetMinimum() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ptDist = arguments[0];\n\t\t\tthis.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist < this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t}\n\tinitialize() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._isNull = true;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tthis._pt[0].setCoordinate(p0);\n\t\t\tthis._pt[1].setCoordinate(p1);\n\t\t\tthis._distance = p0.distance(p1);\n\t\t\tthis._isNull = false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1], distance = arguments[2];\n\t\t\tthis._pt[0].setCoordinate(p0);\n\t\t\tthis._pt[1].setCoordinate(p1);\n\t\t\tthis._distance = distance;\n\t\t\tthis._isNull = false;\n\t\t}\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(this._pt[0], this._pt[1]);\n\t}\n\tgetDistance() {\n\t\treturn this._distance;\n\t}\n\tsetMaximum() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet ptDist = arguments[0];\n\t\t\tthis.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tif (this._isNull) {\n\t\t\t\tthis.initialize(p0, p1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar dist = p0.distance(p1);\n\t\t\tif (dist > this._distance) this.initialize(p0, p1, dist);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn PointPairDistance;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointPairDistance.constructor_ = function () {\n\tthis._pt = [new Coordinate(), new Coordinate()];\n\tthis._distance = Double.NaN;\n\tthis._isNull = true;\n};\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport Coordinate from '../../geom/Coordinate';\nimport Polygon from '../../geom/Polygon';\nimport LineSegment from '../../geom/LineSegment';\nimport PointPairDistance from './PointPairDistance';\nimport GeometryCollection from '../../geom/GeometryCollection';\nexport default class DistanceToPoint {\n\tconstructor() {\n\t\tDistanceToPoint.constructor_.apply(this, arguments);\n\t}\n\tstatic computeDistance() {\n\t\tif (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineString && arguments[1] instanceof Coordinate)) {\n\t\t\tlet line = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\t\tvar tempSegment = new LineSegment();\n\t\t\tvar coords = line.getCoordinates();\n\t\t\tfor (var i = 0; i < coords.length - 1; i++) {\n\t\t\t\ttempSegment.setCoordinates(coords[i], coords[i + 1]);\n\t\t\t\tvar closestPt = tempSegment.closestPoint(pt);\n\t\t\t\tptDist.setMinimum(closestPt, pt);\n\t\t\t}\n\t\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate)) {\n\t\t\tlet poly = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\t\tDistanceToPoint.computeDistance(poly.getExteriorRing(), pt, ptDist);\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tDistanceToPoint.computeDistance(poly.getInteriorRingN(i), pt, ptDist);\n\t\t\t}\n\t\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate)) {\n\t\t\tlet geom = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tDistanceToPoint.computeDistance(geom, pt, ptDist);\n\t\t\t} else if (geom instanceof Polygon) {\n\t\t\t\tDistanceToPoint.computeDistance(geom, pt, ptDist);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\t\tDistanceToPoint.computeDistance(g, pt, ptDist);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tptDist.setMinimum(geom.getCoordinate(), pt);\n\t\t\t}\n\t\t} else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate)) {\n\t\t\tlet segment = arguments[0], pt = arguments[1], ptDist = arguments[2];\n\t\t\tvar closestPt = segment.closestPoint(pt);\n\t\t\tptDist.setMinimum(closestPt, pt);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn DistanceToPoint;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDistanceToPoint.constructor_ = function () {};\n","import DistanceToPoint from './DistanceToPoint';\nimport CoordinateFilter from '../../geom/CoordinateFilter';\nimport Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport PointPairDistance from './PointPairDistance';\nimport CoordinateSequenceFilter from '../../geom/CoordinateSequenceFilter';\nexport default class DiscreteHausdorffDistance {\n\tconstructor() {\n\t\tDiscreteHausdorffDistance.constructor_.apply(this, arguments);\n\t}\n\tstatic distance() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\t\tvar dist = new DiscreteHausdorffDistance(g0, g1);\n\t\t\treturn dist.distance();\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1], densifyFrac = arguments[2];\n\t\t\tvar dist = new DiscreteHausdorffDistance(g0, g1);\n\t\t\tdist.setDensifyFraction(densifyFrac);\n\t\t\treturn dist.distance();\n\t\t}\n\t}\n\tgetCoordinates() {\n\t\treturn this._ptDist.getCoordinates();\n\t}\n\tsetDensifyFraction(densifyFrac) {\n\t\tif (densifyFrac > 1.0 || densifyFrac <= 0.0) throw new IllegalArgumentException(\"Fraction is not in range (0.0 - 1.0]\");\n\t\tthis._densifyFrac = densifyFrac;\n\t}\n\tcompute(g0, g1) {\n\t\tthis.computeOrientedDistance(g0, g1, this._ptDist);\n\t\tthis.computeOrientedDistance(g1, g0, this._ptDist);\n\t}\n\tdistance() {\n\t\tthis.compute(this._g0, this._g1);\n\t\treturn this._ptDist.getDistance();\n\t}\n\tcomputeOrientedDistance(discreteGeom, geom, ptDist) {\n\t\tvar distFilter = new MaxPointDistanceFilter(geom);\n\t\tdiscreteGeom.apply(distFilter);\n\t\tptDist.setMaximum(distFilter.getMaxPointDistance());\n\t\tif (this._densifyFrac > 0) {\n\t\t\tvar fracFilter = new MaxDensifiedByFractionDistanceFilter(geom, this._densifyFrac);\n\t\t\tdiscreteGeom.apply(fracFilter);\n\t\t\tptDist.setMaximum(fracFilter.getMaxPointDistance());\n\t\t}\n\t}\n\torientedDistance() {\n\t\tthis.computeOrientedDistance(this._g0, this._g1, this._ptDist);\n\t\treturn this._ptDist.getDistance();\n\t}\n\tgetClass() {\n\t\treturn DiscreteHausdorffDistance;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass MaxPointDistanceFilter {\n\tconstructor() {\n\t\tMaxPointDistanceFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(pt) {\n\t\tthis._minPtDist.initialize();\n\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t}\n\tgetMaxPointDistance() {\n\t\treturn this._maxPtDist;\n\t}\n\tgetClass() {\n\t\treturn MaxPointDistanceFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateFilter];\n\t}\n}\nMaxPointDistanceFilter.constructor_ = function () {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._euclideanDist = new DistanceToPoint();\n\tthis._geom = null;\n\tlet geom = arguments[0];\n\tthis._geom = geom;\n};\nclass MaxDensifiedByFractionDistanceFilter {\n\tconstructor() {\n\t\tMaxDensifiedByFractionDistanceFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(seq, index) {\n\t\tif (index === 0) return null;\n\t\tvar p0 = seq.getCoordinate(index - 1);\n\t\tvar p1 = seq.getCoordinate(index);\n\t\tvar delx = (p1.x - p0.x) / this._numSubSegs;\n\t\tvar dely = (p1.y - p0.y) / this._numSubSegs;\n\t\tfor (var i = 0; i < this._numSubSegs; i++) {\n\t\t\tvar x = p0.x + i * delx;\n\t\t\tvar y = p0.y + i * dely;\n\t\t\tvar pt = new Coordinate(x, y);\n\t\t\tthis._minPtDist.initialize();\n\t\t\tDistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n\t\t\tthis._maxPtDist.setMaximum(this._minPtDist);\n\t\t}\n\t}\n\tisDone() {\n\t\treturn false;\n\t}\n\tisGeometryChanged() {\n\t\treturn false;\n\t}\n\tgetMaxPointDistance() {\n\t\treturn this._maxPtDist;\n\t}\n\tgetClass() {\n\t\treturn MaxDensifiedByFractionDistanceFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateSequenceFilter];\n\t}\n}\nMaxDensifiedByFractionDistanceFilter.constructor_ = function () {\n\tthis._maxPtDist = new PointPairDistance();\n\tthis._minPtDist = new PointPairDistance();\n\tthis._geom = null;\n\tthis._numSubSegs = 0;\n\tlet geom = arguments[0], fraction = arguments[1];\n\tthis._geom = geom;\n\tthis._numSubSegs = Math.trunc(Math.round(1.0 / fraction));\n};\nDiscreteHausdorffDistance.MaxPointDistanceFilter = MaxPointDistanceFilter;\nDiscreteHausdorffDistance.MaxDensifiedByFractionDistanceFilter = MaxDensifiedByFractionDistanceFilter;\nDiscreteHausdorffDistance.constructor_ = function () {\n\tthis._g0 = null;\n\tthis._g1 = null;\n\tthis._ptDist = new PointPairDistance();\n\tthis._densifyFrac = 0.0;\n\tlet g0 = arguments[0], g1 = arguments[1];\n\tthis._g0 = g0;\n\tthis._g1 = g1;\n};\n","export default class ItemVisitor {\n\tconstructor() {\n\t\tItemVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisitItem(item) {}\n\tgetClass() {\n\t\treturn ItemVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nItemVisitor.constructor_ = function () {};\n","export default class PointOnGeometryLocator {\n\tconstructor() {\n\t\tPointOnGeometryLocator.constructor_.apply(this, arguments);\n\t}\n\tlocate(p) {}\n\tgetClass() {\n\t\treturn PointOnGeometryLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointOnGeometryLocator.constructor_ = function () {};\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport Double from '../../../../../java/lang/Double';\nimport Comparator from '../../../../../java/util/Comparator';\nexport default class IntervalRTreeNode {\n\tconstructor() {\n\t\tIntervalRTreeNode.constructor_.apply(this, arguments);\n\t}\n\tgetMin() {\n\t\treturn this._min;\n\t}\n\tintersects(queryMin, queryMax) {\n\t\tif (this._min > queryMax || this._max < queryMin) return false;\n\t\treturn true;\n\t}\n\tgetMax() {\n\t\treturn this._max;\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(new Coordinate(this._min, 0), new Coordinate(this._max, 0));\n\t}\n\tgetClass() {\n\t\treturn IntervalRTreeNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass NodeComparator {\n\tconstructor() {\n\t\tNodeComparator.constructor_.apply(this, arguments);\n\t}\n\tcompare(o1, o2) {\n\t\tvar n1 = o1;\n\t\tvar n2 = o2;\n\t\tvar mid1 = (n1._min + n1._max) / 2;\n\t\tvar mid2 = (n2._min + n2._max) / 2;\n\t\tif (mid1 < mid2) return -1;\n\t\tif (mid1 > mid2) return 1;\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn NodeComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nNodeComparator.constructor_ = function () {};\nIntervalRTreeNode.NodeComparator = NodeComparator;\nIntervalRTreeNode.constructor_ = function () {\n\tthis._min = Double.POSITIVE_INFINITY;\n\tthis._max = Double.NEGATIVE_INFINITY;\n};\n","import IntervalRTreeNode from './IntervalRTreeNode';\nexport default class IntervalRTreeLeafNode extends IntervalRTreeNode {\n\tconstructor() {\n\t\tsuper();\n\t\tIntervalRTreeLeafNode.constructor_.apply(this, arguments);\n\t}\n\tquery(queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) return null;\n\t\tvisitor.visitItem(this._item);\n\t}\n\tgetClass() {\n\t\treturn IntervalRTreeLeafNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIntervalRTreeLeafNode.constructor_ = function () {\n\tthis._item = null;\n\tlet min = arguments[0], max = arguments[1], item = arguments[2];\n\tthis._min = min;\n\tthis._max = max;\n\tthis._item = item;\n};\n","import Arrays from './Arrays'\nimport ArrayList from './ArrayList'\n\nconst Collections = {\n  reverseOrder: function () {\n    return {\n      compare (a, b) {\n        return b.compareTo(a)\n      }\n    }\n  },\n  min: function (l) {\n    Collections.sort(l)\n    return l.get(0)\n  },\n  sort: function (l, c) {\n    const a = l.toArray()\n    if (c) {\n      Arrays.sort(a, c)\n    } else {\n      Arrays.sort(a)\n    }\n    const i = l.iterator()\n    for (let pos = 0, alen = a.length; pos < alen; pos++) {\n      i.next()\n      i.set(a[pos])\n    }\n  },\n  singletonList: function (o) {\n    const arrayList = new ArrayList()\n    arrayList.add(o)\n    return arrayList\n  }\n}\n\nexport default Collections\n","import IntervalRTreeNode from './IntervalRTreeNode';\nexport default class IntervalRTreeBranchNode extends IntervalRTreeNode {\n\tconstructor() {\n\t\tsuper();\n\t\tIntervalRTreeBranchNode.constructor_.apply(this, arguments);\n\t}\n\tbuildExtent(n1, n2) {\n\t\tthis._min = Math.min(n1._min, n2._min);\n\t\tthis._max = Math.max(n1._max, n2._max);\n\t}\n\tquery(queryMin, queryMax, visitor) {\n\t\tif (!this.intersects(queryMin, queryMax)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._node1 !== null) this._node1.query(queryMin, queryMax, visitor);\n\t\tif (this._node2 !== null) this._node2.query(queryMin, queryMax, visitor);\n\t}\n\tgetClass() {\n\t\treturn IntervalRTreeBranchNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIntervalRTreeBranchNode.constructor_ = function () {\n\tthis._node1 = null;\n\tthis._node2 = null;\n\tlet n1 = arguments[0], n2 = arguments[1];\n\tthis._node1 = n1;\n\tthis._node2 = n2;\n\tthis.buildExtent(this._node1, this._node2);\n};\n","import WKTWriter from '../../io/WKTWriter';\nimport Coordinate from '../../geom/Coordinate';\nimport IntervalRTreeLeafNode from './IntervalRTreeLeafNode';\nimport IntervalRTreeNode from './IntervalRTreeNode';\nimport Collections from '../../../../../java/util/Collections';\nimport System from '../../../../../java/lang/System';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport IntervalRTreeBranchNode from './IntervalRTreeBranchNode';\nexport default class SortedPackedIntervalRTree {\n\tconstructor() {\n\t\tSortedPackedIntervalRTree.constructor_.apply(this, arguments);\n\t}\n\tbuildTree() {\n\t\tCollections.sort(this._leaves, new IntervalRTreeNode.NodeComparator());\n\t\tvar src = this._leaves;\n\t\tvar temp = null;\n\t\tvar dest = new ArrayList();\n\t\twhile (true) {\n\t\t\tthis.buildLevel(src, dest);\n\t\t\tif (dest.size() === 1) return dest.get(0);\n\t\t\ttemp = src;\n\t\t\tsrc = dest;\n\t\t\tdest = temp;\n\t\t}\n\t}\n\tinsert(min, max, item) {\n\t\tif (this._root !== null) throw new IllegalStateException(\"Index cannot be added to once it has been queried\");\n\t\tthis._leaves.add(new IntervalRTreeLeafNode(min, max, item));\n\t}\n\tquery(min, max, visitor) {\n\t\tthis.init();\n\t\tthis._root.query(min, max, visitor);\n\t}\n\tbuildRoot() {\n\t\tif (this._root !== null) return null;\n\t\tthis._root = this.buildTree();\n\t}\n\tprintNode(node) {\n\t\tSystem.out.println(WKTWriter.toLineString(new Coordinate(node._min, this._level), new Coordinate(node._max, this._level)));\n\t}\n\tinit() {\n\t\tif (this._root !== null) return null;\n\t\tthis.buildRoot();\n\t}\n\tbuildLevel(src, dest) {\n\t\tthis._level++;\n\t\tdest.clear();\n\t\tfor (var i = 0; i < src.size(); i += 2) {\n\t\t\tvar n1 = src.get(i);\n\t\t\tvar n2 = i + 1 < src.size() ? src.get(i) : null;\n\t\t\tif (n2 === null) {\n\t\t\t\tdest.add(n1);\n\t\t\t} else {\n\t\t\t\tvar node = new IntervalRTreeBranchNode(src.get(i), src.get(i + 1));\n\t\t\t\tdest.add(node);\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn SortedPackedIntervalRTree;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSortedPackedIntervalRTree.constructor_ = function () {\n\tthis._leaves = new ArrayList();\n\tthis._root = null;\n\tthis._level = 0;\n};\n","import LineString from '../LineString';\nimport Geometry from '../Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport LinearRing from '../LinearRing';\nimport GeometryComponentFilter from '../GeometryComponentFilter';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class LinearComponentExtracter {\n\tconstructor() {\n\t\tLinearComponentExtracter.constructor_.apply(this, arguments);\n\t}\n\tstatic getGeometry() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\treturn geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom));\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geom = arguments[0], forceToLineString = arguments[1];\n\t\t\treturn geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom, forceToLineString));\n\t\t}\n\t}\n\tstatic getLines() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\treturn LinearComponentExtracter.getLines(geom, false);\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n\t\t\t\tlet geoms = arguments[0], lines = arguments[1];\n\t\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\t\tvar g = i.next();\n\t\t\t\t\tLinearComponentExtracter.getLines(g, lines);\n\t\t\t\t}\n\t\t\t\treturn lines;\n\t\t\t} else if (arguments[0] instanceof Geometry && typeof arguments[1] === \"boolean\") {\n\t\t\t\tlet geom = arguments[0], forceToLineString = arguments[1];\n\t\t\t\tvar lines = new ArrayList();\n\t\t\t\tgeom.apply(new LinearComponentExtracter(lines, forceToLineString));\n\t\t\t\treturn lines;\n\t\t\t} else if (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n\t\t\t\tlet geom = arguments[0], lines = arguments[1];\n\t\t\t\tif (geom instanceof LineString) {\n\t\t\t\t\tlines.add(geom);\n\t\t\t\t} else {\n\t\t\t\t\tgeom.apply(new LinearComponentExtracter(lines));\n\t\t\t\t}\n\t\t\t\treturn lines;\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (typeof arguments[2] === \"boolean\" && (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection))) {\n\t\t\t\tlet geoms = arguments[0], lines = arguments[1], forceToLineString = arguments[2];\n\t\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\t\tvar g = i.next();\n\t\t\t\t\tLinearComponentExtracter.getLines(g, lines, forceToLineString);\n\t\t\t\t}\n\t\t\t\treturn lines;\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection))) {\n\t\t\t\tlet geom = arguments[0], lines = arguments[1], forceToLineString = arguments[2];\n\t\t\t\tgeom.apply(new LinearComponentExtracter(lines, forceToLineString));\n\t\t\t\treturn lines;\n\t\t\t}\n\t\t}\n\t}\n\tfilter(geom) {\n\t\tif (this._isForcedToLineString && geom instanceof LinearRing) {\n\t\t\tvar line = geom.getFactory().createLineString(geom.getCoordinateSequence());\n\t\t\tthis._lines.add(line);\n\t\t\treturn null;\n\t\t}\n\t\tif (geom instanceof LineString) this._lines.add(geom);\n\t}\n\tsetForceToLineString(isForcedToLineString) {\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t}\n\tgetClass() {\n\t\treturn LinearComponentExtracter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t}\n}\nLinearComponentExtracter.constructor_ = function () {\n\tthis._lines = null;\n\tthis._isForcedToLineString = false;\n\tif (arguments.length === 1) {\n\t\tlet lines = arguments[0];\n\t\tthis._lines = lines;\n\t} else if (arguments.length === 2) {\n\t\tlet lines = arguments[0], isForcedToLineString = arguments[1];\n\t\tthis._lines = lines;\n\t\tthis._isForcedToLineString = isForcedToLineString;\n\t}\n};\n","import ItemVisitor from './ItemVisitor';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class ArrayListVisitor {\n\tconstructor() {\n\t\tArrayListVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisitItem(item) {\n\t\tthis._items.add(item);\n\t}\n\tgetItems() {\n\t\treturn this._items;\n\t}\n\tgetClass() {\n\t\treturn ArrayListVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [ItemVisitor];\n\t}\n}\nArrayListVisitor.constructor_ = function () {\n\tthis._items = new ArrayList();\n};\n","import Location from '../geom/Location';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport Orientation from './Orientation';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nexport default class RayCrossingCounter {\n\tconstructor() {\n\t\tRayCrossingCounter.constructor_.apply(this, arguments);\n\t}\n\tstatic locatePointInRing() {\n\t\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\t\tlet p = arguments[0], ring = arguments[1];\n\t\t\tvar counter = new RayCrossingCounter(p);\n\t\t\tvar p1 = new Coordinate();\n\t\t\tvar p2 = new Coordinate();\n\t\t\tfor (var i = 1; i < ring.size(); i++) {\n\t\t\t\tring.getCoordinate(i, p1);\n\t\t\t\tring.getCoordinate(i - 1, p2);\n\t\t\t\tcounter.countSegment(p1, p2);\n\t\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t\t}\n\t\t\treturn counter.getLocation();\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\t\tlet p = arguments[0], ring = arguments[1];\n\t\t\tvar counter = new RayCrossingCounter(p);\n\t\t\tfor (var i = 1; i < ring.length; i++) {\n\t\t\t\tvar p1 = ring[i];\n\t\t\t\tvar p2 = ring[i - 1];\n\t\t\t\tcounter.countSegment(p1, p2);\n\t\t\t\tif (counter.isOnSegment()) return counter.getLocation();\n\t\t\t}\n\t\t\treturn counter.getLocation();\n\t\t}\n\t}\n\tcountSegment(p1, p2) {\n\t\tif (p1.x < this._p.x && p2.x < this._p.x) return null;\n\t\tif (this._p.x === p2.x && this._p.y === p2.y) {\n\t\t\tthis._isPointOnSegment = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y === this._p.y && p2.y === this._p.y) {\n\t\t\tvar minx = p1.x;\n\t\t\tvar maxx = p2.x;\n\t\t\tif (minx > maxx) {\n\t\t\t\tminx = p2.x;\n\t\t\t\tmaxx = p1.x;\n\t\t\t}\n\t\t\tif (this._p.x >= minx && this._p.x <= maxx) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tif (p1.y > this._p.y && p2.y <= this._p.y || p2.y > this._p.y && p1.y <= this._p.y) {\n\t\t\tvar orient = Orientation.index(p1, p2, this._p);\n\t\t\tif (orient === Orientation.COLLINEAR) {\n\t\t\t\tthis._isPointOnSegment = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (p2.y < p1.y) {\n\t\t\t\torient = -orient;\n\t\t\t}\n\t\t\tif (orient === Orientation.LEFT) {\n\t\t\t\tthis._crossingCount++;\n\t\t\t}\n\t\t}\n\t}\n\tisPointInPolygon() {\n\t\treturn this.getLocation() !== Location.EXTERIOR;\n\t}\n\tgetLocation() {\n\t\tif (this._isPointOnSegment) return Location.BOUNDARY;\n\t\tif (this._crossingCount % 2 === 1) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t}\n\tisOnSegment() {\n\t\treturn this._isPointOnSegment;\n\t}\n\tgetClass() {\n\t\treturn RayCrossingCounter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRayCrossingCounter.constructor_ = function () {\n\tthis._p = null;\n\tthis._crossingCount = 0;\n\tthis._isPointOnSegment = false;\n\tlet p = arguments[0];\n\tthis._p = p;\n};\n","import hasInterface from '../../../../../hasInterface';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport ItemVisitor from '../../index/ItemVisitor';\nimport PointOnGeometryLocator from './PointOnGeometryLocator';\nimport LinearRing from '../../geom/LinearRing';\nimport SortedPackedIntervalRTree from '../../index/intervalrtree/SortedPackedIntervalRTree';\nimport LineSegment from '../../geom/LineSegment';\nimport Polygonal from '../../geom/Polygonal';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nimport ArrayListVisitor from '../../index/ArrayListVisitor';\nimport RayCrossingCounter from '../RayCrossingCounter';\nexport default class IndexedPointInAreaLocator {\n\tconstructor() {\n\t\tIndexedPointInAreaLocator.constructor_.apply(this, arguments);\n\t}\n\tlocate(p) {\n\t\tvar rcc = new RayCrossingCounter(p);\n\t\tvar visitor = new SegmentVisitor(rcc);\n\t\tthis._index.query(p.y, p.y, visitor);\n\t\treturn rcc.getLocation();\n\t}\n\tgetClass() {\n\t\treturn IndexedPointInAreaLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [PointOnGeometryLocator];\n\t}\n}\nclass SegmentVisitor {\n\tconstructor() {\n\t\tSegmentVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisitItem(item) {\n\t\tvar seg = item;\n\t\tthis._counter.countSegment(seg.getCoordinate(0), seg.getCoordinate(1));\n\t}\n\tgetClass() {\n\t\treturn SegmentVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [ItemVisitor];\n\t}\n}\nSegmentVisitor.constructor_ = function () {\n\tthis._counter = null;\n\tlet counter = arguments[0];\n\tthis._counter = counter;\n};\nclass IntervalIndexedGeometry {\n\tconstructor() {\n\t\tIntervalIndexedGeometry.constructor_.apply(this, arguments);\n\t}\n\tinit(geom) {\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\tvar line = i.next();\n\t\t\tvar pts = line.getCoordinates();\n\t\t\tthis.addLine(pts);\n\t\t}\n\t}\n\taddLine(pts) {\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tvar seg = new LineSegment(pts[i - 1], pts[i]);\n\t\t\tvar min = Math.min(seg.p0.y, seg.p1.y);\n\t\t\tvar max = Math.max(seg.p0.y, seg.p1.y);\n\t\t\tthis._index.insert(min, max, seg);\n\t\t}\n\t}\n\tquery() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet min = arguments[0], max = arguments[1];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis._index.query(min, max, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet min = arguments[0], max = arguments[1], visitor = arguments[2];\n\t\t\tthis._index.query(min, max, visitor);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn IntervalIndexedGeometry;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIntervalIndexedGeometry.constructor_ = function () {\n\tthis._index = new SortedPackedIntervalRTree();\n\tlet geom = arguments[0];\n\tthis.init(geom);\n};\nIndexedPointInAreaLocator.SegmentVisitor = SegmentVisitor;\nIndexedPointInAreaLocator.IntervalIndexedGeometry = IntervalIndexedGeometry;\nIndexedPointInAreaLocator.constructor_ = function () {\n\tthis._index = null;\n\tlet g = arguments[0];\n\tif (!(hasInterface(g, Polygonal) || g instanceof LinearRing)) throw new IllegalArgumentException(\"Argument must be Polygonal or LinearRing\");\n\tthis._index = new IntervalIndexedGeometry(g);\n};\n","import Location from '../geom/Location';\nimport hasInterface from '../../../../hasInterface';\nimport Coordinate from '../geom/Coordinate';\nimport CoordinateSequence from '../geom/CoordinateSequence';\nimport RobustLineIntersector from './RobustLineIntersector';\nimport RayCrossingCounter from './RayCrossingCounter';\nexport default class PointLocation {\n\tconstructor() {\n\t\tPointLocation.constructor_.apply(this, arguments);\n\t}\n\tstatic isOnLine() {\n\t\tif (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n\t\t\tlet p = arguments[0], line = arguments[1];\n\t\t\tvar lineIntersector = new RobustLineIntersector();\n\t\t\tvar p0 = new Coordinate();\n\t\t\tvar p1 = new Coordinate();\n\t\t\tvar n = line.size();\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tline.getCoordinate(i - 1, p0);\n\t\t\t\tline.getCoordinate(i, p1);\n\t\t\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n\t\t\tlet p = arguments[0], line = arguments[1];\n\t\t\tvar lineIntersector = new RobustLineIntersector();\n\t\t\tfor (var i = 1; i < line.length; i++) {\n\t\t\t\tvar p0 = line[i - 1];\n\t\t\t\tvar p1 = line[i];\n\t\t\t\tlineIntersector.computeIntersection(p, p0, p1);\n\t\t\t\tif (lineIntersector.hasIntersection()) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\tstatic locateInRing(p, ring) {\n\t\treturn RayCrossingCounter.locatePointInRing(p, ring);\n\t}\n\tstatic isInRing(p, ring) {\n\t\treturn PointLocation.locateInRing(p, ring) !== Location.EXTERIOR;\n\t}\n\tgetClass() {\n\t\treturn PointLocation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointLocation.constructor_ = function () {};\n","import Iterator from '../../../../java/util/Iterator';\nimport NoSuchElementException from '../../../../java/util/NoSuchElementException';\nimport GeometryCollection from './GeometryCollection';\nexport default class GeometryCollectionIterator {\n\tconstructor() {\n\t\tGeometryCollectionIterator.constructor_.apply(this, arguments);\n\t}\n\tstatic isAtomic(geom) {\n\t\treturn !(geom instanceof GeometryCollection);\n\t}\n\tnext() {\n\t\tif (this._atStart) {\n\t\t\tthis._atStart = false;\n\t\t\tif (GeometryCollectionIterator.isAtomic(this._parent)) this._index++;\n\t\t\treturn this._parent;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn this._subcollectionIterator.next();\n\t\t\t} else {\n\t\t\t\tthis._subcollectionIterator = null;\n\t\t\t}\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\tthrow new NoSuchElementException();\n\t\t}\n\t\tvar obj = this._parent.getGeometryN(this._index++);\n\t\tif (obj instanceof GeometryCollection) {\n\t\t\tthis._subcollectionIterator = new GeometryCollectionIterator(obj);\n\t\t\treturn this._subcollectionIterator.next();\n\t\t}\n\t\treturn obj;\n\t}\n\tremove() {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t}\n\thasNext() {\n\t\tif (this._atStart) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this._subcollectionIterator !== null) {\n\t\t\tif (this._subcollectionIterator.hasNext()) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._subcollectionIterator = null;\n\t\t}\n\t\tif (this._index >= this._max) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn GeometryCollectionIterator;\n\t}\n\tget interfaces_() {\n\t\treturn [Iterator];\n\t}\n}\nGeometryCollectionIterator.constructor_ = function () {\n\tthis._parent = null;\n\tthis._atStart = null;\n\tthis._max = null;\n\tthis._index = null;\n\tthis._subcollectionIterator = null;\n\tlet parent = arguments[0];\n\tthis._parent = parent;\n\tthis._atStart = true;\n\tthis._index = 0;\n\tthis._max = parent.getNumGeometries();\n};\n","import Location from '../../geom/Location';\nimport Polygon from '../../geom/Polygon';\nimport PointLocation from '../PointLocation';\nimport PointOnGeometryLocator from './PointOnGeometryLocator';\nimport GeometryCollectionIterator from '../../geom/GeometryCollectionIterator';\nimport GeometryCollection from '../../geom/GeometryCollection';\nexport default class SimplePointInAreaLocator {\n\tconstructor() {\n\t\tSimplePointInAreaLocator.constructor_.apply(this, arguments);\n\t}\n\tstatic locatePointInPolygon(p, poly) {\n\t\tif (poly.isEmpty()) return Location.EXTERIOR;\n\t\tvar shell = poly.getExteriorRing();\n\t\tvar shellLoc = SimplePointInAreaLocator.locatePointInRing(p, shell);\n\t\tif (shellLoc !== Location.INTERIOR) return shellLoc;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tvar hole = poly.getInteriorRingN(i);\n\t\t\tvar holeLoc = SimplePointInAreaLocator.locatePointInRing(p, hole);\n\t\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t\t}\n\t\treturn Location.INTERIOR;\n\t}\n\tstatic locatePointInRing(p, ring) {\n\t\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n\t}\n\tstatic containsPointInPolygon(p, poly) {\n\t\treturn Location.EXTERIOR !== SimplePointInAreaLocator.locatePointInPolygon(p, poly);\n\t}\n\tstatic locateInGeometry(p, geom) {\n\t\tif (geom instanceof Polygon) {\n\t\t\treturn SimplePointInAreaLocator.locatePointInPolygon(p, geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\t\twhile (geomi.hasNext()) {\n\t\t\t\tvar g2 = geomi.next();\n\t\t\t\tif (g2 !== geom) {\n\t\t\t\t\tvar loc = SimplePointInAreaLocator.locateInGeometry(p, g2);\n\t\t\t\t\tif (loc !== Location.EXTERIOR) return loc;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t}\n\tstatic locate(p, geom) {\n\t\tif (geom.isEmpty()) return Location.EXTERIOR;\n\t\treturn SimplePointInAreaLocator.locateInGeometry(p, geom);\n\t}\n\tlocate(p) {\n\t\treturn SimplePointInAreaLocator.locate(p, this._geom);\n\t}\n\tgetClass() {\n\t\treturn SimplePointInAreaLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [PointOnGeometryLocator];\n\t}\n}\nSimplePointInAreaLocator.constructor_ = function () {\n\tthis._geom = null;\n\tlet geom = arguments[0];\n\tthis._geom = geom;\n};\n","export default class SimilarityMeasure {\n\tconstructor() {\n\t\tSimilarityMeasure.constructor_.apply(this, arguments);\n\t}\n\tmeasure(g1, g2) {}\n\tgetClass() {\n\t\treturn SimilarityMeasure;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSimilarityMeasure.constructor_ = function () {};\n","import SimilarityMeasure from './SimilarityMeasure';\nexport default class AreaSimilarityMeasure {\n\tconstructor() {\n\t\tAreaSimilarityMeasure.constructor_.apply(this, arguments);\n\t}\n\tmeasure(g1, g2) {\n\t\tvar areaInt = g1.intersection(g2).getArea();\n\t\tvar areaUnion = g1.union(g2).getArea();\n\t\treturn areaInt / areaUnion;\n\t}\n\tgetClass() {\n\t\treturn AreaSimilarityMeasure;\n\t}\n\tget interfaces_() {\n\t\treturn [SimilarityMeasure];\n\t}\n}\nAreaSimilarityMeasure.constructor_ = function () {};\n","import SimilarityMeasure from './SimilarityMeasure';\nimport Envelope from '../../geom/Envelope';\nimport DiscreteHausdorffDistance from '../distance/DiscreteHausdorffDistance';\nexport default class HausdorffSimilarityMeasure {\n\tconstructor() {\n\t\tHausdorffSimilarityMeasure.constructor_.apply(this, arguments);\n\t}\n\tstatic diagonalSize(env) {\n\t\tif (env.isNull()) return 0.0;\n\t\tvar width = env.getWidth();\n\t\tvar hgt = env.getHeight();\n\t\treturn Math.sqrt(width * width + hgt * hgt);\n\t}\n\tmeasure(g1, g2) {\n\t\tvar distance = DiscreteHausdorffDistance.distance(g1, g2, HausdorffSimilarityMeasure.DENSIFY_FRACTION);\n\t\tvar env = new Envelope(g1.getEnvelopeInternal());\n\t\tenv.expandToInclude(g2.getEnvelopeInternal());\n\t\tvar envSize = HausdorffSimilarityMeasure.diagonalSize(env);\n\t\tvar measure = 1 - distance / envSize;\n\t\treturn measure;\n\t}\n\tgetClass() {\n\t\treturn HausdorffSimilarityMeasure;\n\t}\n\tget interfaces_() {\n\t\treturn [SimilarityMeasure];\n\t}\n}\nHausdorffSimilarityMeasure.constructor_ = function () {};\nHausdorffSimilarityMeasure.DENSIFY_FRACTION = 0.25;\n","export default class SimilarityMeasureCombiner {\n\tconstructor() {\n\t\tSimilarityMeasureCombiner.constructor_.apply(this, arguments);\n\t}\n\tstatic combine(measure1, measure2) {\n\t\treturn Math.min(measure1, measure2);\n\t}\n\tgetClass() {\n\t\treturn SimilarityMeasureCombiner;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSimilarityMeasureCombiner.constructor_ = function () {};\n","import LineString from '../geom/LineString';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport Orientation from './Orientation';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default class Centroid {\n\tconstructor() {\n\t\tCentroid.constructor_.apply(this, arguments);\n\t}\n\tstatic area2(p1, p2, p3) {\n\t\treturn (p2.x - p1.x) * (p3.y - p1.y) - (p3.x - p1.x) * (p2.y - p1.y);\n\t}\n\tstatic centroid3(p1, p2, p3, c) {\n\t\tc.x = p1.x + p2.x + p3.x;\n\t\tc.y = p1.y + p2.y + p3.y;\n\t\treturn null;\n\t}\n\tstatic getCentroid(geom) {\n\t\tvar cent = new Centroid(geom);\n\t\treturn cent.getCentroid();\n\t}\n\tsetAreaBasePoint(basePt) {\n\t\tthis._areaBasePt = basePt;\n\t}\n\taddPoint(pt) {\n\t\tthis._ptCount += 1;\n\t\tthis._ptCentSum.x += pt.x;\n\t\tthis._ptCentSum.y += pt.y;\n\t}\n\taddLineSegments(pts) {\n\t\tvar lineLen = 0.0;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segmentLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segmentLen === 0.0) continue;\n\t\t\tlineLen += segmentLen;\n\t\t\tvar midx = (pts[i].x + pts[i + 1].x) / 2;\n\t\t\tthis._lineCentSum.x += segmentLen * midx;\n\t\t\tvar midy = (pts[i].y + pts[i + 1].y) / 2;\n\t\t\tthis._lineCentSum.y += segmentLen * midy;\n\t\t}\n\t\tthis._totalLength += lineLen;\n\t\tif (lineLen === 0.0 && pts.length > 0) this.addPoint(pts[0]);\n\t}\n\taddHole(pts) {\n\t\tvar isPositiveArea = Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t}\n\tgetCentroid() {\n\t\tvar cent = new Coordinate();\n\t\tif (Math.abs(this._areasum2) > 0.0) {\n\t\t\tcent.x = this._cg3.x / 3 / this._areasum2;\n\t\t\tcent.y = this._cg3.y / 3 / this._areasum2;\n\t\t} else if (this._totalLength > 0.0) {\n\t\t\tcent.x = this._lineCentSum.x / this._totalLength;\n\t\t\tcent.y = this._lineCentSum.y / this._totalLength;\n\t\t} else if (this._ptCount > 0) {\n\t\t\tcent.x = this._ptCentSum.x / this._ptCount;\n\t\t\tcent.y = this._ptCentSum.y / this._ptCount;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\treturn cent;\n\t}\n\taddShell(pts) {\n\t\tif (pts.length > 0) this.setAreaBasePoint(pts[0]);\n\t\tvar isPositiveArea = !Orientation.isCCW(pts);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tthis.addTriangle(this._areaBasePt, pts[i], pts[i + 1], isPositiveArea);\n\t\t}\n\t\tthis.addLineSegments(pts);\n\t}\n\taddTriangle(p0, p1, p2, isPositiveArea) {\n\t\tvar sign = isPositiveArea ? 1.0 : -1.0;\n\t\tCentroid.centroid3(p0, p1, p2, this._triangleCent3);\n\t\tvar area2 = Centroid.area2(p0, p1, p2);\n\t\tthis._cg3.x += sign * area2 * this._triangleCent3.x;\n\t\tthis._cg3.y += sign * area2 * this._triangleCent3.y;\n\t\tthis._areasum2 += sign * area2;\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof Polygon) {\n\t\t\tlet poly = arguments[0];\n\t\t\tthis.addShell(poly.getExteriorRing().getCoordinates());\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.addHole(poly.getInteriorRingN(i).getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom.isEmpty()) return null;\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.addPoint(geom.getCoordinate());\n\t\t\t} else if (geom instanceof LineString) {\n\t\t\t\tthis.addLineSegments(geom.getCoordinates());\n\t\t\t} else if (geom instanceof Polygon) {\n\t\t\t\tvar poly = geom;\n\t\t\t\tthis.add(poly);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Centroid;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCentroid.constructor_ = function () {\n\tthis._areaBasePt = null;\n\tthis._triangleCent3 = new Coordinate();\n\tthis._areasum2 = 0;\n\tthis._cg3 = new Coordinate();\n\tthis._lineCentSum = new Coordinate();\n\tthis._totalLength = 0.0;\n\tthis._ptCount = 0;\n\tthis._ptCentSum = new Coordinate();\n\tlet geom = arguments[0];\n\tthis._areaBasePt = null;\n\tthis.add(geom);\n};\n","/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nexport default function EmptyStackException(message) {\n  this.message = message || '';\n};\nEmptyStackException.prototype = new Error();\n\n\n/**\n * @type {string}\n */\nEmptyStackException.prototype.name = 'EmptyStackException';\n","import EmptyStackException from './EmptyStackException'\nimport List from './List'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Stack.html\n *\n * @extends {List}\n * @constructor\n * @private\n */\nexport default function Stack() {\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.array_ = [];\n};\nStack.prototype = new List();\n\n\n/**\n * @override\n */\nStack.prototype.add = function(e) {\n  this.array_.push(e);\n  return true;\n};\n\n\n/**\n * @override\n */\nStack.prototype.get = function(index) {\n  if (index < 0 || index >= this.size()) {\n    throw new IndexOutOfBoundsException();\n  }\n\n  return this.array_[index];\n};\n\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.push = function(e) {\n  this.array_.push(e);\n  return e;\n};\n\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.pop = function(e) {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_.pop();\n};\n\n\n/**\n * Looks at the object at the top of this stack without removing it from the\n * stack.\n * @return {Object}\n */\nStack.prototype.peek = function() {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException();\n  }\n\n  return this.array_[this.array_.length - 1];\n};\n\n\n/**\n * Tests if this stack is empty.\n * @return {boolean} true if and only if this stack contains no items; false\n *         otherwise.\n */\nStack.prototype.empty = function() {\n  if (this.array_.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\n\n/**\n * @return {boolean}\n */\nStack.prototype.isEmpty = function() {\n  return this.empty();\n};\n\n\n/**\n * Returns the 1-based position where an object is on this stack. If the object\n * o occurs as an item in this stack, this method returns the distance from the\n * top of the stack of the occurrence nearest the top of the stack; the topmost\n * item on the stack is considered to be at distance 1. The equals method is\n * used to compare o to the items in this stack.\n *\n * NOTE: does not currently actually use equals. (=== is used)\n *\n * @param {Object} o\n * @return {number} the 1-based position from the top of the stack where the\n *         object is located; the return value -1 indicates that the object is\n *         not on the stack.\n */\nStack.prototype.search = function(o) {\n  return this.array_.indexOf(o);\n};\n\n\n/**\n * @return {number}\n * @export\n */\nStack.prototype.size = function() {\n  return this.array_.length;\n};\n\n\n/**\n * @return {Array}\n */\nStack.prototype.toArray = function() {\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this.array_[i]);\n  }\n\n  return array;\n};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport CoordinateFilter from '../geom/CoordinateFilter';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class UniqueCoordinateArrayFilter {\n\tconstructor() {\n\t\tUniqueCoordinateArrayFilter.constructor_.apply(this, arguments);\n\t}\n\tstatic filterCoordinates(coords) {\n\t\tvar filter = new UniqueCoordinateArrayFilter();\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tfilter.filter(coords[i]);\n\t\t}\n\t\treturn filter.getCoordinates();\n\t}\n\tfilter(coord) {\n\t\tif (!this.treeSet.contains(coord)) {\n\t\t\tthis.list.add(coord);\n\t\t\tthis.treeSet.add(coord);\n\t\t}\n\t}\n\tgetCoordinates() {\n\t\tvar coordinates = new Array(this.list.size()).fill(null);\n\t\treturn this.list.toArray(coordinates);\n\t}\n\tgetClass() {\n\t\treturn UniqueCoordinateArrayFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateFilter];\n\t}\n}\nUniqueCoordinateArrayFilter.constructor_ = function () {\n\tthis.treeSet = new TreeSet();\n\tthis.list = new ArrayList();\n};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport CoordinateList from '../geom/CoordinateList';\nimport Arrays from '../../../../java/util/Arrays';\nimport PointLocation from './PointLocation';\nimport Stack from '../../../../java/util/Stack';\nimport Orientation from './Orientation';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Comparator from '../../../../java/util/Comparator';\nimport UniqueCoordinateArrayFilter from '../util/UniqueCoordinateArrayFilter';\nimport Assert from '../util/Assert';\nexport default class ConvexHull {\n\tconstructor() {\n\t\tConvexHull.constructor_.apply(this, arguments);\n\t}\n\tstatic extractCoordinates(geom) {\n\t\tvar filter = new UniqueCoordinateArrayFilter();\n\t\tgeom.apply(filter);\n\t\treturn filter.getCoordinates();\n\t}\n\tpreSort(pts) {\n\t\tvar t = null;\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tif (pts[i].y < pts[0].y || pts[i].y === pts[0].y && pts[i].x < pts[0].x) {\n\t\t\t\tt = pts[0];\n\t\t\t\tpts[0] = pts[i];\n\t\t\t\tpts[i] = t;\n\t\t\t}\n\t\t}\n\t\tArrays.sort(pts, 1, pts.length, new RadialComparator(pts[0]));\n\t\treturn pts;\n\t}\n\tcomputeOctRing(inputPts) {\n\t\tvar octPts = this.computeOctPts(inputPts);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.add(octPts, false);\n\t\tif (coordList.size() < 3) {\n\t\t\treturn null;\n\t\t}\n\t\tcoordList.closeRing();\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tlineOrPolygon(coordinates) {\n\t\tcoordinates = this.cleanRing(coordinates);\n\t\tif (coordinates.length === 3) {\n\t\t\treturn this._geomFactory.createLineString([coordinates[0], coordinates[1]]);\n\t\t}\n\t\tvar linearRing = this._geomFactory.createLinearRing(coordinates);\n\t\treturn this._geomFactory.createPolygon(linearRing);\n\t}\n\tcleanRing(original) {\n\t\tAssert.equals(original[0], original[original.length - 1]);\n\t\tvar cleanedRing = new ArrayList();\n\t\tvar previousDistinctCoordinate = null;\n\t\tfor (var i = 0; i <= original.length - 2; i++) {\n\t\t\tvar currentCoordinate = original[i];\n\t\t\tvar nextCoordinate = original[i + 1];\n\t\t\tif (currentCoordinate.equals(nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (previousDistinctCoordinate !== null && this.isBetween(previousDistinctCoordinate, currentCoordinate, nextCoordinate)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcleanedRing.add(currentCoordinate);\n\t\t\tpreviousDistinctCoordinate = currentCoordinate;\n\t\t}\n\t\tcleanedRing.add(original[original.length - 1]);\n\t\tvar cleanedRingCoordinates = new Array(cleanedRing.size()).fill(null);\n\t\treturn cleanedRing.toArray(cleanedRingCoordinates);\n\t}\n\tisBetween(c1, c2, c3) {\n\t\tif (Orientation.index(c1, c2, c3) !== 0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (c1.x !== c3.x) {\n\t\t\tif (c1.x <= c2.x && c2.x <= c3.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.x <= c2.x && c2.x <= c1.x) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\tif (c1.y !== c3.y) {\n\t\t\tif (c1.y <= c2.y && c2.y <= c3.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (c3.y <= c2.y && c2.y <= c1.y) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\treduce(inputPts) {\n\t\tvar polyPts = this.computeOctRing(inputPts);\n\t\tif (polyPts === null) return inputPts;\n\t\tvar reducedSet = new TreeSet();\n\t\tfor (var i = 0; i < polyPts.length; i++) {\n\t\t\treducedSet.add(polyPts[i]);\n\t\t}\n\t\tfor (var i = 0; i < inputPts.length; i++) {\n\t\t\tif (!PointLocation.isInRing(inputPts[i], polyPts)) {\n\t\t\t\treducedSet.add(inputPts[i]);\n\t\t\t}\n\t\t}\n\t\tvar reducedPts = CoordinateArrays.toCoordinateArray(reducedSet);\n\t\tif (reducedPts.length < 3) return this.padArray3(reducedPts);\n\t\treturn reducedPts;\n\t}\n\tgetConvexHull() {\n\t\tif (this._inputPts.length === 0) {\n\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t}\n\t\tif (this._inputPts.length === 1) {\n\t\t\treturn this._geomFactory.createPoint(this._inputPts[0]);\n\t\t}\n\t\tif (this._inputPts.length === 2) {\n\t\t\treturn this._geomFactory.createLineString(this._inputPts);\n\t\t}\n\t\tvar reducedPts = this._inputPts;\n\t\tif (this._inputPts.length > 50) {\n\t\t\treducedPts = this.reduce(this._inputPts);\n\t\t}\n\t\tvar sortedPts = this.preSort(reducedPts);\n\t\tvar cHS = this.grahamScan(sortedPts);\n\t\tvar cH = this.toCoordinateArray(cHS);\n\t\treturn this.lineOrPolygon(cH);\n\t}\n\tpadArray3(pts) {\n\t\tvar pad = new Array(3).fill(null);\n\t\tfor (var i = 0; i < pad.length; i++) {\n\t\t\tif (i < pts.length) {\n\t\t\t\tpad[i] = pts[i];\n\t\t\t} else pad[i] = pts[0];\n\t\t}\n\t\treturn pad;\n\t}\n\tcomputeOctPts(inputPts) {\n\t\tvar pts = new Array(8).fill(null);\n\t\tfor (var j = 0; j < pts.length; j++) {\n\t\t\tpts[j] = inputPts[0];\n\t\t}\n\t\tfor (var i = 1; i < inputPts.length; i++) {\n\t\t\tif (inputPts[i].x < pts[0].x) {\n\t\t\t\tpts[0] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y < pts[1].x - pts[1].y) {\n\t\t\t\tpts[1] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y > pts[2].y) {\n\t\t\t\tpts[2] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y > pts[3].x + pts[3].y) {\n\t\t\t\tpts[3] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x > pts[4].x) {\n\t\t\t\tpts[4] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x - inputPts[i].y > pts[5].x - pts[5].y) {\n\t\t\t\tpts[5] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].y < pts[6].y) {\n\t\t\t\tpts[6] = inputPts[i];\n\t\t\t}\n\t\t\tif (inputPts[i].x + inputPts[i].y < pts[7].x + pts[7].y) {\n\t\t\t\tpts[7] = inputPts[i];\n\t\t\t}\n\t\t}\n\t\treturn pts;\n\t}\n\ttoCoordinateArray(stack) {\n\t\tvar coordinates = new Array(stack.size()).fill(null);\n\t\tfor (var i = 0; i < stack.size(); i++) {\n\t\t\tvar coordinate = stack.get(i);\n\t\t\tcoordinates[i] = coordinate;\n\t\t}\n\t\treturn coordinates;\n\t}\n\tgrahamScan(c) {\n\t\tvar p = null;\n\t\tvar ps = new Stack();\n\t\tps.push(c[0]);\n\t\tps.push(c[1]);\n\t\tps.push(c[2]);\n\t\tfor (var i = 3; i < c.length; i++) {\n\t\t\tp = ps.pop();\n\t\t\twhile (!ps.empty() && Orientation.index(ps.peek(), p, c[i]) > 0) {\n\t\t\t\tp = ps.pop();\n\t\t\t}\n\t\t\tps.push(p);\n\t\t\tps.push(c[i]);\n\t\t}\n\t\tps.push(c[0]);\n\t\treturn ps;\n\t}\n\tgetClass() {\n\t\treturn ConvexHull;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass RadialComparator {\n\tconstructor() {\n\t\tRadialComparator.constructor_.apply(this, arguments);\n\t}\n\tstatic polarCompare(o, p, q) {\n\t\tvar dxp = p.x - o.x;\n\t\tvar dyp = p.y - o.y;\n\t\tvar dxq = q.x - o.x;\n\t\tvar dyq = q.y - o.y;\n\t\tvar orient = Orientation.index(o, p, q);\n\t\tif (orient === Orientation.COUNTERCLOCKWISE) return 1;\n\t\tif (orient === Orientation.CLOCKWISE) return -1;\n\t\tvar op = dxp * dxp + dyp * dyp;\n\t\tvar oq = dxq * dxq + dyq * dyq;\n\t\tif (op < oq) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (op > oq) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\tcompare(o1, o2) {\n\t\tvar p1 = o1;\n\t\tvar p2 = o2;\n\t\treturn RadialComparator.polarCompare(this._origin, p1, p2);\n\t}\n\tgetClass() {\n\t\treturn RadialComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nRadialComparator.constructor_ = function () {\n\tthis._origin = null;\n\tlet origin = arguments[0];\n\tthis._origin = origin;\n};\nConvexHull.RadialComparator = RadialComparator;\nConvexHull.constructor_ = function () {\n\tthis._geomFactory = null;\n\tthis._inputPts = null;\n\tif (arguments.length === 1) {\n\t\tlet geometry = arguments[0];\n\t\tConvexHull.constructor_.call(this, ConvexHull.extractCoordinates(geometry), geometry.getFactory());\n\t} else if (arguments.length === 2) {\n\t\tlet pts = arguments[0], geomFactory = arguments[1];\n\t\tthis._inputPts = UniqueCoordinateArrayFilter.filterCoordinates(pts);\n\t\tthis._geomFactory = geomFactory;\n\t}\n};\n","import Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Polygon from '../geom/Polygon';\nimport Double from '../../../../java/lang/Double';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default class InteriorPointArea {\n\tconstructor() {\n\t\tInteriorPointArea.constructor_.apply(this, arguments);\n\t}\n\tstatic centre(envelope) {\n\t\treturn new Coordinate(InteriorPointArea.avg(envelope.getMinX(), envelope.getMaxX()), InteriorPointArea.avg(envelope.getMinY(), envelope.getMaxY()));\n\t}\n\tstatic avg(a, b) {\n\t\treturn (a + b) / 2.0;\n\t}\n\taddPolygon(geometry) {\n\t\tif (geometry.isEmpty()) return null;\n\t\tvar intPt = null;\n\t\tvar width = null;\n\t\tvar bisector = this.horizontalBisector(geometry);\n\t\tif (bisector.getLength() === 0.0) {\n\t\t\twidth = 0;\n\t\t\tintPt = bisector.getCoordinate();\n\t\t} else {\n\t\t\tvar intersections = bisector.intersection(geometry);\n\t\t\tvar widestIntersection = this.widestGeometry(intersections);\n\t\t\twidth = widestIntersection.getEnvelopeInternal().getWidth();\n\t\t\tintPt = InteriorPointArea.centre(widestIntersection.getEnvelopeInternal());\n\t\t}\n\t\tif (this._interiorPoint === null || width > this._maxWidth) {\n\t\t\tthis._interiorPoint = intPt;\n\t\t\tthis._maxWidth = width;\n\t\t}\n\t}\n\tgetInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t}\n\twidestGeometry() {\n\t\tif (arguments[0] instanceof GeometryCollection) {\n\t\t\tlet gc = arguments[0];\n\t\t\tif (gc.isEmpty()) {\n\t\t\t\treturn gc;\n\t\t\t}\n\t\t\tvar widestGeometry = gc.getGeometryN(0);\n\t\t\tfor (var i = 1; i < gc.getNumGeometries(); i++) {\n\t\t\t\tif (gc.getGeometryN(i).getEnvelopeInternal().getWidth() > widestGeometry.getEnvelopeInternal().getWidth()) {\n\t\t\t\t\twidestGeometry = gc.getGeometryN(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn widestGeometry;\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tif (!(geometry instanceof GeometryCollection)) {\n\t\t\t\treturn geometry;\n\t\t\t}\n\t\t\treturn this.widestGeometry(geometry);\n\t\t}\n\t}\n\thorizontalBisector(geometry) {\n\t\tvar envelope = geometry.getEnvelopeInternal();\n\t\tvar bisectY = SafeBisectorFinder.getBisectorY(geometry);\n\t\treturn this._factory.createLineString([new Coordinate(envelope.getMinX(), bisectY), new Coordinate(envelope.getMaxX(), bisectY)]);\n\t}\n\tadd(geom) {\n\t\tif (geom instanceof Polygon) {\n\t\t\tthis.addPolygon(geom);\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar gc = geom;\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn InteriorPointArea;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass SafeBisectorFinder {\n\tconstructor() {\n\t\tSafeBisectorFinder.constructor_.apply(this, arguments);\n\t}\n\tstatic getBisectorY(poly) {\n\t\tvar finder = new SafeBisectorFinder(poly);\n\t\treturn finder.getBisectorY();\n\t}\n\tupdateInterval(y) {\n\t\tif (y <= this._centreY) {\n\t\t\tif (y > this._loY) this._loY = y;\n\t\t} else if (y > this._centreY) {\n\t\t\tif (y < this._hiY) {\n\t\t\t\tthis._hiY = y;\n\t\t\t}\n\t\t}\n\t}\n\tgetBisectorY() {\n\t\tthis.process(this._poly.getExteriorRing());\n\t\tfor (var i = 0; i < this._poly.getNumInteriorRing(); i++) {\n\t\t\tthis.process(this._poly.getInteriorRingN(i));\n\t\t}\n\t\tvar bisectY = InteriorPointArea.avg(this._hiY, this._loY);\n\t\treturn bisectY;\n\t}\n\tprocess(line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tfor (var i = 0; i < seq.size(); i++) {\n\t\t\tvar y = seq.getY(i);\n\t\t\tthis.updateInterval(y);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn SafeBisectorFinder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSafeBisectorFinder.constructor_ = function () {\n\tthis._poly = null;\n\tthis._centreY = null;\n\tthis._hiY = Double.MAX_VALUE;\n\tthis._loY = -Double.MAX_VALUE;\n\tlet poly = arguments[0];\n\tthis._poly = poly;\n\tthis._hiY = poly.getEnvelopeInternal().getMaxY();\n\tthis._loY = poly.getEnvelopeInternal().getMinY();\n\tthis._centreY = InteriorPointArea.avg(this._loY, this._hiY);\n};\nInteriorPointArea.SafeBisectorFinder = SafeBisectorFinder;\nInteriorPointArea.constructor_ = function () {\n\tthis._factory = null;\n\tthis._interiorPoint = null;\n\tthis._maxWidth = 0.0;\n\tlet g = arguments[0];\n\tthis._factory = g.getFactory();\n\tthis.add(g);\n};\n","import LineString from '../geom/LineString';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default class InteriorPointLine {\n\tconstructor() {\n\t\tInteriorPointLine.constructor_.apply(this, arguments);\n\t}\n\taddEndpoints() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addEndpoints(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addEndpoints(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tthis.add(pts[0]);\n\t\t\tthis.add(pts[pts.length - 1]);\n\t\t}\n\t}\n\tgetInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t}\n\taddInterior() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof LineString) {\n\t\t\t\tthis.addInterior(geom.getCoordinates());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.addInterior(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tfor (var i = 1; i < pts.length - 1; i++) {\n\t\t\t\tthis.add(pts[i]);\n\t\t\t}\n\t\t}\n\t}\n\tadd(point) {\n\t\tvar dist = point.distance(this._centroid);\n\t\tif (dist < this._minDistance) {\n\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\tthis._minDistance = dist;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn InteriorPointLine;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nInteriorPointLine.constructor_ = function () {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tlet g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.addInterior(g);\n\tif (this._interiorPoint === null) this.addEndpoints(g);\n};\n","import Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Double from '../../../../java/lang/Double';\nimport GeometryCollection from '../geom/GeometryCollection';\nexport default class InteriorPointPoint {\n\tconstructor() {\n\t\tInteriorPointPoint.constructor_.apply(this, arguments);\n\t}\n\tgetInteriorPoint() {\n\t\treturn this._interiorPoint;\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tthis.add(geom.getCoordinate());\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tvar gc = geom;\n\t\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\t\tthis.add(gc.getGeometryN(i));\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet point = arguments[0];\n\t\t\tvar dist = point.distance(this._centroid);\n\t\t\tif (dist < this._minDistance) {\n\t\t\t\tthis._interiorPoint = new Coordinate(point);\n\t\t\t\tthis._minDistance = dist;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn InteriorPointPoint;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nInteriorPointPoint.constructor_ = function () {\n\tthis._centroid = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tthis._interiorPoint = null;\n\tlet g = arguments[0];\n\tthis._centroid = g.getCentroid().getCoordinate();\n\tthis.add(g);\n};\n","import Location from '../geom/Location';\nimport LineString from '../geom/LineString';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport PointLocation from './PointLocation';\nimport BoundaryNodeRule from './BoundaryNodeRule';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport GeometryCollectionIterator from '../geom/GeometryCollectionIterator';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport MultiLineString from '../geom/MultiLineString';\nexport default class PointLocator {\n\tconstructor() {\n\t\tPointLocator.constructor_.apply(this, arguments);\n\t}\n\tlocateInPolygonRing(p, ring) {\n\t\tif (!ring.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\treturn PointLocation.locateInRing(p, ring.getCoordinates());\n\t}\n\tintersects(p, geom) {\n\t\treturn this.locate(p, geom) !== Location.EXTERIOR;\n\t}\n\tupdateLocationInfo(loc) {\n\t\tif (loc === Location.INTERIOR) this._isIn = true;\n\t\tif (loc === Location.BOUNDARY) this._numBoundaries++;\n\t}\n\tcomputeLocation(p, geom) {\n\t\tif (geom instanceof Point) {\n\t\t\tthis.updateLocationInfo(this.locateOnPoint(p, geom));\n\t\t}\n\t\tif (geom instanceof LineString) {\n\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, geom));\n\t\t} else if (geom instanceof Polygon) {\n\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, geom));\n\t\t} else if (geom instanceof MultiLineString) {\n\t\t\tvar ml = geom;\n\t\t\tfor (var i = 0; i < ml.getNumGeometries(); i++) {\n\t\t\t\tvar l = ml.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateOnLineString(p, l));\n\t\t\t}\n\t\t} else if (geom instanceof MultiPolygon) {\n\t\t\tvar mpoly = geom;\n\t\t\tfor (var i = 0; i < mpoly.getNumGeometries(); i++) {\n\t\t\t\tvar poly = mpoly.getGeometryN(i);\n\t\t\t\tthis.updateLocationInfo(this.locateInPolygon(p, poly));\n\t\t\t}\n\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\tvar geomi = new GeometryCollectionIterator(geom);\n\t\t\twhile (geomi.hasNext()) {\n\t\t\t\tvar g2 = geomi.next();\n\t\t\t\tif (g2 !== geom) this.computeLocation(p, g2);\n\t\t\t}\n\t\t}\n\t}\n\tlocateOnPoint(p, pt) {\n\t\tvar ptCoord = pt.getCoordinate();\n\t\tif (ptCoord.equals2D(p)) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t}\n\tlocateOnLineString(p, l) {\n\t\tif (!l.getEnvelopeInternal().intersects(p)) return Location.EXTERIOR;\n\t\tvar seq = l.getCoordinateSequence();\n\t\tif (!l.isClosed()) {\n\t\t\tif (p.equals(seq.getCoordinate(0)) || p.equals(seq.getCoordinate(seq.size() - 1))) {\n\t\t\t\treturn Location.BOUNDARY;\n\t\t\t}\n\t\t}\n\t\tif (PointLocation.isOnLine(p, seq)) {\n\t\t\treturn Location.INTERIOR;\n\t\t}\n\t\treturn Location.EXTERIOR;\n\t}\n\tlocateInPolygon(p, poly) {\n\t\tif (poly.isEmpty()) return Location.EXTERIOR;\n\t\tvar shell = poly.getExteriorRing();\n\t\tvar shellLoc = this.locateInPolygonRing(p, shell);\n\t\tif (shellLoc === Location.EXTERIOR) return Location.EXTERIOR;\n\t\tif (shellLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tvar hole = poly.getInteriorRingN(i);\n\t\t\tvar holeLoc = this.locateInPolygonRing(p, hole);\n\t\t\tif (holeLoc === Location.INTERIOR) return Location.EXTERIOR;\n\t\t\tif (holeLoc === Location.BOUNDARY) return Location.BOUNDARY;\n\t\t}\n\t\treturn Location.INTERIOR;\n\t}\n\tlocate(p, geom) {\n\t\tif (geom.isEmpty()) return Location.EXTERIOR;\n\t\tif (geom instanceof LineString) {\n\t\t\treturn this.locateOnLineString(p, geom);\n\t\t} else if (geom instanceof Polygon) {\n\t\t\treturn this.locateInPolygon(p, geom);\n\t\t}\n\t\tthis._isIn = false;\n\t\tthis._numBoundaries = 0;\n\t\tthis.computeLocation(p, geom);\n\t\tif (this._boundaryRule.isInBoundary(this._numBoundaries)) return Location.BOUNDARY;\n\t\tif (this._numBoundaries > 0 || this._isIn) return Location.INTERIOR;\n\t\treturn Location.EXTERIOR;\n\t}\n\tgetClass() {\n\t\treturn PointLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointLocator.constructor_ = function () {\n\tthis._boundaryRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n\tthis._isIn = null;\n\tthis._numBoundaries = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet boundaryRule = arguments[0];\n\t\tif (boundaryRule === null) throw new IllegalArgumentException(\"Rule must be non-null\");\n\t\tthis._boundaryRule = boundaryRule;\n\t}\n};\n","import Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport Angle from './Angle';\nimport Assert from '../util/Assert';\nimport Triangle from '../geom/Triangle';\nexport default class MinimumBoundingCircle {\n\tconstructor() {\n\t\tMinimumBoundingCircle.constructor_.apply(this, arguments);\n\t}\n\tstatic pointWitMinAngleWithX(pts, P) {\n\t\tvar minSin = Double.MAX_VALUE;\n\t\tvar minAngPt = null;\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar p = pts[i];\n\t\t\tif (p === P) continue;\n\t\t\tvar dx = p.x - P.x;\n\t\t\tvar dy = p.y - P.y;\n\t\t\tif (dy < 0) dy = -dy;\n\t\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\t\tvar sin = dy / len;\n\t\t\tif (sin < minSin) {\n\t\t\t\tminSin = sin;\n\t\t\t\tminAngPt = p;\n\t\t\t}\n\t\t}\n\t\treturn minAngPt;\n\t}\n\tstatic lowestPoint(pts) {\n\t\tvar min = pts[0];\n\t\tfor (var i = 1; i < pts.length; i++) {\n\t\t\tif (pts[i].y < min.y) min = pts[i];\n\t\t}\n\t\treturn min;\n\t}\n\tstatic pointWithMinAngleWithSegment(pts, P, Q) {\n\t\tvar minAng = Double.MAX_VALUE;\n\t\tvar minAngPt = null;\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar p = pts[i];\n\t\t\tif (p === P) continue;\n\t\t\tif (p === Q) continue;\n\t\t\tvar ang = Angle.angleBetween(P, p, Q);\n\t\t\tif (ang < minAng) {\n\t\t\t\tminAng = ang;\n\t\t\t\tminAngPt = p;\n\t\t\t}\n\t\t}\n\t\treturn minAngPt;\n\t}\n\tgetRadius() {\n\t\tthis.compute();\n\t\treturn this._radius;\n\t}\n\tgetDiameter() {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t}\n\tgetExtremalPoints() {\n\t\tthis.compute();\n\t\treturn this._extremalPts;\n\t}\n\tcomputeCirclePoints() {\n\t\tif (this._input.isEmpty()) {\n\t\t\tthis._extremalPts = new Array(0).fill(null);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._input.getNumPoints() === 1) {\n\t\t\tvar pts = this._input.getCoordinates();\n\t\t\tthis._extremalPts = [new Coordinate(pts[0])];\n\t\t\treturn null;\n\t\t}\n\t\tvar convexHull = this._input.convexHull();\n\t\tvar hullPts = convexHull.getCoordinates();\n\t\tvar pts = hullPts;\n\t\tif (hullPts[0].equals2D(hullPts[hullPts.length - 1])) {\n\t\t\tpts = new Array(hullPts.length - 1).fill(null);\n\t\t\tCoordinateArrays.copyDeep(hullPts, 0, pts, 0, hullPts.length - 1);\n\t\t}\n\t\tif (pts.length <= 2) {\n\t\t\tthis._extremalPts = CoordinateArrays.copyDeep(pts);\n\t\t\treturn null;\n\t\t}\n\t\tvar P = MinimumBoundingCircle.lowestPoint(pts);\n\t\tvar Q = MinimumBoundingCircle.pointWitMinAngleWithX(pts, P);\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar R = MinimumBoundingCircle.pointWithMinAngleWithSegment(pts, P, Q);\n\t\t\tif (Angle.isObtuse(P, R, Q)) {\n\t\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q)];\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, P, Q)) {\n\t\t\t\tP = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (Angle.isObtuse(R, Q, P)) {\n\t\t\t\tQ = R;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._extremalPts = [new Coordinate(P), new Coordinate(Q), new Coordinate(R)];\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"Logic failure in Minimum Bounding Circle algorithm!\");\n\t}\n\tcompute() {\n\t\tif (this._extremalPts !== null) return null;\n\t\tthis.computeCirclePoints();\n\t\tthis.computeCentre();\n\t\tif (this._centre !== null) this._radius = this._centre.distance(this._extremalPts[0]);\n\t}\n\tgetFarthestPoints() {\n\t\tthis.compute();\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\treturn this._input.getFactory().createLineString();\n\t\t\tcase 1:\n\t\t\t\treturn this._input.getFactory().createPoint(this._centre);\n\t\t}\n\t\tvar p0 = this._extremalPts[0];\n\t\tvar p1 = this._extremalPts[this._extremalPts.length - 1];\n\t\treturn this._input.getFactory().createLineString([p0, p1]);\n\t}\n\tgetCircle() {\n\t\tthis.compute();\n\t\tif (this._centre === null) return this._input.getFactory().createPolygon();\n\t\tvar centrePoint = this._input.getFactory().createPoint(this._centre);\n\t\tif (this._radius === 0.0) return centrePoint;\n\t\treturn centrePoint.buffer(this._radius);\n\t}\n\tgetCentre() {\n\t\tthis.compute();\n\t\treturn this._centre;\n\t}\n\tcomputeCentre() {\n\t\tswitch (this._extremalPts.length) {\n\t\t\tcase 0:\n\t\t\t\tthis._centre = null;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis._centre = this._extremalPts[0];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis._centre = new Coordinate((this._extremalPts[0].x + this._extremalPts[1].x) / 2.0, (this._extremalPts[0].y + this._extremalPts[1].y) / 2.0);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis._centre = Triangle.circumcentre(this._extremalPts[0], this._extremalPts[1], this._extremalPts[2]);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MinimumBoundingCircle;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMinimumBoundingCircle.constructor_ = function () {\n\tthis._input = null;\n\tthis._extremalPts = null;\n\tthis._centre = null;\n\tthis._radius = 0.0;\n\tlet geom = arguments[0];\n\tthis._input = geom;\n};\n","import Coordinate from '../geom/Coordinate';\nimport Polygon from '../geom/Polygon';\nimport Double from '../../../../java/lang/Double';\nimport LineSegment from '../geom/LineSegment';\nimport ConvexHull from './ConvexHull';\nexport default class MinimumDiameter {\n\tconstructor() {\n\t\tMinimumDiameter.constructor_.apply(this, arguments);\n\t}\n\tstatic nextIndex(pts, index) {\n\t\tindex++;\n\t\tif (index >= pts.length) index = 0;\n\t\treturn index;\n\t}\n\tstatic computeC(a, b, p) {\n\t\treturn a * p.y - b * p.x;\n\t}\n\tstatic getMinimumDiameter(geom) {\n\t\treturn new MinimumDiameter(geom).getDiameter();\n\t}\n\tstatic getMinimumRectangle(geom) {\n\t\treturn new MinimumDiameter(geom).getMinimumRectangle();\n\t}\n\tstatic computeSegmentForLine(a, b, c) {\n\t\tvar p0 = null;\n\t\tvar p1 = null;\n\t\tif (Math.abs(b) > Math.abs(a)) {\n\t\t\tp0 = new Coordinate(0.0, c / b);\n\t\t\tp1 = new Coordinate(1.0, c / b - a / b);\n\t\t} else {\n\t\t\tp0 = new Coordinate(c / a, 0.0);\n\t\t\tp1 = new Coordinate(c / a - b / a, 1.0);\n\t\t}\n\t\treturn new LineSegment(p0, p1);\n\t}\n\tgetWidthCoordinate() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidthPt;\n\t}\n\tgetSupportingSegment() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0, this._minBaseSeg.p1]);\n\t}\n\tgetDiameter() {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidthPt === null) return this._inputGeom.getFactory().createLineString();\n\t\tvar basePt = this._minBaseSeg.project(this._minWidthPt);\n\t\treturn this._inputGeom.getFactory().createLineString([basePt, this._minWidthPt]);\n\t}\n\tcomputeWidthConvex(convexGeom) {\n\t\tif (convexGeom instanceof Polygon) this._convexHullPts = convexGeom.getExteriorRing().getCoordinates(); else this._convexHullPts = convexGeom.getCoordinates();\n\t\tif (this._convexHullPts.length === 0) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = null;\n\t\t\tthis._minBaseSeg = null;\n\t\t} else if (this._convexHullPts.length === 1) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[0];\n\t\t} else if (this._convexHullPts.length === 2 || this._convexHullPts.length === 3) {\n\t\t\tthis._minWidth = 0.0;\n\t\t\tthis._minWidthPt = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p0 = this._convexHullPts[0];\n\t\t\tthis._minBaseSeg.p1 = this._convexHullPts[1];\n\t\t} else this.computeConvexRingMinDiameter(this._convexHullPts);\n\t}\n\tcomputeConvexRingMinDiameter(pts) {\n\t\tthis._minWidth = Double.MAX_VALUE;\n\t\tvar currMaxIndex = 1;\n\t\tvar seg = new LineSegment();\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tseg.p0 = pts[i];\n\t\t\tseg.p1 = pts[i + 1];\n\t\t\tcurrMaxIndex = this.findMaxPerpDistance(pts, seg, currMaxIndex);\n\t\t}\n\t}\n\tcomputeMinimumDiameter() {\n\t\tif (this._minWidthPt !== null) return null;\n\t\tif (this._isConvex) this.computeWidthConvex(this._inputGeom); else {\n\t\t\tvar convexGeom = new ConvexHull(this._inputGeom).getConvexHull();\n\t\t\tthis.computeWidthConvex(convexGeom);\n\t\t}\n\t}\n\tgetLength() {\n\t\tthis.computeMinimumDiameter();\n\t\treturn this._minWidth;\n\t}\n\tfindMaxPerpDistance(pts, seg, startIndex) {\n\t\tvar maxPerpDistance = seg.distancePerpendicular(pts[startIndex]);\n\t\tvar nextPerpDistance = maxPerpDistance;\n\t\tvar maxIndex = startIndex;\n\t\tvar nextIndex = maxIndex;\n\t\twhile (nextPerpDistance >= maxPerpDistance) {\n\t\t\tmaxPerpDistance = nextPerpDistance;\n\t\t\tmaxIndex = nextIndex;\n\t\t\tnextIndex = MinimumDiameter.nextIndex(pts, maxIndex);\n\t\t\tnextPerpDistance = seg.distancePerpendicular(pts[nextIndex]);\n\t\t}\n\t\tif (maxPerpDistance < this._minWidth) {\n\t\t\tthis._minPtIndex = maxIndex;\n\t\t\tthis._minWidth = maxPerpDistance;\n\t\t\tthis._minWidthPt = pts[this._minPtIndex];\n\t\t\tthis._minBaseSeg = new LineSegment(seg);\n\t\t}\n\t\treturn maxIndex;\n\t}\n\tgetMinimumRectangle() {\n\t\tthis.computeMinimumDiameter();\n\t\tif (this._minWidth === 0.0) {\n\t\t\tif (this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)) {\n\t\t\t\treturn this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0);\n\t\t\t}\n\t\t\treturn this._minBaseSeg.toGeometry(this._inputGeom.getFactory());\n\t\t}\n\t\tvar dx = this._minBaseSeg.p1.x - this._minBaseSeg.p0.x;\n\t\tvar dy = this._minBaseSeg.p1.y - this._minBaseSeg.p0.y;\n\t\tvar minPara = Double.MAX_VALUE;\n\t\tvar maxPara = -Double.MAX_VALUE;\n\t\tvar minPerp = Double.MAX_VALUE;\n\t\tvar maxPerp = -Double.MAX_VALUE;\n\t\tfor (var i = 0; i < this._convexHullPts.length; i++) {\n\t\t\tvar paraC = MinimumDiameter.computeC(dx, dy, this._convexHullPts[i]);\n\t\t\tif (paraC > maxPara) maxPara = paraC;\n\t\t\tif (paraC < minPara) minPara = paraC;\n\t\t\tvar perpC = MinimumDiameter.computeC(-dy, dx, this._convexHullPts[i]);\n\t\t\tif (perpC > maxPerp) maxPerp = perpC;\n\t\t\tif (perpC < minPerp) minPerp = perpC;\n\t\t}\n\t\tvar maxPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, maxPerp);\n\t\tvar minPerpLine = MinimumDiameter.computeSegmentForLine(-dx, -dy, minPerp);\n\t\tvar maxParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, maxPara);\n\t\tvar minParaLine = MinimumDiameter.computeSegmentForLine(-dy, dx, minPara);\n\t\tvar p0 = maxParaLine.lineIntersection(maxPerpLine);\n\t\tvar p1 = minParaLine.lineIntersection(maxPerpLine);\n\t\tvar p2 = minParaLine.lineIntersection(minPerpLine);\n\t\tvar p3 = maxParaLine.lineIntersection(minPerpLine);\n\t\tvar shell = this._inputGeom.getFactory().createLinearRing([p0, p1, p2, p3, p0]);\n\t\treturn this._inputGeom.getFactory().createPolygon(shell);\n\t}\n\tgetClass() {\n\t\treturn MinimumDiameter;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMinimumDiameter.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._isConvex = null;\n\tthis._convexHullPts = null;\n\tthis._minBaseSeg = new LineSegment();\n\tthis._minWidthPt = null;\n\tthis._minPtIndex = null;\n\tthis._minWidth = 0.0;\n\tif (arguments.length === 1) {\n\t\tlet inputGeom = arguments[0];\n\t\tMinimumDiameter.constructor_.call(this, inputGeom, false);\n\t} else if (arguments.length === 2) {\n\t\tlet inputGeom = arguments[0], isConvex = arguments[1];\n\t\tthis._inputGeom = inputGeom;\n\t\tthis._isConvex = isConvex;\n\t}\n};\n","import LineString from '../LineString';\nimport GeometryFactory from '../GeometryFactory';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Point from '../Point';\nimport Polygon from '../Polygon';\nimport MultiPoint from '../MultiPoint';\nimport LinearRing from '../LinearRing';\nimport MultiPolygon from '../MultiPolygon';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport MultiLineString from '../MultiLineString';\nexport default class GeometryTransformer {\n\tconstructor() {\n\t\tGeometryTransformer.constructor_.apply(this, arguments);\n\t}\n\ttransformPoint(geom, parent) {\n\t\treturn this._factory.createPoint(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t}\n\ttransformPolygon(geom, parent) {\n\t\tvar isAllValidLinearRings = true;\n\t\tvar shell = this.transformLinearRing(geom.getExteriorRing(), geom);\n\t\tif (shell === null || !(shell instanceof LinearRing) || shell.isEmpty()) isAllValidLinearRings = false;\n\t\tvar holes = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumInteriorRing(); i++) {\n\t\t\tvar hole = this.transformLinearRing(geom.getInteriorRingN(i), geom);\n\t\t\tif (hole === null || hole.isEmpty()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (!(hole instanceof LinearRing)) isAllValidLinearRings = false;\n\t\t\tholes.add(hole);\n\t\t}\n\t\tif (isAllValidLinearRings) return this._factory.createPolygon(shell, holes.toArray([])); else {\n\t\t\tvar components = new ArrayList();\n\t\t\tif (shell !== null) components.add(shell);\n\t\t\tcomponents.addAll(holes);\n\t\t\treturn this._factory.buildGeometry(components);\n\t\t}\n\t}\n\tcreateCoordinateSequence(coords) {\n\t\treturn this._factory.getCoordinateSequenceFactory().create(coords);\n\t}\n\tgetInputGeometry() {\n\t\treturn this._inputGeom;\n\t}\n\ttransformMultiLineString(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformLineString(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\treturn this.copy(coords);\n\t}\n\ttransformLineString(geom, parent) {\n\t\treturn this._factory.createLineString(this.transformCoordinates(geom.getCoordinateSequence(), geom));\n\t}\n\ttransformMultiPoint(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPoint(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t}\n\ttransformMultiPolygon(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transformPolygon(geom.getGeometryN(i), geom);\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t}\n\tcopy(seq) {\n\t\treturn seq.copy();\n\t}\n\ttransformGeometryCollection(geom, parent) {\n\t\tvar transGeomList = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar transformGeom = this.transform(geom.getGeometryN(i));\n\t\t\tif (transformGeom === null) continue;\n\t\t\tif (this._pruneEmptyGeometry && transformGeom.isEmpty()) continue;\n\t\t\ttransGeomList.add(transformGeom);\n\t\t}\n\t\tif (this._preserveGeometryCollectionType) return this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(transGeomList));\n\t\treturn this._factory.buildGeometry(transGeomList);\n\t}\n\ttransform(inputGeom) {\n\t\tthis._inputGeom = inputGeom;\n\t\tthis._factory = inputGeom.getFactory();\n\t\tif (inputGeom instanceof Point) return this.transformPoint(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPoint) return this.transformMultiPoint(inputGeom, null);\n\t\tif (inputGeom instanceof LinearRing) return this.transformLinearRing(inputGeom, null);\n\t\tif (inputGeom instanceof LineString) return this.transformLineString(inputGeom, null);\n\t\tif (inputGeom instanceof MultiLineString) return this.transformMultiLineString(inputGeom, null);\n\t\tif (inputGeom instanceof Polygon) return this.transformPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof MultiPolygon) return this.transformMultiPolygon(inputGeom, null);\n\t\tif (inputGeom instanceof GeometryCollection) return this.transformGeometryCollection(inputGeom, null);\n\t\tthrow new IllegalArgumentException(\"Unknown Geometry subtype: \" + inputGeom.getClass().getName());\n\t}\n\ttransformLinearRing(geom, parent) {\n\t\tvar seq = this.transformCoordinates(geom.getCoordinateSequence(), geom);\n\t\tif (seq === null) return this._factory.createLinearRing(null);\n\t\tvar seqSize = seq.size();\n\t\tif (seqSize > 0 && seqSize < 4 && !this._preserveType) return this._factory.createLineString(seq);\n\t\treturn this._factory.createLinearRing(seq);\n\t}\n\tgetClass() {\n\t\treturn GeometryTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryTransformer.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._factory = null;\n\tthis._pruneEmptyGeometry = true;\n\tthis._preserveGeometryCollectionType = true;\n\tthis._preserveCollections = false;\n\tthis._preserveType = false;\n};\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport LineSegment from '../geom/LineSegment';\nexport default class Densifier {\n\tconstructor() {\n\t\tDensifier.constructor_.apply(this, arguments);\n\t}\n\tstatic densifyPoints(pts, distanceTolerance, precModel) {\n\t\tvar seg = new LineSegment();\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tseg.p0 = pts[i];\n\t\t\tseg.p1 = pts[i + 1];\n\t\t\tcoordList.add(seg.p0, false);\n\t\t\tvar len = seg.getLength();\n\t\t\tvar densifiedSegCount = Math.trunc(len / distanceTolerance) + 1;\n\t\t\tif (densifiedSegCount > 1) {\n\t\t\t\tvar densifiedSegLen = len / densifiedSegCount;\n\t\t\t\tfor (var j = 1; j < densifiedSegCount; j++) {\n\t\t\t\t\tvar segFract = j * densifiedSegLen / len;\n\t\t\t\t\tvar p = seg.pointAlong(segFract);\n\t\t\t\t\tprecModel.makePrecise(p);\n\t\t\t\t\tcoordList.add(p, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcoordList.add(pts[pts.length - 1], false);\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tstatic densify(geom, distanceTolerance) {\n\t\tvar densifier = new Densifier(geom);\n\t\tdensifier.setDistanceTolerance(distanceTolerance);\n\t\treturn densifier.getResultGeometry();\n\t}\n\tgetResultGeometry() {\n\t\treturn new DensifyTransformer(this._distanceTolerance).transform(this._inputGeom);\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance <= 0.0) throw new IllegalArgumentException(\"Tolerance must be positive\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tgetClass() {\n\t\treturn Densifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass DensifyTransformer extends GeometryTransformer {\n\tconstructor() {\n\t\tsuper();\n\t\tDensifyTransformer.constructor_.apply(this, arguments);\n\t}\n\ttransformMultiPolygon(geom, parent) {\n\t\tvar roughGeom = super.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(roughGeom);\n\t}\n\ttransformPolygon(geom, parent) {\n\t\tvar roughGeom = super.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn roughGeom;\n\t\t}\n\t\treturn this.createValidArea(roughGeom);\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = Densifier.densifyPoints(inputPts, this.distanceTolerance, parent.getPrecisionModel());\n\t\tif (parent instanceof LineString && newPts.length === 1) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t}\n\tcreateValidArea(roughAreaGeom) {\n\t\treturn roughAreaGeom.buffer(0.0);\n\t}\n\tgetClass() {\n\t\treturn DensifyTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDensifyTransformer.constructor_ = function () {\n\tthis.distanceTolerance = null;\n\tlet distanceTolerance = arguments[0];\n\tthis.distanceTolerance = distanceTolerance;\n};\nDensifier.DensifyTransformer = DensifyTransformer;\nDensifier.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n};\n","import Coordinate from '../geom/Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nexport default class Quadrant {\n\tconstructor() {\n\t\tQuadrant.constructor_.apply(this, arguments);\n\t}\n\tstatic isNorthern(quad) {\n\t\treturn quad === Quadrant.NE || quad === Quadrant.NW;\n\t}\n\tstatic isOpposite(quad1, quad2) {\n\t\tif (quad1 === quad2) return false;\n\t\tvar diff = (quad1 - quad2 + 4) % 4;\n\t\tif (diff === 2) return true;\n\t\treturn false;\n\t}\n\tstatic commonHalfPlane(quad1, quad2) {\n\t\tif (quad1 === quad2) return quad1;\n\t\tvar diff = (quad1 - quad2 + 4) % 4;\n\t\tif (diff === 2) return -1;\n\t\tvar min = quad1 < quad2 ? quad1 : quad2;\n\t\tvar max = quad1 > quad2 ? quad1 : quad2;\n\t\tif (min === 0 && max === 3) return 3;\n\t\treturn min;\n\t}\n\tstatic isInHalfPlane(quad, halfPlane) {\n\t\tif (halfPlane === Quadrant.SE) {\n\t\t\treturn quad === Quadrant.SE || quad === Quadrant.SW;\n\t\t}\n\t\treturn quad === halfPlane || quad === halfPlane + 1;\n\t}\n\tstatic quadrant() {\n\t\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\tlet dx = arguments[0], dy = arguments[1];\n\t\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the quadrant for point ( \" + dx + \", \" + dy + \" )\");\n\t\t\tif (dx >= 0.0) {\n\t\t\t\tif (dy >= 0.0) return Quadrant.NE; else return Quadrant.SE;\n\t\t\t} else {\n\t\t\t\tif (dy >= 0.0) return Quadrant.NW; else return Quadrant.SW;\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tif (p1.x === p0.x && p1.y === p0.y) throw new IllegalArgumentException(\"Cannot compute the quadrant for two identical points \" + p0);\n\t\t\tif (p1.x >= p0.x) {\n\t\t\t\tif (p1.y >= p0.y) return Quadrant.NE; else return Quadrant.SE;\n\t\t\t} else {\n\t\t\t\tif (p1.y >= p0.y) return Quadrant.NW; else return Quadrant.SW;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Quadrant;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nQuadrant.constructor_ = function () {};\nQuadrant.NE = 0;\nQuadrant.NW = 1;\nQuadrant.SW = 2;\nQuadrant.SE = 3;\n","import Coordinate from '../geom/Coordinate';\nimport Orientation from '../algorithm/Orientation';\nimport Quadrant from '../geomgraph/Quadrant';\nimport Assert from '../util/Assert';\nexport default class HalfEdge {\n\tconstructor() {\n\t\tHalfEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic init(e0, e1) {\n\t\tif (e0._sym !== null || e1._sym !== null || e0._next !== null || e1._next !== null) throw new IllegalStateException(\"Edges are already initialized\");\n\t\te0.init(e1);\n\t\treturn e0;\n\t}\n\tstatic create(p0, p1) {\n\t\tvar e0 = new HalfEdge(p0);\n\t\tvar e1 = new HalfEdge(p1);\n\t\te0.init(e1);\n\t\treturn e0;\n\t}\n\tfind(dest) {\n\t\tvar oNext = this;\n\t\tdo {\n\t\t\tif (oNext === null) return null;\n\t\t\tif (oNext.dest().equals2D(dest)) return oNext;\n\t\t\toNext = oNext.oNext();\n\t\t} while (oNext !== this);\n\t\treturn null;\n\t}\n\tdest() {\n\t\treturn this._sym._orig;\n\t}\n\toNext() {\n\t\treturn this._sym._next;\n\t}\n\tinsert(e) {\n\t\tif (this.oNext() === this) {\n\t\t\tthis.insertAfter(e);\n\t\t\treturn null;\n\t\t}\n\t\tvar ecmp = this.compareTo(e);\n\t\tvar ePrev = this;\n\t\tdo {\n\t\t\tvar oNext = ePrev.oNext();\n\t\t\tvar cmp = oNext.compareTo(e);\n\t\t\tif (cmp !== ecmp || oNext === this) {\n\t\t\t\tePrev.insertAfter(e);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tePrev = oNext;\n\t\t} while (ePrev !== this);\n\t\tAssert.shouldNeverReachHere();\n\t}\n\tinsertAfter(e) {\n\t\tAssert.equals(this._orig, e.orig());\n\t\tvar save = this.oNext();\n\t\tthis._sym.setNext(e);\n\t\te.sym().setNext(save);\n\t}\n\tdegree() {\n\t\tvar degree = 0;\n\t\tvar e = this;\n\t\tdo {\n\t\t\tdegree++;\n\t\t\te = e.oNext();\n\t\t} while (e !== this);\n\t\treturn degree;\n\t}\n\tequals() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Coordinate && arguments[0] instanceof Coordinate)) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\treturn this._orig.equals2D(p0) && this._sym._orig.equals(p1);\n\t\t}\n\t}\n\tdeltaY() {\n\t\treturn this._sym._orig.y - this._orig.y;\n\t}\n\tsym() {\n\t\treturn this._sym;\n\t}\n\tprev() {\n\t\treturn this._sym.next()._sym;\n\t}\n\tcompareAngularDirection(e) {\n\t\tvar dx = this.deltaX();\n\t\tvar dy = this.deltaY();\n\t\tvar dx2 = e.deltaX();\n\t\tvar dy2 = e.deltaY();\n\t\tif (dx === dx2 && dy === dy2) return 0;\n\t\tvar quadrant = Quadrant.quadrant(dx, dy);\n\t\tvar quadrant2 = Quadrant.quadrant(dx2, dy2);\n\t\tif (quadrant > quadrant2) return 1;\n\t\tif (quadrant < quadrant2) return -1;\n\t\treturn Orientation.index(e._orig, e.dest(), this.dest());\n\t}\n\tprevNode() {\n\t\tvar e = this;\n\t\twhile (e.degree() === 2) {\n\t\t\te = e.prev();\n\t\t\tif (e === this) return null;\n\t\t}\n\t\treturn e;\n\t}\n\tcompareTo(obj) {\n\t\tvar e = obj;\n\t\tvar comp = this.compareAngularDirection(e);\n\t\treturn comp;\n\t}\n\tnext() {\n\t\treturn this._next;\n\t}\n\tsetSym(e) {\n\t\tthis._sym = e;\n\t}\n\torig() {\n\t\treturn this._orig;\n\t}\n\ttoString() {\n\t\treturn \"HE(\" + this._orig.x + \" \" + this._orig.y + \", \" + this._sym._orig.x + \" \" + this._sym._orig.y + \")\";\n\t}\n\tsetNext(e) {\n\t\tthis._next = e;\n\t}\n\tinit(e) {\n\t\tthis.setSym(e);\n\t\te.setSym(this);\n\t\tthis.setNext(e);\n\t\te.setNext(this);\n\t}\n\tdeltaX() {\n\t\treturn this._sym._orig.x - this._orig.x;\n\t}\n\tgetClass() {\n\t\treturn HalfEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nHalfEdge.constructor_ = function () {\n\tthis._orig = null;\n\tthis._sym = null;\n\tthis._next = null;\n\tlet orig = arguments[0];\n\tthis._orig = orig;\n};\n","import HalfEdge from './HalfEdge';\nexport default class MarkHalfEdge extends HalfEdge {\n\tconstructor() {\n\t\tsuper();\n\t\tMarkHalfEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic setMarkBoth(e, isMarked) {\n\t\te.setMark(isMarked);\n\t\te.sym().setMark(isMarked);\n\t}\n\tstatic isMarked(e) {\n\t\treturn e.isMarked();\n\t}\n\tstatic setMark(e, isMarked) {\n\t\te.setMark(isMarked);\n\t}\n\tstatic markBoth(e) {\n\t\te.mark();\n\t\te.sym().mark();\n\t}\n\tstatic mark(e) {\n\t\te.mark();\n\t}\n\tmark() {\n\t\tthis._isMarked = true;\n\t}\n\tsetMark(isMarked) {\n\t\tthis._isMarked = isMarked;\n\t}\n\tisMarked() {\n\t\treturn this._isMarked;\n\t}\n\tgetClass() {\n\t\treturn MarkHalfEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMarkHalfEdge.constructor_ = function () {\n\tthis._isMarked = false;\n\tlet orig = arguments[0];\n\tHalfEdge.constructor_.call(this, orig);\n};\n","import HashMap from '../../../../java/util/HashMap';\nimport HalfEdge from './HalfEdge';\nexport default class EdgeGraph {\n\tconstructor() {\n\t\tEdgeGraph.constructor_.apply(this, arguments);\n\t}\n\tstatic isValidEdge(orig, dest) {\n\t\tvar cmp = dest.compareTo(orig);\n\t\treturn cmp !== 0;\n\t}\n\tinsert(orig, dest, eAdj) {\n\t\tvar e = this.create(orig, dest);\n\t\tif (eAdj !== null) {\n\t\t\teAdj.insert(e);\n\t\t} else {\n\t\t\tthis._vertexMap.put(orig, e);\n\t\t}\n\t\tvar eAdjDest = this._vertexMap.get(dest);\n\t\tif (eAdjDest !== null) {\n\t\t\teAdjDest.insert(e.sym());\n\t\t} else {\n\t\t\tthis._vertexMap.put(dest, e.sym());\n\t\t}\n\t\treturn e;\n\t}\n\tcreate(p0, p1) {\n\t\tvar e0 = this.createEdge(p0);\n\t\tvar e1 = this.createEdge(p1);\n\t\tHalfEdge.init(e0, e1);\n\t\treturn e0;\n\t}\n\tcreateEdge(orig) {\n\t\treturn new HalfEdge(orig);\n\t}\n\taddEdge(orig, dest) {\n\t\tif (!EdgeGraph.isValidEdge(orig, dest)) return null;\n\t\tvar eAdj = this._vertexMap.get(orig);\n\t\tvar eSame = null;\n\t\tif (eAdj !== null) {\n\t\t\teSame = eAdj.find(dest);\n\t\t}\n\t\tif (eSame !== null) {\n\t\t\treturn eSame;\n\t\t}\n\t\tvar e = this.insert(orig, dest, eAdj);\n\t\treturn e;\n\t}\n\tgetVertexEdges() {\n\t\treturn this._vertexMap.values();\n\t}\n\tfindEdge(orig, dest) {\n\t\tvar e = this._vertexMap.get(orig);\n\t\tif (e === null) return null;\n\t\treturn e.find(dest);\n\t}\n\tgetClass() {\n\t\treturn EdgeGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeGraph.constructor_ = function () {\n\tthis._vertexMap = new HashMap();\n};\n","import MarkHalfEdge from '../edgegraph/MarkHalfEdge';\nexport default class DissolveHalfEdge extends MarkHalfEdge {\n\tconstructor() {\n\t\tsuper();\n\t\tDissolveHalfEdge.constructor_.apply(this, arguments);\n\t}\n\tsetStart() {\n\t\tthis._isStart = true;\n\t}\n\tisStart() {\n\t\treturn this._isStart;\n\t}\n\tgetClass() {\n\t\treturn DissolveHalfEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDissolveHalfEdge.constructor_ = function () {\n\tthis._isStart = false;\n\tlet orig = arguments[0];\n\tMarkHalfEdge.constructor_.call(this, orig);\n};\n","import EdgeGraph from '../edgegraph/EdgeGraph';\nimport DissolveHalfEdge from './DissolveHalfEdge';\nexport default class DissolveEdgeGraph extends EdgeGraph {\n\tconstructor() {\n\t\tsuper();\n\t\tDissolveEdgeGraph.constructor_.apply(this, arguments);\n\t}\n\tcreateEdge(p0) {\n\t\treturn new DissolveHalfEdge(p0);\n\t}\n\tgetClass() {\n\t\treturn DissolveEdgeGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDissolveEdgeGraph.constructor_ = function () {};\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Stack from '../../../../java/util/Stack';\nimport MarkHalfEdge from '../edgegraph/MarkHalfEdge';\nimport DissolveEdgeGraph from './DissolveEdgeGraph';\nimport GeometryComponentFilter from '../geom/GeometryComponentFilter';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class LineDissolver {\n\tconstructor() {\n\t\tLineDissolver.constructor_.apply(this, arguments);\n\t}\n\tstatic dissolve(g) {\n\t\tvar d = new LineDissolver();\n\t\td.add(g);\n\t\treturn d.getResult();\n\t}\n\taddLine(line) {\n\t\tthis._lines.add(this._factory.createLineString(line.toCoordinateArray()));\n\t}\n\tupdateRingStartEdge(e) {\n\t\tif (!e.isStart()) {\n\t\t\te = e.sym();\n\t\t\tif (!e.isStart()) return null;\n\t\t}\n\t\tif (this._ringStartEdge === null) {\n\t\t\tthis._ringStartEdge = e;\n\t\t\treturn null;\n\t\t}\n\t\tif (e.orig().compareTo(this._ringStartEdge.orig()) < 0) {\n\t\t\tthis._ringStartEdge = e;\n\t\t}\n\t}\n\tgetResult() {\n\t\tif (this._result === null) this.computeResult();\n\t\treturn this._result;\n\t}\n\tprocess(e) {\n\t\tvar eNode = e.prevNode();\n\t\tif (eNode === null) eNode = e;\n\t\tthis.stackEdges(eNode);\n\t\tthis.buildLines();\n\t}\n\tbuildRing(eStartRing) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStartRing;\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStartRing) break;\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t}\n\t\tline.add(e.dest().copy(), false);\n\t\tthis.addLine(line);\n\t}\n\tbuildLine(eStart) {\n\t\tvar line = new CoordinateList();\n\t\tvar e = eStart;\n\t\tthis._ringStartEdge = null;\n\t\tMarkHalfEdge.markBoth(e);\n\t\tline.add(e.orig().copy(), false);\n\t\twhile (e.sym().degree() === 2) {\n\t\t\tthis.updateRingStartEdge(e);\n\t\t\tvar eNext = e.next();\n\t\t\tif (eNext === eStart) {\n\t\t\t\tthis.buildRing(this._ringStartEdge);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tline.add(eNext.orig().copy(), false);\n\t\t\te = eNext;\n\t\t\tMarkHalfEdge.markBoth(e);\n\t\t}\n\t\tline.add(e.dest().clone(), false);\n\t\tthis.stackEdges(e.sym());\n\t\tthis.addLine(line);\n\t}\n\tstackEdges(node) {\n\t\tvar e = node;\n\t\tdo {\n\t\t\tif (!MarkHalfEdge.isMarked(e)) this._nodeEdgeStack.add(e);\n\t\t\te = e.oNext();\n\t\t} while (e !== node);\n\t}\n\tcomputeResult() {\n\t\tvar edges = this._graph.getVertexEdges();\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.process(e);\n\t\t}\n\t\tthis._result = this._factory.buildGeometry(this._lines);\n\t}\n\tbuildLines() {\n\t\twhile (!this._nodeEdgeStack.empty()) {\n\t\t\tvar e = this._nodeEdgeStack.pop();\n\t\t\tif (MarkHalfEdge.isMarked(e)) continue;\n\t\t\tthis.buildLine(e);\n\t\t}\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tgeometry.apply(new (class {\n\t\t\t\tget interfaces_() {\n\t\t\t\t\treturn [GeometryComponentFilter];\n\t\t\t\t}\n\t\t\t\tfilter(component) {\n\t\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\t\tthis.add(component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})());\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geometries = arguments[0];\n\t\t\tfor (var i = geometries.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet lineString = arguments[0];\n\t\t\tif (this._factory === null) {\n\t\t\t\tthis._factory = lineString.getFactory();\n\t\t\t}\n\t\t\tvar seq = lineString.getCoordinateSequence();\n\t\t\tvar doneStart = false;\n\t\t\tfor (var i = 1; i < seq.size(); i++) {\n\t\t\t\tvar e = this._graph.addEdge(seq.getCoordinate(i - 1), seq.getCoordinate(i));\n\t\t\t\tif (e === null) continue;\n\t\t\t\tif (!doneStart) {\n\t\t\t\t\te.setStart();\n\t\t\t\t\tdoneStart = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn LineDissolver;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineDissolver.constructor_ = function () {\n\tthis._result = null;\n\tthis._factory = null;\n\tthis._graph = null;\n\tthis._lines = new ArrayList();\n\tthis._nodeEdgeStack = new Stack();\n\tthis._ringStartEdge = null;\n\tthis._graph = new DissolveEdgeGraph();\n};\n","export default class Position {\n\tconstructor() {\n\t\tPosition.constructor_.apply(this, arguments);\n\t}\n\tstatic opposite(position) {\n\t\tif (position === Position.LEFT) return Position.RIGHT;\n\t\tif (position === Position.RIGHT) return Position.LEFT;\n\t\treturn position;\n\t}\n\tgetClass() {\n\t\treturn Position;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPosition.constructor_ = function () {};\nPosition.ON = 0;\nPosition.LEFT = 1;\nPosition.RIGHT = 2;\n","export default class MonotoneChain {\n\tconstructor() {\n\t\tMonotoneChain.constructor_.apply(this, arguments);\n\t}\n\tcomputeIntersections(mc, si) {\n\t\tthis.mce.computeIntersectsForChain(this.chainIndex, mc.mce, mc.chainIndex, si);\n\t}\n\tgetClass() {\n\t\treturn MonotoneChain;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChain.constructor_ = function () {\n\tthis.mce = null;\n\tthis.chainIndex = null;\n\tlet mce = arguments[0], chainIndex = arguments[1];\n\tthis.mce = mce;\n\tthis.chainIndex = chainIndex;\n};\n","import Comparable from '../../../../../java/lang/Comparable';\nexport default class SweepLineEvent {\n\tconstructor() {\n\t\tSweepLineEvent.constructor_.apply(this, arguments);\n\t}\n\tisDelete() {\n\t\treturn this._eventType === SweepLineEvent.DELETE;\n\t}\n\tsetDeleteEventIndex(deleteEventIndex) {\n\t\tthis._deleteEventIndex = deleteEventIndex;\n\t}\n\tgetObject() {\n\t\treturn this._obj;\n\t}\n\tcompareTo(o) {\n\t\tvar pe = o;\n\t\tif (this._xValue < pe._xValue) return -1;\n\t\tif (this._xValue > pe._xValue) return 1;\n\t\tif (this._eventType < pe._eventType) return -1;\n\t\tif (this._eventType > pe._eventType) return 1;\n\t\treturn 0;\n\t}\n\tgetInsertEvent() {\n\t\treturn this._insertEvent;\n\t}\n\tisInsert() {\n\t\treturn this._eventType === SweepLineEvent.INSERT;\n\t}\n\tisSameLabel(ev) {\n\t\tif (this._label === null) return false;\n\t\treturn this._label === ev._label;\n\t}\n\tgetDeleteEventIndex() {\n\t\treturn this._deleteEventIndex;\n\t}\n\tgetClass() {\n\t\treturn SweepLineEvent;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nSweepLineEvent.constructor_ = function () {\n\tthis._label = null;\n\tthis._xValue = null;\n\tthis._eventType = null;\n\tthis._insertEvent = null;\n\tthis._deleteEventIndex = null;\n\tthis._obj = null;\n\tif (arguments.length === 2) {\n\t\tlet x = arguments[0], insertEvent = arguments[1];\n\t\tthis._eventType = SweepLineEvent.DELETE;\n\t\tthis._xValue = x;\n\t\tthis._insertEvent = insertEvent;\n\t} else if (arguments.length === 3) {\n\t\tlet label = arguments[0], x = arguments[1], obj = arguments[2];\n\t\tthis._eventType = SweepLineEvent.INSERT;\n\t\tthis._label = label;\n\t\tthis._xValue = x;\n\t\tthis._obj = obj;\n\t}\n};\nSweepLineEvent.INSERT = 1;\nSweepLineEvent.DELETE = 2;\n","export default class EdgeSetIntersector {\n\tconstructor() {\n\t\tEdgeSetIntersector.constructor_.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn EdgeSetIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeSetIntersector.constructor_ = function () {};\n","export default class SegmentIntersector {\n\tconstructor() {\n\t\tSegmentIntersector.constructor_.apply(this, arguments);\n\t}\n\tstatic isAdjacentSegments(i1, i2) {\n\t\treturn Math.abs(i1 - i2) === 1;\n\t}\n\tisTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (SegmentIntersector.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.getNumPoints() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetProperIntersectionPoint() {\n\t\treturn this._properIntersectionPoint;\n\t}\n\tsetIsDoneIfProperInt(isDoneWhenProperInt) {\n\t\tthis._isDoneWhenProperInt = isDoneWhenProperInt;\n\t}\n\thasProperInteriorIntersection() {\n\t\treturn this._hasProperInterior;\n\t}\n\tisBoundaryPointInternal(li, bdyNodes) {\n\t\tfor (var i = bdyNodes.iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tvar pt = node.getCoordinate();\n\t\t\tif (li.isIntersection(pt)) return true;\n\t\t}\n\t\treturn false;\n\t}\n\thasProperIntersection() {\n\t\treturn this._hasProper;\n\t}\n\thasIntersection() {\n\t\treturn this._hasIntersection;\n\t}\n\tisDone() {\n\t\treturn this._isDone;\n\t}\n\tisBoundaryPoint(li, bdyNodes) {\n\t\tif (bdyNodes === null) return false;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[0])) return true;\n\t\tif (this.isBoundaryPointInternal(li, bdyNodes[1])) return true;\n\t\treturn false;\n\t}\n\tsetBoundaryNodes(bdyNodes0, bdyNodes1) {\n\t\tthis._bdyNodes = new Array(2).fill(null);\n\t\tthis._bdyNodes[0] = bdyNodes0;\n\t\tthis._bdyNodes[1] = bdyNodes1;\n\t}\n\taddIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._recordIsolated) {\n\t\t\t\te0.setIsolated(false);\n\t\t\t\te1.setIsolated(false);\n\t\t\t}\n\t\t\tthis._numIntersections++;\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\tif (this._includeProper || !this._li.isProper()) {\n\t\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\t}\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis._properIntersectionPoint = this._li.getIntersection(0).copy();\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tif (this._isDoneWhenProperInt) {\n\t\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\t}\n\t\t\t\t\tif (!this.isBoundaryPoint(this._li, this._bdyNodes)) this._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn SegmentIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentIntersector.constructor_ = function () {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._includeProper = null;\n\tthis._recordIsolated = null;\n\tthis._isSelfIntersection = null;\n\tthis._numIntersections = 0;\n\tthis.numTests = 0;\n\tthis._bdyNodes = null;\n\tthis._isDone = false;\n\tthis._isDoneWhenProperInt = false;\n\tlet li = arguments[0], includeProper = arguments[1], recordIsolated = arguments[2];\n\tthis._li = li;\n\tthis._includeProper = includeProper;\n\tthis._recordIsolated = recordIsolated;\n};\n","import hasInterface from '../../../../../hasInterface';\nimport MonotoneChain from './MonotoneChain';\nimport SweepLineEvent from './SweepLineEvent';\nimport EdgeSetIntersector from './EdgeSetIntersector';\nimport Collections from '../../../../../java/util/Collections';\nimport SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport List from '../../../../../java/util/List';\nexport default class SimpleMCSweepLineIntersector extends EdgeSetIntersector {\n\tconstructor() {\n\t\tsuper();\n\t\tSimpleMCSweepLineIntersector.constructor_.apply(this, arguments);\n\t}\n\tprepareEvents() {\n\t\tCollections.sort(this.events);\n\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\tvar ev = this.events.get(i);\n\t\t\tif (ev.isDelete()) {\n\t\t\t\tev.getInsertEvent().setDeleteEventIndex(i);\n\t\t\t}\n\t\t}\n\t}\n\tcomputeIntersections() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet si = arguments[0];\n\t\t\tthis.nOverlaps = 0;\n\t\t\tthis.prepareEvents();\n\t\t\tfor (var i = 0; i < this.events.size(); i++) {\n\t\t\t\tvar ev = this.events.get(i);\n\t\t\t\tif (ev.isInsert()) {\n\t\t\t\t\tthis.processOverlaps(i, ev.getDeleteEventIndex(), ev, si);\n\t\t\t\t}\n\t\t\t\tif (si.isDone()) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof SegmentIntersector && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n\t\t\t\tlet edges0 = arguments[0], edges1 = arguments[1], si = arguments[2];\n\t\t\t\tthis.addEdges(edges0, edges0);\n\t\t\t\tthis.addEdges(edges1, edges1);\n\t\t\t\tthis.computeIntersections(si);\n\t\t\t} else if (typeof arguments[2] === \"boolean\" && (hasInterface(arguments[0], List) && arguments[1] instanceof SegmentIntersector)) {\n\t\t\t\tlet edges = arguments[0], si = arguments[1], testAllSegments = arguments[2];\n\t\t\t\tif (testAllSegments) this.addEdges(edges, null); else this.addEdges(edges);\n\t\t\t\tthis.computeIntersections(si);\n\t\t\t}\n\t\t}\n\t}\n\taddEdge(edge, edgeSet) {\n\t\tvar mce = edge.getMonotoneChainEdge();\n\t\tvar startIndex = mce.getStartIndexes();\n\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\tvar mc = new MonotoneChain(mce, i);\n\t\t\tvar insertEvent = new SweepLineEvent(edgeSet, mce.getMinX(i), mc);\n\t\t\tthis.events.add(insertEvent);\n\t\t\tthis.events.add(new SweepLineEvent(mce.getMaxX(i), insertEvent));\n\t\t}\n\t}\n\tprocessOverlaps(start, end, ev0, si) {\n\t\tvar mc0 = ev0.getObject();\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar ev1 = this.events.get(i);\n\t\t\tif (ev1.isInsert()) {\n\t\t\t\tvar mc1 = ev1.getObject();\n\t\t\t\tif (!ev0.isSameLabel(ev1)) {\n\t\t\t\t\tmc0.computeIntersections(mc1, si);\n\t\t\t\t\tthis.nOverlaps++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\taddEdges() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet edges = arguments[0];\n\t\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edge);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet edges = arguments[0], edgeSet = arguments[1];\n\t\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar edge = i.next();\n\t\t\t\tthis.addEdge(edge, edgeSet);\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn SimpleMCSweepLineIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSimpleMCSweepLineIntersector.constructor_ = function () {\n\tthis.events = new ArrayList();\n\tthis.nOverlaps = null;\n};\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nexport default class TopologyLocation {\n\tconstructor() {\n\t\tTopologyLocation.constructor_.apply(this, arguments);\n\t}\n\tsetAllLocations(locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tthis.location[i] = locValue;\n\t\t}\n\t}\n\tisNull() {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== Location.NONE) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tsetAllLocationsIfNull(locValue) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) this.location[i] = locValue;\n\t\t}\n\t}\n\tisLine() {\n\t\treturn this.location.length === 1;\n\t}\n\tmerge(gl) {\n\t\tif (gl.location.length > this.location.length) {\n\t\t\tvar newLoc = new Array(3).fill(null);\n\t\t\tnewLoc[Position.ON] = this.location[Position.ON];\n\t\t\tnewLoc[Position.LEFT] = Location.NONE;\n\t\t\tnewLoc[Position.RIGHT] = Location.NONE;\n\t\t\tthis.location = newLoc;\n\t\t}\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE && i < gl.location.length) this.location[i] = gl.location[i];\n\t\t}\n\t}\n\tgetLocations() {\n\t\treturn this.location;\n\t}\n\tflip() {\n\t\tif (this.location.length <= 1) return null;\n\t\tvar temp = this.location[Position.LEFT];\n\t\tthis.location[Position.LEFT] = this.location[Position.RIGHT];\n\t\tthis.location[Position.RIGHT] = temp;\n\t}\n\ttoString() {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.LEFT]));\n\t\tbuf.append(Location.toLocationSymbol(this.location[Position.ON]));\n\t\tif (this.location.length > 1) buf.append(Location.toLocationSymbol(this.location[Position.RIGHT]));\n\t\treturn buf.toString();\n\t}\n\tsetLocations(on, left, right) {\n\t\tthis.location[Position.ON] = on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t}\n\tget(posIndex) {\n\t\tif (posIndex < this.location.length) return this.location[posIndex];\n\t\treturn Location.NONE;\n\t}\n\tisArea() {\n\t\treturn this.location.length > 1;\n\t}\n\tisAnyNull() {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] === Location.NONE) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tsetLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet locValue = arguments[0];\n\t\t\tthis.setLocation(Position.ON, locValue);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet locIndex = arguments[0], locValue = arguments[1];\n\t\t\tthis.location[locIndex] = locValue;\n\t\t}\n\t}\n\tinit(size) {\n\t\tthis.location = new Array(size).fill(null);\n\t\tthis.setAllLocations(Location.NONE);\n\t}\n\tisEqualOnSide(le, locIndex) {\n\t\treturn this.location[locIndex] === le.location[locIndex];\n\t}\n\tallPositionsEqual(loc) {\n\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\tif (this.location[i] !== loc) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn TopologyLocation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTopologyLocation.constructor_ = function () {\n\tthis.location = null;\n\tif (arguments.length === 1) {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet location = arguments[0];\n\t\t\tthis.init(location.length);\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet on = arguments[0];\n\t\t\tthis.init(1);\n\t\t\tthis.location[Position.ON] = on;\n\t\t} else if (arguments[0] instanceof TopologyLocation) {\n\t\t\tlet gl = arguments[0];\n\t\t\tthis.init(gl.location.length);\n\t\t\tif (gl !== null) {\n\t\t\t\tfor (var i = 0; i < this.location.length; i++) {\n\t\t\t\t\tthis.location[i] = gl.location[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (arguments.length === 3) {\n\t\tlet on = arguments[0], left = arguments[1], right = arguments[2];\n\t\tthis.init(3);\n\t\tthis.location[Position.ON] = on;\n\t\tthis.location[Position.LEFT] = left;\n\t\tthis.location[Position.RIGHT] = right;\n\t}\n};\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nimport TopologyLocation from './TopologyLocation';\nexport default class Label {\n\tconstructor() {\n\t\tLabel.constructor_.apply(this, arguments);\n\t}\n\tstatic toLineLabel(label) {\n\t\tvar lineLabel = new Label(Location.NONE);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tlineLabel.setLocation(i, label.getLocation(i));\n\t\t}\n\t\treturn lineLabel;\n\t}\n\tgetGeometryCount() {\n\t\tvar count = 0;\n\t\tif (!this.elt[0].isNull()) count++;\n\t\tif (!this.elt[1].isNull()) count++;\n\t\treturn count;\n\t}\n\tsetAllLocations(geomIndex, location) {\n\t\tthis.elt[geomIndex].setAllLocations(location);\n\t}\n\tisNull(geomIndex) {\n\t\treturn this.elt[geomIndex].isNull();\n\t}\n\tsetAllLocationsIfNull() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet location = arguments[0];\n\t\t\tthis.setAllLocationsIfNull(0, location);\n\t\t\tthis.setAllLocationsIfNull(1, location);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], location = arguments[1];\n\t\t\tthis.elt[geomIndex].setAllLocationsIfNull(location);\n\t\t}\n\t}\n\tisLine(geomIndex) {\n\t\treturn this.elt[geomIndex].isLine();\n\t}\n\tmerge(lbl) {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (this.elt[i] === null && lbl.elt[i] !== null) {\n\t\t\t\tthis.elt[i] = new TopologyLocation(lbl.elt[i]);\n\t\t\t} else {\n\t\t\t\tthis.elt[i].merge(lbl.elt[i]);\n\t\t\t}\n\t\t}\n\t}\n\tflip() {\n\t\tthis.elt[0].flip();\n\t\tthis.elt[1].flip();\n\t}\n\tgetLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].get(Position.ON);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1];\n\t\t\treturn this.elt[geomIndex].get(posIndex);\n\t\t}\n\t}\n\ttoString() {\n\t\tvar buf = new StringBuffer();\n\t\tif (this.elt[0] !== null) {\n\t\t\tbuf.append(\"A:\");\n\t\t\tbuf.append(this.elt[0].toString());\n\t\t}\n\t\tif (this.elt[1] !== null) {\n\t\t\tbuf.append(\" B:\");\n\t\t\tbuf.append(this.elt[1].toString());\n\t\t}\n\t\treturn buf.toString();\n\t}\n\tisArea() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this.elt[0].isArea() || this.elt[1].isArea();\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this.elt[geomIndex].isArea();\n\t\t}\n\t}\n\tisAnyNull(geomIndex) {\n\t\treturn this.elt[geomIndex].isAnyNull();\n\t}\n\tsetLocation() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], location = arguments[1];\n\t\t\tthis.elt[geomIndex].setLocation(Position.ON, location);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1], location = arguments[2];\n\t\t\tthis.elt[geomIndex].setLocation(posIndex, location);\n\t\t}\n\t}\n\tisEqualOnSide(lbl, side) {\n\t\treturn this.elt[0].isEqualOnSide(lbl.elt[0], side) && this.elt[1].isEqualOnSide(lbl.elt[1], side);\n\t}\n\tallPositionsEqual(geomIndex, loc) {\n\t\treturn this.elt[geomIndex].allPositionsEqual(loc);\n\t}\n\ttoLine(geomIndex) {\n\t\tif (this.elt[geomIndex].isArea()) this.elt[geomIndex] = new TopologyLocation(this.elt[geomIndex].location[0]);\n\t}\n\tgetClass() {\n\t\treturn Label;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLabel.constructor_ = function () {\n\tthis.elt = new Array(2).fill(null);\n\tif (arguments.length === 1) {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tlet onLoc = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(onLoc);\n\t\t\tthis.elt[1] = new TopologyLocation(onLoc);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tlet lbl = arguments[0];\n\t\t\tthis.elt[0] = new TopologyLocation(lbl.elt[0]);\n\t\t\tthis.elt[1] = new TopologyLocation(lbl.elt[1]);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet geomIndex = arguments[0], onLoc = arguments[1];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE);\n\t\tthis.elt[geomIndex].setLocation(onLoc);\n\t} else if (arguments.length === 3) {\n\t\tlet onLoc = arguments[0], leftLoc = arguments[1], rightLoc = arguments[2];\n\t\tthis.elt[0] = new TopologyLocation(onLoc, leftLoc, rightLoc);\n\t\tthis.elt[1] = new TopologyLocation(onLoc, leftLoc, rightLoc);\n\t} else if (arguments.length === 4) {\n\t\tlet geomIndex = arguments[0], onLoc = arguments[1], leftLoc = arguments[2], rightLoc = arguments[3];\n\t\tthis.elt[0] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[1] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n\t\tthis.elt[geomIndex].setLocations(onLoc, leftLoc, rightLoc);\n\t}\n};\n","import Coordinate from '../geom/Coordinate';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default class EdgeIntersection {\n\tconstructor() {\n\t\tEdgeIntersection.constructor_.apply(this, arguments);\n\t}\n\tgetSegmentIndex() {\n\t\treturn this.segmentIndex;\n\t}\n\tgetCoordinate() {\n\t\treturn this.coord;\n\t}\n\tprint(out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t\tout.println(\" dist = \" + this.dist);\n\t}\n\tcompareTo(obj) {\n\t\tvar other = obj;\n\t\treturn this.compare(other.segmentIndex, other.dist);\n\t}\n\tisEndPoint(maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && this.dist === 0.0) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t}\n\ttoString() {\n\t\treturn this.coord + \" seg # = \" + this.segmentIndex + \" dist = \" + this.dist;\n\t}\n\tgetDistance() {\n\t\treturn this.dist;\n\t}\n\tcompare(segmentIndex, dist) {\n\t\tif (this.segmentIndex < segmentIndex) return -1;\n\t\tif (this.segmentIndex > segmentIndex) return 1;\n\t\tif (this.dist < dist) return -1;\n\t\tif (this.dist > dist) return 1;\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn EdgeIntersection;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nEdgeIntersection.constructor_ = function () {\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis.dist = null;\n\tlet coord = arguments[0], segmentIndex = arguments[1], dist = arguments[2];\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis.dist = dist;\n};\n","import EdgeIntersection from './EdgeIntersection';\nimport Coordinate from '../geom/Coordinate';\nimport Label from './Label';\nimport Edge from './Edge';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class EdgeIntersectionList {\n\tconstructor() {\n\t\tEdgeIntersectionList.constructor_.apply(this, arguments);\n\t}\n\tprint(out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t}\n\titerator() {\n\t\treturn this._nodeMap.values().iterator();\n\t}\n\taddSplitEdges(edgeList) {\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t}\n\taddEndpoints() {\n\t\tvar maxSegIndex = this.edge.pts.length - 1;\n\t\tthis.add(this.edge.pts[0], 0, 0.0);\n\t\tthis.add(this.edge.pts[maxSegIndex], maxSegIndex, 0.0);\n\t}\n\tcreateSplitEdge(ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this.edge.pts[ei1.segmentIndex];\n\t\tvar useIntPt1 = ei1.dist > 0.0 || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this.edge.pts[i];\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = ei1.coord;\n\t\treturn new Edge(pts, new Label(this.edge._label));\n\t}\n\tadd(intPt, segmentIndex, dist) {\n\t\tvar eiNew = new EdgeIntersection(intPt, segmentIndex, dist);\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t}\n\tisIntersection(pt) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tif (ei.coord.equals(pt)) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn EdgeIntersectionList;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeIntersectionList.constructor_ = function () {\n\tthis._nodeMap = new TreeMap();\n\tthis.edge = null;\n\tlet edge = arguments[0];\n\tthis.edge = edge;\n};\n","import Integer from '../../../../../java/lang/Integer';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Quadrant from '../Quadrant';\nexport default class MonotoneChainIndexer {\n\tconstructor() {\n\t\tMonotoneChainIndexer.constructor_.apply(this, arguments);\n\t}\n\tstatic toIntArray(list) {\n\t\tvar array = new Array(list.size()).fill(null);\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tarray[i] = list.get(i).intValue();\n\t\t}\n\t\treturn array;\n\t}\n\tgetChainStartIndices(pts) {\n\t\tvar start = 0;\n\t\tvar startIndexList = new ArrayList();\n\t\tstartIndexList.add(new Integer(start));\n\t\tdo {\n\t\t\tvar last = this.findChainEnd(pts, start);\n\t\t\tstartIndexList.add(new Integer(last));\n\t\t\tstart = last;\n\t\t} while (start < pts.length - 1);\n\t\tvar startIndex = MonotoneChainIndexer.toIntArray(startIndexList);\n\t\treturn startIndex;\n\t}\n\tfindChainEnd(pts, start) {\n\t\tvar chainQuad = Quadrant.quadrant(pts[start], pts[start + 1]);\n\t\tvar last = start + 1;\n\t\twhile (last < pts.length) {\n\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\tif (quad !== chainQuad) break;\n\t\t\tlast++;\n\t\t}\n\t\treturn last - 1;\n\t}\n\tgetClass() {\n\t\treturn MonotoneChainIndexer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChainIndexer.constructor_ = function () {};\n","import MonotoneChainIndexer from './MonotoneChainIndexer';\nimport Envelope from '../../geom/Envelope';\nexport default class MonotoneChainEdge {\n\tconstructor() {\n\t\tMonotoneChainEdge.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {\n\t\treturn this.pts;\n\t}\n\tgetMaxX(chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 > x2 ? x1 : x2;\n\t}\n\tgetMinX(chainIndex) {\n\t\tvar x1 = this.pts[this.startIndex[chainIndex]].x;\n\t\tvar x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n\t\treturn x1 < x2 ? x1 : x2;\n\t}\n\tcomputeIntersectsForChain() {\n\t\tif (arguments.length === 4) {\n\t\t\tlet chainIndex0 = arguments[0], mce = arguments[1], chainIndex1 = arguments[2], si = arguments[3];\n\t\t\tthis.computeIntersectsForChain(this.startIndex[chainIndex0], this.startIndex[chainIndex0 + 1], mce, mce.startIndex[chainIndex1], mce.startIndex[chainIndex1 + 1], si);\n\t\t} else if (arguments.length === 6) {\n\t\t\tlet start0 = arguments[0], end0 = arguments[1], mce = arguments[2], start1 = arguments[3], end1 = arguments[4], ei = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\tei.addIntersections(this.e, start0, mce.e, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, mce, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(start0, mid0, mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(start0, mid0, mce, mid1, end1, ei);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeIntersectsForChain(mid0, end0, mce, start1, mid1, ei);\n\t\t\t\tif (mid1 < end1) this.computeIntersectsForChain(mid0, end0, mce, mid1, end1, ei);\n\t\t\t}\n\t\t}\n\t}\n\toverlaps(start0, end0, mce, start1, end1) {\n\t\treturn Envelope.intersects(this.pts[start0], this.pts[end0], mce.pts[start1], mce.pts[end1]);\n\t}\n\tgetStartIndexes() {\n\t\treturn this.startIndex;\n\t}\n\tcomputeIntersects(mce, si) {\n\t\tfor (var i = 0; i < this.startIndex.length - 1; i++) {\n\t\t\tfor (var j = 0; j < mce.startIndex.length - 1; j++) {\n\t\t\t\tthis.computeIntersectsForChain(i, mce, j, si);\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MonotoneChainEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChainEdge.constructor_ = function () {\n\tthis.e = null;\n\tthis.pts = null;\n\tthis.startIndex = null;\n\tlet e = arguments[0];\n\tthis.e = e;\n\tthis.pts = e.getCoordinates();\n\tvar mcb = new MonotoneChainIndexer();\n\tthis.startIndex = mcb.getChainStartIndices(this.pts);\n};\n","import Location from '../geom/Location';\nimport Position from './Position';\nexport default class Depth {\n\tconstructor() {\n\t\tDepth.constructor_.apply(this, arguments);\n\t}\n\tstatic depthAtLocation(location) {\n\t\tif (location === Location.EXTERIOR) return 0;\n\t\tif (location === Location.INTERIOR) return 1;\n\t\treturn Depth.NULL_VALUE;\n\t}\n\tgetDepth(geomIndex, posIndex) {\n\t\treturn this._depth[geomIndex][posIndex];\n\t}\n\tsetDepth(geomIndex, posIndex, depthValue) {\n\t\tthis._depth[geomIndex][posIndex] = depthValue;\n\t}\n\tisNull() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 0; j < 3; j++) {\n\t\t\t\t\tif (this._depth[i][j] !== Depth.NULL_VALUE) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomIndex = arguments[0];\n\t\t\treturn this._depth[geomIndex][1] === Depth.NULL_VALUE;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1];\n\t\t\treturn this._depth[geomIndex][posIndex] === Depth.NULL_VALUE;\n\t\t}\n\t}\n\tnormalize() {\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!this.isNull(i)) {\n\t\t\t\tvar minDepth = this._depth[i][1];\n\t\t\t\tif (this._depth[i][2] < minDepth) minDepth = this._depth[i][2];\n\t\t\t\tif (minDepth < 0) minDepth = 0;\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar newValue = 0;\n\t\t\t\t\tif (this._depth[i][j] > minDepth) newValue = 1;\n\t\t\t\t\tthis._depth[i][j] = newValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetDelta(geomIndex) {\n\t\treturn this._depth[geomIndex][Position.RIGHT] - this._depth[geomIndex][Position.LEFT];\n\t}\n\tgetLocation(geomIndex, posIndex) {\n\t\tif (this._depth[geomIndex][posIndex] <= 0) return Location.EXTERIOR;\n\t\treturn Location.INTERIOR;\n\t}\n\ttoString() {\n\t\treturn \"A: \" + this._depth[0][1] + \",\" + this._depth[0][2] + \" B: \" + this._depth[1][1] + \",\" + this._depth[1][2];\n\t}\n\tadd() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet lbl = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tfor (var j = 1; j < 3; j++) {\n\t\t\t\t\tvar loc = lbl.getLocation(i, j);\n\t\t\t\t\tif (loc === Location.EXTERIOR || loc === Location.INTERIOR) {\n\t\t\t\t\t\tif (this.isNull(i, j)) {\n\t\t\t\t\t\t\tthis._depth[i][j] = Depth.depthAtLocation(loc);\n\t\t\t\t\t\t} else this._depth[i][j] += Depth.depthAtLocation(loc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geomIndex = arguments[0], posIndex = arguments[1], location = arguments[2];\n\t\t\tif (location === Location.INTERIOR) this._depth[geomIndex][posIndex]++;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Depth;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDepth.constructor_ = function () {\n\tthis._depth = Array(2).fill().map(() => Array(3));\n\tfor (var i = 0; i < 2; i++) {\n\t\tfor (var j = 0; j < 3; j++) {\n\t\t\tthis._depth[i][j] = Depth.NULL_VALUE;\n\t\t}\n\t}\n};\nDepth.NULL_VALUE = -1;\n","import Assert from '../util/Assert';\nexport default class GraphComponent {\n\tconstructor() {\n\t\tGraphComponent.constructor_.apply(this, arguments);\n\t}\n\tsetVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t}\n\tsetInResult(isInResult) {\n\t\tthis._isInResult = isInResult;\n\t}\n\tisCovered() {\n\t\treturn this._isCovered;\n\t}\n\tisCoveredSet() {\n\t\treturn this._isCoveredSet;\n\t}\n\tsetLabel(label) {\n\t\tthis._label = label;\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tsetCovered(isCovered) {\n\t\tthis._isCovered = isCovered;\n\t\tthis._isCoveredSet = true;\n\t}\n\tupdateIM(im) {\n\t\tAssert.isTrue(this._label.getGeometryCount() >= 2, \"found partial label\");\n\t\tthis.computeIM(im);\n\t}\n\tisInResult() {\n\t\treturn this._isInResult;\n\t}\n\tisVisited() {\n\t\treturn this._isVisited;\n\t}\n\tgetClass() {\n\t\treturn GraphComponent;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGraphComponent.constructor_ = function () {\n\tthis._label = null;\n\tthis._isInResult = false;\n\tthis._isCovered = false;\n\tthis._isCoveredSet = false;\n\tthis._isVisited = false;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet label = arguments[0];\n\t\tthis._label = label;\n\t}\n};\n","import EdgeIntersectionList from './EdgeIntersectionList';\nimport IntersectionMatrix from '../geom/IntersectionMatrix';\nimport MonotoneChainEdge from './index/MonotoneChainEdge';\nimport Position from './Position';\nimport Coordinate from '../geom/Coordinate';\nimport Label from './Label';\nimport Envelope from '../geom/Envelope';\nimport StringBuilder from '../../../../java/lang/StringBuilder';\nimport Depth from './Depth';\nimport GraphComponent from './GraphComponent';\nexport default class Edge extends GraphComponent {\n\tconstructor() {\n\t\tsuper();\n\t\tEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic updateIM() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof IntersectionMatrix && arguments[0] instanceof Label)) {\n\t\t\tlet label = arguments[0], im = arguments[1];\n\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.ON), label.getLocation(1, Position.ON), 1);\n\t\t\tif (label.isArea()) {\n\t\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.LEFT), label.getLocation(1, Position.LEFT), 2);\n\t\t\t\tim.setAtLeastIfValid(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), 2);\n\t\t\t}\n\t\t} else return super.updateIM.apply(this, arguments);\n\t}\n\tgetDepth() {\n\t\treturn this._depth;\n\t}\n\tgetCollapsedEdge() {\n\t\tvar newPts = new Array(2).fill(null);\n\t\tnewPts[0] = this.pts[0];\n\t\tnewPts[1] = this.pts[1];\n\t\tvar newe = new Edge(newPts, Label.toLineLabel(this._label));\n\t\treturn newe;\n\t}\n\tisIsolated() {\n\t\treturn this._isIsolated;\n\t}\n\tgetCoordinates() {\n\t\treturn this.pts;\n\t}\n\tsetIsolated(isIsolated) {\n\t\tthis._isIsolated = isIsolated;\n\t}\n\tsetName(name) {\n\t\tthis._name = name;\n\t}\n\tequals(o) {\n\t\tif (!(o instanceof Edge)) return false;\n\t\tvar e = o;\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tvar isEqualForward = true;\n\t\tvar isEqualReverse = true;\n\t\tvar iRev = this.pts.length;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\tisEqualForward = false;\n\t\t\t}\n\t\t\tif (!this.pts[i].equals2D(e.pts[-- iRev])) {\n\t\t\t\tisEqualReverse = false;\n\t\t\t}\n\t\t\tif (!isEqualForward && !isEqualReverse) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tgetCoordinate() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.pts.length > 0) return this.pts[0];\n\t\t\treturn null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this.pts[i];\n\t\t}\n\t}\n\tprint(out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tout.print(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) out.print(\",\");\n\t\t\tout.print(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tout.print(\")  \" + this._label + \" \" + this._depthDelta);\n\t}\n\tcomputeIM(im) {\n\t\tEdge.updateIM(this._label, im);\n\t}\n\tisCollapsed() {\n\t\tif (!this._label.isArea()) return false;\n\t\tif (this.pts.length !== 3) return false;\n\t\tif (this.pts[0].equals(this.pts[2])) return true;\n\t\treturn false;\n\t}\n\tisClosed() {\n\t\treturn this.pts[0].equals(this.pts[this.pts.length - 1]);\n\t}\n\tgetMaximumSegmentIndex() {\n\t\treturn this.pts.length - 1;\n\t}\n\tgetDepthDelta() {\n\t\treturn this._depthDelta;\n\t}\n\tgetNumPoints() {\n\t\treturn this.pts.length;\n\t}\n\tprintReverse(out) {\n\t\tout.print(\"edge \" + this._name + \": \");\n\t\tfor (var i = this.pts.length - 1; i >= 0; i--) {\n\t\t\tout.print(this.pts[i] + \" \");\n\t\t}\n\t\tout.println(\"\");\n\t}\n\tgetMonotoneChainEdge() {\n\t\tif (this._mce === null) this._mce = new MonotoneChainEdge(this);\n\t\treturn this._mce;\n\t}\n\tgetEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tthis._env = new Envelope();\n\t\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\t\tthis._env.expandToInclude(this.pts[i]);\n\t\t\t}\n\t\t}\n\t\treturn this._env;\n\t}\n\taddIntersection(li, segmentIndex, geomIndex, intIndex) {\n\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar dist = li.getEdgeDistance(geomIndex, intIndex);\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this.pts.length) {\n\t\t\tvar nextPt = this.pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t\tdist = 0.0;\n\t\t\t}\n\t\t}\n\t\tvar ei = this.eiList.add(intPt, normalizedSegmentIndex, dist);\n\t}\n\ttoString() {\n\t\tvar builder = new StringBuilder();\n\t\tbuilder.append(\"edge \" + this._name + \": \");\n\t\tbuilder.append(\"LINESTRING (\");\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (i > 0) builder.append(\",\");\n\t\t\tbuilder.append(this.pts[i].x + \" \" + this.pts[i].y);\n\t\t}\n\t\tbuilder.append(\")  \" + this._label + \" \" + this._depthDelta);\n\t\treturn builder.toString();\n\t}\n\tisPointwiseEqual(e) {\n\t\tif (this.pts.length !== e.pts.length) return false;\n\t\tfor (var i = 0; i < this.pts.length; i++) {\n\t\t\tif (!this.pts[i].equals2D(e.pts[i])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tsetDepthDelta(depthDelta) {\n\t\tthis._depthDelta = depthDelta;\n\t}\n\tgetEdgeIntersectionList() {\n\t\treturn this.eiList;\n\t}\n\taddIntersections(li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Edge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdge.constructor_ = function () {\n\tthis.pts = null;\n\tthis._env = null;\n\tthis.eiList = new EdgeIntersectionList(this);\n\tthis._name = null;\n\tthis._mce = null;\n\tthis._isIsolated = true;\n\tthis._depth = new Depth();\n\tthis._depthDelta = 0;\n\tif (arguments.length === 1) {\n\t\tlet pts = arguments[0];\n\t\tEdge.constructor_.call(this, pts, null);\n\t} else if (arguments.length === 2) {\n\t\tlet pts = arguments[0], label = arguments[1];\n\t\tthis.pts = pts;\n\t\tthis._label = label;\n\t}\n};\n","import Location from '../geom/Location';\nimport Label from './Label';\nimport GraphComponent from './GraphComponent';\nexport default class Node extends GraphComponent {\n\tconstructor() {\n\t\tsuper();\n\t\tNode.constructor_.apply(this, arguments);\n\t}\n\tisIncidentEdgeInResult() {\n\t\tfor (var it = this.getEdges().getEdges().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getEdge().isInResult()) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tisIsolated() {\n\t\treturn this._label.getGeometryCount() === 1;\n\t}\n\tgetCoordinate() {\n\t\treturn this._coord;\n\t}\n\tprint(out) {\n\t\tout.println(\"node \" + this._coord + \" lbl: \" + this._label);\n\t}\n\tcomputeIM(im) {}\n\tcomputeMergedLocation(label2, eltIndex) {\n\t\tvar loc = Location.NONE;\n\t\tloc = this._label.getLocation(eltIndex);\n\t\tif (!label2.isNull(eltIndex)) {\n\t\t\tvar nLoc = label2.getLocation(eltIndex);\n\t\t\tif (loc !== Location.BOUNDARY) loc = nLoc;\n\t\t}\n\t\treturn loc;\n\t}\n\tsetLabel() {\n\t\tif (arguments.length === 2 && (Number.isInteger(arguments[1]) && Number.isInteger(arguments[0]))) {\n\t\t\tlet argIndex = arguments[0], onLocation = arguments[1];\n\t\t\tif (this._label === null) {\n\t\t\t\tthis._label = new Label(argIndex, onLocation);\n\t\t\t} else this._label.setLocation(argIndex, onLocation);\n\t\t} else return super.setLabel.apply(this, arguments);\n\t}\n\tgetEdges() {\n\t\treturn this._edges;\n\t}\n\tmergeLabel() {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet n = arguments[0];\n\t\t\tthis.mergeLabel(n._label);\n\t\t} else if (arguments[0] instanceof Label) {\n\t\t\tlet label2 = arguments[0];\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar loc = this.computeMergedLocation(label2, i);\n\t\t\t\tvar thisLoc = this._label.getLocation(i);\n\t\t\t\tif (thisLoc === Location.NONE) this._label.setLocation(i, loc);\n\t\t\t}\n\t\t}\n\t}\n\tadd(e) {\n\t\tthis._edges.insert(e);\n\t\te.setNode(this);\n\t}\n\tsetLabelBoundary(argIndex) {\n\t\tif (this._label === null) return null;\n\t\tvar loc = Location.NONE;\n\t\tif (this._label !== null) loc = this._label.getLocation(argIndex);\n\t\tvar newLoc = null;\n\t\tswitch (loc) {\n\t\t\tcase Location.BOUNDARY:\n\t\t\t\tnewLoc = Location.INTERIOR;\n\t\t\t\tbreak;\n\t\t\tcase Location.INTERIOR:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tnewLoc = Location.BOUNDARY;\n\t\t\t\tbreak;\n\t\t}\n\t\tthis._label.setLocation(argIndex, newLoc);\n\t}\n\tgetClass() {\n\t\treturn Node;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNode.constructor_ = function () {\n\tthis._coord = null;\n\tthis._edges = null;\n\tlet coord = arguments[0], edges = arguments[1];\n\tthis._coord = coord;\n\tthis._edges = edges;\n\tthis._label = new Label(0, Location.NONE);\n};\n","import Location from '../geom/Location';\nimport Coordinate from '../geom/Coordinate';\nimport Node from './Node';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class NodeMap {\n\tconstructor() {\n\t\tNodeMap.constructor_.apply(this, arguments);\n\t}\n\tfind(coord) {\n\t\treturn this.nodeMap.get(coord);\n\t}\n\taddNode() {\n\t\tif (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\tvar node = this.nodeMap.get(coord);\n\t\t\tif (node === null) {\n\t\t\t\tnode = this.nodeFact.createNode(coord);\n\t\t\t\tthis.nodeMap.put(coord, node);\n\t\t\t}\n\t\t\treturn node;\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet n = arguments[0];\n\t\t\tvar node = this.nodeMap.get(n.getCoordinate());\n\t\t\tif (node === null) {\n\t\t\t\tthis.nodeMap.put(n.getCoordinate(), n);\n\t\t\t\treturn n;\n\t\t\t}\n\t\t\tnode.mergeLabel(n);\n\t\t\treturn node;\n\t\t}\n\t}\n\tprint(out) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar n = it.next();\n\t\t\tn.print(out);\n\t\t}\n\t}\n\titerator() {\n\t\treturn this.nodeMap.values().iterator();\n\t}\n\tvalues() {\n\t\treturn this.nodeMap.values();\n\t}\n\tgetBoundaryNodes(geomIndex) {\n\t\tvar bdyNodes = new ArrayList();\n\t\tfor (var i = this.iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getLabel().getLocation(geomIndex) === Location.BOUNDARY) bdyNodes.add(node);\n\t\t}\n\t\treturn bdyNodes;\n\t}\n\tadd(e) {\n\t\tvar p = e.getCoordinate();\n\t\tvar n = this.addNode(p);\n\t\tn.add(e);\n\t}\n\tgetClass() {\n\t\treturn NodeMap;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNodeMap.constructor_ = function () {\n\tthis.nodeMap = new TreeMap();\n\tthis.nodeFact = null;\n\tlet nodeFact = arguments[0];\n\tthis.nodeFact = nodeFact;\n};\n","import Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport Quadrant from './Quadrant';\nimport Assert from '../util/Assert';\nexport default class EdgeEnd {\n\tconstructor() {\n\t\tEdgeEnd.constructor_.apply(this, arguments);\n\t}\n\tcompareDirection(e) {\n\t\tif (this._dx === e._dx && this._dy === e._dy) return 0;\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t}\n\tgetDy() {\n\t\treturn this._dy;\n\t}\n\tgetCoordinate() {\n\t\treturn this._p0;\n\t}\n\tsetNode(node) {\n\t\tthis._node = node;\n\t}\n\tprint(out) {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label);\n\t}\n\tcompareTo(obj) {\n\t\tvar e = obj;\n\t\treturn this.compareDirection(e);\n\t}\n\tgetDirectedCoordinate() {\n\t\treturn this._p1;\n\t}\n\tgetDx() {\n\t\treturn this._dx;\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tgetEdge() {\n\t\treturn this._edge;\n\t}\n\tgetQuadrant() {\n\t\treturn this._quadrant;\n\t}\n\tgetNode() {\n\t\treturn this._node;\n\t}\n\ttoString() {\n\t\tvar angle = Math.atan2(this._dy, this._dx);\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\treturn \"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + angle + \"   \" + this._label;\n\t}\n\tcomputeLabel(boundaryNodeRule) {}\n\tinit(p0, p1) {\n\t\tthis._p0 = p0;\n\t\tthis._p1 = p1;\n\t\tthis._dx = p1.x - p0.x;\n\t\tthis._dy = p1.y - p0.y;\n\t\tthis._quadrant = Quadrant.quadrant(this._dx, this._dy);\n\t\tAssert.isTrue(!(this._dx === 0 && this._dy === 0), \"EdgeEnd with identical endpoints found\");\n\t}\n\tgetClass() {\n\t\treturn EdgeEnd;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nEdgeEnd.constructor_ = function () {\n\tthis._edge = null;\n\tthis._label = null;\n\tthis._node = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._dx = null;\n\tthis._dy = null;\n\tthis._quadrant = null;\n\tif (arguments.length === 1) {\n\t\tlet edge = arguments[0];\n\t\tthis._edge = edge;\n\t} else if (arguments.length === 3) {\n\t\tlet edge = arguments[0], p0 = arguments[1], p1 = arguments[2];\n\t\tEdgeEnd.constructor_.call(this, edge, p0, p1, null);\n\t} else if (arguments.length === 4) {\n\t\tlet edge = arguments[0], p0 = arguments[1], p1 = arguments[2], label = arguments[3];\n\t\tEdgeEnd.constructor_.call(this, edge);\n\t\tthis.init(p0, p1);\n\t\tthis._label = label;\n\t}\n};\n","import Coordinate from './Coordinate';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nexport default class TopologyException extends RuntimeException {\n\tconstructor() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet msg = arguments[0];\n\t\t\tsuper(msg)\n\t\t\tRuntimeException.call(this, msg);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet msg = arguments[0], pt = arguments[1];\n\t\t\tsuper(TopologyException.msgWithCoord(msg, pt))\n\t\t\tthis.name = 'TopologyException';\n\t\t\tthis.pt = new Coordinate(pt);\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\treturn this.pt;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n\tgetClass() {\n\t\treturn TopologyException;\n\t}\n\tstatic msgWithCoord (msg, pt) {\n\t\tif (pt !== null) return msg + \" [ \" + pt + \" ]\";\n\t\treturn msg;\n\t}\n}","import Location from '../geom/Location';\nimport EdgeEnd from './EdgeEnd';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport Label from './Label';\nexport default class DirectedEdge extends EdgeEnd {\n\tconstructor() {\n\t\tsuper();\n\t\tDirectedEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic depthFactor(currLocation, nextLocation) {\n\t\tif (currLocation === Location.EXTERIOR && nextLocation === Location.INTERIOR) return 1; else if (currLocation === Location.INTERIOR && nextLocation === Location.EXTERIOR) return -1;\n\t\treturn 0;\n\t}\n\tgetNextMin() {\n\t\treturn this._nextMin;\n\t}\n\tgetDepth(position) {\n\t\treturn this._depth[position];\n\t}\n\tsetVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t}\n\tcomputeDirectedLabel() {\n\t\tthis._label = new Label(this._edge.getLabel());\n\t\tif (!this._isForward) this._label.flip();\n\t}\n\tgetNext() {\n\t\treturn this._next;\n\t}\n\tsetDepth(position, depthVal) {\n\t\tif (this._depth[position] !== -999) {\n\t\t\tif (this._depth[position] !== depthVal) throw new TopologyException(\"assigned depths do not match\", this.getCoordinate());\n\t\t}\n\t\tthis._depth[position] = depthVal;\n\t}\n\tisInteriorAreaEdge() {\n\t\tvar isInteriorAreaEdge = true;\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tif (!(this._label.isArea(i) && this._label.getLocation(i, Position.LEFT) === Location.INTERIOR && this._label.getLocation(i, Position.RIGHT) === Location.INTERIOR)) {\n\t\t\t\tisInteriorAreaEdge = false;\n\t\t\t}\n\t\t}\n\t\treturn isInteriorAreaEdge;\n\t}\n\tsetNextMin(nextMin) {\n\t\tthis._nextMin = nextMin;\n\t}\n\tprint(out) {\n\t\tsuper.print.call(this, out);\n\t\tout.print(\" \" + this._depth[Position.LEFT] + \"/\" + this._depth[Position.RIGHT]);\n\t\tout.print(\" (\" + this.getDepthDelta() + \")\");\n\t\tif (this._isInResult) out.print(\" inResult\");\n\t}\n\tsetMinEdgeRing(minEdgeRing) {\n\t\tthis._minEdgeRing = minEdgeRing;\n\t}\n\tisLineEdge() {\n\t\tvar isLine = this._label.isLine(0) || this._label.isLine(1);\n\t\tvar isExteriorIfArea0 = !this._label.isArea(0) || this._label.allPositionsEqual(0, Location.EXTERIOR);\n\t\tvar isExteriorIfArea1 = !this._label.isArea(1) || this._label.allPositionsEqual(1, Location.EXTERIOR);\n\t\treturn isLine && isExteriorIfArea0 && isExteriorIfArea1;\n\t}\n\tsetEdgeRing(edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t}\n\tgetMinEdgeRing() {\n\t\treturn this._minEdgeRing;\n\t}\n\tgetDepthDelta() {\n\t\tvar depthDelta = this._edge.getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\treturn depthDelta;\n\t}\n\tsetInResult(isInResult) {\n\t\tthis._isInResult = isInResult;\n\t}\n\tgetSym() {\n\t\treturn this._sym;\n\t}\n\tisForward() {\n\t\treturn this._isForward;\n\t}\n\tgetEdge() {\n\t\treturn this._edge;\n\t}\n\tprintEdge(out) {\n\t\tthis.print(out);\n\t\tout.print(\" \");\n\t\tif (this._isForward) this._edge.print(out); else this._edge.printReverse(out);\n\t}\n\tsetSym(de) {\n\t\tthis._sym = de;\n\t}\n\tsetVisitedEdge(isVisited) {\n\t\tthis.setVisited(isVisited);\n\t\tthis._sym.setVisited(isVisited);\n\t}\n\tsetEdgeDepths(position, depth) {\n\t\tvar depthDelta = this.getEdge().getDepthDelta();\n\t\tif (!this._isForward) depthDelta = -depthDelta;\n\t\tvar directionFactor = 1;\n\t\tif (position === Position.LEFT) directionFactor = -1;\n\t\tvar oppositePos = Position.opposite(position);\n\t\tvar delta = depthDelta * directionFactor;\n\t\tvar oppositeDepth = depth + delta;\n\t\tthis.setDepth(position, depth);\n\t\tthis.setDepth(oppositePos, oppositeDepth);\n\t}\n\tgetEdgeRing() {\n\t\treturn this._edgeRing;\n\t}\n\tisInResult() {\n\t\treturn this._isInResult;\n\t}\n\tsetNext(next) {\n\t\tthis._next = next;\n\t}\n\tisVisited() {\n\t\treturn this._isVisited;\n\t}\n\tgetClass() {\n\t\treturn DirectedEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDirectedEdge.constructor_ = function () {\n\tthis._isForward = null;\n\tthis._isInResult = false;\n\tthis._isVisited = false;\n\tthis._sym = null;\n\tthis._next = null;\n\tthis._nextMin = null;\n\tthis._edgeRing = null;\n\tthis._minEdgeRing = null;\n\tthis._depth = [0, -999, -999];\n\tlet edge = arguments[0], isForward = arguments[1];\n\tEdgeEnd.constructor_.call(this, edge);\n\tthis._isForward = isForward;\n\tif (isForward) {\n\t\tthis.init(edge.getCoordinate(0), edge.getCoordinate(1));\n\t} else {\n\t\tvar n = edge.getNumPoints() - 1;\n\t\tthis.init(edge.getCoordinate(n), edge.getCoordinate(n - 1));\n\t}\n\tthis.computeDirectedLabel();\n};\n","import Node from './Node';\nexport default class NodeFactory {\n\tconstructor() {\n\t\tNodeFactory.constructor_.apply(this, arguments);\n\t}\n\tcreateNode(coord) {\n\t\treturn new Node(coord, null);\n\t}\n\tgetClass() {\n\t\treturn NodeFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNodeFactory.constructor_ = function () {};\n","import Location from '../geom/Location';\nimport Coordinate from '../geom/Coordinate';\nimport Node from './Node';\nimport NodeMap from './NodeMap';\nimport Orientation from '../algorithm/Orientation';\nimport DirectedEdge from './DirectedEdge';\nimport System from '../../../../java/lang/System';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from './Quadrant';\nimport NodeFactory from './NodeFactory';\nexport default class PlanarGraph {\n\tconstructor() {\n\t\tPlanarGraph.constructor_.apply(this, arguments);\n\t}\n\tstatic linkResultDirectedEdges(nodes) {\n\t\tfor (var nodeit = nodes.iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkResultDirectedEdges();\n\t\t}\n\t}\n\tprintEdges(out) {\n\t\tout.println(\"Edges:\");\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tout.println(\"edge \" + i + \":\");\n\t\t\tvar e = this._edges.get(i);\n\t\t\te.print(out);\n\t\t\te.eiList.print(out);\n\t\t}\n\t}\n\tfind(coord) {\n\t\treturn this._nodes.find(coord);\n\t}\n\taddNode() {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\treturn this._nodes.addNode(node);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\treturn this._nodes.addNode(coord);\n\t\t}\n\t}\n\tgetNodeIterator() {\n\t\treturn this._nodes.iterator();\n\t}\n\tlinkResultDirectedEdges() {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkResultDirectedEdges();\n\t\t}\n\t}\n\tdebugPrintln(o) {\n\t\tSystem.out.println(o);\n\t}\n\tisBoundaryNode(geomIndex, coord) {\n\t\tvar node = this._nodes.find(coord);\n\t\tif (node === null) return false;\n\t\tvar label = node.getLabel();\n\t\tif (label !== null && label.getLocation(geomIndex) === Location.BOUNDARY) return true;\n\t\treturn false;\n\t}\n\tlinkAllDirectedEdges() {\n\t\tfor (var nodeit = this._nodes.iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().linkAllDirectedEdges();\n\t\t}\n\t}\n\tmatchInSameDirection(p0, p1, ep0, ep1) {\n\t\tif (!p0.equals(ep0)) return false;\n\t\tif (Orientation.index(p0, p1, ep1) === Orientation.COLLINEAR && Quadrant.quadrant(p0, p1) === Quadrant.quadrant(ep0, ep1)) return true;\n\t\treturn false;\n\t}\n\tgetEdgeEnds() {\n\t\treturn this._edgeEndList;\n\t}\n\tdebugPrint(o) {\n\t\tSystem.out.print(o);\n\t}\n\tgetEdgeIterator() {\n\t\treturn this._edges.iterator();\n\t}\n\tfindEdgeInSameDirection(p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[0], eCoord[1])) return e;\n\t\t\tif (this.matchInSameDirection(p0, p1, eCoord[eCoord.length - 1], eCoord[eCoord.length - 2])) return e;\n\t\t}\n\t\treturn null;\n\t}\n\tinsertEdge(e) {\n\t\tthis._edges.add(e);\n\t}\n\tfindEdgeEnd(e) {\n\t\tfor (var i = this.getEdgeEnds().iterator(); i.hasNext(); ) {\n\t\t\tvar ee = i.next();\n\t\t\tif (ee.getEdge() === e) return ee;\n\t\t}\n\t\treturn null;\n\t}\n\taddEdges(edgesToAdd) {\n\t\tfor (var it = edgesToAdd.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tthis._edges.add(e);\n\t\t\tvar de1 = new DirectedEdge(e, true);\n\t\t\tvar de2 = new DirectedEdge(e, false);\n\t\t\tde1.setSym(de2);\n\t\t\tde2.setSym(de1);\n\t\t\tthis.add(de1);\n\t\t\tthis.add(de2);\n\t\t}\n\t}\n\tadd(e) {\n\t\tthis._nodes.add(e);\n\t\tthis._edgeEndList.add(e);\n\t}\n\tgetNodes() {\n\t\treturn this._nodes.values();\n\t}\n\tfindEdge(p0, p1) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tvar e = this._edges.get(i);\n\t\t\tvar eCoord = e.getCoordinates();\n\t\t\tif (p0.equals(eCoord[0]) && p1.equals(eCoord[1])) return e;\n\t\t}\n\t\treturn null;\n\t}\n\tgetClass() {\n\t\treturn PlanarGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPlanarGraph.constructor_ = function () {\n\tthis._edges = new ArrayList();\n\tthis._nodes = null;\n\tthis._edgeEndList = new ArrayList();\n\tif (arguments.length === 0) {\n\t\tthis._nodes = new NodeMap(new NodeFactory());\n\t} else if (arguments.length === 1) {\n\t\tlet nodeFact = arguments[0];\n\t\tthis._nodes = new NodeMap(nodeFact);\n\t}\n};\n","import PointLocator from '../algorithm/PointLocator';\nimport Location from '../geom/Location';\nimport LineString from '../geom/LineString';\nimport HashMap from '../../../../java/util/HashMap';\nimport Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport Position from './Position';\nimport Coordinate from '../geom/Coordinate';\nimport Point from '../geom/Point';\nimport Polygon from '../geom/Polygon';\nimport MultiPoint from '../geom/MultiPoint';\nimport SimpleMCSweepLineIntersector from './index/SimpleMCSweepLineIntersector';\nimport LinearRing from '../geom/LinearRing';\nimport BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport Orientation from '../algorithm/Orientation';\nimport SegmentIntersector from './index/SegmentIntersector';\nimport MultiPolygon from '../geom/MultiPolygon';\nimport Label from './Label';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport Polygonal from '../geom/Polygonal';\nimport IndexedPointInAreaLocator from '../algorithm/locate/IndexedPointInAreaLocator';\nimport Assert from '../util/Assert';\nimport Edge from './Edge';\nimport MultiLineString from '../geom/MultiLineString';\nimport PlanarGraph from './PlanarGraph';\nexport default class GeometryGraph extends PlanarGraph {\n\tconstructor() {\n\t\tsuper();\n\t\tGeometryGraph.constructor_.apply(this, arguments);\n\t}\n\tstatic determineBoundary(boundaryNodeRule, boundaryCount) {\n\t\treturn boundaryNodeRule.isInBoundary(boundaryCount) ? Location.BOUNDARY : Location.INTERIOR;\n\t}\n\tinsertBoundaryPoint(argIndex, coord) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tvar boundaryCount = 1;\n\t\tvar loc = Location.NONE;\n\t\tloc = lbl.getLocation(argIndex, Position.ON);\n\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\tvar newLoc = GeometryGraph.determineBoundary(this._boundaryNodeRule, boundaryCount);\n\t\tlbl.setLocation(argIndex, newLoc);\n\t}\n\tcomputeSelfNodes() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet li = arguments[0], computeRingSelfNodes = arguments[1];\n\t\t\treturn this.computeSelfNodes(li, computeRingSelfNodes, false);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet li = arguments[0], computeRingSelfNodes = arguments[1], isDoneIfProperInt = arguments[2];\n\t\t\tvar si = new SegmentIntersector(li, true, false);\n\t\t\tsi.setIsDoneIfProperInt(isDoneIfProperInt);\n\t\t\tvar esi = this.createEdgeSetIntersector();\n\t\t\tvar isRings = this._parentGeom instanceof LinearRing || this._parentGeom instanceof Polygon || this._parentGeom instanceof MultiPolygon;\n\t\t\tvar computeAllSegments = computeRingSelfNodes || !isRings;\n\t\t\tesi.computeIntersections(this._edges, si, computeAllSegments);\n\t\t\tthis.addSelfIntersectionNodes(this._argIndex);\n\t\t\treturn si;\n\t\t}\n\t}\n\tcomputeSplitEdges(edgelist) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\te.eiList.addSplitEdges(edgelist);\n\t\t}\n\t}\n\tcomputeEdgeIntersections(g, li, includeProper) {\n\t\tvar si = new SegmentIntersector(li, includeProper, true);\n\t\tsi.setBoundaryNodes(this.getBoundaryNodes(), g.getBoundaryNodes());\n\t\tvar esi = this.createEdgeSetIntersector();\n\t\tesi.computeIntersections(this._edges, g._edges, si);\n\t\treturn si;\n\t}\n\tgetGeometry() {\n\t\treturn this._parentGeom;\n\t}\n\tgetBoundaryNodeRule() {\n\t\treturn this._boundaryNodeRule;\n\t}\n\thasTooFewPoints() {\n\t\treturn this._hasTooFewPoints;\n\t}\n\taddPoint() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet p = arguments[0];\n\t\t\tvar coord = p.getCoordinate();\n\t\t\tthis.insertPoint(this._argIndex, coord, Location.INTERIOR);\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet pt = arguments[0];\n\t\t\tthis.insertPoint(this._argIndex, pt, Location.INTERIOR);\n\t\t}\n\t}\n\taddPolygon(p) {\n\t\tthis.addPolygonRing(p.getExteriorRing(), Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tthis.addPolygonRing(hole, Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t}\n\taddEdge(e) {\n\t\tthis.insertEdge(e);\n\t\tvar coord = e.getCoordinates();\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t\tthis.insertPoint(this._argIndex, coord[coord.length - 1], Location.BOUNDARY);\n\t}\n\taddLineString(line) {\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (coord.length < 2) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.INTERIOR));\n\t\tthis._lineEdgeMap.put(line, e);\n\t\tthis.insertEdge(e);\n\t\tAssert.isTrue(coord.length >= 2, \"found LineString with single point\");\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[0]);\n\t\tthis.insertBoundaryPoint(this._argIndex, coord[coord.length - 1]);\n\t}\n\tgetInvalidPoint() {\n\t\treturn this._invalidPoint;\n\t}\n\tgetBoundaryPoints() {\n\t\tvar coll = this.getBoundaryNodes();\n\t\tvar pts = new Array(coll.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = coll.iterator(); it.hasNext(); ) {\n\t\t\tvar node = it.next();\n\t\t\tpts[i++] = node.getCoordinate().copy();\n\t\t}\n\t\treturn pts;\n\t}\n\tgetBoundaryNodes() {\n\t\tif (this._boundaryNodes === null) this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex);\n\t\treturn this._boundaryNodes;\n\t}\n\taddSelfIntersectionNode(argIndex, coord, loc) {\n\t\tif (this.isBoundaryNode(argIndex, coord)) return null;\n\t\tif (loc === Location.BOUNDARY && this._useBoundaryDeterminationRule) this.insertBoundaryPoint(argIndex, coord); else this.insertPoint(argIndex, coord, loc);\n\t}\n\taddPolygonRing(lr, cwLeft, cwRight) {\n\t\tif (lr.isEmpty()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(lr.getCoordinates());\n\t\tif (coord.length < 4) {\n\t\t\tthis._hasTooFewPoints = true;\n\t\t\tthis._invalidPoint = coord[0];\n\t\t\treturn null;\n\t\t}\n\t\tvar left = cwLeft;\n\t\tvar right = cwRight;\n\t\tif (Orientation.isCCW(coord)) {\n\t\t\tleft = cwRight;\n\t\t\tright = cwLeft;\n\t\t}\n\t\tvar e = new Edge(coord, new Label(this._argIndex, Location.BOUNDARY, left, right));\n\t\tthis._lineEdgeMap.put(lr, e);\n\t\tthis.insertEdge(e);\n\t\tthis.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n\t}\n\tinsertPoint(argIndex, coord, onLocation) {\n\t\tvar n = this._nodes.addNode(coord);\n\t\tvar lbl = n.getLabel();\n\t\tif (lbl === null) {\n\t\t\tn._label = new Label(argIndex, onLocation);\n\t\t} else lbl.setLocation(argIndex, onLocation);\n\t}\n\tcreateEdgeSetIntersector() {\n\t\treturn new SimpleMCSweepLineIntersector();\n\t}\n\taddSelfIntersectionNodes(argIndex) {\n\t\tfor (var i = this._edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.eiList.iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tthis.addSelfIntersectionNode(argIndex, ei.coord, eLoc);\n\t\t\t}\n\t\t}\n\t}\n\tadd() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tif (g.isEmpty()) return null;\n\t\t\tif (g instanceof MultiPolygon) this._useBoundaryDeterminationRule = false;\n\t\t\tif (g instanceof Polygon) this.addPolygon(g); else if (g instanceof LineString) this.addLineString(g); else if (g instanceof Point) this.addPoint(g); else if (g instanceof MultiPoint) this.addCollection(g); else if (g instanceof MultiLineString) this.addCollection(g); else if (g instanceof MultiPolygon) this.addCollection(g); else if (g instanceof GeometryCollection) this.addCollection(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t\t} else return super.add.apply(this, arguments);\n\t}\n\taddCollection(gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t}\n\tlocate(pt) {\n\t\tif (hasInterface(this._parentGeom, Polygonal) && this._parentGeom.getNumGeometries() > 50) {\n\t\t\tif (this._areaPtLocator === null) {\n\t\t\t\tthis._areaPtLocator = new IndexedPointInAreaLocator(this._parentGeom);\n\t\t\t}\n\t\t\treturn this._areaPtLocator.locate(pt);\n\t\t}\n\t\treturn this._ptLocator.locate(pt, this._parentGeom);\n\t}\n\tfindEdge() {\n\t\tif (arguments.length === 1 && arguments[0] instanceof LineString) {\n\t\t\tlet line = arguments[0];\n\t\t\treturn this._lineEdgeMap.get(line);\n\t\t} else return super.findEdge.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn GeometryGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryGraph.constructor_ = function () {\n\tthis._parentGeom = null;\n\tthis._lineEdgeMap = new HashMap();\n\tthis._boundaryNodeRule = null;\n\tthis._useBoundaryDeterminationRule = true;\n\tthis._argIndex = null;\n\tthis._boundaryNodes = null;\n\tthis._hasTooFewPoints = false;\n\tthis._invalidPoint = null;\n\tthis._areaPtLocator = null;\n\tthis._ptLocator = new PointLocator();\n\tif (arguments.length === 2) {\n\t\tlet argIndex = arguments[0], parentGeom = arguments[1];\n\t\tGeometryGraph.constructor_.call(this, argIndex, parentGeom, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tlet argIndex = arguments[0], parentGeom = arguments[1], boundaryNodeRule = arguments[2];\n\t\tthis._argIndex = argIndex;\n\t\tthis._parentGeom = parentGeom;\n\t\tthis._boundaryNodeRule = boundaryNodeRule;\n\t\tif (parentGeom !== null) {\n\t\t\tthis.add(parentGeom);\n\t\t}\n\t}\n};\n","export default class KdNodeVisitor {\n\tconstructor() {\n\t\tKdNodeVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisit(node) {}\n\tgetClass() {\n\t\treturn KdNodeVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nKdNodeVisitor.constructor_ = function () {};\n","import Coordinate from '../../geom/Coordinate';\nexport default class KdNode {\n\tconstructor() {\n\t\tKdNode.constructor_.apply(this, arguments);\n\t}\n\tisRepeated() {\n\t\treturn this._count > 1;\n\t}\n\tgetRight() {\n\t\treturn this._right;\n\t}\n\tgetCoordinate() {\n\t\treturn this._p;\n\t}\n\tsetLeft(_left) {\n\t\tthis._left = _left;\n\t}\n\tgetX() {\n\t\treturn this._p.x;\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\tgetCount() {\n\t\treturn this._count;\n\t}\n\tgetLeft() {\n\t\treturn this._left;\n\t}\n\tgetY() {\n\t\treturn this._p.y;\n\t}\n\tincrement() {\n\t\tthis._count = this._count + 1;\n\t}\n\tsetRight(_right) {\n\t\tthis._right = _right;\n\t}\n\tgetClass() {\n\t\treturn KdNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nKdNode.constructor_ = function () {\n\tthis._p = null;\n\tthis._data = null;\n\tthis._left = null;\n\tthis._right = null;\n\tthis._count = null;\n\tif (arguments.length === 2) {\n\t\tlet p = arguments[0], data = arguments[1];\n\t\tthis._p = new Coordinate(p);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = data;\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], data = arguments[2];\n\t\tthis._p = new Coordinate(_x, _y);\n\t\tthis._left = null;\n\t\tthis._right = null;\n\t\tthis._count = 1;\n\t\tthis._data = data;\n\t}\n};\n","import CoordinateList from '../../geom/CoordinateList';\nimport hasInterface from '../../../../../hasInterface';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport KdNodeVisitor from './KdNodeVisitor';\nimport Envelope from '../../geom/Envelope';\nimport List from '../../../../../java/util/List';\nimport KdNode from './KdNode';\nexport default class KdTree {\n\tconstructor() {\n\t\tKdTree.constructor_.apply(this, arguments);\n\t}\n\tstatic toCoordinates() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet kdnodes = arguments[0];\n\t\t\treturn KdTree.toCoordinates(kdnodes, false);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet kdnodes = arguments[0], includeRepeated = arguments[1];\n\t\t\tvar coord = new CoordinateList();\n\t\t\tfor (var it = kdnodes.iterator(); it.hasNext(); ) {\n\t\t\t\tvar node = it.next();\n\t\t\t\tvar count = includeRepeated ? node.getCount() : 1;\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tcoord.add(node.getCoordinate(), true);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn coord.toCoordinateArray();\n\t\t}\n\t}\n\tinsert() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet p = arguments[0];\n\t\t\treturn this.insert(p, null);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p = arguments[0], data = arguments[1];\n\t\t\tif (this._root === null) {\n\t\t\t\tthis._root = new KdNode(p, data);\n\t\t\t\treturn this._root;\n\t\t\t}\n\t\t\tif (this._tolerance > 0) {\n\t\t\t\tvar matchNode = this.findBestMatchNode(p);\n\t\t\t\tif (matchNode !== null) {\n\t\t\t\t\tmatchNode.increment();\n\t\t\t\t\treturn matchNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.insertExact(p, data);\n\t\t}\n\t}\n\tquery() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet queryEnv = arguments[0];\n\t\t\tvar result = new ArrayList();\n\t\t\tthis.query(queryEnv, result);\n\t\t\treturn result;\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof Envelope && hasInterface(arguments[1], List)) {\n\t\t\t\tlet queryEnv = arguments[0], result = arguments[1];\n\t\t\t\tthis.queryNode(this._root, queryEnv, true, new (class {\n\t\t\t\t\tget interfaces_() {\n\t\t\t\t\t\treturn [KdNodeVisitor];\n\t\t\t\t\t}\n\t\t\t\t\tvisit(node) {\n\t\t\t\t\t\tresult.add(node);\n\t\t\t\t\t}\n\t\t\t\t})());\n\t\t\t} else if (arguments[0] instanceof Envelope && hasInterface(arguments[1], KdNodeVisitor)) {\n\t\t\t\tlet queryEnv = arguments[0], visitor = arguments[1];\n\t\t\t\tthis.queryNode(this._root, queryEnv, true, visitor);\n\t\t\t}\n\t\t}\n\t}\n\tqueryNode(currentNode, queryEnv, odd, visitor) {\n\t\tif (currentNode === null) return null;\n\t\tvar min = null;\n\t\tvar max = null;\n\t\tvar discriminant = null;\n\t\tif (odd) {\n\t\t\tmin = queryEnv.getMinX();\n\t\t\tmax = queryEnv.getMaxX();\n\t\t\tdiscriminant = currentNode.getX();\n\t\t} else {\n\t\t\tmin = queryEnv.getMinY();\n\t\t\tmax = queryEnv.getMaxY();\n\t\t\tdiscriminant = currentNode.getY();\n\t\t}\n\t\tvar searchLeft = min < discriminant;\n\t\tvar searchRight = discriminant <= max;\n\t\tif (searchLeft) {\n\t\t\tthis.queryNode(currentNode.getLeft(), queryEnv, !odd, visitor);\n\t\t}\n\t\tif (queryEnv.contains(currentNode.getCoordinate())) {\n\t\t\tvisitor.visit(currentNode);\n\t\t}\n\t\tif (searchRight) {\n\t\t\tthis.queryNode(currentNode.getRight(), queryEnv, !odd, visitor);\n\t\t}\n\t}\n\tfindBestMatchNode(p) {\n\t\tvar visitor = new BestMatchVisitor(p, this._tolerance);\n\t\tthis.query(visitor.queryEnvelope(), visitor);\n\t\treturn visitor.getNode();\n\t}\n\tisEmpty() {\n\t\tif (this._root === null) return true;\n\t\treturn false;\n\t}\n\tinsertExact(p, data) {\n\t\tvar currentNode = this._root;\n\t\tvar leafNode = this._root;\n\t\tvar isOddLevel = true;\n\t\tvar isLessThan = true;\n\t\twhile (currentNode !== null) {\n\t\t\tif (currentNode !== null) {\n\t\t\t\tvar isInTolerance = p.distance(currentNode.getCoordinate()) <= this._tolerance;\n\t\t\t\tif (isInTolerance) {\n\t\t\t\t\tcurrentNode.increment();\n\t\t\t\t\treturn currentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isOddLevel) {\n\t\t\t\tisLessThan = p.x < currentNode.getX();\n\t\t\t} else {\n\t\t\t\tisLessThan = p.y < currentNode.getY();\n\t\t\t}\n\t\t\tleafNode = currentNode;\n\t\t\tif (isLessThan) {\n\t\t\t\tcurrentNode = currentNode.getLeft();\n\t\t\t} else {\n\t\t\t\tcurrentNode = currentNode.getRight();\n\t\t\t}\n\t\t\tisOddLevel = !isOddLevel;\n\t\t}\n\t\tthis._numberOfNodes = this._numberOfNodes + 1;\n\t\tvar node = new KdNode(p, data);\n\t\tif (isLessThan) {\n\t\t\tleafNode.setLeft(node);\n\t\t} else {\n\t\t\tleafNode.setRight(node);\n\t\t}\n\t\treturn node;\n\t}\n\tgetClass() {\n\t\treturn KdTree;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass BestMatchVisitor {\n\tconstructor() {\n\t\tBestMatchVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisit(node) {\n\t\tvar dist = this._p.distance(node.getCoordinate());\n\t\tvar isInTolerance = dist <= this._tolerance;\n\t\tif (!isInTolerance) return null;\n\t\tvar update = false;\n\t\tif (this._matchNode === null || dist < this._matchDist || this._matchNode !== null && dist === this._matchDist && node.getCoordinate().compareTo(this._matchNode.getCoordinate()) < 1) update = true;\n\t\tif (update) {\n\t\t\tthis._matchNode = node;\n\t\t\tthis._matchDist = dist;\n\t\t}\n\t}\n\tqueryEnvelope() {\n\t\tvar queryEnv = new Envelope(this._p);\n\t\tqueryEnv.expandBy(this._tolerance);\n\t\treturn queryEnv;\n\t}\n\tgetNode() {\n\t\treturn this._matchNode;\n\t}\n\tgetClass() {\n\t\treturn BestMatchVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [KdNodeVisitor];\n\t}\n}\nBestMatchVisitor.constructor_ = function () {\n\tthis._tolerance = null;\n\tthis._matchNode = null;\n\tthis._matchDist = 0.0;\n\tthis._p = null;\n\tlet p = arguments[0], tolerance = arguments[1];\n\tthis._p = p;\n\tthis._tolerance = tolerance;\n};\nKdTree.BestMatchVisitor = BestMatchVisitor;\nKdTree.constructor_ = function () {\n\tthis._root = null;\n\tthis._numberOfNodes = null;\n\tthis._tolerance = null;\n\tif (arguments.length === 0) {\n\t\tKdTree.constructor_.call(this, 0.0);\n\t} else if (arguments.length === 1) {\n\t\tlet tolerance = arguments[0];\n\t\tthis._tolerance = tolerance;\n\t}\n};\n","import ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default class NodeBase {\n\tconstructor() {\n\t\tNodeBase.constructor_.apply(this, arguments);\n\t}\n\tstatic getSubnodeIndex(env, centrex, centrey) {\n\t\tvar subnodeIndex = -1;\n\t\tif (env.getMinX() >= centrex) {\n\t\t\tif (env.getMinY() >= centrey) subnodeIndex = 3;\n\t\t\tif (env.getMaxY() <= centrey) subnodeIndex = 1;\n\t\t}\n\t\tif (env.getMaxX() <= centrex) {\n\t\t\tif (env.getMinY() >= centrey) subnodeIndex = 2;\n\t\t\tif (env.getMaxY() <= centrey) subnodeIndex = 0;\n\t\t}\n\t\treturn subnodeIndex;\n\t}\n\thasChildren() {\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tisPrunable() {\n\t\treturn !(this.hasChildren() || this.hasItems());\n\t}\n\taddAllItems(resultItems) {\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItems(resultItems);\n\t\t\t}\n\t\t}\n\t\treturn resultItems;\n\t}\n\tgetNodeCount() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + 1;\n\t}\n\tsize() {\n\t\tvar subSize = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tsubSize += this._subnode[i].size();\n\t\t\t}\n\t\t}\n\t\treturn subSize + this._items.size();\n\t}\n\taddAllItemsFromOverlapping(searchEnv, resultItems) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tresultItems.addAll(this._items);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].addAllItemsFromOverlapping(searchEnv, resultItems);\n\t\t\t}\n\t\t}\n\t}\n\tvisitItems(searchEnv, visitor) {\n\t\tfor (var i = this._items.iterator(); i.hasNext(); ) {\n\t\t\tvisitor.visitItem(i.next());\n\t\t}\n\t}\n\thasItems() {\n\t\treturn !this._items.isEmpty();\n\t}\n\tremove(itemEnv, item) {\n\t\tif (!this.isSearchMatch(itemEnv)) return false;\n\t\tvar found = false;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tfound = this._subnode[i].remove(itemEnv, item);\n\t\t\t\tif (found) {\n\t\t\t\t\tif (this._subnode[i].isPrunable()) this._subnode[i] = null;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (found) return found;\n\t\tfound = this._items.remove(item);\n\t\treturn found;\n\t}\n\tvisit(searchEnv, visitor) {\n\t\tif (!this.isSearchMatch(searchEnv)) return null;\n\t\tthis.visitItems(searchEnv, visitor);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tthis._subnode[i].visit(searchEnv, visitor);\n\t\t\t}\n\t\t}\n\t}\n\tgetItems() {\n\t\treturn this._items;\n\t}\n\tdepth() {\n\t\tvar maxSubDepth = 0;\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\tvar sqd = this._subnode[i].depth();\n\t\t\t\tif (sqd > maxSubDepth) maxSubDepth = sqd;\n\t\t\t}\n\t\t}\n\t\treturn maxSubDepth + 1;\n\t}\n\tisEmpty() {\n\t\tvar isEmpty = true;\n\t\tif (!this._items.isEmpty()) isEmpty = false; else {\n\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\tif (this._subnode[i] !== null) {\n\t\t\t\t\tif (!this._subnode[i].isEmpty()) {\n\t\t\t\t\t\tisEmpty = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn isEmpty;\n\t}\n\tadd(item) {\n\t\tthis._items.add(item);\n\t}\n\tgetClass() {\n\t\treturn NodeBase;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable];\n\t}\n}\nNodeBase.constructor_ = function () {\n\tthis._items = new ArrayList();\n\tthis._subnode = new Array(4).fill(null);\n};\n","export default function DoubleBits () { }\nDoubleBits.exponent = function (d) {\n  return CVTFWD(64, d) - 1023\n}\nDoubleBits.powerOf2 = function (exp) {\n  return Math.pow(2, exp)\n}\n\n/**\n * Calculates the exponent of the bit-pattern for a number. Uses code from:\n * http://www.merlyn.demon.co.uk/js-exact.htm\n *\n * @param {Number}\n *          NumW 32 or 64 to denote the number of bits.\n * @param {Number}\n *          Qty the number to calculate the bit pattern for.\n * @return {Number} The integer value of the exponent.\n * @private\n */\nfunction CVTFWD (NumW, Qty) {\n  var Sign\n  var Expo\n  var Mant\n  var Bin\n  var Inf = {\n    32: {\n      d: 0x7F,\n      c: 0x80,\n      b: 0,\n      a: 0\n    },\n    64: {\n      d: 0x7FF0,\n      c: 0,\n      b: 0,\n      a: 0\n    }\n  }\n  var ExW = {\n    32: 8,\n    64: 11\n  }[NumW]\n\n  if (!Bin) {\n    Sign = Qty < 0 || 1 / Qty < 0 // OK for +-0\n    if (!isFinite(Qty)) {\n      Bin = Inf[NumW]\n      if (Sign) {\n        Bin.d += 1 << (NumW / 4 - 1)\n      }\n      Expo = Math.pow(2, ExW) - 1\n      Mant = 0\n    }\n  }\n\n  if (!Bin) {\n    Expo = {\n      32: 127,\n      64: 1023\n    }[NumW]\n    Mant = Math.abs(Qty)\n    while (Mant >= 2) {\n      Expo++\n      Mant /= 2\n    }\n    while (Mant < 1 && Expo > 0) {\n      Expo--\n      Mant *= 2\n    }\n    if (Expo <= 0) {\n      Mant /= 2\n    }\n    if (NumW === 32 && Expo > 254) {\n      Bin = {\n        d: Sign ? 0xFF : 0x7F,\n        c: 0x80,\n        b: 0,\n        a: 0\n      }\n      Expo = Math.pow(2, ExW) - 1\n      Mant = 0\n    }\n  }\n\n  return Expo\n}\n","import Coordinate from '../../geom/Coordinate';\nimport DoubleBits from './DoubleBits';\nimport Envelope from '../../geom/Envelope';\nexport default class Key {\n\tconstructor() {\n\t\tKey.constructor_.apply(this, arguments);\n\t}\n\tstatic computeQuadLevel(env) {\n\t\tvar dx = env.getWidth();\n\t\tvar dy = env.getHeight();\n\t\tvar dMax = dx > dy ? dx : dy;\n\t\tvar level = DoubleBits.exponent(dMax) + 1;\n\t\treturn level;\n\t}\n\tgetLevel() {\n\t\treturn this._level;\n\t}\n\tcomputeKey() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet itemEnv = arguments[0];\n\t\t\tthis._level = Key.computeQuadLevel(itemEnv);\n\t\t\tthis._env = new Envelope();\n\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\twhile (!this._env.contains(itemEnv)) {\n\t\t\t\tthis._level += 1;\n\t\t\t\tthis.computeKey(this._level, itemEnv);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet level = arguments[0], itemEnv = arguments[1];\n\t\t\tvar quadSize = DoubleBits.powerOf2(level);\n\t\t\tthis._pt.x = Math.floor(itemEnv.getMinX() / quadSize) * quadSize;\n\t\t\tthis._pt.y = Math.floor(itemEnv.getMinY() / quadSize) * quadSize;\n\t\t\tthis._env.init(this._pt.x, this._pt.x + quadSize, this._pt.y, this._pt.y + quadSize);\n\t\t}\n\t}\n\tgetEnvelope() {\n\t\treturn this._env;\n\t}\n\tgetCentre() {\n\t\treturn new Coordinate((this._env.getMinX() + this._env.getMaxX()) / 2, (this._env.getMinY() + this._env.getMaxY()) / 2);\n\t}\n\tgetPoint() {\n\t\treturn this._pt;\n\t}\n\tgetClass() {\n\t\treturn Key;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nKey.constructor_ = function () {\n\tthis._pt = new Coordinate();\n\tthis._level = 0;\n\tthis._env = null;\n\tlet itemEnv = arguments[0];\n\tthis.computeKey(itemEnv);\n};\n","import NodeBase from './NodeBase';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nimport Key from './Key';\nexport default class Node extends NodeBase {\n\tconstructor() {\n\t\tsuper();\n\t\tNode.constructor_.apply(this, arguments);\n\t}\n\tstatic createNode(env) {\n\t\tvar key = new Key(env);\n\t\tvar node = new Node(key.getEnvelope(), key.getLevel());\n\t\treturn node;\n\t}\n\tstatic createExpanded(node, addEnv) {\n\t\tvar expandEnv = new Envelope(addEnv);\n\t\tif (node !== null) expandEnv.expandToInclude(node._env);\n\t\tvar largerNode = Node.createNode(expandEnv);\n\t\tif (node !== null) largerNode.insertNode(node);\n\t\treturn largerNode;\n\t}\n\tfind(searchEnv) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex === -1) return this;\n\t\tif (this._subnode[subnodeIndex] !== null) {\n\t\t\tvar node = this._subnode[subnodeIndex];\n\t\t\treturn node.find(searchEnv);\n\t\t}\n\t\treturn this;\n\t}\n\tisSearchMatch(searchEnv) {\n\t\tif (searchEnv === null) return false;\n\t\treturn this._env.intersects(searchEnv);\n\t}\n\tgetSubnode(index) {\n\t\tif (this._subnode[index] === null) {\n\t\t\tthis._subnode[index] = this.createSubnode(index);\n\t\t}\n\t\treturn this._subnode[index];\n\t}\n\tgetEnvelope() {\n\t\treturn this._env;\n\t}\n\tgetNode(searchEnv) {\n\t\tvar subnodeIndex = NodeBase.getSubnodeIndex(searchEnv, this._centrex, this._centrey);\n\t\tif (subnodeIndex !== -1) {\n\t\t\tvar node = this.getSubnode(subnodeIndex);\n\t\t\treturn node.getNode(searchEnv);\n\t\t} else {\n\t\t\treturn this;\n\t\t}\n\t}\n\tcreateSubnode(index) {\n\t\tvar minx = 0.0;\n\t\tvar maxx = 0.0;\n\t\tvar miny = 0.0;\n\t\tvar maxy = 0.0;\n\t\tswitch (index) {\n\t\t\tcase 0:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._env.getMinY();\n\t\t\t\tmaxy = this._centrey;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tminx = this._env.getMinX();\n\t\t\t\tmaxx = this._centrex;\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tminx = this._centrex;\n\t\t\t\tmaxx = this._env.getMaxX();\n\t\t\t\tminy = this._centrey;\n\t\t\t\tmaxy = this._env.getMaxY();\n\t\t\t\tbreak;\n\t\t}\n\t\tvar sqEnv = new Envelope(minx, maxx, miny, maxy);\n\t\tvar node = new Node(sqEnv, this._level - 1);\n\t\treturn node;\n\t}\n\tinsertNode(node) {\n\t\tAssert.isTrue(this._env === null || this._env.contains(node._env));\n\t\tvar index = NodeBase.getSubnodeIndex(node._env, this._centrex, this._centrey);\n\t\tif (node._level === this._level - 1) {\n\t\t\tthis._subnode[index] = node;\n\t\t} else {\n\t\t\tvar childNode = this.createSubnode(index);\n\t\t\tchildNode.insertNode(node);\n\t\t\tthis._subnode[index] = childNode;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Node;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNode.constructor_ = function () {\n\tthis._env = null;\n\tthis._centrex = null;\n\tthis._centrey = null;\n\tthis._level = null;\n\tlet env = arguments[0], level = arguments[1];\n\tthis._env = env;\n\tthis._level = level;\n\tthis._centrex = (env.getMinX() + env.getMaxX()) / 2;\n\tthis._centrey = (env.getMinY() + env.getMaxY()) / 2;\n};\n","import DoubleBits from './DoubleBits';\nexport default class IntervalSize {\n\tconstructor() {\n\t\tIntervalSize.constructor_.apply(this, arguments);\n\t}\n\tstatic isZeroWidth(min, max) {\n\t\tvar width = max - min;\n\t\tif (width === 0.0) return true;\n\t\tvar maxAbs = Math.max(Math.abs(min), Math.abs(max));\n\t\tvar scaledInterval = width / maxAbs;\n\t\tvar level = DoubleBits.exponent(scaledInterval);\n\t\treturn level <= IntervalSize.MIN_BINARY_EXPONENT;\n\t}\n\tgetClass() {\n\t\treturn IntervalSize;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIntervalSize.constructor_ = function () {};\nIntervalSize.MIN_BINARY_EXPONENT = -50;\n","import Coordinate from '../../geom/Coordinate';\nimport NodeBase from './NodeBase';\nimport Node from './Node';\nimport IntervalSize from './IntervalSize';\nimport Assert from '../../util/Assert';\nexport default class Root extends NodeBase {\n\tconstructor() {\n\t\tsuper();\n\t\tRoot.constructor_.apply(this, arguments);\n\t}\n\tinsert(itemEnv, item) {\n\t\tvar index = NodeBase.getSubnodeIndex(itemEnv, Root.origin.x, Root.origin.y);\n\t\tif (index === -1) {\n\t\t\tthis.add(item);\n\t\t\treturn null;\n\t\t}\n\t\tvar node = this._subnode[index];\n\t\tif (node === null || !node.getEnvelope().contains(itemEnv)) {\n\t\t\tvar largerNode = Node.createExpanded(node, itemEnv);\n\t\t\tthis._subnode[index] = largerNode;\n\t\t}\n\t\tthis.insertContained(this._subnode[index], itemEnv, item);\n\t}\n\tisSearchMatch(searchEnv) {\n\t\treturn true;\n\t}\n\tinsertContained(tree, itemEnv, item) {\n\t\tAssert.isTrue(tree.getEnvelope().contains(itemEnv));\n\t\tvar isZeroX = IntervalSize.isZeroWidth(itemEnv.getMinX(), itemEnv.getMaxX());\n\t\tvar isZeroY = IntervalSize.isZeroWidth(itemEnv.getMinY(), itemEnv.getMaxY());\n\t\tvar node = null;\n\t\tif (isZeroX || isZeroY) node = tree.find(itemEnv); else node = tree.getNode(itemEnv);\n\t\tnode.add(item);\n\t}\n\tgetClass() {\n\t\treturn Root;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRoot.constructor_ = function () {};\nRoot.origin = new Coordinate(0.0, 0.0);\n","export default class SpatialIndex {\n\tconstructor() {\n\t\tSpatialIndex.constructor_.apply(this, arguments);\n\t}\n\tinsert(itemEnv, item) {}\n\tremove(itemEnv, item) {}\n\tquery() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn SpatialIndex;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSpatialIndex.constructor_ = function () {};\n","import Root from './Root';\nimport SpatialIndex from '../SpatialIndex';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport ArrayListVisitor from '../ArrayListVisitor';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Envelope from '../../geom/Envelope';\nexport default class Quadtree {\n\tconstructor() {\n\t\tQuadtree.constructor_.apply(this, arguments);\n\t}\n\tstatic ensureExtent(itemEnv, minExtent) {\n\t\tvar minx = itemEnv.getMinX();\n\t\tvar maxx = itemEnv.getMaxX();\n\t\tvar miny = itemEnv.getMinY();\n\t\tvar maxy = itemEnv.getMaxY();\n\t\tif (minx !== maxx && miny !== maxy) return itemEnv;\n\t\tif (minx === maxx) {\n\t\t\tminx = minx - minExtent / 2.0;\n\t\t\tmaxx = minx + minExtent / 2.0;\n\t\t}\n\t\tif (miny === maxy) {\n\t\t\tminy = miny - minExtent / 2.0;\n\t\t\tmaxy = miny + minExtent / 2.0;\n\t\t}\n\t\treturn new Envelope(minx, maxx, miny, maxy);\n\t}\n\tsize() {\n\t\tif (this._root !== null) return this._root.size();\n\t\treturn 0;\n\t}\n\tinsert(itemEnv, item) {\n\t\tthis.collectStats(itemEnv);\n\t\tvar insertEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\tthis._root.insert(insertEnv, item);\n\t}\n\tquery() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t\tvar visitor = new ArrayListVisitor();\n\t\t\tthis.query(searchEnv, visitor);\n\t\t\treturn visitor.getItems();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t\tthis._root.visit(searchEnv, visitor);\n\t\t}\n\t}\n\tqueryAll() {\n\t\tvar foundItems = new ArrayList();\n\t\tthis._root.addAllItems(foundItems);\n\t\treturn foundItems;\n\t}\n\tremove(itemEnv, item) {\n\t\tvar posEnv = Quadtree.ensureExtent(itemEnv, this._minExtent);\n\t\treturn this._root.remove(posEnv, item);\n\t}\n\tcollectStats(itemEnv) {\n\t\tvar delX = itemEnv.getWidth();\n\t\tif (delX < this._minExtent && delX > 0.0) this._minExtent = delX;\n\t\tvar delY = itemEnv.getHeight();\n\t\tif (delY < this._minExtent && delY > 0.0) this._minExtent = delY;\n\t}\n\tdepth() {\n\t\tif (this._root !== null) return this._root.depth();\n\t\treturn 0;\n\t}\n\tisEmpty() {\n\t\tif (this._root === null) return true;\n\t\treturn this._root.isEmpty();\n\t}\n\tgetClass() {\n\t\treturn Quadtree;\n\t}\n\tget interfaces_() {\n\t\treturn [SpatialIndex, Serializable];\n\t}\n}\nQuadtree.constructor_ = function () {\n\tthis._root = null;\n\tthis._minExtent = 1.0;\n\tthis._root = new Root();\n};\nQuadtree.serialVersionUID = -7461163625812743604;\n","export default class Boundable {\n\tconstructor() {\n\t\tBoundable.constructor_.apply(this, arguments);\n\t}\n\tgetBounds() {}\n\tgetClass() {\n\t\treturn Boundable;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBoundable.constructor_ = function () {};\n","import Boundable from './Boundable';\nimport Serializable from '../../../../../java/io/Serializable';\nexport default class ItemBoundable {\n\tconstructor() {\n\t\tItemBoundable.constructor_.apply(this, arguments);\n\t}\n\tgetItem() {\n\t\treturn this._item;\n\t}\n\tgetBounds() {\n\t\treturn this._bounds;\n\t}\n\tgetClass() {\n\t\treturn ItemBoundable;\n\t}\n\tget interfaces_() {\n\t\treturn [Boundable, Serializable];\n\t}\n}\nItemBoundable.constructor_ = function () {\n\tthis._bounds = null;\n\tthis._item = null;\n\tlet bounds = arguments[0], item = arguments[1];\n\tthis._bounds = bounds;\n\tthis._item = item;\n};\n","import ArrayList from '../../../../java/util/ArrayList';\nexport default class PriorityQueue {\n\tconstructor() {\n\t\tPriorityQueue.constructor_.apply(this, arguments);\n\t}\n\tpoll() {\n\t\tif (this.isEmpty()) return null;\n\t\tvar minItem = this._items.get(1);\n\t\tthis._items.set(1, this._items.get(this._size));\n\t\tthis._size -= 1;\n\t\tthis.reorder(1);\n\t\treturn minItem;\n\t}\n\tsize() {\n\t\treturn this._size;\n\t}\n\treorder(hole) {\n\t\tvar child = null;\n\t\tvar tmp = this._items.get(hole);\n\t\tfor (; hole * 2 <= this._size; hole = child) {\n\t\t\tchild = hole * 2;\n\t\t\tif (child !== this._size && this._items.get(child + 1).compareTo(this._items.get(child)) < 0) child++;\n\t\t\tif (this._items.get(child).compareTo(tmp) < 0) this._items.set(hole, this._items.get(child)); else break;\n\t\t}\n\t\tthis._items.set(hole, tmp);\n\t}\n\tclear() {\n\t\tthis._size = 0;\n\t\tthis._items.clear();\n\t}\n\tpeek() {\n\t\tif (this.isEmpty()) return null;\n\t\tvar minItem = this._items.get(1);\n\t\treturn minItem;\n\t}\n\tisEmpty() {\n\t\treturn this._size === 0;\n\t}\n\tadd(x) {\n\t\tthis._items.add(null);\n\t\tthis._size += 1;\n\t\tvar hole = this._size;\n\t\tthis._items.set(0, x);\n\t\tfor (; x.compareTo(this._items.get(Math.trunc(hole / 2))) < 0; hole /= 2) {\n\t\t\tthis._items.set(hole, this._items.get(Math.trunc(hole / 2)));\n\t\t}\n\t\tthis._items.set(hole, x);\n\t}\n\tgetClass() {\n\t\treturn PriorityQueue;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPriorityQueue.constructor_ = function () {\n\tthis._size = null;\n\tthis._items = null;\n\tthis._size = 0;\n\tthis._items = new ArrayList();\n\tthis._items.add(null);\n};\n","import Boundable from './Boundable';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Assert from '../../util/Assert';\nexport default class AbstractNode {\n\tconstructor() {\n\t\tAbstractNode.constructor_.apply(this, arguments);\n\t}\n\tgetLevel() {\n\t\treturn this._level;\n\t}\n\tsize() {\n\t\treturn this._childBoundables.size();\n\t}\n\tgetChildBoundables() {\n\t\treturn this._childBoundables;\n\t}\n\taddChildBoundable(childBoundable) {\n\t\tAssert.isTrue(this._bounds === null);\n\t\tthis._childBoundables.add(childBoundable);\n\t}\n\tisEmpty() {\n\t\treturn this._childBoundables.isEmpty();\n\t}\n\tgetBounds() {\n\t\tif (this._bounds === null) {\n\t\t\tthis._bounds = this.computeBounds();\n\t\t}\n\t\treturn this._bounds;\n\t}\n\tgetClass() {\n\t\treturn AbstractNode;\n\t}\n\tget interfaces_() {\n\t\treturn [Boundable, Serializable];\n\t}\n}\nAbstractNode.constructor_ = function () {\n\tthis._childBoundables = new ArrayList();\n\tthis._bounds = null;\n\tthis._level = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet level = arguments[0];\n\t\tthis._level = level;\n\t}\n};\nAbstractNode.serialVersionUID = 6493722185909573708;\n","import IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport AbstractNode from './AbstractNode';\nimport Comparable from '../../../../../java/lang/Comparable';\nexport default class BoundablePair {\n\tconstructor() {\n\t\tBoundablePair.constructor_.apply(this, arguments);\n\t}\n\tstatic area(b) {\n\t\treturn b.getBounds().getArea();\n\t}\n\tstatic isComposite(item) {\n\t\treturn item instanceof AbstractNode;\n\t}\n\texpandToQueue(priQ, minDistance) {\n\t\tvar isComp1 = BoundablePair.isComposite(this._boundable1);\n\t\tvar isComp2 = BoundablePair.isComposite(this._boundable2);\n\t\tif (isComp1 && isComp2) {\n\t\t\tif (BoundablePair.area(this._boundable1) > BoundablePair.area(this._boundable2)) {\n\t\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t} else if (isComp1) {\n\t\t\tthis.expand(this._boundable1, this._boundable2, priQ, minDistance);\n\t\t\treturn null;\n\t\t} else if (isComp2) {\n\t\t\tthis.expand(this._boundable2, this._boundable1, priQ, minDistance);\n\t\t\treturn null;\n\t\t}\n\t\tthrow new IllegalArgumentException(\"neither boundable is composite\");\n\t}\n\tisLeaves() {\n\t\treturn !(BoundablePair.isComposite(this._boundable1) || BoundablePair.isComposite(this._boundable2));\n\t}\n\tcompareTo(o) {\n\t\tvar nd = o;\n\t\tif (this._distance < nd._distance) return -1;\n\t\tif (this._distance > nd._distance) return 1;\n\t\treturn 0;\n\t}\n\texpand(bndComposite, bndOther, priQ, minDistance) {\n\t\tvar children = bndComposite.getChildBoundables();\n\t\tfor (var i = children.iterator(); i.hasNext(); ) {\n\t\t\tvar child = i.next();\n\t\t\tvar bp = new BoundablePair(child, bndOther, this._itemDistance);\n\t\t\tif (bp.getDistance() < minDistance) {\n\t\t\t\tpriQ.add(bp);\n\t\t\t}\n\t\t}\n\t}\n\tgetBoundable(i) {\n\t\tif (i === 0) return this._boundable1;\n\t\treturn this._boundable2;\n\t}\n\tgetDistance() {\n\t\treturn this._distance;\n\t}\n\tdistance() {\n\t\tif (this.isLeaves()) {\n\t\t\treturn this._itemDistance.distance(this._boundable1, this._boundable2);\n\t\t}\n\t\treturn this._boundable1.getBounds().distance(this._boundable2.getBounds());\n\t}\n\tgetClass() {\n\t\treturn BoundablePair;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nBoundablePair.constructor_ = function () {\n\tthis._boundable1 = null;\n\tthis._boundable2 = null;\n\tthis._distance = null;\n\tthis._itemDistance = null;\n\tlet boundable1 = arguments[0], boundable2 = arguments[1], itemDistance = arguments[2];\n\tthis._boundable1 = boundable1;\n\tthis._boundable2 = boundable2;\n\tthis._itemDistance = itemDistance;\n\tthis._distance = this.distance();\n};\n","import ItemBoundable from './ItemBoundable';\nimport hasInterface from '../../../../../hasInterface';\nimport ItemVisitor from '../ItemVisitor';\nimport AbstractNode from './AbstractNode';\nimport Collections from '../../../../../java/util/Collections';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Assert from '../../util/Assert';\nimport List from '../../../../../java/util/List';\nexport default class AbstractSTRtree {\n\tconstructor() {\n\t\tAbstractSTRtree.constructor_.apply(this, arguments);\n\t}\n\tstatic compareDoubles(a, b) {\n\t\treturn a > b ? 1 : a < b ? -1 : 0;\n\t}\n\tqueryInternal() {\n\t\tif (hasInterface(arguments[2], ItemVisitor) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], visitor = arguments[2];\n\t\t\tvar childBoundables = node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(searchBounds, childBoundable, visitor);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvisitor.visitItem(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], matches = arguments[2];\n\t\t\tvar childBoundables = node.getChildBoundables();\n\t\t\tfor (var i = 0; i < childBoundables.size(); i++) {\n\t\t\t\tvar childBoundable = childBoundables.get(i);\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tthis.queryInternal(searchBounds, childBoundable, matches);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tmatches.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetNodeCapacity() {\n\t\treturn this._nodeCapacity;\n\t}\n\tlastNode(nodes) {\n\t\treturn nodes.get(nodes.size() - 1);\n\t}\n\tsize() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.size(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar size = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tsize += this.size(childBoundable);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tsize += 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn size;\n\t\t}\n\t}\n\tremoveItem(node, item) {\n\t\tvar childToRemove = null;\n\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (childBoundable instanceof ItemBoundable) {\n\t\t\t\tif (childBoundable.getItem() === item) childToRemove = childBoundable;\n\t\t\t}\n\t\t}\n\t\tif (childToRemove !== null) {\n\t\t\tnode.getChildBoundables().remove(childToRemove);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\titemsTree() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis.build();\n\t\t\tvar valuesTree = this.itemsTree(this._root);\n\t\t\tif (valuesTree === null) return new ArrayList();\n\t\t\treturn valuesTree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar valuesTreeForNode = new ArrayList();\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar valuesTreeForChild = this.itemsTree(childBoundable);\n\t\t\t\t\tif (valuesTreeForChild !== null) valuesTreeForNode.add(valuesTreeForChild);\n\t\t\t\t} else if (childBoundable instanceof ItemBoundable) {\n\t\t\t\t\tvaluesTreeForNode.add(childBoundable.getItem());\n\t\t\t\t} else {\n\t\t\t\t\tAssert.shouldNeverReachHere();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (valuesTreeForNode.size() <= 0) return null;\n\t\t\treturn valuesTreeForNode;\n\t\t}\n\t}\n\tinsert(bounds, item) {\n\t\tAssert.isTrue(!this._built, \"Cannot insert items into an STR packed R-tree after it has been built.\");\n\t\tthis._itemBoundables.add(new ItemBoundable(bounds, item));\n\t}\n\tboundablesAtLevel() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet level = arguments[0];\n\t\t\tvar boundables = new ArrayList();\n\t\t\tthis.boundablesAtLevel(level, this._root, boundables);\n\t\t\treturn boundables;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet level = arguments[0], top = arguments[1], boundables = arguments[2];\n\t\t\tAssert.isTrue(level > -2);\n\t\t\tif (top.getLevel() === level) {\n\t\t\t\tboundables.add(top);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tfor (var i = top.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar boundable = i.next();\n\t\t\t\tif (boundable instanceof AbstractNode) {\n\t\t\t\t\tthis.boundablesAtLevel(level, boundable, boundables);\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(boundable instanceof ItemBoundable);\n\t\t\t\t\tif (level === -1) {\n\t\t\t\t\t\tboundables.add(boundable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t}\n\tquery() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchBounds = arguments[0];\n\t\t\tthis.build();\n\t\t\tvar matches = new ArrayList();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn matches;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\tthis.queryInternal(searchBounds, this._root, matches);\n\t\t\t}\n\t\t\treturn matches;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchBounds = arguments[0], visitor = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\tthis.queryInternal(searchBounds, this._root, visitor);\n\t\t\t}\n\t\t}\n\t}\n\tbuild() {\n\t\tif (this._built) return null;\n\t\tthis._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1);\n\t\tthis._itemBoundables = null;\n\t\tthis._built = true;\n\t}\n\tgetRoot() {\n\t\tthis.build();\n\t\treturn this._root;\n\t}\n\tremove() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet searchBounds = arguments[0], item = arguments[1];\n\t\t\tthis.build();\n\t\t\tif (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n\t\t\t\treturn this.remove(searchBounds, this._root, item);\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet searchBounds = arguments[0], node = arguments[1], item = arguments[2];\n\t\t\tvar found = this.removeItem(node, item);\n\t\t\tif (found) return true;\n\t\t\tvar childToPrune = null;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (!this.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tfound = this.remove(searchBounds, childBoundable, item);\n\t\t\t\t\tif (found) {\n\t\t\t\t\t\tchildToPrune = childBoundable;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (childToPrune !== null) {\n\t\t\t\tif (childToPrune.getChildBoundables().isEmpty()) {\n\t\t\t\t\tnode.getChildBoundables().remove(childToPrune);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn found;\n\t\t}\n\t}\n\tcreateHigherLevels(boundablesOfALevel, level) {\n\t\tAssert.isTrue(!boundablesOfALevel.isEmpty());\n\t\tvar parentBoundables = this.createParentBoundables(boundablesOfALevel, level + 1);\n\t\tif (parentBoundables.size() === 1) {\n\t\t\treturn parentBoundables.get(0);\n\t\t}\n\t\treturn this.createHigherLevels(parentBoundables, level + 1);\n\t}\n\tdepth() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this.isEmpty()) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tthis.build();\n\t\t\treturn this.depth(this._root);\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar maxChildDepth = 0;\n\t\t\tfor (var i = node.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tif (childBoundable instanceof AbstractNode) {\n\t\t\t\t\tvar childDepth = this.depth(childBoundable);\n\t\t\t\t\tif (childDepth > maxChildDepth) maxChildDepth = childDepth;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn maxChildDepth + 1;\n\t\t}\n\t}\n\tcreateParentBoundables(childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar parentBoundables = new ArrayList();\n\t\tparentBoundables.add(this.createNode(newLevel));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, this.getComparator());\n\t\tfor (var i = sortedChildBoundables.iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (this.lastNode(parentBoundables).getChildBoundables().size() === this.getNodeCapacity()) {\n\t\t\t\tparentBoundables.add(this.createNode(newLevel));\n\t\t\t}\n\t\t\tthis.lastNode(parentBoundables).addChildBoundable(childBoundable);\n\t\t}\n\t\treturn parentBoundables;\n\t}\n\tisEmpty() {\n\t\tif (!this._built) return this._itemBoundables.isEmpty();\n\t\treturn this._root.isEmpty();\n\t}\n\tgetClass() {\n\t\treturn AbstractSTRtree;\n\t}\n\tget interfaces_() {\n\t\treturn [Serializable];\n\t}\n}\nfunction IntersectsOp() {}\nAbstractSTRtree.IntersectsOp = IntersectsOp;\nAbstractSTRtree.constructor_ = function () {\n\tthis._root = null;\n\tthis._built = false;\n\tthis._itemBoundables = new ArrayList();\n\tthis._nodeCapacity = null;\n\tif (arguments.length === 0) {\n\t\tAbstractSTRtree.constructor_.call(this, AbstractSTRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tlet nodeCapacity = arguments[0];\n\t\tAssert.isTrue(nodeCapacity > 1, \"Node capacity must be greater than 1\");\n\t\tthis._nodeCapacity = nodeCapacity;\n\t}\n};\nAbstractSTRtree.serialVersionUID = -3886435814360241337;\nAbstractSTRtree.DEFAULT_NODE_CAPACITY = 10;\n","export default class ItemDistance {\n\tconstructor() {\n\t\tItemDistance.constructor_.apply(this, arguments);\n\t}\n\tdistance(item1, item2) {}\n\tgetClass() {\n\t\treturn ItemDistance;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nItemDistance.constructor_ = function () {};\n","import ItemBoundable from './ItemBoundable';\nimport PriorityQueue from '../../util/PriorityQueue';\nimport hasInterface from '../../../../../hasInterface';\nimport SpatialIndex from '../SpatialIndex';\nimport AbstractNode from './AbstractNode';\nimport Double from '../../../../../java/lang/Double';\nimport Collections from '../../../../../java/util/Collections';\nimport BoundablePair from './BoundablePair';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Comparator from '../../../../../java/util/Comparator';\nimport Serializable from '../../../../../java/io/Serializable';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nimport AbstractSTRtree from './AbstractSTRtree';\nimport ItemDistance from './ItemDistance';\nexport default class STRtree extends AbstractSTRtree {\n\tconstructor() {\n\t\tsuper();\n\t\tSTRtree.constructor_.apply(this, arguments);\n\t}\n\tstatic centreX(e) {\n\t\treturn STRtree.avg(e.getMinX(), e.getMaxX());\n\t}\n\tstatic avg(a, b) {\n\t\treturn (a + b) / 2;\n\t}\n\tstatic getItems(kNearestNeighbors) {\n\t\tvar items = new Array(kNearestNeighbors.size()).fill(null);\n\t\tvar count = 0;\n\t\twhile (!kNearestNeighbors.isEmpty()) {\n\t\t\tvar bp = kNearestNeighbors.poll();\n\t\t\titems[count] = bp.getBoundable(0).getItem();\n\t\t\tcount++;\n\t\t}\n\t\treturn items;\n\t}\n\tstatic centreY(e) {\n\t\treturn STRtree.avg(e.getMinY(), e.getMaxY());\n\t}\n\tcreateParentBoundablesFromVerticalSlices(verticalSlices, newLevel) {\n\t\tAssert.isTrue(verticalSlices.length > 0);\n\t\tvar parentBoundables = new ArrayList();\n\t\tfor (var i = 0; i < verticalSlices.length; i++) {\n\t\t\tparentBoundables.addAll(this.createParentBoundablesFromVerticalSlice(verticalSlices[i], newLevel));\n\t\t}\n\t\treturn parentBoundables;\n\t}\n\tcreateNode(level) {\n\t\treturn new STRtreeNode(level);\n\t}\n\tsize() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn super.size.call(this);\n\t\t} else return super.size.apply(this, arguments);\n\t}\n\tinsert() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Object && arguments[0] instanceof Envelope)) {\n\t\t\tlet itemEnv = arguments[0], item = arguments[1];\n\t\t\tif (itemEnv.isNull()) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tsuper.insert.call(this, itemEnv, item);\n\t\t} else return super.insert.apply(this, arguments);\n\t}\n\tgetIntersectsOp() {\n\t\treturn STRtree.intersectsOp;\n\t}\n\tverticalSlices(childBoundables, sliceCount) {\n\t\tvar sliceCapacity = Math.trunc(Math.ceil(childBoundables.size() / sliceCount));\n\t\tvar slices = new Array(sliceCount).fill(null);\n\t\tvar i = childBoundables.iterator();\n\t\tfor (var j = 0; j < sliceCount; j++) {\n\t\t\tslices[j] = new ArrayList();\n\t\t\tvar boundablesAddedToSlice = 0;\n\t\t\twhile (i.hasNext() && boundablesAddedToSlice < sliceCapacity) {\n\t\t\t\tvar childBoundable = i.next();\n\t\t\t\tslices[j].add(childBoundable);\n\t\t\t\tboundablesAddedToSlice++;\n\t\t\t}\n\t\t}\n\t\treturn slices;\n\t}\n\tquery() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet searchEnv = arguments[0];\n\t\t\treturn super.query.call(this, searchEnv);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet searchEnv = arguments[0], visitor = arguments[1];\n\t\t\tsuper.query.call(this, searchEnv, visitor);\n\t\t}\n\t}\n\tgetComparator() {\n\t\treturn STRtree.yComparator;\n\t}\n\tcreateParentBoundablesFromVerticalSlice(childBoundables, newLevel) {\n\t\treturn super.createParentBoundables.call(this, childBoundables, newLevel);\n\t}\n\tremove() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Object && arguments[0] instanceof Envelope)) {\n\t\t\tlet itemEnv = arguments[0], item = arguments[1];\n\t\t\treturn super.remove.call(this, itemEnv, item);\n\t\t} else return super.remove.apply(this, arguments);\n\t}\n\tdepth() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn super.depth.call(this);\n\t\t} else return super.depth.apply(this, arguments);\n\t}\n\tcreateParentBoundables(childBoundables, newLevel) {\n\t\tAssert.isTrue(!childBoundables.isEmpty());\n\t\tvar minLeafCount = Math.trunc(Math.ceil(childBoundables.size() / this.getNodeCapacity()));\n\t\tvar sortedChildBoundables = new ArrayList(childBoundables);\n\t\tCollections.sort(sortedChildBoundables, STRtree.xComparator);\n\t\tvar verticalSlices = this.verticalSlices(sortedChildBoundables, Math.trunc(Math.ceil(Math.sqrt(minLeafCount))));\n\t\treturn this.createParentBoundablesFromVerticalSlices(verticalSlices, newLevel);\n\t}\n\tnearestNeighbour() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], ItemDistance)) {\n\t\t\t\tlet itemDist = arguments[0];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), this.getRoot(), itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair) {\n\t\t\t\tlet initBndPair = arguments[0];\n\t\t\t\treturn this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tif (arguments[0] instanceof STRtree && hasInterface(arguments[1], ItemDistance)) {\n\t\t\t\tlet tree = arguments[0], itemDist = arguments[1];\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), tree.getRoot(), itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp);\n\t\t\t} else if (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\") {\n\t\t\t\tlet initBndPair = arguments[0], maxDistance = arguments[1];\n\t\t\t\tvar distanceLowerBound = maxDistance;\n\t\t\t\tvar minPair = null;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(initBndPair);\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound > 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) break;\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tdistanceLowerBound = currentDistance;\n\t\t\t\t\t\tminPair = bndPair;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn [minPair.getBoundable(0).getItem(), minPair.getBoundable(1).getItem()];\n\t\t\t} else if (arguments[0] instanceof BoundablePair && Number.isInteger(arguments[1])) {\n\t\t\t\tlet initBndPair = arguments[0], k = arguments[1];\n\t\t\t\treturn this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY, k);\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], ItemDistance) && (arguments[0] instanceof Envelope && arguments[1] instanceof Object)) {\n\t\t\t\tlet env = arguments[0], item = arguments[1], itemDist = arguments[2];\n\t\t\t\tvar bnd = new ItemBoundable(env, item);\n\t\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, itemDist);\n\t\t\t\treturn this.nearestNeighbour(bp)[0];\n\t\t\t} else if (Number.isInteger(arguments[2]) && (arguments[0] instanceof BoundablePair && typeof arguments[1] === \"number\")) {\n\t\t\t\tlet initBndPair = arguments[0], maxDistance = arguments[1], k = arguments[2];\n\t\t\t\tvar distanceLowerBound = maxDistance;\n\t\t\t\tvar priQ = new PriorityQueue();\n\t\t\t\tpriQ.add(initBndPair);\n\t\t\t\tvar kNearestNeighbors = new PriorityQueue();\n\t\t\t\twhile (!priQ.isEmpty() && distanceLowerBound >= 0.0) {\n\t\t\t\t\tvar bndPair = priQ.poll();\n\t\t\t\t\tvar currentDistance = bndPair.getDistance();\n\t\t\t\t\tif (currentDistance >= distanceLowerBound) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (bndPair.isLeaves()) {\n\t\t\t\t\t\tif (kNearestNeighbors.size() < k) {\n\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvar bp1 = kNearestNeighbors.peek();\n\t\t\t\t\t\t\tif (bp1.getDistance() > currentDistance) {\n\t\t\t\t\t\t\t\tkNearestNeighbors.poll();\n\t\t\t\t\t\t\t\tkNearestNeighbors.add(bndPair);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar bp2 = kNearestNeighbors.peek();\n\t\t\t\t\t\t\tdistanceLowerBound = bp2.getDistance();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbndPair.expandToQueue(priQ, distanceLowerBound);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn STRtree.getItems(kNearestNeighbors);\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet env = arguments[0], item = arguments[1], itemDist = arguments[2], k = arguments[3];\n\t\t\tvar bnd = new ItemBoundable(env, item);\n\t\t\tvar bp = new BoundablePair(this.getRoot(), bnd, itemDist);\n\t\t\treturn this.nearestNeighbour(bp, k);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn STRtree;\n\t}\n\tget interfaces_() {\n\t\treturn [SpatialIndex, Serializable];\n\t}\n}\nclass STRtreeNode extends AbstractNode {\n\tconstructor() {\n\t\tsuper();\n\t\tSTRtreeNode.constructor_.apply(this, arguments);\n\t}\n\tcomputeBounds() {\n\t\tvar bounds = null;\n\t\tfor (var i = this.getChildBoundables().iterator(); i.hasNext(); ) {\n\t\t\tvar childBoundable = i.next();\n\t\t\tif (bounds === null) {\n\t\t\t\tbounds = new Envelope(childBoundable.getBounds());\n\t\t\t} else {\n\t\t\t\tbounds.expandToInclude(childBoundable.getBounds());\n\t\t\t}\n\t\t}\n\t\treturn bounds;\n\t}\n\tgetClass() {\n\t\treturn STRtreeNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSTRtreeNode.constructor_ = function () {\n\tlet level = arguments[0];\n\tAbstractNode.constructor_.call(this, level);\n};\nSTRtree.STRtreeNode = STRtreeNode;\nSTRtree.constructor_ = function () {\n\tif (arguments.length === 0) {\n\t\tSTRtree.constructor_.call(this, STRtree.DEFAULT_NODE_CAPACITY);\n\t} else if (arguments.length === 1) {\n\t\tlet nodeCapacity = arguments[0];\n\t\tAbstractSTRtree.constructor_.call(this, nodeCapacity);\n\t}\n};\nSTRtree.serialVersionUID = 259274702368956900;\nSTRtree.xComparator = new (class {\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n\tcompare(o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreX(o1.getBounds()), STRtree.centreX(o2.getBounds()));\n\t}\n})();\nSTRtree.yComparator = new (class {\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n\tcompare(o1, o2) {\n\t\treturn AbstractSTRtree.compareDoubles(STRtree.centreY(o1.getBounds()), STRtree.centreY(o2.getBounds()));\n\t}\n})();\nSTRtree.intersectsOp = new (class {\n\tget interfaces_() {\n\t\treturn [IntersectsOp];\n\t}\n\tintersects(aBounds, bBounds) {\n\t\treturn aBounds.intersects(bBounds);\n\t}\n})();\nSTRtree.DEFAULT_NODE_CAPACITY = 10;\n","import Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\n\nconst geometryTypes = ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon']\n\n/**\n * Class for reading and writing Well-Known Text.Create a new parser for GeoJSON\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/**\n * Create a new parser for GeoJSON\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of GeoJsonParser.\n * @constructor\n * @private\n */\nexport default class GeoJSONParser {\n  constructor(geometryFactory) {\n    this.geometryFactory = geometryFactory || new GeometryFactory()\n  }\n\n  /**\n   * Deserialize a GeoJSON object and return the Geometry or Feature(Collection) with JSTS Geometries\n   *\n   * @param {}\n   *          A GeoJSON object.\n   * @return {} A Geometry instance or object representing a Feature(Collection) with Geometry instances.\n   * @private\n   */\n  read (json) {\n    let obj\n    if (typeof json === 'string')\n      obj = JSON.parse(json)\n    else\n      obj = json\n\n    const type = obj.type\n\n    if (!parse[type])\n      throw new Error('Unknown GeoJSON type: ' + obj.type)\n\n    if (geometryTypes.indexOf(type) !== -1)\n      return parse[type].call(this, obj.coordinates)\n    else if (type === 'GeometryCollection')\n      return parse[type].call(this, obj.geometries)\n\n    // feature or feature collection\n    return parse[type].call(this, obj)\n  }\n\n  /**\n   * Serialize a Geometry object into GeoJSON\n   *\n   * @param {Geometry}\n   *          geometry A Geometry or array of Geometries.\n   * @return {Object} A GeoJSON object represting the input Geometry/Geometries.\n   * @private\n   */\n  write (geometry) {\n    const type = geometry.getGeometryType()\n\n    if (!extract[type])\n      throw new Error('Geometry is not supported')\n\n    return extract[type].call(this, geometry)\n  }\n} \n\nconst parse = {\n  /**\n   * Parse a GeoJSON Feature object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} Feature with geometry/bbox converted to JSTS Geometries.\n   */\n  Feature: function (obj) {\n    const feature = {}\n\n    for (let key in obj)\n      feature[key] = obj[key]\n\n    if (obj.geometry) {\n      const type = obj.geometry.type\n      if (!parse[type])\n        throw new Error('Unknown GeoJSON type: ' + obj.type)\n      feature.geometry = this.read(obj.geometry)\n    }\n\n    if (obj.bbox)\n      feature.bbox = parse.bbox.call(this, obj.bbox)\n\n    return feature\n  },\n\n  /**\n   * Parse a GeoJSON FeatureCollection object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} FeatureCollection with geometry/bbox converted to JSTS Geometries.\n   */\n  FeatureCollection: function (obj) {\n    const featureCollection = {}\n\n    if (obj.features) {\n      featureCollection.features = []\n\n      for (let i = 0; i < obj.features.length; ++i)\n        featureCollection.features.push(this.read(obj.features[i]))\n    }\n\n    if (obj.bbox)\n      featureCollection.bbox = this.parse.bbox.call(this, obj.bbox)\n\n    return featureCollection\n  },\n\n  /**\n   * Convert the ordinates in an array to an array of Coordinates\n   *\n   * @param {Array}\n   *          array Array with {Number}s.\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  coordinates: function (array) {\n    const coordinates = []\n    for (let i = 0; i < array.length; ++i) {\n      const sub = array[i]\n      coordinates.push(new Coordinate(sub[0], sub[1]))\n    }\n    return coordinates\n  },\n\n  /**\n   * Convert the bbox to a LinearRing\n   *\n   * @param {Array}\n   *          array Array with [xMin, yMin, xMax, yMax].\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  bbox: function (array) {\n    return this.geometryFactory.createLinearRing([\n      new Coordinate(array[0], array[1]),\n      new Coordinate(array[2], array[1]),\n      new Coordinate(array[2], array[3]),\n      new Coordinate(array[0], array[3]),\n      new Coordinate(array[0], array[1])\n    ])\n  },\n\n  /**\n   * Convert an Array with ordinates to a Point\n   *\n   * @param {Array}\n   *          array Array with ordinates.\n   *\n   * @return {Point} Point.\n   */\n  Point: function (array) {\n    const coordinate = new Coordinate(array[0], array[1])\n    return this.geometryFactory.createPoint(coordinate)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiPoint\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiPoint} MultiPoint.\n   */\n  MultiPoint: function (array) {\n    const points = []\n    for (let i = 0; i < array.length; ++i)\n      points.push(parse.Point.call(this, array[i]))\n    return this.geometryFactory.createMultiPoint(points)\n  },\n\n  /**\n   * Convert an Array with coordinates to a LineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {LineString} LineString.\n   */\n  LineString: function (array) {\n    const coordinates = parse.coordinates.call(this, array)\n    return this.geometryFactory.createLineString(coordinates)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiLineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiLineString} MultiLineString.\n   */\n  MultiLineString: function (array) {\n    const lineStrings = []\n    for (let i = 0; i < array.length; ++i)\n      lineStrings.push(parse.LineString.call(this, array[i]))\n    return this.geometryFactory.createMultiLineString(lineStrings)\n  },\n\n  /**\n   * Convert an Array to a Polygon\n   *\n   * @param {Array}\n   *          array Array with shell and holes.\n   *\n   * @return {Polygon} Polygon.\n   */\n  Polygon: function (array) {\n    const shellCoordinates = parse.coordinates.call(this, array[0])\n    const shell = this.geometryFactory.createLinearRing(shellCoordinates)\n    const holes = []\n    for (let i = 1; i < array.length; ++i) {\n      var hole = array[i]\n      var coordinates = parse.coordinates.call(this, hole)\n      var linearRing = this.geometryFactory.createLinearRing(coordinates)\n      holes.push(linearRing)\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Convert an Array to a MultiPolygon\n   *\n   * @param {Array}\n   *          array Array of arrays with shell and rings.\n   *\n   * @return {MultiPolygon} MultiPolygon.\n   */\n  MultiPolygon: function (array) {\n    const polygons = []\n    for (let i = 0; i < array.length; ++i) {\n      const polygon = array[i]\n      polygons.push(parse.Polygon.call(this, polygon))\n    }\n    return this.geometryFactory.createMultiPolygon(polygons)\n  },\n\n  /**\n   * Convert an Array to a GeometryCollection\n   *\n   * @param {Array}\n   *          array Array of GeoJSON geometries.\n   *\n   * @return {GeometryCollection} GeometryCollection.\n   */\n  GeometryCollection: function (array) {\n    const geometries = []\n    for (let i = 0; i < array.length; ++i) {\n      const geometry = array[i]\n      geometries.push(this.read(geometry))\n    }\n    return this.geometryFactory.createGeometryCollection(geometries)\n  }\n}\n\nconst extract = {\n  /**\n   * Convert a Coordinate to an Array\n   *\n   * @param {Coordinate}\n   *          coordinate Coordinate to convert.\n   *\n   * @return {Array} Array of ordinates.\n   */\n  coordinate: function (coordinate) {\n    return [coordinate.x, coordinate.y]\n  },\n\n  /**\n   * Convert a Point to a GeoJSON object\n   *\n   * @param {Point}\n   *          point Point to convert.\n   *\n   * @return {Array} Array of 2 ordinates (paired to a coordinate).\n   */\n  Point: function (point) {\n    const array = extract.coordinate.call(this, point.getCoordinate())\n    return {\n      type: 'Point',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPoint to a GeoJSON object\n   *\n   * @param {MultiPoint}\n   *          multipoint MultiPoint to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  MultiPoint: function (multipoint) {\n    const array = []\n    for (let i = 0; i < multipoint._geometries.length; ++i) {\n      const point = multipoint._geometries[i]\n      const geoJson = extract.Point.call(this, point)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiPoint',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a LineString to a GeoJSON object\n   *\n   * @param {LineString}\n   *          linestring LineString to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  LineString: function (linestring) {\n    const array = []\n    const coordinates = linestring.getCoordinates()\n    for (let i = 0; i < coordinates.length; ++i) {\n      const coordinate = coordinates[i]\n      array.push(extract.coordinate.call(this, coordinate))\n    }\n    return {\n      type: 'LineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiLineString to a GeoJSON object\n   *\n   * @param {MultiLineString}\n   *          multilinestring MultiLineString to convert.\n   *\n   * @return {Array} Array of Array of coordinates.\n   */\n  MultiLineString: function (multilinestring) {\n    const array = []\n    for (let i = 0; i < multilinestring._geometries.length; ++i) {\n      const linestring = multilinestring._geometries[i]\n      const geoJson = extract.LineString.call(this, linestring)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiLineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a Polygon to a GeoJSON object\n   *\n   * @param {Polygon}\n   *          polygon Polygon to convert.\n   *\n   * @return {Array} Array with shell, holes.\n   */\n  Polygon: function (polygon) {\n    const array = []\n    const shellGeoJson = extract.LineString.call(this, polygon._shell)\n    array.push(shellGeoJson.coordinates)\n    for (let i = 0; i < polygon._holes.length; ++i) {\n      const hole = polygon._holes[i]\n      const holeGeoJson = extract.LineString.call(this, hole)\n      array.push(holeGeoJson.coordinates)\n    }\n    return {\n      type: 'Polygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPolygon to a GeoJSON object\n   *\n   * @param {MultiPolygon}\n   *          multipolygon MultiPolygon to convert.\n   *\n   * @return {Array} Array of polygons.\n   */\n  MultiPolygon: function (multipolygon) {\n    const array = []\n    for (let i = 0; i < multipolygon._geometries.length; ++i) {\n      const polygon = multipolygon._geometries[i]\n      const geoJson = extract.Polygon.call(this, polygon)\n      array.push(geoJson.coordinates)\n    }\n    return {\n      type: 'MultiPolygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a GeometryCollection to a GeoJSON object\n   *\n   * @param {GeometryCollection}\n   *          collection GeometryCollection to convert.\n   *\n   * @return {Array} Array of geometries.\n   */\n  GeometryCollection: function (collection) {\n    const array = []\n    for (let i = 0; i < collection._geometries.length; ++i) {\n      const geometry = collection._geometries[i]\n      const type = geometry.getGeometryType()\n      array.push(extract[type].call(this, geometry))\n    }\n    return {\n      type: 'GeometryCollection',\n      geometries: array\n    }\n  }\n}\n","/*eslint-disable no-undef */\n\n/**\n * @module org/locationtech/jts/io/OL3Parser\n */\n\nimport Coordinate from '../geom/Coordinate'\nimport GeometryFactory from '../geom/GeometryFactory'\n\nfunction p2c (p) { return [p.x, p.y] }\n\nexport default class OL3Parser {\n  /**\n   * OpenLayers Geometry parser and writer\n   * @param {GeometryFactory} geometryFactory\n   * @param {ol} olReference \n   */\n  constructor(geometryFactory, olReference) {\n    this.geometryFactory = geometryFactory || new GeometryFactory()\n    this.ol = olReference || (typeof ol !== 'undefined' && ol)\n  }\n\n  /**\n   * Inject OpenLayers geom classes\n   */\n  inject(Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection) {\n    this.ol = {\n      geom: {\n        Point, LineString, LinearRing, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeometryCollection\n      }\n    }\n  }\n\n  /**\n   * @param geometry {ol.geom.Geometry}\n   * @return {Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  read (geometry) {\n    const ol = this.ol\n    if (geometry instanceof ol.geom.Point) {\n      return this.convertFromPoint(geometry)\n    } else if (geometry instanceof ol.geom.LineString) {\n      return this.convertFromLineString(geometry)\n    } else if (geometry instanceof ol.geom.LinearRing) {\n      return this.convertFromLinearRing(geometry)\n    } else if (geometry instanceof ol.geom.Polygon) {\n      return this.convertFromPolygon(geometry)\n    } else if (geometry instanceof ol.geom.MultiPoint) {\n      return this.convertFromMultiPoint(geometry)\n    } else if (geometry instanceof ol.geom.MultiLineString) {\n      return this.convertFromMultiLineString(geometry)\n    } else if (geometry instanceof ol.geom.MultiPolygon) {\n      return this.convertFromMultiPolygon(geometry)\n    } else if (geometry instanceof ol.geom.GeometryCollection) {\n      return this.convertFromCollection(geometry)\n    }\n  }\n\n  convertFromPoint (point) {\n    const coordinates = point.getCoordinates()\n    return this.geometryFactory.createPoint(new Coordinate(coordinates[0], coordinates[1]))\n  }\n\n  convertFromLineString (lineString) {\n    return this.geometryFactory.createLineString(lineString.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1])\n    }))\n  }\n\n  convertFromLinearRing (linearRing) {\n    return this.geometryFactory.createLinearRing(linearRing.getCoordinates().map(function (coordinates) {\n      return new Coordinate(coordinates[0], coordinates[1])\n    }))\n  }\n\n  convertFromPolygon (polygon) {\n    const linearRings = polygon.getLinearRings()\n    var shell = null\n    var holes = []\n    for (let i = 0; i < linearRings.length; i++) {\n      const linearRing = this.convertFromLinearRing(linearRings[i])\n      if (i === 0) {\n        shell = linearRing\n      } else {\n        holes.push(linearRing)\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  }\n\n  convertFromMultiPoint (multiPoint) {\n    const points = multiPoint.getPoints().map(function (point) {\n      return this.convertFromPoint(point)\n    }, this)\n    return this.geometryFactory.createMultiPoint(points)\n  }\n\n  convertFromMultiLineString (multiLineString) {\n    const lineStrings = multiLineString.getLineStrings().map(function (lineString) {\n      return this.convertFromLineString(lineString)\n    }, this)\n    return this.geometryFactory.createMultiLineString(lineStrings)\n  }\n\n  convertFromMultiPolygon (multiPolygon) {\n    const polygons = multiPolygon.getPolygons().map(function (polygon) {\n      return this.convertFromPolygon(polygon)\n    }, this)\n    return this.geometryFactory.createMultiPolygon(polygons)\n  }\n\n  convertFromCollection (collection) {\n    const geometries = collection.getGeometries().map(function (geometry) {\n      return this.read(geometry)\n    }, this)\n    return this.geometryFactory.createGeometryCollection(geometries)\n  }\n\n  /**\n   * @param geometry\n   *          {Geometry}\n   * @return {ol.geom.Geometry}\n   * @memberof module:org/locationtech/jts/io/OL3Parser#\n   */\n  write (geometry) {\n    if (geometry.getGeometryType() === 'Point') {\n      return this.convertToPoint(geometry.getCoordinate())\n    } else if (geometry.getGeometryType() === 'LineString') {\n      return this.convertToLineString(geometry)\n    } else if (geometry.getGeometryType() === 'LinearRing') {\n      return this.convertToLinearRing(geometry)\n    } else if (geometry.getGeometryType() === 'Polygon') {\n      return this.convertToPolygon(geometry)\n    } else if (geometry.getGeometryType() === 'MultiPoint') {\n      return this.convertToMultiPoint(geometry)\n    } else if (geometry.getGeometryType() === 'MultiLineString') {\n      return this.convertToMultiLineString(geometry)\n    } else if (geometry.getGeometryType() === 'MultiPolygon') {\n      return this.convertToMultiPolygon(geometry)\n    } else if (geometry.getGeometryType() === 'GeometryCollection') {\n      return this.convertToCollection(geometry)\n    }\n  }\n\n  convertToPoint (coordinate) {\n    return new this.ol.geom.Point([coordinate.x, coordinate.y])\n  }\n\n  convertToLineString (lineString) {\n    var points = lineString._points._coordinates.map(p2c)\n    return new this.ol.geom.LineString(points)\n  }\n\n  convertToLinearRing (linearRing) {\n    var points = linearRing._points._coordinates.map(p2c)\n    return new this.ol.geom.LinearRing(points)\n  }\n\n  convertToPolygon (polygon) {\n    var rings = [polygon._shell._points._coordinates.map(p2c)]\n    for (let i = 0; i < polygon._holes.length; i++) {\n      rings.push(polygon._holes[i]._points._coordinates.map(p2c))\n    }\n    return new this.ol.geom.Polygon(rings)\n  }\n\n  convertToMultiPoint (multiPoint) {\n    return new this.ol.geom.MultiPoint(multiPoint.getCoordinates().map(p2c))\n  }\n\n  convertToMultiLineString (multiLineString) {\n    var lineStrings = []\n    for (let i = 0; i < multiLineString._geometries.length; i++) {\n      lineStrings.push(this.convertToLineString(multiLineString._geometries[i]).getCoordinates())\n    }\n    return new this.ol.geom.MultiLineString(lineStrings)\n  }\n\n  convertToMultiPolygon (multiPolygon) {\n    var polygons = []\n    for (let i = 0; i < multiPolygon._geometries.length; i++) {\n      polygons.push(this.convertToPolygon(multiPolygon._geometries[i]).getCoordinates())\n    }\n    return new this.ol.geom.MultiPolygon(polygons)\n  }\n\n  convertToCollection (geometryCollection) {\n    var geometries = []\n    for (let i = 0; i < geometryCollection._geometries.length; i++) {\n      var geometry = geometryCollection._geometries[i]\n      geometries.push(this.write(geometry))\n    }\n    return new this.ol.geom.GeometryCollection(geometries)\n  }\n} \n","/**\n * @module org/locationtech/jts/io/GeoJSONReader\n */\n\nimport GeometryFactory from '../geom/GeometryFactory'\nimport GeoJSONParser from './GeoJSONParser'\n\n/**\n * Converts a geometry in GeoJSON to a {@link Geometry}.\n */\nexport default class GeoJSONReader {\n  /**\n   * A <code>GeoJSONReader</code> is parameterized by a <code>GeometryFactory</code>,\n   * to allow it to create <code>Geometry</code> objects of the appropriate\n   * implementation. In particular, the <code>GeometryFactory</code> determines\n   * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n   *\n   * @param {GeometryFactory} geometryFactory\n   */\n  constructor(geometryFactory) {\n    this.parser = new GeoJSONParser(geometryFactory || new GeometryFactory())\n  }\n\n  /**\n   * Reads a GeoJSON representation of a {@link Geometry}\n   *\n   * Will also parse GeoJSON Features/FeatureCollections as custom objects.\n   *\n   * @param {Object|String} geoJson a GeoJSON Object or String.\n   * @return {Geometry|Object} a <code>Geometry or Feature/FeatureCollection representation.</code>\n   * @memberof module:org/locationtech/jts/io/GeoJSONReader#\n   */\n  read (geoJson) {\n    var geometry = this.parser.read(geoJson)\n    return geometry\n  }\n}\n","/**\n * @module org/locationtech/jts/io/GeoJSONWriter\n */\n\nimport GeoJSONParser from './GeoJSONParser'\n\n/**\n * Writes the GeoJSON representation of a {@link Geometry}. The\n * The GeoJSON format is defined <A\n * HREF=\"http://geojson.org/geojson-spec.html\">here</A>.\n */\nexport default class GeoJSONWriter {\n  /**\n   * The <code>GeoJSONWriter</code> outputs coordinates rounded to the precision\n   * model. Only the maximum number of decimal places necessary to represent the\n   * ordinates to the required precision will be output.\n   *\n   * @param {GeometryFactory} geometryFactory\n   * @constructor\n   */\n  constructor() {\n    this.parser = new GeoJSONParser(this.geometryFactory)\n  }\n\n  /**\n   * Converts a <code>Geometry</code> to its GeoJSON representation.\n   *\n   * @param {Geometry}\n   *          geometry a <code>Geometry</code> to process.\n   * @return {Object} The GeoJSON representation of the Geometry.\n   * @memberof module:org/locationtech/jts/io/GeoJSONWriter#\n   */\n  write (geometry) {\n    return this.parser.write(geometry)\n  }\n}","/**\n * @module org/locationtech/jts/io/WKTReader\n */\n\nimport GeometryFactory from '../geom/GeometryFactory'\nimport WKTParser from './WKTParser'\n\n/**\n * Converts a geometry in Well-Known Text format to a {@link Geometry}.\n * <p>\n * <code>WKTReader</code> supports extracting <code>Geometry</code> objects\n * from either {@link Reader}s or {@link String}s. This allows it to function\n * as a parser to read <code>Geometry</code> objects from text blocks embedded\n * in other data formats (e.g. XML).\n */\n\nexport default class WKTReader {\n  /**\n   * A <code>WKTReader</code> is parameterized by a <code>GeometryFactory</code>,\n   * to allow it to create <code>Geometry</code> objects of the appropriate\n   * implementation. In particular, the <code>GeometryFactory</code> determines\n   * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n   * @param {GeometryFactory} geometryFactory\n   */\n  constructor(geometryFactory) {\n    this.parser = new WKTParser(geometryFactory || new GeometryFactory())\n  }\n  /**\n   * Reads a Well-Known Text representation of a {@link Geometry}\n   *\n   * @param {string}\n   *          wkt a <Geometry Tagged Text> string (see the OpenGIS Simple Features\n   *          Specification).\n   * @return {Geometry} a <code>Geometry</code> read from\n   *         <code>string.</code>\n   * @memberof module:org/locationtech/jts/io/WKTReader#\n   */\n  read (wkt) {\n    var geometry = this.parser.read(wkt)\n    return geometry\n  }\n}","import Assert from '../util/Assert';\nexport default class SegmentPointComparator {\n\tconstructor() {\n\t\tSegmentPointComparator.constructor_.apply(this, arguments);\n\t}\n\tstatic relativeSign(x0, x1) {\n\t\tif (x0 < x1) return -1;\n\t\tif (x0 > x1) return 1;\n\t\treturn 0;\n\t}\n\tstatic compare(octant, p0, p1) {\n\t\tif (p0.equals2D(p1)) return 0;\n\t\tvar xSign = SegmentPointComparator.relativeSign(p0.x, p1.x);\n\t\tvar ySign = SegmentPointComparator.relativeSign(p0.y, p1.y);\n\t\tswitch (octant) {\n\t\t\tcase 0:\n\t\t\t\treturn SegmentPointComparator.compareValue(xSign, ySign);\n\t\t\tcase 1:\n\t\t\t\treturn SegmentPointComparator.compareValue(ySign, xSign);\n\t\t\tcase 2:\n\t\t\t\treturn SegmentPointComparator.compareValue(ySign, -xSign);\n\t\t\tcase 3:\n\t\t\t\treturn SegmentPointComparator.compareValue(-xSign, ySign);\n\t\t\tcase 4:\n\t\t\t\treturn SegmentPointComparator.compareValue(-xSign, -ySign);\n\t\t\tcase 5:\n\t\t\t\treturn SegmentPointComparator.compareValue(-ySign, -xSign);\n\t\t\tcase 6:\n\t\t\t\treturn SegmentPointComparator.compareValue(-ySign, xSign);\n\t\t\tcase 7:\n\t\t\t\treturn SegmentPointComparator.compareValue(xSign, -ySign);\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"invalid octant value\");\n\t\treturn 0;\n\t}\n\tstatic compareValue(compareSign0, compareSign1) {\n\t\tif (compareSign0 < 0) return -1;\n\t\tif (compareSign0 > 0) return 1;\n\t\tif (compareSign1 < 0) return -1;\n\t\tif (compareSign1 > 0) return 1;\n\t\treturn 0;\n\t}\n\tgetClass() {\n\t\treturn SegmentPointComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentPointComparator.constructor_ = function () {};\n","import Coordinate from '../geom/Coordinate';\nimport SegmentPointComparator from './SegmentPointComparator';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default class SegmentNode {\n\tconstructor() {\n\t\tSegmentNode.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinate() {\n\t\treturn this.coord;\n\t}\n\tprint(out) {\n\t\tout.print(this.coord);\n\t\tout.print(\" seg # = \" + this.segmentIndex);\n\t}\n\tcompareTo(obj) {\n\t\tvar other = obj;\n\t\tif (this.segmentIndex < other.segmentIndex) return -1;\n\t\tif (this.segmentIndex > other.segmentIndex) return 1;\n\t\tif (this.coord.equals2D(other.coord)) return 0;\n\t\treturn SegmentPointComparator.compare(this._segmentOctant, this.coord, other.coord);\n\t}\n\tisEndPoint(maxSegmentIndex) {\n\t\tif (this.segmentIndex === 0 && !this._isInterior) return true;\n\t\tif (this.segmentIndex === maxSegmentIndex) return true;\n\t\treturn false;\n\t}\n\tisInterior() {\n\t\treturn this._isInterior;\n\t}\n\tgetClass() {\n\t\treturn SegmentNode;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nSegmentNode.constructor_ = function () {\n\tthis._segString = null;\n\tthis.coord = null;\n\tthis.segmentIndex = null;\n\tthis._segmentOctant = null;\n\tthis._isInterior = null;\n\tlet segString = arguments[0], coord = arguments[1], segmentIndex = arguments[2], segmentOctant = arguments[3];\n\tthis._segString = segString;\n\tthis.coord = new Coordinate(coord);\n\tthis.segmentIndex = segmentIndex;\n\tthis._segmentOctant = segmentOctant;\n\tthis._isInterior = !coord.equals2D(segString.getCoordinate(segmentIndex));\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport SegmentNode from './SegmentNode';\nimport Iterator from '../../../../java/util/Iterator';\nimport Coordinate from '../geom/Coordinate';\nimport NodedSegmentString from './NodedSegmentString';\nimport Integer from '../../../../java/lang/Integer';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nimport Assert from '../util/Assert';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class SegmentNodeList {\n\tconstructor() {\n\t\tSegmentNodeList.constructor_.apply(this, arguments);\n\t}\n\tgetSplitCoordinates() {\n\t\tvar coordList = new CoordinateList();\n\t\tthis.addEndpoints();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tthis.addEdgeCoordinates(eiPrev, ei, coordList);\n\t\t\teiPrev = ei;\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t}\n\taddCollapsedNodes() {\n\t\tvar collapsedVertexIndexes = new ArrayList();\n\t\tthis.findCollapsesFromInsertedNodes(collapsedVertexIndexes);\n\t\tthis.findCollapsesFromExistingVertices(collapsedVertexIndexes);\n\t\tfor (var it = collapsedVertexIndexes.iterator(); it.hasNext(); ) {\n\t\t\tvar vertexIndex = it.next().intValue();\n\t\t\tthis.add(this._edge.getCoordinate(vertexIndex), vertexIndex);\n\t\t}\n\t}\n\tprint(out) {\n\t\tout.println(\"Intersections:\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ei = it.next();\n\t\t\tei.print(out);\n\t\t}\n\t}\n\tfindCollapsesFromExistingVertices(collapsedVertexIndexes) {\n\t\tfor (var i = 0; i < this._edge.size() - 2; i++) {\n\t\t\tvar p0 = this._edge.getCoordinate(i);\n\t\t\tvar p1 = this._edge.getCoordinate(i + 1);\n\t\t\tvar p2 = this._edge.getCoordinate(i + 2);\n\t\t\tif (p0.equals2D(p2)) {\n\t\t\t\tcollapsedVertexIndexes.add(new Integer(i + 1));\n\t\t\t}\n\t\t}\n\t}\n\taddEdgeCoordinates(ei0, ei1, coordList) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar ipt = 0;\n\t\tcoordList.add(new Coordinate(ei0.coord), false);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tcoordList.add(this._edge.getCoordinate(i));\n\t\t}\n\t\tif (useIntPt1) {\n\t\t\tcoordList.add(new Coordinate(ei1.coord));\n\t\t}\n\t}\n\titerator() {\n\t\treturn this._nodeMap.values().iterator();\n\t}\n\taddSplitEdges(edgeList) {\n\t\tthis.addEndpoints();\n\t\tthis.addCollapsedNodes();\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar newEdge = this.createSplitEdge(eiPrev, ei);\n\t\t\tedgeList.add(newEdge);\n\t\t\teiPrev = ei;\n\t\t}\n\t}\n\tfindCollapseIndex(ei0, ei1, collapsedVertexIndex) {\n\t\tif (!ei0.coord.equals2D(ei1.coord)) return false;\n\t\tvar numVerticesBetween = ei1.segmentIndex - ei0.segmentIndex;\n\t\tif (!ei1.isInterior()) {\n\t\t\tnumVerticesBetween--;\n\t\t}\n\t\tif (numVerticesBetween === 1) {\n\t\t\tcollapsedVertexIndex[0] = ei0.segmentIndex + 1;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tfindCollapsesFromInsertedNodes(collapsedVertexIndexes) {\n\t\tvar collapsedVertexIndex = new Array(1).fill(null);\n\t\tvar it = this.iterator();\n\t\tvar eiPrev = it.next();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ei = it.next();\n\t\t\tvar isCollapsed = this.findCollapseIndex(eiPrev, ei, collapsedVertexIndex);\n\t\t\tif (isCollapsed) collapsedVertexIndexes.add(new Integer(collapsedVertexIndex[0]));\n\t\t\teiPrev = ei;\n\t\t}\n\t}\n\tgetEdge() {\n\t\treturn this._edge;\n\t}\n\taddEndpoints() {\n\t\tvar maxSegIndex = this._edge.size() - 1;\n\t\tthis.add(this._edge.getCoordinate(0), 0);\n\t\tthis.add(this._edge.getCoordinate(maxSegIndex), maxSegIndex);\n\t}\n\tcreateSplitEdge(ei0, ei1) {\n\t\tvar npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n\t\tvar lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n\t\tvar useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n\t\tif (!useIntPt1) {\n\t\t\tnpts--;\n\t\t}\n\t\tvar pts = new Array(npts).fill(null);\n\t\tvar ipt = 0;\n\t\tpts[ipt++] = new Coordinate(ei0.coord);\n\t\tfor (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n\t\t\tpts[ipt++] = this._edge.getCoordinate(i);\n\t\t}\n\t\tif (useIntPt1) pts[ipt] = new Coordinate(ei1.coord);\n\t\treturn new NodedSegmentString(pts, this._edge.getData());\n\t}\n\tadd(intPt, segmentIndex) {\n\t\tvar eiNew = new SegmentNode(this._edge, intPt, segmentIndex, this._edge.getSegmentOctant(segmentIndex));\n\t\tvar ei = this._nodeMap.get(eiNew);\n\t\tif (ei !== null) {\n\t\t\tAssert.isTrue(ei.coord.equals2D(intPt), \"Found equal nodes with different coordinates\");\n\t\t\treturn ei;\n\t\t}\n\t\tthis._nodeMap.put(eiNew, eiNew);\n\t\treturn eiNew;\n\t}\n\tcheckSplitEdgesCorrectness(splitEdges) {\n\t\tvar edgePts = this._edge.getCoordinates();\n\t\tvar split0 = splitEdges.get(0);\n\t\tvar pt0 = split0.getCoordinate(0);\n\t\tif (!pt0.equals2D(edgePts[0])) throw new RuntimeException(\"bad split edge start point at \" + pt0);\n\t\tvar splitn = splitEdges.get(splitEdges.size() - 1);\n\t\tvar splitnPts = splitn.getCoordinates();\n\t\tvar ptn = splitnPts[splitnPts.length - 1];\n\t\tif (!ptn.equals2D(edgePts[edgePts.length - 1])) throw new RuntimeException(\"bad split edge end point at \" + ptn);\n\t}\n\tgetClass() {\n\t\treturn SegmentNodeList;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentNodeList.constructor_ = function () {\n\tthis._nodeMap = new TreeMap();\n\tthis._edge = null;\n\tlet edge = arguments[0];\n\tthis._edge = edge;\n};\nclass NodeVertexIterator {\n\tconstructor() {\n\t\tNodeVertexIterator.constructor_.apply(this, arguments);\n\t}\n\tnext() {\n\t\tif (this._currNode === null) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode === null) return null;\n\t\tif (this._nextNode.segmentIndex === this._currNode.segmentIndex) {\n\t\t\tthis._currNode = this._nextNode;\n\t\t\tthis._currSegIndex = this._currNode.segmentIndex;\n\t\t\tthis.readNextNode();\n\t\t\treturn this._currNode;\n\t\t}\n\t\tif (this._nextNode.segmentIndex > this._currNode.segmentIndex) {}\n\t\treturn null;\n\t}\n\tremove() {\n\t\tthrow new UnsupportedOperationException(this.getClass().getName());\n\t}\n\thasNext() {\n\t\tif (this._nextNode === null) return false;\n\t\treturn true;\n\t}\n\treadNextNode() {\n\t\tif (this._nodeIt.hasNext()) this._nextNode = this._nodeIt.next(); else this._nextNode = null;\n\t}\n\tgetClass() {\n\t\treturn NodeVertexIterator;\n\t}\n\tget interfaces_() {\n\t\treturn [Iterator];\n\t}\n}\nNodeVertexIterator.constructor_ = function () {\n\tthis._nodeList = null;\n\tthis._edge = null;\n\tthis._nodeIt = null;\n\tthis._currNode = null;\n\tthis._nextNode = null;\n\tthis._currSegIndex = 0;\n\tlet nodeList = arguments[0];\n\tthis._nodeList = nodeList;\n\tthis._edge = nodeList.getEdge();\n\tthis._nodeIt = nodeList.iterator();\n\tthis.readNextNode();\n};\n","import Coordinate from '../geom/Coordinate';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nexport default class Octant {\n\tconstructor() {\n\t\tOctant.constructor_.apply(this, arguments);\n\t}\n\tstatic octant() {\n\t\tif (typeof arguments[0] === \"number\" && typeof arguments[1] === \"number\") {\n\t\t\tlet dx = arguments[0], dy = arguments[1];\n\t\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for point ( \" + dx + \", \" + dy + \" )\");\n\t\t\tvar adx = Math.abs(dx);\n\t\t\tvar ady = Math.abs(dy);\n\t\t\tif (dx >= 0) {\n\t\t\t\tif (dy >= 0) {\n\t\t\t\t\tif (adx >= ady) return 0; else return 1;\n\t\t\t\t} else {\n\t\t\t\t\tif (adx >= ady) return 7; else return 6;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (dy >= 0) {\n\t\t\t\t\tif (adx >= ady) return 3; else return 2;\n\t\t\t\t} else {\n\t\t\t\t\tif (adx >= ady) return 4; else return 5;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tvar dx = p1.x - p0.x;\n\t\t\tvar dy = p1.y - p0.y;\n\t\t\tif (dx === 0.0 && dy === 0.0) throw new IllegalArgumentException(\"Cannot compute the octant for two identical points \" + p0);\n\t\t\treturn Octant.octant(dx, dy);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Octant;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOctant.constructor_ = function () {};\n","export default class SegmentString {\n\tconstructor() {\n\t\tSegmentString.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {}\n\tsize() {}\n\tgetCoordinate(i) {}\n\tisClosed() {}\n\tsetData(data) {}\n\tgetData() {}\n\tgetClass() {\n\t\treturn SegmentString;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentString.constructor_ = function () {};\n","import SegmentString from './SegmentString';\nexport default class NodableSegmentString {\n\tconstructor() {\n\t\tNodableSegmentString.constructor_.apply(this, arguments);\n\t}\n\taddIntersection(intPt, segmentIndex) {}\n\tgetClass() {\n\t\treturn NodableSegmentString;\n\t}\n\tget interfaces_() {\n\t\treturn [SegmentString];\n\t}\n}\nNodableSegmentString.constructor_ = function () {};\n","import SegmentNodeList from './SegmentNodeList';\nimport WKTWriter from '../io/WKTWriter';\nimport CoordinateArraySequence from '../geom/impl/CoordinateArraySequence';\nimport Coordinate from '../geom/Coordinate';\nimport Octant from './Octant';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport NodableSegmentString from './NodableSegmentString';\nexport default class NodedSegmentString {\n\tconstructor() {\n\t\tNodedSegmentString.constructor_.apply(this, arguments);\n\t}\n\tstatic getNodedSubstrings() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet segStrings = arguments[0];\n\t\t\tvar resultEdgelist = new ArrayList();\n\t\t\tNodedSegmentString.getNodedSubstrings(segStrings, resultEdgelist);\n\t\t\treturn resultEdgelist;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet segStrings = arguments[0], resultEdgelist = arguments[1];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tss.getNodeList().addSplitEdges(resultEdgelist);\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinates() {\n\t\treturn this._pts;\n\t}\n\tsize() {\n\t\treturn this._pts.length;\n\t}\n\tgetCoordinate(i) {\n\t\treturn this._pts[i];\n\t}\n\tisClosed() {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t}\n\tgetSegmentOctant(index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn this.safeOctant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t}\n\tsetData(data) {\n\t\tthis._data = data;\n\t}\n\tsafeOctant(p0, p1) {\n\t\tif (p0.equals2D(p1)) return 0;\n\t\treturn Octant.octant(p0, p1);\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\taddIntersection() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet intPt = arguments[0], segmentIndex = arguments[1];\n\t\t\tthis.addIntersectionNode(intPt, segmentIndex);\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet li = arguments[0], segmentIndex = arguments[1], geomIndex = arguments[2], intIndex = arguments[3];\n\t\t\tvar intPt = new Coordinate(li.getIntersection(intIndex));\n\t\t\tthis.addIntersection(intPt, segmentIndex);\n\t\t}\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t}\n\tgetNodeList() {\n\t\treturn this._nodeList;\n\t}\n\taddIntersectionNode(intPt, segmentIndex) {\n\t\tvar normalizedSegmentIndex = segmentIndex;\n\t\tvar nextSegIndex = normalizedSegmentIndex + 1;\n\t\tif (nextSegIndex < this._pts.length) {\n\t\t\tvar nextPt = this._pts[nextSegIndex];\n\t\t\tif (intPt.equals2D(nextPt)) {\n\t\t\t\tnormalizedSegmentIndex = nextSegIndex;\n\t\t\t}\n\t\t}\n\t\tvar ei = this._nodeList.add(intPt, normalizedSegmentIndex);\n\t\treturn ei;\n\t}\n\taddIntersections(li, segmentIndex, geomIndex) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tthis.addIntersection(li, segmentIndex, geomIndex, i);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn NodedSegmentString;\n\t}\n\tget interfaces_() {\n\t\treturn [NodableSegmentString];\n\t}\n}\nNodedSegmentString.constructor_ = function () {\n\tthis._nodeList = new SegmentNodeList(this);\n\tthis._pts = null;\n\tthis._data = null;\n\tlet pts = arguments[0], data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n};\n","import LineSegment from '../../geom/LineSegment';\nexport default class MonotoneChainOverlapAction {\n\tconstructor() {\n\t\tMonotoneChainOverlapAction.constructor_.apply(this, arguments);\n\t}\n\toverlap() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet seg1 = arguments[0], seg2 = arguments[1];\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet mc1 = arguments[0], start1 = arguments[1], mc2 = arguments[2], start2 = arguments[3];\n\t\t\tmc1.getLineSegment(start1, this._overlapSeg1);\n\t\t\tmc2.getLineSegment(start2, this._overlapSeg2);\n\t\t\tthis.overlap(this._overlapSeg1, this._overlapSeg2);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MonotoneChainOverlapAction;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChainOverlapAction.constructor_ = function () {\n\tthis._overlapSeg1 = new LineSegment();\n\tthis._overlapSeg2 = new LineSegment();\n};\n","import Envelope from '../../geom/Envelope';\nexport default class MonotoneChain {\n\tconstructor() {\n\t\tMonotoneChain.constructor_.apply(this, arguments);\n\t}\n\tgetLineSegment(index, ls) {\n\t\tls.p0 = this._pts[index];\n\t\tls.p1 = this._pts[index + 1];\n\t}\n\tcomputeSelect(searchEnv, start0, end0, mcs) {\n\t\tvar p0 = this._pts[start0];\n\t\tvar p1 = this._pts[end0];\n\t\tif (end0 - start0 === 1) {\n\t\t\tmcs.select(this, start0);\n\t\t\treturn null;\n\t\t}\n\t\tif (!searchEnv.intersects(p0, p1)) return null;\n\t\tvar mid = Math.trunc((start0 + end0) / 2);\n\t\tif (start0 < mid) {\n\t\t\tthis.computeSelect(searchEnv, start0, mid, mcs);\n\t\t}\n\t\tif (mid < end0) {\n\t\t\tthis.computeSelect(searchEnv, mid, end0, mcs);\n\t\t}\n\t}\n\tgetCoordinates() {\n\t\tvar coord = new Array(this._end - this._start + 1).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._start; i <= this._end; i++) {\n\t\t\tcoord[index++] = this._pts[i];\n\t\t}\n\t\treturn coord;\n\t}\n\tcomputeOverlaps() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet mc = arguments[0], mco = arguments[1];\n\t\t\tthis.computeOverlaps(this._start, this._end, mc, mc._start, mc._end, mco);\n\t\t} else if (arguments.length === 6) {\n\t\t\tlet start0 = arguments[0], end0 = arguments[1], mc = arguments[2], start1 = arguments[3], end1 = arguments[4], mco = arguments[5];\n\t\t\tif (end0 - start0 === 1 && end1 - start1 === 1) {\n\t\t\t\tmco.overlap(this, start0, mc, start1);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (!this.overlaps(start0, end0, mc, start1, end1)) return null;\n\t\t\tvar mid0 = Math.trunc((start0 + end0) / 2);\n\t\t\tvar mid1 = Math.trunc((start1 + end1) / 2);\n\t\t\tif (start0 < mid0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(start0, mid0, mc, start1, mid1, mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(start0, mid0, mc, mid1, end1, mco);\n\t\t\t}\n\t\t\tif (mid0 < end0) {\n\t\t\t\tif (start1 < mid1) this.computeOverlaps(mid0, end0, mc, start1, mid1, mco);\n\t\t\t\tif (mid1 < end1) this.computeOverlaps(mid0, end0, mc, mid1, end1, mco);\n\t\t\t}\n\t\t}\n\t}\n\tsetId(id) {\n\t\tthis._id = id;\n\t}\n\tselect(searchEnv, mcs) {\n\t\tthis.computeSelect(searchEnv, this._start, this._end, mcs);\n\t}\n\tgetEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tvar p0 = this._pts[this._start];\n\t\t\tvar p1 = this._pts[this._end];\n\t\t\tthis._env = new Envelope(p0, p1);\n\t\t}\n\t\treturn this._env;\n\t}\n\toverlaps(start0, end0, mc, start1, end1) {\n\t\treturn Envelope.intersects(this._pts[start0], this._pts[end0], mc._pts[start1], mc._pts[end1]);\n\t}\n\tgetEndIndex() {\n\t\treturn this._end;\n\t}\n\tgetStartIndex() {\n\t\treturn this._start;\n\t}\n\tgetContext() {\n\t\treturn this._context;\n\t}\n\tgetId() {\n\t\treturn this._id;\n\t}\n\tgetClass() {\n\t\treturn MonotoneChain;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChain.constructor_ = function () {\n\tthis._pts = null;\n\tthis._start = null;\n\tthis._end = null;\n\tthis._env = null;\n\tthis._context = null;\n\tthis._id = null;\n\tlet pts = arguments[0], start = arguments[1], end = arguments[2], context = arguments[3];\n\tthis._pts = pts;\n\tthis._start = start;\n\tthis._end = end;\n\tthis._context = context;\n};\n","import MonotoneChain from './MonotoneChain';\nimport Integer from '../../../../../java/lang/Integer';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Quadrant from '../../geomgraph/Quadrant';\nexport default class MonotoneChainBuilder {\n\tconstructor() {\n\t\tMonotoneChainBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic getChainStartIndices(pts) {\n\t\tvar start = 0;\n\t\tvar startIndexList = new ArrayList();\n\t\tstartIndexList.add(new Integer(start));\n\t\tdo {\n\t\t\tvar last = MonotoneChainBuilder.findChainEnd(pts, start);\n\t\t\tstartIndexList.add(new Integer(last));\n\t\t\tstart = last;\n\t\t} while (start < pts.length - 1);\n\t\tvar startIndex = MonotoneChainBuilder.toIntArray(startIndexList);\n\t\treturn startIndex;\n\t}\n\tstatic findChainEnd(pts, start) {\n\t\tvar safeStart = start;\n\t\twhile (safeStart < pts.length - 1 && pts[safeStart].equals2D(pts[safeStart + 1])) {\n\t\t\tsafeStart++;\n\t\t}\n\t\tif (safeStart >= pts.length - 1) {\n\t\t\treturn pts.length - 1;\n\t\t}\n\t\tvar chainQuad = Quadrant.quadrant(pts[safeStart], pts[safeStart + 1]);\n\t\tvar last = start + 1;\n\t\twhile (last < pts.length) {\n\t\t\tif (!pts[last - 1].equals2D(pts[last])) {\n\t\t\t\tvar quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n\t\t\t\tif (quad !== chainQuad) break;\n\t\t\t}\n\t\t\tlast++;\n\t\t}\n\t\treturn last - 1;\n\t}\n\tstatic getChains() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet pts = arguments[0];\n\t\t\treturn MonotoneChainBuilder.getChains(pts, null);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet pts = arguments[0], context = arguments[1];\n\t\t\tvar mcList = new ArrayList();\n\t\t\tvar startIndex = MonotoneChainBuilder.getChainStartIndices(pts);\n\t\t\tfor (var i = 0; i < startIndex.length - 1; i++) {\n\t\t\t\tvar mc = new MonotoneChain(pts, startIndex[i], startIndex[i + 1], context);\n\t\t\t\tmcList.add(mc);\n\t\t\t}\n\t\t\treturn mcList;\n\t\t}\n\t}\n\tstatic toIntArray(list) {\n\t\tvar array = new Array(list.size()).fill(null);\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tarray[i] = list.get(i).intValue();\n\t\t}\n\t\treturn array;\n\t}\n\tgetClass() {\n\t\treturn MonotoneChainBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChainBuilder.constructor_ = function () {};\n","export default class Noder {\n\tconstructor() {\n\t\tNoder.constructor_.apply(this, arguments);\n\t}\n\tcomputeNodes(segStrings) {}\n\tgetNodedSubstrings() {}\n\tgetClass() {\n\t\treturn Noder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNoder.constructor_ = function () {};\n","import Noder from './Noder';\nexport default class SinglePassNoder {\n\tconstructor() {\n\t\tSinglePassNoder.constructor_.apply(this, arguments);\n\t}\n\tsetSegmentIntersector(segInt) {\n\t\tthis._segInt = segInt;\n\t}\n\tgetClass() {\n\t\treturn SinglePassNoder;\n\t}\n\tget interfaces_() {\n\t\treturn [Noder];\n\t}\n}\nSinglePassNoder.constructor_ = function () {\n\tthis._segInt = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet segInt = arguments[0];\n\t\tthis.setSegmentIntersector(segInt);\n\t}\n};\n","import STRtree from '../index/strtree/STRtree';\nimport NodedSegmentString from './NodedSegmentString';\nimport MonotoneChainOverlapAction from '../index/chain/MonotoneChainOverlapAction';\nimport MonotoneChainBuilder from '../index/chain/MonotoneChainBuilder';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport SinglePassNoder from './SinglePassNoder';\nexport default class MCIndexNoder extends SinglePassNoder {\n\tconstructor() {\n\t\tsuper();\n\t\tMCIndexNoder.constructor_.apply(this, arguments);\n\t}\n\tgetMonotoneChains() {\n\t\treturn this._monoChains;\n\t}\n\tgetNodedSubstrings() {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t}\n\tgetIndex() {\n\t\treturn this._index;\n\t}\n\tadd(segStr) {\n\t\tvar segChains = MonotoneChainBuilder.getChains(segStr.getCoordinates(), segStr);\n\t\tfor (var i = segChains.iterator(); i.hasNext(); ) {\n\t\t\tvar mc = i.next();\n\t\t\tmc.setId(this._idCounter++);\n\t\t\tthis._index.insert(mc.getEnvelope(), mc);\n\t\t\tthis._monoChains.add(mc);\n\t\t}\n\t}\n\tcomputeNodes(inputSegStrings) {\n\t\tthis._nodedSegStrings = inputSegStrings;\n\t\tfor (var i = inputSegStrings.iterator(); i.hasNext(); ) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t\tthis.intersectChains();\n\t}\n\tintersectChains() {\n\t\tvar overlapAction = new SegmentOverlapAction(this._segInt);\n\t\tfor (var i = this._monoChains.iterator(); i.hasNext(); ) {\n\t\t\tvar queryChain = i.next();\n\t\t\tvar overlapChains = this._index.query(queryChain.getEnvelope());\n\t\t\tfor (var j = overlapChains.iterator(); j.hasNext(); ) {\n\t\t\t\tvar testChain = j.next();\n\t\t\t\tif (testChain.getId() > queryChain.getId()) {\n\t\t\t\t\tqueryChain.computeOverlaps(testChain, overlapAction);\n\t\t\t\t\tthis._nOverlaps++;\n\t\t\t\t}\n\t\t\t\tif (this._segInt.isDone()) return null;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MCIndexNoder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass SegmentOverlapAction extends MonotoneChainOverlapAction {\n\tconstructor() {\n\t\tsuper();\n\t\tSegmentOverlapAction.constructor_.apply(this, arguments);\n\t}\n\toverlap() {\n\t\tif (arguments.length === 4) {\n\t\t\tlet mc1 = arguments[0], start1 = arguments[1], mc2 = arguments[2], start2 = arguments[3];\n\t\t\tvar ss1 = mc1.getContext();\n\t\t\tvar ss2 = mc2.getContext();\n\t\t\tthis._si.processIntersections(ss1, start1, ss2, start2);\n\t\t} else return super.overlap.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn SegmentOverlapAction;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentOverlapAction.constructor_ = function () {\n\tthis._si = null;\n\tlet si = arguments[0];\n\tthis._si = si;\n};\nMCIndexNoder.SegmentOverlapAction = SegmentOverlapAction;\nMCIndexNoder.constructor_ = function () {\n\tthis._monoChains = new ArrayList();\n\tthis._index = new STRtree();\n\tthis._idCounter = 0;\n\tthis._nodedSegStrings = null;\n\tthis._nOverlaps = 0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet si = arguments[0];\n\t\tSinglePassNoder.constructor_.call(this, si);\n\t}\n};\n","import hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport Noder from './Noder';\nimport Coordinate from '../geom/Coordinate';\nimport NodedSegmentString from './NodedSegmentString';\nimport System from '../../../../java/lang/System';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class ScaledNoder {\n\tconstructor() {\n\t\tScaledNoder.constructor_.apply(this, arguments);\n\t}\n\trescale() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet segStrings = arguments[0];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.rescale(ss.getCoordinates());\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tvar p0 = null;\n\t\t\tvar p1 = null;\n\t\t\tif (pts.length === 2) {\n\t\t\t\tp0 = new Coordinate(pts[0]);\n\t\t\t\tp1 = new Coordinate(pts[1]);\n\t\t\t}\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tpts[i].x = pts[i].x / this._scaleFactor + this._offsetX;\n\t\t\t\tpts[i].y = pts[i].y / this._scaleFactor + this._offsetY;\n\t\t\t}\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) {\n\t\t\t\tSystem.out.println(pts);\n\t\t\t}\n\t\t}\n\t}\n\tscale() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet segStrings = arguments[0];\n\t\t\tvar nodedSegmentStrings = new ArrayList(segStrings.size());\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tnodedSegmentStrings.add(new NodedSegmentString(this.scale(ss.getCoordinates()), ss.getData()));\n\t\t\t}\n\t\t\treturn nodedSegmentStrings;\n\t\t} else if (arguments[0] instanceof Array) {\n\t\t\tlet pts = arguments[0];\n\t\t\tvar roundPts = new Array(pts.length).fill(null);\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\troundPts[i] = new Coordinate(Math.round((pts[i].x - this._offsetX) * this._scaleFactor), Math.round((pts[i].y - this._offsetY) * this._scaleFactor), pts[i].z);\n\t\t\t}\n\t\t\tvar roundPtsNoDup = CoordinateArrays.removeRepeatedPoints(roundPts);\n\t\t\treturn roundPtsNoDup;\n\t\t}\n\t}\n\tisIntegerPrecision() {\n\t\treturn this._scaleFactor === 1.0;\n\t}\n\tgetNodedSubstrings() {\n\t\tvar splitSS = this._noder.getNodedSubstrings();\n\t\tif (this._isScaled) this.rescale(splitSS);\n\t\treturn splitSS;\n\t}\n\tcomputeNodes(inputSegStrings) {\n\t\tvar intSegStrings = inputSegStrings;\n\t\tif (this._isScaled) intSegStrings = this.scale(inputSegStrings);\n\t\tthis._noder.computeNodes(intSegStrings);\n\t}\n\tgetClass() {\n\t\treturn ScaledNoder;\n\t}\n\tget interfaces_() {\n\t\treturn [Noder];\n\t}\n}\nScaledNoder.constructor_ = function () {\n\tthis._noder = null;\n\tthis._scaleFactor = null;\n\tthis._offsetX = null;\n\tthis._offsetY = null;\n\tthis._isScaled = false;\n\tif (arguments.length === 2) {\n\t\tlet noder = arguments[0], scaleFactor = arguments[1];\n\t\tScaledNoder.constructor_.call(this, noder, scaleFactor, 0, 0);\n\t} else if (arguments.length === 4) {\n\t\tlet noder = arguments[0], scaleFactor = arguments[1], offsetX = arguments[2], offsetY = arguments[3];\n\t\tthis._noder = noder;\n\t\tthis._scaleFactor = scaleFactor;\n\t\tthis._isScaled = !this.isIntegerPrecision();\n\t}\n};\n","import TreeSet from '../../../../java/util/TreeSet';\nimport LineString from '../geom/LineString';\nimport hasInterface from '../../../../hasInterface';\nimport MultiPoint from '../geom/MultiPoint';\nimport GeometryGraph from '../geomgraph/GeometryGraph';\nimport GeometryCollection from '../geom/GeometryCollection';\nimport Polygonal from '../geom/Polygonal';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport LinearComponentExtracter from '../geom/util/LinearComponentExtracter';\nimport TreeMap from '../../../../java/util/TreeMap';\nimport MultiLineString from '../geom/MultiLineString';\nexport default class IsSimpleOp {\n\tconstructor() {\n\t\tIsSimpleOp.constructor_.apply(this, arguments);\n\t}\n\tstatic isSimple() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\tvar op = new IsSimpleOp(geom);\n\t\t\treturn op.isSimple();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geom = arguments[0], boundaryNodeRule = arguments[1];\n\t\t\tvar op = new IsSimpleOp(geom, boundaryNodeRule);\n\t\t\treturn op.isSimple();\n\t\t}\n\t}\n\tisSimpleMultiPoint(mp) {\n\t\tif (mp.isEmpty()) return true;\n\t\tvar points = new TreeSet();\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar pt = mp.getGeometryN(i);\n\t\t\tvar p = pt.getCoordinate();\n\t\t\tif (points.contains(p)) {\n\t\t\t\tthis._nonSimpleLocation = p;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tpoints.add(p);\n\t\t}\n\t\treturn true;\n\t}\n\tisSimplePolygonal(geom) {\n\t\tvar rings = LinearComponentExtracter.getLines(geom);\n\t\tfor (var i = rings.iterator(); i.hasNext(); ) {\n\t\t\tvar ring = i.next();\n\t\t\tif (!this.isSimpleLinearGeometry(ring)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\thasClosedEndpointIntersection(graph) {\n\t\tvar endPoints = new TreeMap();\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tvar isClosed = e.isClosed();\n\t\t\tvar p0 = e.getCoordinate(0);\n\t\t\tthis.addEndpoint(endPoints, p0, isClosed);\n\t\t\tvar p1 = e.getCoordinate(e.getNumPoints() - 1);\n\t\t\tthis.addEndpoint(endPoints, p1, isClosed);\n\t\t}\n\t\tfor (var i = endPoints.values().iterator(); i.hasNext(); ) {\n\t\t\tvar eiInfo = i.next();\n\t\t\tif (eiInfo.isClosed && eiInfo.degree !== 2) {\n\t\t\t\tthis._nonSimpleLocation = eiInfo.getCoordinate();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetNonSimpleLocation() {\n\t\treturn this._nonSimpleLocation;\n\t}\n\tisSimpleLinearGeometry(geom) {\n\t\tif (geom.isEmpty()) return true;\n\t\tvar graph = new GeometryGraph(0, geom);\n\t\tvar li = new RobustLineIntersector();\n\t\tvar si = graph.computeSelfNodes(li, true);\n\t\tif (!si.hasIntersection()) return true;\n\t\tif (si.hasProperIntersection()) {\n\t\t\tthis._nonSimpleLocation = si.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tif (this.hasNonEndpointIntersection(graph)) return false;\n\t\tif (this._isClosedEndpointsInInterior) {\n\t\t\tif (this.hasClosedEndpointIntersection(graph)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\thasNonEndpointIntersection(graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar maxSegmentIndex = e.getMaximumSegmentIndex();\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tif (!ei.isEndPoint(maxSegmentIndex)) {\n\t\t\t\t\tthis._nonSimpleLocation = ei.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\taddEndpoint(endPoints, p, isClosed) {\n\t\tvar eiInfo = endPoints.get(p);\n\t\tif (eiInfo === null) {\n\t\t\teiInfo = new EndpointInfo(p);\n\t\t\tendPoints.put(p, eiInfo);\n\t\t}\n\t\teiInfo.addEndpoint(isClosed);\n\t}\n\tcomputeSimple(geom) {\n\t\tthis._nonSimpleLocation = null;\n\t\tif (geom.isEmpty()) return true;\n\t\tif (geom instanceof LineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiLineString) return this.isSimpleLinearGeometry(geom);\n\t\tif (geom instanceof MultiPoint) return this.isSimpleMultiPoint(geom);\n\t\tif (hasInterface(geom, Polygonal)) return this.isSimplePolygonal(geom);\n\t\tif (geom instanceof GeometryCollection) return this.isSimpleGeometryCollection(geom);\n\t\treturn true;\n\t}\n\tisSimple() {\n\t\tthis._nonSimpleLocation = null;\n\t\treturn this.computeSimple(this._inputGeom);\n\t}\n\tisSimpleGeometryCollection(geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.computeSimple(comp)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn IsSimpleOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass EndpointInfo {\n\tconstructor() {\n\t\tEndpointInfo.constructor_.apply(this, arguments);\n\t}\n\taddEndpoint(isClosed) {\n\t\tthis.degree++;\n\t\tthis.isClosed |= isClosed;\n\t}\n\tgetCoordinate() {\n\t\treturn this.pt;\n\t}\n\tgetClass() {\n\t\treturn EndpointInfo;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEndpointInfo.constructor_ = function () {\n\tthis.pt = null;\n\tthis.isClosed = null;\n\tthis.degree = null;\n\tlet pt = arguments[0];\n\tthis.pt = pt;\n\tthis.isClosed = false;\n\tthis.degree = 0;\n};\nIsSimpleOp.EndpointInfo = EndpointInfo;\nIsSimpleOp.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._isClosedEndpointsInInterior = true;\n\tthis._nonSimpleLocation = null;\n\tif (arguments.length === 1) {\n\t\tlet geom = arguments[0];\n\t\tthis._inputGeom = geom;\n\t} else if (arguments.length === 2) {\n\t\tlet geom = arguments[0], boundaryNodeRule = arguments[1];\n\t\tthis._inputGeom = geom;\n\t\tthis._isClosedEndpointsInInterior = !boundaryNodeRule.isInBoundary(2);\n\t}\n};\n","export default class BufferParameters {\n\tconstructor() {\n\t\tBufferParameters.constructor_.apply(this, arguments);\n\t}\n\tstatic bufferDistanceError(quadSegs) {\n\t\tvar alpha = Math.PI / 2.0 / quadSegs;\n\t\treturn 1 - Math.cos(alpha / 2.0);\n\t}\n\tgetEndCapStyle() {\n\t\treturn this._endCapStyle;\n\t}\n\tisSingleSided() {\n\t\treturn this._isSingleSided;\n\t}\n\tsetQuadrantSegments(quadSegs) {\n\t\tthis._quadrantSegments = quadSegs;\n\t\tif (this._quadrantSegments === 0) this._joinStyle = BufferParameters.JOIN_BEVEL;\n\t\tif (this._quadrantSegments < 0) {\n\t\t\tthis._joinStyle = BufferParameters.JOIN_MITRE;\n\t\t\tthis._mitreLimit = Math.abs(this._quadrantSegments);\n\t\t}\n\t\tif (quadSegs <= 0) {\n\t\t\tthis._quadrantSegments = 1;\n\t\t}\n\t\tif (this._joinStyle !== BufferParameters.JOIN_ROUND) {\n\t\t\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\t\t}\n\t}\n\tgetJoinStyle() {\n\t\treturn this._joinStyle;\n\t}\n\tsetJoinStyle(joinStyle) {\n\t\tthis._joinStyle = joinStyle;\n\t}\n\tsetSimplifyFactor(simplifyFactor) {\n\t\tthis._simplifyFactor = simplifyFactor < 0 ? 0 : simplifyFactor;\n\t}\n\tgetSimplifyFactor() {\n\t\treturn this._simplifyFactor;\n\t}\n\tgetQuadrantSegments() {\n\t\treturn this._quadrantSegments;\n\t}\n\tsetEndCapStyle(endCapStyle) {\n\t\tthis._endCapStyle = endCapStyle;\n\t}\n\tgetMitreLimit() {\n\t\treturn this._mitreLimit;\n\t}\n\tsetMitreLimit(mitreLimit) {\n\t\tthis._mitreLimit = mitreLimit;\n\t}\n\tsetSingleSided(isSingleSided) {\n\t\tthis._isSingleSided = isSingleSided;\n\t}\n\tgetClass() {\n\t\treturn BufferParameters;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBufferParameters.constructor_ = function () {\n\tthis._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n\tthis._endCapStyle = BufferParameters.CAP_ROUND;\n\tthis._joinStyle = BufferParameters.JOIN_ROUND;\n\tthis._mitreLimit = BufferParameters.DEFAULT_MITRE_LIMIT;\n\tthis._isSingleSided = false;\n\tthis._simplifyFactor = BufferParameters.DEFAULT_SIMPLIFY_FACTOR;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet quadrantSegments = arguments[0];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t} else if (arguments.length === 2) {\n\t\tlet quadrantSegments = arguments[0], endCapStyle = arguments[1];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t\tthis.setEndCapStyle(endCapStyle);\n\t} else if (arguments.length === 4) {\n\t\tlet quadrantSegments = arguments[0], endCapStyle = arguments[1], joinStyle = arguments[2], mitreLimit = arguments[3];\n\t\tthis.setQuadrantSegments(quadrantSegments);\n\t\tthis.setEndCapStyle(endCapStyle);\n\t\tthis.setJoinStyle(joinStyle);\n\t\tthis.setMitreLimit(mitreLimit);\n\t}\n};\nBufferParameters.CAP_ROUND = 1;\nBufferParameters.CAP_FLAT = 2;\nBufferParameters.CAP_SQUARE = 3;\nBufferParameters.JOIN_ROUND = 1;\nBufferParameters.JOIN_MITRE = 2;\nBufferParameters.JOIN_BEVEL = 3;\nBufferParameters.DEFAULT_QUADRANT_SEGMENTS = 8;\nBufferParameters.DEFAULT_MITRE_LIMIT = 5.0;\nBufferParameters.DEFAULT_SIMPLIFY_FACTOR = 0.01;\n","import Position from '../../geomgraph/Position';\nimport Orientation from '../../algorithm/Orientation';\nimport Assert from '../../util/Assert';\nexport default class RightmostEdgeFinder {\n\tconstructor() {\n\t\tRightmostEdgeFinder.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinate() {\n\t\treturn this._minCoord;\n\t}\n\tgetRightmostSide(de, index) {\n\t\tvar side = this.getRightmostSideOfSegment(de, index);\n\t\tif (side < 0) side = this.getRightmostSideOfSegment(de, index - 1);\n\t\tif (side < 0) {\n\t\t\tthis._minCoord = null;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\treturn side;\n\t}\n\tfindRightmostEdgeAtVertex() {\n\t\tvar pts = this._minDe.getEdge().getCoordinates();\n\t\tAssert.isTrue(this._minIndex > 0 && this._minIndex < pts.length, \"rightmost point expected to be interior vertex of edge\");\n\t\tvar pPrev = pts[this._minIndex - 1];\n\t\tvar pNext = pts[this._minIndex + 1];\n\t\tvar orientation = Orientation.index(this._minCoord, pNext, pPrev);\n\t\tvar usePrev = false;\n\t\tif (pPrev.y < this._minCoord.y && pNext.y < this._minCoord.y && orientation === Orientation.COUNTERCLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t} else if (pPrev.y > this._minCoord.y && pNext.y > this._minCoord.y && orientation === Orientation.CLOCKWISE) {\n\t\t\tusePrev = true;\n\t\t}\n\t\tif (usePrev) {\n\t\t\tthis._minIndex = this._minIndex - 1;\n\t\t}\n\t}\n\tgetRightmostSideOfSegment(de, i) {\n\t\tvar e = de.getEdge();\n\t\tvar coord = e.getCoordinates();\n\t\tif (i < 0 || i + 1 >= coord.length) return -1;\n\t\tif (coord[i].y === coord[i + 1].y) return -1;\n\t\tvar pos = Position.LEFT;\n\t\tif (coord[i].y < coord[i + 1].y) pos = Position.RIGHT;\n\t\treturn pos;\n\t}\n\tgetEdge() {\n\t\treturn this._orientedDe;\n\t}\n\tcheckForRightmostCoordinate(de) {\n\t\tvar coord = de.getEdge().getCoordinates();\n\t\tfor (var i = 0; i < coord.length - 1; i++) {\n\t\t\tif (this._minCoord === null || coord[i].x > this._minCoord.x) {\n\t\t\t\tthis._minDe = de;\n\t\t\t\tthis._minIndex = i;\n\t\t\t\tthis._minCoord = coord[i];\n\t\t\t}\n\t\t}\n\t}\n\tfindRightmostEdgeAtNode() {\n\t\tvar node = this._minDe.getNode();\n\t\tvar star = node.getEdges();\n\t\tthis._minDe = star.getRightmostEdge();\n\t\tif (!this._minDe.isForward()) {\n\t\t\tthis._minDe = this._minDe.getSym();\n\t\t\tthis._minIndex = this._minDe.getEdge().getCoordinates().length - 1;\n\t\t}\n\t}\n\tfindEdge(dirEdgeList) {\n\t\tfor (var i = dirEdgeList.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (!de.isForward()) continue;\n\t\t\tthis.checkForRightmostCoordinate(de);\n\t\t}\n\t\tAssert.isTrue(this._minIndex !== 0 || this._minCoord.equals(this._minDe.getCoordinate()), \"inconsistency in rightmost processing\");\n\t\tif (this._minIndex === 0) {\n\t\t\tthis.findRightmostEdgeAtNode();\n\t\t} else {\n\t\t\tthis.findRightmostEdgeAtVertex();\n\t\t}\n\t\tthis._orientedDe = this._minDe;\n\t\tvar rightmostSide = this.getRightmostSide(this._minDe, this._minIndex);\n\t\tif (rightmostSide === Position.LEFT) {\n\t\t\tthis._orientedDe = this._minDe.getSym();\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn RightmostEdgeFinder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRightmostEdgeFinder.constructor_ = function () {\n\tthis._minIndex = -1;\n\tthis._minCoord = null;\n\tthis._minDe = null;\n\tthis._orientedDe = null;\n};\n","export default function LinkedList () {\n  this.array_ = []\n}\nLinkedList.prototype.addLast = function (e) {\n  this.array_.push(e)\n}\nLinkedList.prototype.removeFirst = function () {\n  return this.array_.shift()\n}\nLinkedList.prototype.isEmpty = function () {\n  return this.array_.length === 0\n}\n","import HashSet from '../../../../../java/util/HashSet';\nimport Position from '../../geomgraph/Position';\nimport Stack from '../../../../../java/util/Stack';\nimport RightmostEdgeFinder from './RightmostEdgeFinder';\nimport TopologyException from '../../geom/TopologyException';\nimport LinkedList from '../../../../../java/util/LinkedList';\nimport Comparable from '../../../../../java/lang/Comparable';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nexport default class BufferSubgraph {\n\tconstructor() {\n\t\tBufferSubgraph.constructor_.apply(this, arguments);\n\t}\n\tclearVisitedEdges() {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tde.setVisited(false);\n\t\t}\n\t}\n\tgetRightmostCoordinate() {\n\t\treturn this._rightMostCoord;\n\t}\n\tcomputeNodeDepth(n) {\n\t\tvar startEdge = null;\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isVisited() || de.getSym().isVisited()) {\n\t\t\t\tstartEdge = de;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (startEdge === null) throw new TopologyException(\"unable to find edge to compute depths at \" + n.getCoordinate());\n\t\tn.getEdges().computeDepths(startEdge);\n\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tde.setVisited(true);\n\t\t\tthis.copySymDepths(de);\n\t\t}\n\t}\n\tcomputeDepth(outsideDepth) {\n\t\tthis.clearVisitedEdges();\n\t\tvar de = this._finder.getEdge();\n\t\tvar n = de.getNode();\n\t\tvar label = de.getLabel();\n\t\tde.setEdgeDepths(Position.RIGHT, outsideDepth);\n\t\tthis.copySymDepths(de);\n\t\tthis.computeDepths(de);\n\t}\n\tcreate(node) {\n\t\tthis.addReachable(node);\n\t\tthis._finder.findEdge(this._dirEdgeList);\n\t\tthis._rightMostCoord = this._finder.getCoordinate();\n\t}\n\tfindResultEdges() {\n\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getDepth(Position.RIGHT) >= 1 && de.getDepth(Position.LEFT) <= 0 && !de.isInteriorAreaEdge()) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t}\n\tcomputeDepths(startEdge) {\n\t\tvar nodesVisited = new HashSet();\n\t\tvar nodeQueue = new LinkedList();\n\t\tvar startNode = startEdge.getNode();\n\t\tnodeQueue.addLast(startNode);\n\t\tnodesVisited.add(startNode);\n\t\tstartEdge.setVisited(true);\n\t\twhile (!nodeQueue.isEmpty()) {\n\t\t\tvar n = nodeQueue.removeFirst();\n\t\t\tnodesVisited.add(n);\n\t\t\tthis.computeNodeDepth(n);\n\t\t\tfor (var i = n.getEdges().iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym.isVisited()) continue;\n\t\t\t\tvar adjNode = sym.getNode();\n\t\t\t\tif (!nodesVisited.contains(adjNode)) {\n\t\t\t\t\tnodeQueue.addLast(adjNode);\n\t\t\t\t\tnodesVisited.add(adjNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcompareTo(o) {\n\t\tvar graph = o;\n\t\tif (this._rightMostCoord.x < graph._rightMostCoord.x) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (this._rightMostCoord.x > graph._rightMostCoord.x) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n\tgetEnvelope() {\n\t\tif (this._env === null) {\n\t\t\tvar edgeEnv = new Envelope();\n\t\t\tfor (var it = this._dirEdgeList.iterator(); it.hasNext(); ) {\n\t\t\t\tvar dirEdge = it.next();\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tedgeEnv.expandToInclude(pts[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._env = edgeEnv;\n\t\t}\n\t\treturn this._env;\n\t}\n\taddReachable(startNode) {\n\t\tvar nodeStack = new Stack();\n\t\tnodeStack.add(startNode);\n\t\twhile (!nodeStack.empty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tthis.add(node, nodeStack);\n\t\t}\n\t}\n\tcopySymDepths(de) {\n\t\tvar sym = de.getSym();\n\t\tsym.setDepth(Position.LEFT, de.getDepth(Position.RIGHT));\n\t\tsym.setDepth(Position.RIGHT, de.getDepth(Position.LEFT));\n\t}\n\tadd(node, nodeStack) {\n\t\tnode.setVisited(true);\n\t\tthis._nodes.add(node);\n\t\tfor (var i = node.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tthis._dirEdgeList.add(de);\n\t\t\tvar sym = de.getSym();\n\t\t\tvar symNode = sym.getNode();\n\t\t\tif (!symNode.isVisited()) nodeStack.push(symNode);\n\t\t}\n\t}\n\tgetNodes() {\n\t\treturn this._nodes;\n\t}\n\tgetDirectedEdges() {\n\t\treturn this._dirEdgeList;\n\t}\n\tgetClass() {\n\t\treturn BufferSubgraph;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nBufferSubgraph.constructor_ = function () {\n\tthis._finder = null;\n\tthis._dirEdgeList = new ArrayList();\n\tthis._nodes = new ArrayList();\n\tthis._rightMostCoord = null;\n\tthis._env = null;\n\tthis._finder = new RightmostEdgeFinder();\n};\n","import Location from '../geom/Location';\nimport Position from './Position';\nimport PointLocation from '../algorithm/PointLocation';\nimport TopologyException from '../geom/TopologyException';\nimport Orientation from '../algorithm/Orientation';\nimport Label from './Label';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Assert from '../util/Assert';\nexport default class EdgeRing {\n\tconstructor() {\n\t\tEdgeRing.constructor_.apply(this, arguments);\n\t}\n\tcomputeRing() {\n\t\tif (this._ring !== null) return null;\n\t\tvar coord = new Array(this._pts.size()).fill(null);\n\t\tfor (var i = 0; i < this._pts.size(); i++) {\n\t\t\tcoord[i] = this._pts.get(i);\n\t\t}\n\t\tthis._ring = this._geometryFactory.createLinearRing(coord);\n\t\tthis._isHole = Orientation.isCCW(this._ring.getCoordinates());\n\t}\n\tisIsolated() {\n\t\treturn this._label.getGeometryCount() === 1;\n\t}\n\tcomputePoints(start) {\n\t\tthis._startDe = start;\n\t\tvar de = start;\n\t\tvar isFirstEdge = true;\n\t\tdo {\n\t\t\tif (de === null) throw new TopologyException(\"Found null DirectedEdge\");\n\t\t\tif (de.getEdgeRing() === this) throw new TopologyException(\"Directed Edge visited twice during ring-building at \" + de.getCoordinate());\n\t\t\tthis._edges.add(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tAssert.isTrue(label.isArea());\n\t\t\tthis.mergeLabel(label);\n\t\t\tthis.addPoints(de.getEdge(), de.isForward(), isFirstEdge);\n\t\t\tisFirstEdge = false;\n\t\t\tthis.setEdgeRing(de, this);\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t}\n\tgetLinearRing() {\n\t\treturn this._ring;\n\t}\n\tgetCoordinate(i) {\n\t\treturn this._pts.get(i);\n\t}\n\tcomputeMaxNodeDegree() {\n\t\tthis._maxNodeDegree = 0;\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tvar degree = node.getEdges().getOutgoingDegree(this);\n\t\t\tif (degree > this._maxNodeDegree) this._maxNodeDegree = degree;\n\t\t\tde = this.getNext(de);\n\t\t} while (de !== this._startDe);\n\t\tthis._maxNodeDegree *= 2;\n\t}\n\taddPoints(edge, isForward, isFirstEdge) {\n\t\tvar edgePts = edge.getCoordinates();\n\t\tif (isForward) {\n\t\t\tvar startIndex = 1;\n\t\t\tif (isFirstEdge) startIndex = 0;\n\t\t\tfor (var i = startIndex; i < edgePts.length; i++) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tvar startIndex = edgePts.length - 2;\n\t\t\tif (isFirstEdge) startIndex = edgePts.length - 1;\n\t\t\tfor (var i = startIndex; i >= 0; i--) {\n\t\t\t\tthis._pts.add(edgePts[i]);\n\t\t\t}\n\t\t}\n\t}\n\tisHole() {\n\t\treturn this._isHole;\n\t}\n\tsetInResult() {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tde.getEdge().setInResult(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t}\n\tcontainsPoint(p) {\n\t\tvar shell = this.getLinearRing();\n\t\tvar env = shell.getEnvelopeInternal();\n\t\tif (!env.contains(p)) return false;\n\t\tif (!PointLocation.isInRing(p, shell.getCoordinates())) return false;\n\t\tfor (var i = this._holes.iterator(); i.hasNext(); ) {\n\t\t\tvar hole = i.next();\n\t\t\tif (hole.containsPoint(p)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\taddHole(ring) {\n\t\tthis._holes.add(ring);\n\t}\n\tisShell() {\n\t\treturn this._shell === null;\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tgetEdges() {\n\t\treturn this._edges;\n\t}\n\tgetMaxNodeDegree() {\n\t\tif (this._maxNodeDegree < 0) this.computeMaxNodeDegree();\n\t\treturn this._maxNodeDegree;\n\t}\n\tgetShell() {\n\t\treturn this._shell;\n\t}\n\tmergeLabel() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet deLabel = arguments[0];\n\t\t\tthis.mergeLabel(deLabel, 0);\n\t\t\tthis.mergeLabel(deLabel, 1);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet deLabel = arguments[0], geomIndex = arguments[1];\n\t\t\tvar loc = deLabel.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (loc === Location.NONE) return null;\n\t\t\tif (this._label.getLocation(geomIndex) === Location.NONE) {\n\t\t\t\tthis._label.setLocation(geomIndex, loc);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tsetShell(shell) {\n\t\tthis._shell = shell;\n\t\tif (shell !== null) shell.addHole(this);\n\t}\n\ttoPolygon(geometryFactory) {\n\t\tvar holeLR = new Array(this._holes.size()).fill(null);\n\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\tholeLR[i] = this._holes.get(i).getLinearRing();\n\t\t}\n\t\tvar poly = geometryFactory.createPolygon(this.getLinearRing(), holeLR);\n\t\treturn poly;\n\t}\n\tgetClass() {\n\t\treturn EdgeRing;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeRing.constructor_ = function () {\n\tthis._startDe = null;\n\tthis._maxNodeDegree = -1;\n\tthis._edges = new ArrayList();\n\tthis._pts = new ArrayList();\n\tthis._label = new Label(Location.NONE);\n\tthis._ring = null;\n\tthis._isHole = null;\n\tthis._shell = null;\n\tthis._holes = new ArrayList();\n\tthis._geometryFactory = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tlet start = arguments[0], geometryFactory = arguments[1];\n\t\tthis._geometryFactory = geometryFactory;\n\t\tthis.computePoints(start);\n\t\tthis.computeRing();\n\t}\n};\n","import EdgeRing from '../../geomgraph/EdgeRing';\nexport default class MinimalEdgeRing extends EdgeRing {\n\tconstructor() {\n\t\tsuper();\n\t\tMinimalEdgeRing.constructor_.apply(this, arguments);\n\t}\n\tsetEdgeRing(de, er) {\n\t\tde.setMinEdgeRing(er);\n\t}\n\tgetNext(de) {\n\t\treturn de.getNextMin();\n\t}\n\tgetClass() {\n\t\treturn MinimalEdgeRing;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMinimalEdgeRing.constructor_ = function () {\n\tlet start = arguments[0], geometryFactory = arguments[1];\n\tEdgeRing.constructor_.call(this, start, geometryFactory);\n};\n","import MinimalEdgeRing from './MinimalEdgeRing';\nimport EdgeRing from '../../geomgraph/EdgeRing';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class MaximalEdgeRing extends EdgeRing {\n\tconstructor() {\n\t\tsuper();\n\t\tMaximalEdgeRing.constructor_.apply(this, arguments);\n\t}\n\tbuildMinimalRings() {\n\t\tvar minEdgeRings = new ArrayList();\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tif (de.getMinEdgeRing() === null) {\n\t\t\t\tvar minEr = new MinimalEdgeRing(de, this._geometryFactory);\n\t\t\t\tminEdgeRings.add(minEr);\n\t\t\t}\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t\treturn minEdgeRings;\n\t}\n\tsetEdgeRing(de, er) {\n\t\tde.setEdgeRing(er);\n\t}\n\tlinkDirectedEdgesForMinimalEdgeRings() {\n\t\tvar de = this._startDe;\n\t\tdo {\n\t\t\tvar node = de.getNode();\n\t\t\tnode.getEdges().linkMinimalDirectedEdges(this);\n\t\t\tde = de.getNext();\n\t\t} while (de !== this._startDe);\n\t}\n\tgetNext(de) {\n\t\treturn de.getNext();\n\t}\n\tgetClass() {\n\t\treturn MaximalEdgeRing;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMaximalEdgeRing.constructor_ = function () {\n\tlet start = arguments[0], geometryFactory = arguments[1];\n\tEdgeRing.constructor_.call(this, start, geometryFactory);\n};\n","import PointLocation from '../../algorithm/PointLocation';\nimport TopologyException from '../../geom/TopologyException';\nimport MaximalEdgeRing from './MaximalEdgeRing';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default class PolygonBuilder {\n\tconstructor() {\n\t\tPolygonBuilder.constructor_.apply(this, arguments);\n\t}\n\tsortShellsAndHoles(edgeRings, shellList, freeHoleList) {\n\t\tfor (var it = edgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\tfreeHoleList.add(er);\n\t\t\t} else {\n\t\t\t\tshellList.add(er);\n\t\t\t}\n\t\t}\n\t}\n\tcomputePolygons(shellList) {\n\t\tvar resultPolyList = new ArrayList();\n\t\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tvar poly = er.toPolygon(this._geometryFactory);\n\t\t\tresultPolyList.add(poly);\n\t\t}\n\t\treturn resultPolyList;\n\t}\n\tplaceFreeHoles(shellList, freeHoleList) {\n\t\tfor (var it = freeHoleList.iterator(); it.hasNext(); ) {\n\t\t\tvar hole = it.next();\n\t\t\tif (hole.getShell() === null) {\n\t\t\t\tvar shell = this.findEdgeRingContaining(hole, shellList);\n\t\t\t\tif (shell === null) throw new TopologyException(\"unable to assign hole to a shell\", hole.getCoordinate(0));\n\t\t\t\thole.setShell(shell);\n\t\t\t}\n\t\t}\n\t}\n\tbuildMinimalEdgeRings(maxEdgeRings, shellList, freeHoleList) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = maxEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.getMaxNodeDegree() > 2) {\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tvar shell = this.findShell(minEdgeRings);\n\t\t\t\tif (shell !== null) {\n\t\t\t\t\tthis.placePolygonHoles(shell, minEdgeRings);\n\t\t\t\t\tshellList.add(shell);\n\t\t\t\t} else {\n\t\t\t\t\tfreeHoleList.addAll(minEdgeRings);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tedgeRings.add(er);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t}\n\tcontainsPoint(p) {\n\t\tfor (var it = this._shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.containsPoint(p)) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tbuildMaximalEdgeRings(dirEdges) {\n\t\tvar maxEdgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getLabel().isArea()) {\n\t\t\t\tif (de.getEdgeRing() === null) {\n\t\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\t\tmaxEdgeRings.add(er);\n\t\t\t\t\ter.setInResult();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn maxEdgeRings;\n\t}\n\tplacePolygonHoles(shell, minEdgeRings) {\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (er.isHole()) {\n\t\t\t\ter.setShell(shell);\n\t\t\t}\n\t\t}\n\t}\n\tgetPolygons() {\n\t\tvar resultPolyList = this.computePolygons(this._shellList);\n\t\treturn resultPolyList;\n\t}\n\tfindEdgeRingContaining(testEr, shellList) {\n\t\tvar testRing = testEr.getLinearRing();\n\t\tvar testEnv = testRing.getEnvelopeInternal();\n\t\tvar testPt = testRing.getCoordinateN(0);\n\t\tvar minShell = null;\n\t\tvar minEnv = null;\n\t\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar tryShell = it.next();\n\t\t\tvar tryRing = tryShell.getLinearRing();\n\t\t\tvar tryEnv = tryRing.getEnvelopeInternal();\n\t\t\tif (minShell !== null) minEnv = minShell.getLinearRing().getEnvelopeInternal();\n\t\t\tvar isContained = false;\n\t\t\tif (tryEnv.contains(testEnv) && PointLocation.isInRing(testPt, tryRing.getCoordinates())) isContained = true;\n\t\t\tif (isContained) {\n\t\t\t\tif (minShell === null || minEnv.contains(tryEnv)) {\n\t\t\t\t\tminShell = tryShell;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn minShell;\n\t}\n\tfindShell(minEdgeRings) {\n\t\tvar shellCount = 0;\n\t\tvar shell = null;\n\t\tfor (var it = minEdgeRings.iterator(); it.hasNext(); ) {\n\t\t\tvar er = it.next();\n\t\t\tif (!er.isHole()) {\n\t\t\t\tshell = er;\n\t\t\t\tshellCount++;\n\t\t\t}\n\t\t}\n\t\tAssert.isTrue(shellCount <= 1, \"found two shells in MinimalEdgeRing list\");\n\t\treturn shell;\n\t}\n\tadd() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet graph = arguments[0];\n\t\t\tthis.add(graph.getEdgeEnds(), graph.getNodes());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet dirEdges = arguments[0], nodes = arguments[1];\n\t\t\tPlanarGraph.linkResultDirectedEdges(nodes);\n\t\t\tvar maxEdgeRings = this.buildMaximalEdgeRings(dirEdges);\n\t\t\tvar freeHoleList = new ArrayList();\n\t\t\tvar edgeRings = this.buildMinimalEdgeRings(maxEdgeRings, this._shellList, freeHoleList);\n\t\t\tthis.sortShellsAndHoles(edgeRings, this._shellList, freeHoleList);\n\t\t\tthis.placeFreeHoles(this._shellList, freeHoleList);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn PolygonBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPolygonBuilder.constructor_ = function () {\n\tthis._geometryFactory = null;\n\tthis._shellList = new ArrayList();\n\tlet geometryFactory = arguments[0];\n\tthis._geometryFactory = geometryFactory;\n};\n","import CoordinateList from '../../geom/CoordinateList';\nimport Orientation from '../../algorithm/Orientation';\nimport Distance from '../../algorithm/Distance';\nexport default class BufferInputLineSimplifier {\n\tconstructor() {\n\t\tBufferInputLineSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(inputLine, distanceTol) {\n\t\tvar simp = new BufferInputLineSimplifier(inputLine);\n\t\treturn simp.simplify(distanceTol);\n\t}\n\tisDeletable(i0, i1, i2, distanceTol) {\n\t\tvar p0 = this._inputLine[i0];\n\t\tvar p1 = this._inputLine[i1];\n\t\tvar p2 = this._inputLine[i2];\n\t\tif (!this.isConcave(p0, p1, p2)) return false;\n\t\tif (!this.isShallow(p0, p1, p2, distanceTol)) return false;\n\t\treturn this.isShallowSampled(p0, p1, i0, i2, distanceTol);\n\t}\n\tdeleteShallowConcavities() {\n\t\tvar index = 1;\n\t\tvar maxIndex = this._inputLine.length - 1;\n\t\tvar midIndex = this.findNextNonDeletedIndex(index);\n\t\tvar lastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\tvar isChanged = false;\n\t\twhile (lastIndex < this._inputLine.length) {\n\t\t\tvar isMiddleVertexDeleted = false;\n\t\t\tif (this.isDeletable(index, midIndex, lastIndex, this._distanceTol)) {\n\t\t\t\tthis._isDeleted[midIndex] = BufferInputLineSimplifier.DELETE;\n\t\t\t\tisMiddleVertexDeleted = true;\n\t\t\t\tisChanged = true;\n\t\t\t}\n\t\t\tif (isMiddleVertexDeleted) index = lastIndex; else index = midIndex;\n\t\t\tmidIndex = this.findNextNonDeletedIndex(index);\n\t\t\tlastIndex = this.findNextNonDeletedIndex(midIndex);\n\t\t}\n\t\treturn isChanged;\n\t}\n\tisShallowConcavity(p0, p1, p2, distanceTol) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isAngleToSimplify = orientation === this._angleOrientation;\n\t\tif (!isAngleToSimplify) return false;\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t}\n\tisShallowSampled(p0, p2, i0, i2, distanceTol) {\n\t\tvar inc = Math.trunc((i2 - i0) / BufferInputLineSimplifier.NUM_PTS_TO_CHECK);\n\t\tif (inc <= 0) inc = 1;\n\t\tfor (var i = i0; i < i2; i += inc) {\n\t\t\tif (!this.isShallow(p0, p2, this._inputLine[i], distanceTol)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tisConcave(p0, p1, p2) {\n\t\tvar orientation = Orientation.index(p0, p1, p2);\n\t\tvar isConcave = orientation === this._angleOrientation;\n\t\treturn isConcave;\n\t}\n\tsimplify(distanceTol) {\n\t\tthis._distanceTol = Math.abs(distanceTol);\n\t\tif (distanceTol < 0) this._angleOrientation = Orientation.CLOCKWISE;\n\t\tthis._isDeleted = new Array(this._inputLine.length).fill(null);\n\t\tvar isChanged = false;\n\t\tdo {\n\t\t\tisChanged = this.deleteShallowConcavities();\n\t\t} while (isChanged);\n\t\treturn this.collapseLine();\n\t}\n\tfindNextNonDeletedIndex(index) {\n\t\tvar next = index + 1;\n\t\twhile (next < this._inputLine.length && this._isDeleted[next] === BufferInputLineSimplifier.DELETE) next++;\n\t\treturn next;\n\t}\n\tisShallow(p0, p1, p2, distanceTol) {\n\t\tvar dist = Distance.pointToSegment(p1, p0, p2);\n\t\treturn dist < distanceTol;\n\t}\n\tcollapseLine() {\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._inputLine.length; i++) {\n\t\t\tif (this._isDeleted[i] !== BufferInputLineSimplifier.DELETE) coordList.add(this._inputLine[i]);\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tgetClass() {\n\t\treturn BufferInputLineSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBufferInputLineSimplifier.constructor_ = function () {\n\tthis._inputLine = null;\n\tthis._distanceTol = null;\n\tthis._isDeleted = null;\n\tthis._angleOrientation = Orientation.COUNTERCLOCKWISE;\n\tlet inputLine = arguments[0];\n\tthis._inputLine = inputLine;\n};\nBufferInputLineSimplifier.INIT = 0;\nBufferInputLineSimplifier.DELETE = 1;\nBufferInputLineSimplifier.KEEP = 1;\nBufferInputLineSimplifier.NUM_PTS_TO_CHECK = 10;\n","import GeometryFactory from '../../geom/GeometryFactory';\nimport Coordinate from '../../geom/Coordinate';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class OffsetSegmentString {\n\tconstructor() {\n\t\tOffsetSegmentString.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {\n\t\tvar coord = this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);\n\t\treturn coord;\n\t}\n\tsetPrecisionModel(precisionModel) {\n\t\tthis._precisionModel = precisionModel;\n\t}\n\taddPt(pt) {\n\t\tvar bufPt = new Coordinate(pt);\n\t\tthis._precisionModel.makePrecise(bufPt);\n\t\tif (this.isRedundant(bufPt)) return null;\n\t\tthis._ptList.add(bufPt);\n\t}\n\treverse() {}\n\taddPts(pt, isForward) {\n\t\tif (isForward) {\n\t\t\tfor (var i = 0; i < pt.length; i++) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = pt.length - 1; i >= 0; i--) {\n\t\t\t\tthis.addPt(pt[i]);\n\t\t\t}\n\t\t}\n\t}\n\tisRedundant(pt) {\n\t\tif (this._ptList.size() < 1) return false;\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar ptDist = pt.distance(lastPt);\n\t\tif (ptDist < this._minimimVertexDistance) return true;\n\t\treturn false;\n\t}\n\ttoString() {\n\t\tvar fact = new GeometryFactory();\n\t\tvar line = fact.createLineString(this.getCoordinates());\n\t\treturn line.toString();\n\t}\n\tcloseRing() {\n\t\tif (this._ptList.size() < 1) return null;\n\t\tvar startPt = new Coordinate(this._ptList.get(0));\n\t\tvar lastPt = this._ptList.get(this._ptList.size() - 1);\n\t\tvar last2Pt = null;\n\t\tif (this._ptList.size() >= 2) last2Pt = this._ptList.get(this._ptList.size() - 2);\n\t\tif (startPt.equals(lastPt)) return null;\n\t\tthis._ptList.add(startPt);\n\t}\n\tsetMinimumVertexDistance(minimimVertexDistance) {\n\t\tthis._minimimVertexDistance = minimimVertexDistance;\n\t}\n\tgetClass() {\n\t\treturn OffsetSegmentString;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOffsetSegmentString.constructor_ = function () {\n\tthis._ptList = null;\n\tthis._precisionModel = null;\n\tthis._minimimVertexDistance = 0.0;\n\tthis._ptList = new ArrayList();\n};\nOffsetSegmentString.COORDINATE_ARRAY_TYPE = new Array(0).fill(null);\n","import BufferParameters from './BufferParameters';\nimport NotRepresentableException from '../../algorithm/NotRepresentableException';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport Orientation from '../../algorithm/Orientation';\nimport OffsetSegmentString from './OffsetSegmentString';\nimport LineSegment from '../../geom/LineSegment';\nimport Angle from '../../algorithm/Angle';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport HCoordinate from '../../algorithm/HCoordinate';\nexport default class OffsetSegmentGenerator {\n\tconstructor() {\n\t\tOffsetSegmentGenerator.constructor_.apply(this, arguments);\n\t}\n\taddNextSegment(p, addStartPoint) {\n\t\tthis._s0 = this._s1;\n\t\tthis._s1 = this._s2;\n\t\tthis._s2 = p;\n\t\tthis._seg0.setCoordinates(this._s0, this._s1);\n\t\tthis.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0);\n\t\tthis._seg1.setCoordinates(this._s1, this._s2);\n\t\tthis.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1);\n\t\tif (this._s1.equals(this._s2)) return null;\n\t\tvar orientation = Orientation.index(this._s0, this._s1, this._s2);\n\t\tvar outsideTurn = orientation === Orientation.CLOCKWISE && this._side === Position.LEFT || orientation === Orientation.COUNTERCLOCKWISE && this._side === Position.RIGHT;\n\t\tif (orientation === 0) {\n\t\t\tthis.addCollinear(addStartPoint);\n\t\t} else if (outsideTurn) {\n\t\t\tthis.addOutsideTurn(orientation, addStartPoint);\n\t\t} else {\n\t\t\tthis.addInsideTurn(orientation, addStartPoint);\n\t\t}\n\t}\n\taddLineEndCap(p0, p1) {\n\t\tvar seg = new LineSegment(p0, p1);\n\t\tvar offsetL = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.LEFT, this._distance, offsetL);\n\t\tvar offsetR = new LineSegment();\n\t\tthis.computeOffsetSegment(seg, Position.RIGHT, this._distance, offsetR);\n\t\tvar dx = p1.x - p0.x;\n\t\tvar dy = p1.y - p0.y;\n\t\tvar angle = Math.atan2(dy, dx);\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis.addDirectedFillet(p1, angle + Math.PI / 2, angle - Math.PI / 2, Orientation.CLOCKWISE, this._distance);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_FLAT:\n\t\t\t\tthis._segList.addPt(offsetL.p1);\n\t\t\t\tthis._segList.addPt(offsetR.p1);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tvar squareCapSideOffset = new Coordinate();\n\t\t\t\tsquareCapSideOffset.x = Math.abs(this._distance) * Math.cos(angle);\n\t\t\t\tsquareCapSideOffset.y = Math.abs(this._distance) * Math.sin(angle);\n\t\t\t\tvar squareCapLOffset = new Coordinate(offsetL.p1.x + squareCapSideOffset.x, offsetL.p1.y + squareCapSideOffset.y);\n\t\t\t\tvar squareCapROffset = new Coordinate(offsetR.p1.x + squareCapSideOffset.x, offsetR.p1.y + squareCapSideOffset.y);\n\t\t\t\tthis._segList.addPt(squareCapLOffset);\n\t\t\t\tthis._segList.addPt(squareCapROffset);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tgetCoordinates() {\n\t\tvar pts = this._segList.getCoordinates();\n\t\treturn pts;\n\t}\n\taddMitreJoin(p, offset0, offset1, distance) {\n\t\tvar isMitreWithinLimit = true;\n\t\tvar intPt = null;\n\t\ttry {\n\t\t\tintPt = HCoordinate.intersection(offset0.p0, offset0.p1, offset1.p0, offset1.p1);\n\t\t\tvar mitreRatio = distance <= 0.0 ? 1.0 : intPt.distance(p) / Math.abs(distance);\n\t\t\tif (mitreRatio > this._bufParams.getMitreLimit()) isMitreWithinLimit = false;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof NotRepresentableException) {\n\t\t\t\tintPt = new Coordinate(0, 0);\n\t\t\t\tisMitreWithinLimit = false;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (isMitreWithinLimit) {\n\t\t\tthis._segList.addPt(intPt);\n\t\t} else {\n\t\t\tthis.addLimitedMitreJoin(offset0, offset1, distance, this._bufParams.getMitreLimit());\n\t\t}\n\t}\n\taddOutsideTurn(orientation, addStartPoint) {\n\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR) {\n\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\tthis.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance);\n\t\t} else if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL) {\n\t\t\tthis.addBevelJoin(this._offset0, this._offset1);\n\t\t} else {\n\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, orientation, this._distance);\n\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t}\n\t}\n\tcreateSquare(p) {\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y + this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x + this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y - this._distance));\n\t\tthis._segList.addPt(new Coordinate(p.x - this._distance, p.y + this._distance));\n\t\tthis._segList.closeRing();\n\t}\n\taddSegments(pt, isForward) {\n\t\tthis._segList.addPts(pt, isForward);\n\t}\n\taddFirstSegment() {\n\t\tthis._segList.addPt(this._offset1.p0);\n\t}\n\taddCornerFillet(p, p0, p1, direction, radius) {\n\t\tvar dx0 = p0.x - p.x;\n\t\tvar dy0 = p0.y - p.y;\n\t\tvar startAngle = Math.atan2(dy0, dx0);\n\t\tvar dx1 = p1.x - p.x;\n\t\tvar dy1 = p1.y - p.y;\n\t\tvar endAngle = Math.atan2(dy1, dx1);\n\t\tif (direction === Orientation.CLOCKWISE) {\n\t\t\tif (startAngle <= endAngle) startAngle += 2.0 * Math.PI;\n\t\t} else {\n\t\t\tif (startAngle >= endAngle) startAngle -= 2.0 * Math.PI;\n\t\t}\n\t\tthis._segList.addPt(p0);\n\t\tthis.addDirectedFillet(p, startAngle, endAngle, direction, radius);\n\t\tthis._segList.addPt(p1);\n\t}\n\taddLastSegment() {\n\t\tthis._segList.addPt(this._offset1.p1);\n\t}\n\tinitSideSegments(s1, s2, side) {\n\t\tthis._s1 = s1;\n\t\tthis._s2 = s2;\n\t\tthis._side = side;\n\t\tthis._seg1.setCoordinates(s1, s2);\n\t\tthis.computeOffsetSegment(this._seg1, side, this._distance, this._offset1);\n\t}\n\taddLimitedMitreJoin(offset0, offset1, distance, mitreLimit) {\n\t\tvar basePt = this._seg0.p1;\n\t\tvar ang0 = Angle.angle(basePt, this._seg0.p0);\n\t\tvar ang1 = Angle.angle(basePt, this._seg1.p1);\n\t\tvar angDiff = Angle.angleBetweenOriented(this._seg0.p0, basePt, this._seg1.p1);\n\t\tvar angDiffHalf = angDiff / 2;\n\t\tvar midAng = Angle.normalize(ang0 + angDiffHalf);\n\t\tvar mitreMidAng = Angle.normalize(midAng + Math.PI);\n\t\tvar mitreDist = mitreLimit * distance;\n\t\tvar bevelDelta = mitreDist * Math.abs(Math.sin(angDiffHalf));\n\t\tvar bevelHalfLen = distance - bevelDelta;\n\t\tvar bevelMidX = basePt.x + mitreDist * Math.cos(mitreMidAng);\n\t\tvar bevelMidY = basePt.y + mitreDist * Math.sin(mitreMidAng);\n\t\tvar bevelMidPt = new Coordinate(bevelMidX, bevelMidY);\n\t\tvar mitreMidLine = new LineSegment(basePt, bevelMidPt);\n\t\tvar bevelEndLeft = mitreMidLine.pointAlongOffset(1.0, bevelHalfLen);\n\t\tvar bevelEndRight = mitreMidLine.pointAlongOffset(1.0, -bevelHalfLen);\n\t\tif (this._side === Position.LEFT) {\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t} else {\n\t\t\tthis._segList.addPt(bevelEndRight);\n\t\t\tthis._segList.addPt(bevelEndLeft);\n\t\t}\n\t}\n\taddDirectedFillet(p, startAngle, endAngle, direction, radius) {\n\t\tvar directionFactor = direction === Orientation.CLOCKWISE ? -1 : 1;\n\t\tvar totalAngle = Math.abs(startAngle - endAngle);\n\t\tvar nSegs = Math.trunc(totalAngle / this._filletAngleQuantum + 0.5);\n\t\tif (nSegs < 1) return null;\n\t\tvar initAngle = null, currAngleInc = null;\n\t\tinitAngle = 0.0;\n\t\tcurrAngleInc = totalAngle / nSegs;\n\t\tvar currAngle = initAngle;\n\t\tvar pt = new Coordinate();\n\t\twhile (currAngle < totalAngle) {\n\t\t\tvar angle = startAngle + directionFactor * currAngle;\n\t\t\tpt.x = p.x + radius * Math.cos(angle);\n\t\t\tpt.y = p.y + radius * Math.sin(angle);\n\t\t\tthis._segList.addPt(pt);\n\t\t\tcurrAngle += currAngleInc;\n\t\t}\n\t}\n\tcomputeOffsetSegment(seg, side, distance, offset) {\n\t\tvar sideSign = side === Position.LEFT ? 1 : -1;\n\t\tvar dx = seg.p1.x - seg.p0.x;\n\t\tvar dy = seg.p1.y - seg.p0.y;\n\t\tvar len = Math.sqrt(dx * dx + dy * dy);\n\t\tvar ux = sideSign * distance * dx / len;\n\t\tvar uy = sideSign * distance * dy / len;\n\t\toffset.p0.x = seg.p0.x - uy;\n\t\toffset.p0.y = seg.p0.y + ux;\n\t\toffset.p1.x = seg.p1.x - uy;\n\t\toffset.p1.y = seg.p1.y + ux;\n\t}\n\taddInsideTurn(orientation, addStartPoint) {\n\t\tthis._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis._segList.addPt(this._li.getIntersection(0));\n\t\t} else {\n\t\t\tthis._hasNarrowConcaveAngle = true;\n\t\t\tif (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t} else {\n\t\t\t\tthis._segList.addPt(this._offset0.p1);\n\t\t\t\tif (this._closingSegLengthFactor > 0) {\n\t\t\t\t\tvar mid0 = new Coordinate((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid0);\n\t\t\t\t\tvar mid1 = new Coordinate((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n\t\t\t\t\tthis._segList.addPt(mid1);\n\t\t\t\t} else {\n\t\t\t\t\tthis._segList.addPt(this._s1);\n\t\t\t\t}\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t}\n\t\t}\n\t}\n\tcreateCircle(p) {\n\t\tvar pt = new Coordinate(p.x + this._distance, p.y);\n\t\tthis._segList.addPt(pt);\n\t\tthis.addDirectedFillet(p, 0.0, 2.0 * Math.PI, -1, this._distance);\n\t\tthis._segList.closeRing();\n\t}\n\taddBevelJoin(offset0, offset1) {\n\t\tthis._segList.addPt(offset0.p1);\n\t\tthis._segList.addPt(offset1.p0);\n\t}\n\tinit(distance) {\n\t\tthis._distance = distance;\n\t\tthis._maxCurveSegmentError = distance * (1 - Math.cos(this._filletAngleQuantum / 2.0));\n\t\tthis._segList = new OffsetSegmentString();\n\t\tthis._segList.setPrecisionModel(this._precisionModel);\n\t\tthis._segList.setMinimumVertexDistance(distance * OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);\n\t}\n\taddCollinear(addStartPoint) {\n\t\tthis._li.computeIntersection(this._s0, this._s1, this._s1, this._s2);\n\t\tvar numInt = this._li.getIntersectionNum();\n\t\tif (numInt >= 2) {\n\t\t\tif (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL || this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n\t\t\t\tif (addStartPoint) this._segList.addPt(this._offset0.p1);\n\t\t\t\tthis._segList.addPt(this._offset1.p0);\n\t\t\t} else {\n\t\t\t\tthis.addCornerFillet(this._s1, this._offset0.p1, this._offset1.p0, Orientation.CLOCKWISE, this._distance);\n\t\t\t}\n\t\t}\n\t}\n\tcloseRing() {\n\t\tthis._segList.closeRing();\n\t}\n\thasNarrowConcaveAngle() {\n\t\treturn this._hasNarrowConcaveAngle;\n\t}\n\tgetClass() {\n\t\treturn OffsetSegmentGenerator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOffsetSegmentGenerator.constructor_ = function () {\n\tthis._maxCurveSegmentError = 0.0;\n\tthis._filletAngleQuantum = null;\n\tthis._closingSegLengthFactor = 1;\n\tthis._segList = null;\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tthis._li = null;\n\tthis._s0 = null;\n\tthis._s1 = null;\n\tthis._s2 = null;\n\tthis._seg0 = new LineSegment();\n\tthis._seg1 = new LineSegment();\n\tthis._offset0 = new LineSegment();\n\tthis._offset1 = new LineSegment();\n\tthis._side = 0;\n\tthis._hasNarrowConcaveAngle = false;\n\tlet precisionModel = arguments[0], bufParams = arguments[1], distance = arguments[2];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n\tthis._li = new RobustLineIntersector();\n\tthis._filletAngleQuantum = Math.PI / 2.0 / bufParams.getQuadrantSegments();\n\tif (bufParams.getQuadrantSegments() >= 8 && bufParams.getJoinStyle() === BufferParameters.JOIN_ROUND) this._closingSegLengthFactor = OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR;\n\tthis.init(distance);\n};\nOffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-3;\nOffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR = 1.0E-6;\nOffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR = 80;\n","import BufferParameters from './BufferParameters';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport BufferInputLineSimplifier from './BufferInputLineSimplifier';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport OffsetSegmentGenerator from './OffsetSegmentGenerator';\nexport default class OffsetCurveBuilder {\n\tconstructor() {\n\t\tOffsetCurveBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic copyCoordinates(pts) {\n\t\tvar copy = new Array(pts.length).fill(null);\n\t\tfor (var i = 0; i < copy.length; i++) {\n\t\t\tcopy[i] = new Coordinate(pts[i]);\n\t\t}\n\t\treturn copy;\n\t}\n\tgetOffsetCurve(inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance === 0.0) return null;\n\t\tvar isRightSide = distance < 0.0;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tthis.computeOffsetCurve(inputPts, isRightSide, segGen);\n\t\t}\n\t\tvar curvePts = segGen.getCoordinates();\n\t\tif (isRightSide) CoordinateArrays.reverse(curvePts);\n\t\treturn curvePts;\n\t}\n\tcomputeSingleSidedBufferCurve(inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tsegGen.addSegments(inputPts, true);\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tsegGen.addSegments(inputPts, false);\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.closeRing();\n\t}\n\tcomputeRingBufferCurve(inputPts, side, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (side === Position.RIGHT) distTol = -distTol;\n\t\tvar simp = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n = simp.length - 1;\n\t\tsegGen.initSideSegments(simp[n - 1], simp[0], side);\n\t\tfor (var i = 1; i <= n; i++) {\n\t\t\tvar addStartPoint = i !== 1;\n\t\t\tsegGen.addNextSegment(simp[i], addStartPoint);\n\t\t}\n\t\tsegGen.closeRing();\n\t}\n\tcomputeLineBufferCurve(inputPts, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\tvar n1 = simp1.length - 1;\n\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp1[n1 - 1], simp1[n1]);\n\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\tvar n2 = simp2.length - 1;\n\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t}\n\t\tsegGen.addLastSegment();\n\t\tsegGen.addLineEndCap(simp2[1], simp2[0]);\n\t\tsegGen.closeRing();\n\t}\n\tcomputePointCurve(pt, segGen) {\n\t\tswitch (this._bufParams.getEndCapStyle()) {\n\t\t\tcase BufferParameters.CAP_ROUND:\n\t\t\t\tsegGen.createCircle(pt);\n\t\t\t\tbreak;\n\t\t\tcase BufferParameters.CAP_SQUARE:\n\t\t\t\tsegGen.createSquare(pt);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\tgetLineCurve(inputPts, distance) {\n\t\tthis._distance = distance;\n\t\tif (distance < 0.0 && !this._bufParams.isSingleSided()) return null;\n\t\tif (distance === 0.0) return null;\n\t\tvar posDistance = Math.abs(distance);\n\t\tvar segGen = this.getSegGen(posDistance);\n\t\tif (inputPts.length <= 1) {\n\t\t\tthis.computePointCurve(inputPts[0], segGen);\n\t\t} else {\n\t\t\tif (this._bufParams.isSingleSided()) {\n\t\t\t\tvar isRightSide = distance < 0.0;\n\t\t\t\tthis.computeSingleSidedBufferCurve(inputPts, isRightSide, segGen);\n\t\t\t} else this.computeLineBufferCurve(inputPts, segGen);\n\t\t}\n\t\tvar lineCoord = segGen.getCoordinates();\n\t\treturn lineCoord;\n\t}\n\tgetBufferParameters() {\n\t\treturn this._bufParams;\n\t}\n\tsimplifyTolerance(bufDistance) {\n\t\treturn bufDistance * this._bufParams.getSimplifyFactor();\n\t}\n\tgetRingCurve(inputPts, side, distance) {\n\t\tthis._distance = distance;\n\t\tif (inputPts.length <= 2) return this.getLineCurve(inputPts, distance);\n\t\tif (distance === 0.0) {\n\t\t\treturn OffsetCurveBuilder.copyCoordinates(inputPts);\n\t\t}\n\t\tvar segGen = this.getSegGen(distance);\n\t\tthis.computeRingBufferCurve(inputPts, side, segGen);\n\t\treturn segGen.getCoordinates();\n\t}\n\tcomputeOffsetCurve(inputPts, isRightSide, segGen) {\n\t\tvar distTol = this.simplifyTolerance(this._distance);\n\t\tif (isRightSide) {\n\t\t\tvar simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n\t\t\tvar n2 = simp2.length - 1;\n\t\t\tsegGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = n2 - 2; i >= 0; i--) {\n\t\t\t\tsegGen.addNextSegment(simp2[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tvar simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n\t\t\tvar n1 = simp1.length - 1;\n\t\t\tsegGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n\t\t\tsegGen.addFirstSegment();\n\t\t\tfor (var i = 2; i <= n1; i++) {\n\t\t\t\tsegGen.addNextSegment(simp1[i], true);\n\t\t\t}\n\t\t}\n\t\tsegGen.addLastSegment();\n\t}\n\tgetSegGen(distance) {\n\t\treturn new OffsetSegmentGenerator(this._precisionModel, this._bufParams, distance);\n\t}\n\tgetClass() {\n\t\treturn OffsetCurveBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOffsetCurveBuilder.constructor_ = function () {\n\tthis._distance = 0.0;\n\tthis._precisionModel = null;\n\tthis._bufParams = null;\n\tlet precisionModel = arguments[0], bufParams = arguments[1];\n\tthis._precisionModel = precisionModel;\n\tthis._bufParams = bufParams;\n};\n","import hasInterface from '../../../../../hasInterface';\nimport Position from '../../geomgraph/Position';\nimport Coordinate from '../../geom/Coordinate';\nimport Orientation from '../../algorithm/Orientation';\nimport Collections from '../../../../../java/util/Collections';\nimport DirectedEdge from '../../geomgraph/DirectedEdge';\nimport LineSegment from '../../geom/LineSegment';\nimport Comparable from '../../../../../java/lang/Comparable';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport List from '../../../../../java/util/List';\nexport default class SubgraphDepthLocater {\n\tconstructor() {\n\t\tSubgraphDepthLocater.constructor_.apply(this, arguments);\n\t}\n\tfindStabbedSegments() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet stabbingRayLeftPt = arguments[0];\n\t\t\tvar stabbedSegments = new ArrayList();\n\t\t\tfor (var i = this._subgraphs.iterator(); i.hasNext(); ) {\n\t\t\t\tvar bsg = i.next();\n\t\t\t\tvar env = bsg.getEnvelope();\n\t\t\t\tif (stabbingRayLeftPt.y < env.getMinY() || stabbingRayLeftPt.y > env.getMaxY()) continue;\n\t\t\t\tthis.findStabbedSegments(stabbingRayLeftPt, bsg.getDirectedEdges(), stabbedSegments);\n\t\t\t}\n\t\t\treturn stabbedSegments;\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && arguments[1] instanceof DirectedEdge)) {\n\t\t\t\tlet stabbingRayLeftPt = arguments[0], dirEdge = arguments[1], stabbedSegments = arguments[2];\n\t\t\t\tvar pts = dirEdge.getEdge().getCoordinates();\n\t\t\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\t\t\tthis._seg.p0 = pts[i];\n\t\t\t\t\tthis._seg.p1 = pts[i + 1];\n\t\t\t\t\tif (this._seg.p0.y > this._seg.p1.y) this._seg.reverse();\n\t\t\t\t\tvar maxx = Math.max(this._seg.p0.x, this._seg.p1.x);\n\t\t\t\t\tif (maxx < stabbingRayLeftPt.x) continue;\n\t\t\t\t\tif (this._seg.isHorizontal()) continue;\n\t\t\t\t\tif (stabbingRayLeftPt.y < this._seg.p0.y || stabbingRayLeftPt.y > this._seg.p1.y) continue;\n\t\t\t\t\tif (Orientation.index(this._seg.p0, this._seg.p1, stabbingRayLeftPt) === Orientation.RIGHT) continue;\n\t\t\t\t\tvar depth = dirEdge.getDepth(Position.LEFT);\n\t\t\t\t\tif (!this._seg.p0.equals(pts[i])) depth = dirEdge.getDepth(Position.RIGHT);\n\t\t\t\t\tvar ds = new DepthSegment(this._seg, depth);\n\t\t\t\t\tstabbedSegments.add(ds);\n\t\t\t\t}\n\t\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && hasInterface(arguments[1], List))) {\n\t\t\t\tlet stabbingRayLeftPt = arguments[0], dirEdges = arguments[1], stabbedSegments = arguments[2];\n\t\t\t\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\t\t\t\tvar de = i.next();\n\t\t\t\t\tif (!de.isForward()) continue;\n\t\t\t\t\tthis.findStabbedSegments(stabbingRayLeftPt, de, stabbedSegments);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetDepth(p) {\n\t\tvar stabbedSegments = this.findStabbedSegments(p);\n\t\tif (stabbedSegments.size() === 0) return 0;\n\t\tvar ds = Collections.min(stabbedSegments);\n\t\treturn ds._leftDepth;\n\t}\n\tgetClass() {\n\t\treturn SubgraphDepthLocater;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass DepthSegment {\n\tconstructor() {\n\t\tDepthSegment.constructor_.apply(this, arguments);\n\t}\n\tcompareTo(obj) {\n\t\tvar other = obj;\n\t\tif (this._upwardSeg.minX() >= other._upwardSeg.maxX()) return 1;\n\t\tif (this._upwardSeg.maxX() <= other._upwardSeg.minX()) return -1;\n\t\tvar orientIndex = this._upwardSeg.orientationIndex(other._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\torientIndex = -1 * other._upwardSeg.orientationIndex(this._upwardSeg);\n\t\tif (orientIndex !== 0) return orientIndex;\n\t\treturn this._upwardSeg.compareTo(other._upwardSeg);\n\t}\n\tcompareX(seg0, seg1) {\n\t\tvar compare0 = seg0.p0.compareTo(seg1.p0);\n\t\tif (compare0 !== 0) return compare0;\n\t\treturn seg0.p1.compareTo(seg1.p1);\n\t}\n\ttoString() {\n\t\treturn this._upwardSeg.toString();\n\t}\n\tgetClass() {\n\t\treturn DepthSegment;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nDepthSegment.constructor_ = function () {\n\tthis._upwardSeg = null;\n\tthis._leftDepth = null;\n\tlet seg = arguments[0], depth = arguments[1];\n\tthis._upwardSeg = new LineSegment(seg);\n\tthis._leftDepth = depth;\n};\nSubgraphDepthLocater.DepthSegment = DepthSegment;\nSubgraphDepthLocater.constructor_ = function () {\n\tthis._subgraphs = null;\n\tthis._seg = new LineSegment();\n\tlet subgraphs = arguments[0];\n\tthis._subgraphs = subgraphs;\n};\n","import Location from '../../geom/Location';\nimport LineString from '../../geom/LineString';\nimport Position from '../../geomgraph/Position';\nimport Point from '../../geom/Point';\nimport NodedSegmentString from '../../noding/NodedSegmentString';\nimport Polygon from '../../geom/Polygon';\nimport MultiPoint from '../../geom/MultiPoint';\nimport LinearRing from '../../geom/LinearRing';\nimport Orientation from '../../algorithm/Orientation';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport Label from '../../geomgraph/Label';\nimport GeometryCollection from '../../geom/GeometryCollection';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Distance from '../../algorithm/Distance';\nimport MultiLineString from '../../geom/MultiLineString';\nimport Triangle from '../../geom/Triangle';\nexport default class OffsetCurveSetBuilder {\n\tconstructor() {\n\t\tOffsetCurveSetBuilder.constructor_.apply(this, arguments);\n\t}\n\taddPoint(p) {\n\t\tif (this._distance <= 0.0) return null;\n\t\tvar coord = p.getCoordinates();\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t}\n\taddPolygon(p) {\n\t\tvar offsetDistance = this._distance;\n\t\tvar offsetSide = Position.LEFT;\n\t\tif (this._distance < 0.0) {\n\t\t\toffsetDistance = -this._distance;\n\t\t\toffsetSide = Position.RIGHT;\n\t\t}\n\t\tvar shell = p.getExteriorRing();\n\t\tvar shellCoord = CoordinateArrays.removeRepeatedPoints(shell.getCoordinates());\n\t\tif (this._distance < 0.0 && this.isErodedCompletely(shell, this._distance)) return null;\n\t\tif (this._distance <= 0.0 && shellCoord.length < 3) return null;\n\t\tthis.addPolygonRing(shellCoord, offsetDistance, offsetSide, Location.EXTERIOR, Location.INTERIOR);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holeCoord = CoordinateArrays.removeRepeatedPoints(hole.getCoordinates());\n\t\t\tif (this._distance > 0.0 && this.isErodedCompletely(hole, -this._distance)) continue;\n\t\t\tthis.addPolygonRing(holeCoord, offsetDistance, Position.opposite(offsetSide), Location.INTERIOR, Location.EXTERIOR);\n\t\t}\n\t}\n\tisTriangleErodedCompletely(triangleCoord, bufferDistance) {\n\t\tvar tri = new Triangle(triangleCoord[0], triangleCoord[1], triangleCoord[2]);\n\t\tvar inCentre = tri.inCentre();\n\t\tvar distToCentre = Distance.pointToSegment(inCentre, tri.p0, tri.p1);\n\t\treturn distToCentre < Math.abs(bufferDistance);\n\t}\n\taddLineString(line) {\n\t\tif (this._distance <= 0.0 && !this._curveBuilder.getBufferParameters().isSingleSided()) return null;\n\t\tvar coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tvar curve = this._curveBuilder.getLineCurve(coord, this._distance);\n\t\tthis.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n\t}\n\taddCurve(coord, leftLoc, rightLoc) {\n\t\tif (coord === null || coord.length < 2) return null;\n\t\tvar e = new NodedSegmentString(coord, new Label(0, Location.BOUNDARY, leftLoc, rightLoc));\n\t\tthis._curveList.add(e);\n\t}\n\tgetCurves() {\n\t\tthis.add(this._inputGeom);\n\t\treturn this._curveList;\n\t}\n\taddPolygonRing(coord, offsetDistance, side, cwLeftLoc, cwRightLoc) {\n\t\tif (offsetDistance === 0.0 && coord.length < LinearRing.MINIMUM_VALID_SIZE) return null;\n\t\tvar leftLoc = cwLeftLoc;\n\t\tvar rightLoc = cwRightLoc;\n\t\tif (coord.length >= LinearRing.MINIMUM_VALID_SIZE && Orientation.isCCW(coord)) {\n\t\t\tleftLoc = cwRightLoc;\n\t\t\trightLoc = cwLeftLoc;\n\t\t\tside = Position.opposite(side);\n\t\t}\n\t\tvar curve = this._curveBuilder.getRingCurve(coord, side, offsetDistance);\n\t\tthis.addCurve(curve, leftLoc, rightLoc);\n\t}\n\tadd(g) {\n\t\tif (g.isEmpty()) return null;\n\t\tif (g instanceof Polygon) this.addPolygon(g); else if (g instanceof LineString) this.addLineString(g); else if (g instanceof Point) this.addPoint(g); else if (g instanceof MultiPoint) this.addCollection(g); else if (g instanceof MultiLineString) this.addCollection(g); else if (g instanceof MultiPolygon) this.addCollection(g); else if (g instanceof GeometryCollection) this.addCollection(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t}\n\tisErodedCompletely(ring, bufferDistance) {\n\t\tvar ringCoord = ring.getCoordinates();\n\t\tvar minDiam = 0.0;\n\t\tif (ringCoord.length < 4) return bufferDistance < 0;\n\t\tif (ringCoord.length === 4) return this.isTriangleErodedCompletely(ringCoord, bufferDistance);\n\t\tvar env = ring.getEnvelopeInternal();\n\t\tvar envMinDimension = Math.min(env.getHeight(), env.getWidth());\n\t\tif (bufferDistance < 0.0 && 2 * Math.abs(bufferDistance) > envMinDimension) return true;\n\t\treturn false;\n\t}\n\taddCollection(gc) {\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = gc.getGeometryN(i);\n\t\t\tthis.add(g);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn OffsetCurveSetBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOffsetCurveSetBuilder.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._distance = null;\n\tthis._curveBuilder = null;\n\tthis._curveList = new ArrayList();\n\tlet inputGeom = arguments[0], distance = arguments[1], curveBuilder = arguments[2];\n\tthis._inputGeom = inputGeom;\n\tthis._distance = distance;\n\tthis._curveBuilder = curveBuilder;\n};\n","import StringBuffer from '../../../../java/lang/StringBuffer';\nimport Location from '../geom/Location';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport System from '../../../../java/lang/System';\nimport SimplePointInAreaLocator from '../algorithm/locate/SimplePointInAreaLocator';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Assert from '../util/Assert';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class EdgeEndStar {\n\tconstructor() {\n\t\tEdgeEndStar.constructor_.apply(this, arguments);\n\t}\n\tgetNextCW(ee) {\n\t\tthis.getEdges();\n\t\tvar i = this._edgeList.indexOf(ee);\n\t\tvar iNextCW = i - 1;\n\t\tif (i === 0) iNextCW = this._edgeList.size() - 1;\n\t\treturn this._edgeList.get(iNextCW);\n\t}\n\tpropagateSideLabels(geomIndex) {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.isArea(geomIndex) && label.getLocation(geomIndex, Position.LEFT) !== Location.NONE) startLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (label.getLocation(geomIndex, Position.ON) === Location.NONE) label.setLocation(geomIndex, Position.ON, currLoc);\n\t\t\tif (label.isArea(geomIndex)) {\n\t\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\t\tif (rightLoc !== Location.NONE) {\n\t\t\t\t\tif (rightLoc !== currLoc) throw new TopologyException(\"side location conflict\", e.getCoordinate());\n\t\t\t\t\tif (leftLoc === Location.NONE) {\n\t\t\t\t\t\tAssert.shouldNeverReachHere(\"found single null side (at \" + e.getCoordinate() + \")\");\n\t\t\t\t\t}\n\t\t\t\t\tcurrLoc = leftLoc;\n\t\t\t\t} else {\n\t\t\t\t\tAssert.isTrue(label.getLocation(geomIndex, Position.LEFT) === Location.NONE, \"found single null side\");\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.RIGHT, currLoc);\n\t\t\t\t\tlabel.setLocation(geomIndex, Position.LEFT, currLoc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t}\n\tprint(out) {\n\t\tSystem.out.println(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\te.print(out);\n\t\t}\n\t}\n\tisAreaLabelsConsistent(geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph.getBoundaryNodeRule());\n\t\treturn this.checkAreaLabelsConsistent(0);\n\t}\n\tcheckAreaLabelsConsistent(geomIndex) {\n\t\tvar edges = this.getEdges();\n\t\tif (edges.size() <= 0) return true;\n\t\tvar lastEdgeIndex = edges.size() - 1;\n\t\tvar startLabel = edges.get(lastEdgeIndex).getLabel();\n\t\tvar startLoc = startLabel.getLocation(geomIndex, Position.LEFT);\n\t\tAssert.isTrue(startLoc !== Location.NONE, \"Found unlabelled area edge\");\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tAssert.isTrue(label.isArea(geomIndex), \"Found non-area edge\");\n\t\t\tvar leftLoc = label.getLocation(geomIndex, Position.LEFT);\n\t\t\tvar rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n\t\t\tif (leftLoc === rightLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (rightLoc !== currLoc) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tcurrLoc = leftLoc;\n\t\t}\n\t\treturn true;\n\t}\n\tfindIndex(eSearch) {\n\t\tthis.iterator();\n\t\tfor (var i = 0; i < this._edgeList.size(); i++) {\n\t\t\tvar e = this._edgeList.get(i);\n\t\t\tif (e === eSearch) return i;\n\t\t}\n\t\treturn -1;\n\t}\n\titerator() {\n\t\treturn this.getEdges().iterator();\n\t}\n\tgetEdges() {\n\t\tif (this._edgeList === null) {\n\t\t\tthis._edgeList = new ArrayList(this._edgeMap.values());\n\t\t}\n\t\treturn this._edgeList;\n\t}\n\tgetLocation(geomIndex, p, geom) {\n\t\tif (this._ptInAreaLocation[geomIndex] === Location.NONE) {\n\t\t\tthis._ptInAreaLocation[geomIndex] = SimplePointInAreaLocator.locate(p, geom[geomIndex].getGeometry());\n\t\t}\n\t\treturn this._ptInAreaLocation[geomIndex];\n\t}\n\ttoString() {\n\t\tvar buf = new StringBuffer();\n\t\tbuf.append(\"EdgeEndStar:   \" + this.getCoordinate());\n\t\tbuf.append(\"\\n\");\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tbuf.append(e);\n\t\t\tbuf.append(\"\\n\");\n\t\t}\n\t\treturn buf.toString();\n\t}\n\tcomputeEdgeEndLabels(boundaryNodeRule) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tee.computeLabel(boundaryNodeRule);\n\t\t}\n\t}\n\tcomputeLabelling(geomGraph) {\n\t\tthis.computeEdgeEndLabels(geomGraph[0].getBoundaryNodeRule());\n\t\tthis.propagateSideLabels(0);\n\t\tthis.propagateSideLabels(1);\n\t\tvar hasDimensionalCollapseEdge = [false, false];\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isLine(geomi) && label.getLocation(geomi) === Location.BOUNDARY) hasDimensionalCollapseEdge[geomi] = true;\n\t\t\t}\n\t\t}\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tfor (var geomi = 0; geomi < 2; geomi++) {\n\t\t\t\tif (label.isAnyNull(geomi)) {\n\t\t\t\t\tvar loc = Location.NONE;\n\t\t\t\t\tif (hasDimensionalCollapseEdge[geomi]) {\n\t\t\t\t\t\tloc = Location.EXTERIOR;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar p = e.getCoordinate();\n\t\t\t\t\t\tloc = this.getLocation(geomi, p, geomGraph);\n\t\t\t\t\t}\n\t\t\t\t\tlabel.setAllLocationsIfNull(geomi, loc);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetDegree() {\n\t\treturn this._edgeMap.size();\n\t}\n\tinsertEdgeEnd(e, obj) {\n\t\tthis._edgeMap.put(e, obj);\n\t\tthis._edgeList = null;\n\t}\n\tgetClass() {\n\t\treturn EdgeEndStar;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeEndStar.constructor_ = function () {\n\tthis._edgeMap = new TreeMap();\n\tthis._edgeList = null;\n\tthis._ptInAreaLocation = [Location.NONE, Location.NONE];\n};\n","import Location from '../geom/Location';\nimport Position from './Position';\nimport TopologyException from '../geom/TopologyException';\nimport EdgeEndStar from './EdgeEndStar';\nimport System from '../../../../java/lang/System';\nimport Label from './Label';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from './Quadrant';\nimport Assert from '../util/Assert';\nexport default class DirectedEdgeStar extends EdgeEndStar {\n\tconstructor() {\n\t\tsuper();\n\t\tDirectedEdgeStar.constructor_.apply(this, arguments);\n\t}\n\tlinkResultDirectedEdges() {\n\t\tthis.getResultAreaEdges();\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = 0; i < this._resultAreaEdgeList.size(); i++) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.getLabel().isArea()) continue;\n\t\t\tif (firstOut === null && nextOut.isInResult()) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (!nextIn.isInResult()) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (!nextOut.isInResult()) continue;\n\t\t\t\t\tincoming.setNext(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tif (firstOut === null) throw new TopologyException(\"no outgoing dirEdge found\", this.getCoordinate());\n\t\t\tAssert.isTrue(firstOut.isInResult(), \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNext(firstOut);\n\t\t}\n\t}\n\tinsert(ee) {\n\t\tvar de = ee;\n\t\tthis.insertEdgeEnd(de, de);\n\t}\n\tgetRightmostEdge() {\n\t\tvar edges = this.getEdges();\n\t\tvar size = edges.size();\n\t\tif (size < 1) return null;\n\t\tvar de0 = edges.get(0);\n\t\tif (size === 1) return de0;\n\t\tvar deLast = edges.get(size - 1);\n\t\tvar quad0 = de0.getQuadrant();\n\t\tvar quad1 = deLast.getQuadrant();\n\t\tif (Quadrant.isNorthern(quad0) && Quadrant.isNorthern(quad1)) return de0; else if (!Quadrant.isNorthern(quad0) && !Quadrant.isNorthern(quad1)) return deLast; else {\n\t\t\tvar nonHorizontalEdge = null;\n\t\t\tif (de0.getDy() !== 0) return de0; else if (deLast.getDy() !== 0) return deLast;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"found two horizontal edges incident on node\");\n\t\treturn null;\n\t}\n\tprint(out) {\n\t\tSystem.out.println(\"DirectedEdgeStar: \" + this.getCoordinate());\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tout.print(\"out \");\n\t\t\tde.print(out);\n\t\t\tout.println();\n\t\t\tout.print(\"in \");\n\t\t\tde.getSym().print(out);\n\t\t\tout.println();\n\t\t}\n\t}\n\tgetResultAreaEdges() {\n\t\tif (this._resultAreaEdgeList !== null) return this._resultAreaEdgeList;\n\t\tthis._resultAreaEdgeList = new ArrayList();\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() || de.getSym().isInResult()) this._resultAreaEdgeList.add(de);\n\t\t}\n\t\treturn this._resultAreaEdgeList;\n\t}\n\tupdateLabelling(nodeLabel) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.setAllLocationsIfNull(0, nodeLabel.getLocation(0));\n\t\t\tlabel.setAllLocationsIfNull(1, nodeLabel.getLocation(1));\n\t\t}\n\t}\n\tlinkAllDirectedEdges() {\n\t\tthis.getEdges();\n\t\tvar prevOut = null;\n\t\tvar firstIn = null;\n\t\tfor (var i = this._edgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._edgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstIn === null) firstIn = nextIn;\n\t\t\tif (prevOut !== null) nextIn.setNext(prevOut);\n\t\t\tprevOut = nextOut;\n\t\t}\n\t\tfirstIn.setNext(prevOut);\n\t}\n\tcomputeDepths() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t\tvar edgeIndex = this.findIndex(de);\n\t\t\tvar label = de.getLabel();\n\t\t\tvar startDepth = de.getDepth(Position.LEFT);\n\t\t\tvar targetLastDepth = de.getDepth(Position.RIGHT);\n\t\t\tvar nextDepth = this.computeDepths(edgeIndex + 1, this._edgeList.size(), startDepth);\n\t\t\tvar lastDepth = this.computeDepths(0, edgeIndex, nextDepth);\n\t\t\tif (lastDepth !== targetLastDepth) throw new TopologyException(\"depth mismatch at \" + de.getCoordinate());\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet startIndex = arguments[0], endIndex = arguments[1], startDepth = arguments[2];\n\t\t\tvar currDepth = startDepth;\n\t\t\tfor (var i = startIndex; i < endIndex; i++) {\n\t\t\t\tvar nextDe = this._edgeList.get(i);\n\t\t\t\tvar label = nextDe.getLabel();\n\t\t\t\tnextDe.setEdgeDepths(Position.RIGHT, currDepth);\n\t\t\t\tcurrDepth = nextDe.getDepth(Position.LEFT);\n\t\t\t}\n\t\t\treturn currDepth;\n\t\t}\n\t}\n\tmergeSymLabels() {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tlabel.merge(de.getSym().getLabel());\n\t\t}\n\t}\n\tlinkMinimalDirectedEdges(er) {\n\t\tvar firstOut = null;\n\t\tvar incoming = null;\n\t\tvar state = this._SCANNING_FOR_INCOMING;\n\t\tfor (var i = this._resultAreaEdgeList.size() - 1; i >= 0; i--) {\n\t\t\tvar nextOut = this._resultAreaEdgeList.get(i);\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (firstOut === null && nextOut.getEdgeRing() === er) firstOut = nextOut;\n\t\t\tswitch (state) {\n\t\t\t\tcase this._SCANNING_FOR_INCOMING:\n\t\t\t\t\tif (nextIn.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming = nextIn;\n\t\t\t\t\tstate = this._LINKING_TO_OUTGOING;\n\t\t\t\t\tbreak;\n\t\t\t\tcase this._LINKING_TO_OUTGOING:\n\t\t\t\t\tif (nextOut.getEdgeRing() !== er) continue;\n\t\t\t\t\tincoming.setNextMin(nextOut);\n\t\t\t\t\tstate = this._SCANNING_FOR_INCOMING;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (state === this._LINKING_TO_OUTGOING) {\n\t\t\tAssert.isTrue(firstOut !== null, \"found null for first outgoing dirEdge\");\n\t\t\tAssert.isTrue(firstOut.getEdgeRing() === er, \"unable to link last incoming dirEdge\");\n\t\t\tincoming.setNextMin(firstOut);\n\t\t}\n\t}\n\tgetOutgoingDegree() {\n\t\tif (arguments.length === 0) {\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.isInResult()) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet er = arguments[0];\n\t\t\tvar degree = 0;\n\t\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\t\tvar de = it.next();\n\t\t\t\tif (de.getEdgeRing() === er) degree++;\n\t\t\t}\n\t\t\treturn degree;\n\t\t}\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tfindCoveredLineEdges() {\n\t\tvar startLoc = Location.NONE;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (!nextOut.isLineEdge()) {\n\t\t\t\tif (nextOut.isInResult()) {\n\t\t\t\t\tstartLoc = Location.INTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (nextIn.isInResult()) {\n\t\t\t\t\tstartLoc = Location.EXTERIOR;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (startLoc === Location.NONE) return null;\n\t\tvar currLoc = startLoc;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar nextOut = it.next();\n\t\t\tvar nextIn = nextOut.getSym();\n\t\t\tif (nextOut.isLineEdge()) {\n\t\t\t\tnextOut.getEdge().setCovered(currLoc === Location.INTERIOR);\n\t\t\t} else {\n\t\t\t\tif (nextOut.isInResult()) currLoc = Location.EXTERIOR;\n\t\t\t\tif (nextIn.isInResult()) currLoc = Location.INTERIOR;\n\t\t\t}\n\t\t}\n\t}\n\tcomputeLabelling(geom) {\n\t\tsuper.computeLabelling.call(this, geom);\n\t\tthis._label = new Label(Location.NONE);\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tvar e = ee.getEdge();\n\t\t\tvar eLabel = e.getLabel();\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tvar eLoc = eLabel.getLocation(i);\n\t\t\t\tif (eLoc === Location.INTERIOR || eLoc === Location.BOUNDARY) this._label.setLocation(i, Location.INTERIOR);\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn DirectedEdgeStar;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDirectedEdgeStar.constructor_ = function () {\n\tthis._resultAreaEdgeList = null;\n\tthis._label = null;\n\tthis._SCANNING_FOR_INCOMING = 1;\n\tthis._LINKING_TO_OUTGOING = 2;\n};\n","import DirectedEdgeStar from '../../geomgraph/DirectedEdgeStar';\nimport Node from '../../geomgraph/Node';\nimport NodeFactory from '../../geomgraph/NodeFactory';\nexport default class OverlayNodeFactory extends NodeFactory {\n\tconstructor() {\n\t\tsuper();\n\t\tOverlayNodeFactory.constructor_.apply(this, arguments);\n\t}\n\tcreateNode(coord) {\n\t\treturn new Node(coord, new DirectedEdgeStar());\n\t}\n\tgetClass() {\n\t\treturn OverlayNodeFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOverlayNodeFactory.constructor_ = function () {};\n","import Comparable from '../../../../java/lang/Comparable';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nexport default class OrientedCoordinateArray {\n\tconstructor() {\n\t\tOrientedCoordinateArray.constructor_.apply(this, arguments);\n\t}\n\tstatic orientation(pts) {\n\t\treturn CoordinateArrays.increasingDirection(pts) === 1;\n\t}\n\tstatic compareOriented(pts1, orientation1, pts2, orientation2) {\n\t\tvar dir1 = orientation1 ? 1 : -1;\n\t\tvar dir2 = orientation2 ? 1 : -1;\n\t\tvar limit1 = orientation1 ? pts1.length : -1;\n\t\tvar limit2 = orientation2 ? pts2.length : -1;\n\t\tvar i1 = orientation1 ? 0 : pts1.length - 1;\n\t\tvar i2 = orientation2 ? 0 : pts2.length - 1;\n\t\tvar comp = 0;\n\t\twhile (true) {\n\t\t\tvar compPt = pts1[i1].compareTo(pts2[i2]);\n\t\t\tif (compPt !== 0) return compPt;\n\t\t\ti1 += dir1;\n\t\t\ti2 += dir2;\n\t\t\tvar done1 = i1 === limit1;\n\t\t\tvar done2 = i2 === limit2;\n\t\t\tif (done1 && !done2) return -1;\n\t\t\tif (!done1 && done2) return 1;\n\t\t\tif (done1 && done2) return 0;\n\t\t}\n\t}\n\tcompareTo(o1) {\n\t\tvar oca = o1;\n\t\tvar comp = OrientedCoordinateArray.compareOriented(this._pts, this._orientation, oca._pts, oca._orientation);\n\t\treturn comp;\n\t}\n\tgetClass() {\n\t\treturn OrientedCoordinateArray;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nOrientedCoordinateArray.constructor_ = function () {\n\tthis._pts = null;\n\tthis._orientation = null;\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n\tthis._orientation = OrientedCoordinateArray.orientation(pts);\n};\n","import OrientedCoordinateArray from '../noding/OrientedCoordinateArray';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class EdgeList {\n\tconstructor() {\n\t\tEdgeList.constructor_.apply(this, arguments);\n\t}\n\tprint(out) {\n\t\tout.print(\"MULTILINESTRING ( \");\n\t\tfor (var j = 0; j < this._edges.size(); j++) {\n\t\t\tvar e = this._edges.get(j);\n\t\t\tif (j > 0) out.print(\",\");\n\t\t\tout.print(\"(\");\n\t\t\tvar pts = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\t\tif (i > 0) out.print(\",\");\n\t\t\t\tout.print(pts[i].x + \" \" + pts[i].y);\n\t\t\t}\n\t\t\tout.println(\")\");\n\t\t}\n\t\tout.print(\")  \");\n\t}\n\taddAll(edgeColl) {\n\t\tfor (var i = edgeColl.iterator(); i.hasNext(); ) {\n\t\t\tthis.add(i.next());\n\t\t}\n\t}\n\tfindEdgeIndex(e) {\n\t\tfor (var i = 0; i < this._edges.size(); i++) {\n\t\t\tif (this._edges.get(i).equals(e)) return i;\n\t\t}\n\t\treturn -1;\n\t}\n\titerator() {\n\t\treturn this._edges.iterator();\n\t}\n\tgetEdges() {\n\t\treturn this._edges;\n\t}\n\tget(i) {\n\t\treturn this._edges.get(i);\n\t}\n\tfindEqualEdge(e) {\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tvar matchEdge = this._ocaMap.get(oca);\n\t\treturn matchEdge;\n\t}\n\tadd(e) {\n\t\tthis._edges.add(e);\n\t\tvar oca = new OrientedCoordinateArray(e.getCoordinates());\n\t\tthis._ocaMap.put(oca, e);\n\t}\n\tgetClass() {\n\t\treturn EdgeList;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeList.constructor_ = function () {\n\tthis._edges = new ArrayList();\n\tthis._ocaMap = new TreeMap();\n};\n","export default class SegmentIntersector {\n\tconstructor() {\n\t\tSegmentIntersector.constructor_.apply(this, arguments);\n\t}\n\tprocessIntersections(e0, segIndex0, e1, segIndex1) {}\n\tisDone() {}\n\tgetClass() {\n\t\treturn SegmentIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegmentIntersector.constructor_ = function () {};\n","import SegmentIntersector from './SegmentIntersector';\nexport default class IntersectionAdder {\n\tconstructor() {\n\t\tIntersectionAdder.constructor_.apply(this, arguments);\n\t}\n\tstatic isAdjacentSegments(i1, i2) {\n\t\treturn Math.abs(i1 - i2) === 1;\n\t}\n\tisTrivialIntersection(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1) {\n\t\t\tif (this._li.getIntersectionNum() === 1) {\n\t\t\t\tif (IntersectionAdder.isAdjacentSegments(segIndex0, segIndex1)) return true;\n\t\t\t\tif (e0.isClosed()) {\n\t\t\t\t\tvar maxSegIndex = e0.size() - 1;\n\t\t\t\t\tif (segIndex0 === 0 && segIndex1 === maxSegIndex || segIndex1 === 0 && segIndex0 === maxSegIndex) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetProperIntersectionPoint() {\n\t\treturn this._properIntersectionPoint;\n\t}\n\thasProperInteriorIntersection() {\n\t\treturn this._hasProperInterior;\n\t}\n\tgetLineIntersector() {\n\t\treturn this._li;\n\t}\n\thasProperIntersection() {\n\t\treturn this._hasProper;\n\t}\n\tprocessIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tthis.numTests++;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tthis.numIntersections++;\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis.numInteriorIntersections++;\n\t\t\t\tthis._hasInterior = true;\n\t\t\t}\n\t\t\tif (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t\tif (this._li.isProper()) {\n\t\t\t\t\tthis.numProperIntersections++;\n\t\t\t\t\tthis._hasProper = true;\n\t\t\t\t\tthis._hasProperInterior = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\thasIntersection() {\n\t\treturn this._hasIntersection;\n\t}\n\tisDone() {\n\t\treturn false;\n\t}\n\thasInteriorIntersection() {\n\t\treturn this._hasInterior;\n\t}\n\tgetClass() {\n\t\treturn IntersectionAdder;\n\t}\n\tget interfaces_() {\n\t\treturn [SegmentIntersector];\n\t}\n}\nIntersectionAdder.constructor_ = function () {\n\tthis._hasIntersection = false;\n\tthis._hasProper = false;\n\tthis._hasProperInterior = false;\n\tthis._hasInterior = false;\n\tthis._properIntersectionPoint = null;\n\tthis._li = null;\n\tthis._isSelfIntersection = null;\n\tthis.numIntersections = 0;\n\tthis.numInteriorIntersections = 0;\n\tthis.numProperIntersections = 0;\n\tthis.numTests = 0;\n\tlet li = arguments[0];\n\tthis._li = li;\n};\n","import Location from '../../geom/Location';\nimport BufferSubgraph from './BufferSubgraph';\nimport PolygonBuilder from '../overlay/PolygonBuilder';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Position from '../../geomgraph/Position';\nimport MCIndexNoder from '../../noding/MCIndexNoder';\nimport OffsetCurveBuilder from './OffsetCurveBuilder';\nimport Collections from '../../../../../java/util/Collections';\nimport SubgraphDepthLocater from './SubgraphDepthLocater';\nimport OffsetCurveSetBuilder from './OffsetCurveSetBuilder';\nimport Label from '../../geomgraph/Label';\nimport OverlayNodeFactory from '../overlay/OverlayNodeFactory';\nimport EdgeList from '../../geomgraph/EdgeList';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport IntersectionAdder from '../../noding/IntersectionAdder';\nimport Edge from '../../geomgraph/Edge';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default class BufferBuilder {\n\tconstructor() {\n\t\tBufferBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic depthDelta(label) {\n\t\tvar lLoc = label.getLocation(0, Position.LEFT);\n\t\tvar rLoc = label.getLocation(0, Position.RIGHT);\n\t\tif (lLoc === Location.INTERIOR && rLoc === Location.EXTERIOR) return 1; else if (lLoc === Location.EXTERIOR && rLoc === Location.INTERIOR) return -1;\n\t\treturn 0;\n\t}\n\tstatic convertSegStrings(it) {\n\t\tvar fact = new GeometryFactory();\n\t\tvar lines = new ArrayList();\n\t\twhile (it.hasNext()) {\n\t\t\tvar ss = it.next();\n\t\t\tvar line = fact.createLineString(ss.getCoordinates());\n\t\t\tlines.add(line);\n\t\t}\n\t\treturn fact.buildGeometry(lines);\n\t}\n\tsetWorkingPrecisionModel(pm) {\n\t\tthis._workingPrecisionModel = pm;\n\t}\n\tinsertUniqueEdge(e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t\tvar mergeDelta = BufferBuilder.depthDelta(labelToMerge);\n\t\t\tvar existingDelta = existingEdge.getDepthDelta();\n\t\t\tvar newDelta = existingDelta + mergeDelta;\n\t\t\texistingEdge.setDepthDelta(newDelta);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t\te.setDepthDelta(BufferBuilder.depthDelta(e.getLabel()));\n\t\t}\n\t}\n\tbuildSubgraphs(subgraphList, polyBuilder) {\n\t\tvar processedGraphs = new ArrayList();\n\t\tfor (var i = subgraphList.iterator(); i.hasNext(); ) {\n\t\t\tvar subgraph = i.next();\n\t\t\tvar p = subgraph.getRightmostCoordinate();\n\t\t\tvar locater = new SubgraphDepthLocater(processedGraphs);\n\t\t\tvar outsideDepth = locater.getDepth(p);\n\t\t\tsubgraph.computeDepth(outsideDepth);\n\t\t\tsubgraph.findResultEdges();\n\t\t\tprocessedGraphs.add(subgraph);\n\t\t\tpolyBuilder.add(subgraph.getDirectedEdges(), subgraph.getNodes());\n\t\t}\n\t}\n\tcreateSubgraphs(graph) {\n\t\tvar subgraphList = new ArrayList();\n\t\tfor (var i = graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isVisited()) {\n\t\t\t\tvar subgraph = new BufferSubgraph();\n\t\t\t\tsubgraph.create(node);\n\t\t\t\tsubgraphList.add(subgraph);\n\t\t\t}\n\t\t}\n\t\tCollections.sort(subgraphList, Collections.reverseOrder());\n\t\treturn subgraphList;\n\t}\n\tcreateEmptyResultGeometry() {\n\t\tvar emptyGeom = this._geomFact.createPolygon();\n\t\treturn emptyGeom;\n\t}\n\tgetNoder(precisionModel) {\n\t\tif (this._workingNoder !== null) return this._workingNoder;\n\t\tvar noder = new MCIndexNoder();\n\t\tvar li = new RobustLineIntersector();\n\t\tli.setPrecisionModel(precisionModel);\n\t\tnoder.setSegmentIntersector(new IntersectionAdder(li));\n\t\treturn noder;\n\t}\n\tbuffer(g, distance) {\n\t\tvar precisionModel = this._workingPrecisionModel;\n\t\tif (precisionModel === null) precisionModel = g.getPrecisionModel();\n\t\tthis._geomFact = g.getFactory();\n\t\tvar curveBuilder = new OffsetCurveBuilder(precisionModel, this._bufParams);\n\t\tvar curveSetBuilder = new OffsetCurveSetBuilder(g, distance, curveBuilder);\n\t\tvar bufferSegStrList = curveSetBuilder.getCurves();\n\t\tif (bufferSegStrList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tthis.computeNodedEdges(bufferSegStrList, precisionModel);\n\t\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tvar subgraphList = this.createSubgraphs(this._graph);\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tthis.buildSubgraphs(subgraphList, polyBuilder);\n\t\tvar resultPolyList = polyBuilder.getPolygons();\n\t\tif (resultPolyList.size() <= 0) {\n\t\t\treturn this.createEmptyResultGeometry();\n\t\t}\n\t\tvar resultGeom = this._geomFact.buildGeometry(resultPolyList);\n\t\treturn resultGeom;\n\t}\n\tcomputeNodedEdges(bufferSegStrList, precisionModel) {\n\t\tvar noder = this.getNoder(precisionModel);\n\t\tnoder.computeNodes(bufferSegStrList);\n\t\tvar nodedSegStrings = noder.getNodedSubstrings();\n\t\tfor (var i = nodedSegStrings.iterator(); i.hasNext(); ) {\n\t\t\tvar segStr = i.next();\n\t\t\tvar pts = segStr.getCoordinates();\n\t\t\tif (pts.length === 2 && pts[0].equals2D(pts[1])) continue;\n\t\t\tvar oldLabel = segStr.getData();\n\t\t\tvar edge = new Edge(segStr.getCoordinates(), new Label(oldLabel));\n\t\t\tthis.insertUniqueEdge(edge);\n\t\t}\n\t}\n\tsetNoder(noder) {\n\t\tthis._workingNoder = noder;\n\t}\n\tgetClass() {\n\t\treturn BufferBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBufferBuilder.constructor_ = function () {\n\tthis._bufParams = null;\n\tthis._workingPrecisionModel = null;\n\tthis._workingNoder = null;\n\tthis._geomFact = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tlet bufParams = arguments[0];\n\tthis._bufParams = bufParams;\n};\n","import GeometryFactory from '../geom/GeometryFactory';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport RuntimeException from '../../../../java/lang/RuntimeException';\nexport default class NodingValidator {\n\tconstructor() {\n\t\tNodingValidator.constructor_.apply(this, arguments);\n\t}\n\tcheckEndPtVertexIntersections() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[0], this._segStrings);\n\t\t\t\tthis.checkEndPtVertexIntersections(pts[pts.length - 1], this._segStrings);\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet testPt = arguments[0], segStrings = arguments[1];\n\t\t\tfor (var i = segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tvar pts = ss.getCoordinates();\n\t\t\t\tfor (var j = 1; j < pts.length - 1; j++) {\n\t\t\t\t\tif (pts[j].equals(testPt)) throw new RuntimeException(\"found endpt/interior pt intersection at index \" + j + \" :pt \" + testPt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcheckInteriorIntersections() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss0 = i.next();\n\t\t\t\tfor (var j = this._segStrings.iterator(); j.hasNext(); ) {\n\t\t\t\t\tvar ss1 = j.next();\n\t\t\t\t\tthis.checkInteriorIntersections(ss0, ss1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet ss0 = arguments[0], ss1 = arguments[1];\n\t\t\tvar pts0 = ss0.getCoordinates();\n\t\t\tvar pts1 = ss1.getCoordinates();\n\t\t\tfor (var i0 = 0; i0 < pts0.length - 1; i0++) {\n\t\t\t\tfor (var i1 = 0; i1 < pts1.length - 1; i1++) {\n\t\t\t\t\tthis.checkInteriorIntersections(ss0, i0, ss1, i1);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet e0 = arguments[0], segIndex0 = arguments[1], e1 = arguments[2], segIndex1 = arguments[3];\n\t\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\t\tif (this._li.hasIntersection()) {\n\t\t\t\tif (this._li.isProper() || this.hasInteriorIntersection(this._li, p00, p01) || this.hasInteriorIntersection(this._li, p10, p11)) {\n\t\t\t\t\tthrow new RuntimeException(\"found non-noded intersection at \" + p00 + \"-\" + p01 + \" and \" + p10 + \"-\" + p11);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcheckValid() {\n\t\tthis.checkEndPtVertexIntersections();\n\t\tthis.checkInteriorIntersections();\n\t\tthis.checkCollapses();\n\t}\n\tcheckCollapses() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var i = this._segStrings.iterator(); i.hasNext(); ) {\n\t\t\t\tvar ss = i.next();\n\t\t\t\tthis.checkCollapses(ss);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet ss = arguments[0];\n\t\t\tvar pts = ss.getCoordinates();\n\t\t\tfor (var i = 0; i < pts.length - 2; i++) {\n\t\t\t\tthis.checkCollapse(pts[i], pts[i + 1], pts[i + 2]);\n\t\t\t}\n\t\t}\n\t}\n\thasInteriorIntersection(li, p0, p1) {\n\t\tfor (var i = 0; i < li.getIntersectionNum(); i++) {\n\t\t\tvar intPt = li.getIntersection(i);\n\t\t\tif (!(intPt.equals(p0) || intPt.equals(p1))) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tcheckCollapse(p0, p1, p2) {\n\t\tif (p0.equals(p2)) throw new RuntimeException(\"found non-noded collapse at \" + NodingValidator.fact.createLineString([p0, p1, p2]));\n\t}\n\tgetClass() {\n\t\treturn NodingValidator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNodingValidator.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tlet segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n};\nNodingValidator.fact = new GeometryFactory();\n","import Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Envelope from '../../geom/Envelope';\nimport Assert from '../../util/Assert';\nexport default class HotPixel {\n\tconstructor() {\n\t\tHotPixel.constructor_.apply(this, arguments);\n\t}\n\tintersectsScaled(p0, p1) {\n\t\tvar segMinx = Math.min(p0.x, p1.x);\n\t\tvar segMaxx = Math.max(p0.x, p1.x);\n\t\tvar segMiny = Math.min(p0.y, p1.y);\n\t\tvar segMaxy = Math.max(p0.y, p1.y);\n\t\tvar isOutsidePixelEnv = this._maxx < segMinx || this._minx > segMaxx || this._maxy < segMiny || this._miny > segMaxy;\n\t\tif (isOutsidePixelEnv) return false;\n\t\tvar intersects = this.intersectsToleranceSquare(p0, p1);\n\t\tAssert.isTrue(!(isOutsidePixelEnv && intersects), \"Found bad envelope test\");\n\t\treturn intersects;\n\t}\n\tinitCorners(pt) {\n\t\tvar tolerance = 0.5;\n\t\tthis._minx = pt.x - tolerance;\n\t\tthis._maxx = pt.x + tolerance;\n\t\tthis._miny = pt.y - tolerance;\n\t\tthis._maxy = pt.y + tolerance;\n\t\tthis._corner[0] = new Coordinate(this._maxx, this._maxy);\n\t\tthis._corner[1] = new Coordinate(this._minx, this._maxy);\n\t\tthis._corner[2] = new Coordinate(this._minx, this._miny);\n\t\tthis._corner[3] = new Coordinate(this._maxx, this._miny);\n\t}\n\tintersects(p0, p1) {\n\t\tif (this._scaleFactor === 1.0) return this.intersectsScaled(p0, p1);\n\t\tthis.copyScaled(p0, this._p0Scaled);\n\t\tthis.copyScaled(p1, this._p1Scaled);\n\t\treturn this.intersectsScaled(this._p0Scaled, this._p1Scaled);\n\t}\n\tscale(val) {\n\t\treturn Math.round(val * this._scaleFactor);\n\t}\n\tgetCoordinate() {\n\t\treturn this._originalPt;\n\t}\n\tcopyScaled(p, pScaled) {\n\t\tpScaled.x = this.scale(p.x);\n\t\tpScaled.y = this.scale(p.y);\n\t}\n\tgetSafeEnvelope() {\n\t\tif (this._safeEnv === null) {\n\t\t\tvar safeTolerance = HotPixel.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;\n\t\t\tthis._safeEnv = new Envelope(this._originalPt.x - safeTolerance, this._originalPt.x + safeTolerance, this._originalPt.y - safeTolerance, this._originalPt.y + safeTolerance);\n\t\t}\n\t\treturn this._safeEnv;\n\t}\n\tintersectsPixelClosure(p0, p1) {\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t}\n\tintersectsToleranceSquare(p0, p1) {\n\t\tvar intersectsLeft = false;\n\t\tvar intersectsBottom = false;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n\t\tif (this._li.isProper()) return true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsLeft = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (this._li.hasIntersection()) intersectsBottom = true;\n\t\tthis._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n\t\tif (this._li.isProper()) return true;\n\t\tif (intersectsLeft && intersectsBottom) return true;\n\t\tif (p0.equals(this._pt)) return true;\n\t\tif (p1.equals(this._pt)) return true;\n\t\treturn false;\n\t}\n\taddSnappedNode(segStr, segIndex) {\n\t\tvar p0 = segStr.getCoordinate(segIndex);\n\t\tvar p1 = segStr.getCoordinate(segIndex + 1);\n\t\tif (this.intersects(p0, p1)) {\n\t\t\tsegStr.addIntersection(this.getCoordinate(), segIndex);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn HotPixel;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nHotPixel.constructor_ = function () {\n\tthis._li = null;\n\tthis._pt = null;\n\tthis._originalPt = null;\n\tthis._ptScaled = null;\n\tthis._p0Scaled = null;\n\tthis._p1Scaled = null;\n\tthis._scaleFactor = null;\n\tthis._minx = null;\n\tthis._maxx = null;\n\tthis._miny = null;\n\tthis._maxy = null;\n\tthis._corner = new Array(4).fill(null);\n\tthis._safeEnv = null;\n\tlet pt = arguments[0], scaleFactor = arguments[1], li = arguments[2];\n\tthis._originalPt = pt;\n\tthis._pt = pt;\n\tthis._scaleFactor = scaleFactor;\n\tthis._li = li;\n\tif (scaleFactor <= 0) throw new IllegalArgumentException(\"Scale factor must be non-zero\");\n\tif (scaleFactor !== 1.0) {\n\t\tthis._pt = new Coordinate(this.scale(pt.x), this.scale(pt.y));\n\t\tthis._p0Scaled = new Coordinate();\n\t\tthis._p1Scaled = new Coordinate();\n\t}\n\tthis.initCorners(this._pt);\n};\nHotPixel.SAFE_ENV_EXPANSION_FACTOR = 0.75;\n","import LineSegment from '../../geom/LineSegment';\nexport default class MonotoneChainSelectAction {\n\tconstructor() {\n\t\tMonotoneChainSelectAction.constructor_.apply(this, arguments);\n\t}\n\tselect() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet seg = arguments[0];\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet mc = arguments[0], startIndex = arguments[1];\n\t\t\tmc.getLineSegment(startIndex, this.selectedSegment);\n\t\t\tthis.select(this.selectedSegment);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MonotoneChainSelectAction;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMonotoneChainSelectAction.constructor_ = function () {\n\tthis.selectedSegment = new LineSegment();\n};\n","import MonotoneChainSelectAction from '../../index/chain/MonotoneChainSelectAction';\nimport MonotoneChain from '../../index/chain/MonotoneChain';\nimport ItemVisitor from '../../index/ItemVisitor';\nexport default class MCIndexPointSnapper {\n\tconstructor() {\n\t\tMCIndexPointSnapper.constructor_.apply(this, arguments);\n\t}\n\tsnap() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet hotPixel = arguments[0];\n\t\t\treturn this.snap(hotPixel, null, -1);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet hotPixel = arguments[0], parentEdge = arguments[1], hotPixelVertexIndex = arguments[2];\n\t\t\tvar pixelEnv = hotPixel.getSafeEnvelope();\n\t\t\tvar hotPixelSnapAction = new HotPixelSnapAction(hotPixel, parentEdge, hotPixelVertexIndex);\n\t\t\tthis._index.query(pixelEnv, new (class {\n\t\t\t\tget interfaces_() {\n\t\t\t\t\treturn [ItemVisitor];\n\t\t\t\t}\n\t\t\t\tvisitItem(item) {\n\t\t\t\t\tvar testChain = item;\n\t\t\t\t\ttestChain.select(pixelEnv, hotPixelSnapAction);\n\t\t\t\t}\n\t\t\t})());\n\t\t\treturn hotPixelSnapAction.isNodeAdded();\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MCIndexPointSnapper;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass HotPixelSnapAction extends MonotoneChainSelectAction {\n\tconstructor() {\n\t\tsuper();\n\t\tHotPixelSnapAction.constructor_.apply(this, arguments);\n\t}\n\tisNodeAdded() {\n\t\treturn this._isNodeAdded;\n\t}\n\tselect() {\n\t\tif (arguments.length === 2 && (Number.isInteger(arguments[1]) && arguments[0] instanceof MonotoneChain)) {\n\t\t\tlet mc = arguments[0], startIndex = arguments[1];\n\t\t\tvar ss = mc.getContext();\n\t\t\tif (this._parentEdge !== null) {\n\t\t\t\tif (ss === this._parentEdge && startIndex === this._hotPixelVertexIndex) return null;\n\t\t\t}\n\t\t\tthis._isNodeAdded = this._hotPixel.addSnappedNode(ss, startIndex);\n\t\t} else return super.select.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn HotPixelSnapAction;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nHotPixelSnapAction.constructor_ = function () {\n\tthis._hotPixel = null;\n\tthis._parentEdge = null;\n\tthis._hotPixelVertexIndex = null;\n\tthis._isNodeAdded = false;\n\tlet hotPixel = arguments[0], parentEdge = arguments[1], hotPixelVertexIndex = arguments[2];\n\tthis._hotPixel = hotPixel;\n\tthis._parentEdge = parentEdge;\n\tthis._hotPixelVertexIndex = hotPixelVertexIndex;\n};\nMCIndexPointSnapper.HotPixelSnapAction = HotPixelSnapAction;\nMCIndexPointSnapper.constructor_ = function () {\n\tthis._index = null;\n\tlet index = arguments[0];\n\tthis._index = index;\n};\n","import SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class InteriorIntersectionFinderAdder {\n\tconstructor() {\n\t\tInteriorIntersectionFinderAdder.constructor_.apply(this, arguments);\n\t}\n\tprocessIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tfor (var intIndex = 0; intIndex < this._li.getIntersectionNum(); intIndex++) {\n\t\t\t\t\tthis._interiorIntersections.add(this._li.getIntersection(intIndex));\n\t\t\t\t}\n\t\t\t\te0.addIntersections(this._li, segIndex0, 0);\n\t\t\t\te1.addIntersections(this._li, segIndex1, 1);\n\t\t\t}\n\t\t}\n\t}\n\tisDone() {\n\t\treturn false;\n\t}\n\tgetInteriorIntersections() {\n\t\treturn this._interiorIntersections;\n\t}\n\tgetClass() {\n\t\treturn InteriorIntersectionFinderAdder;\n\t}\n\tget interfaces_() {\n\t\treturn [SegmentIntersector];\n\t}\n}\nInteriorIntersectionFinderAdder.constructor_ = function () {\n\tthis._li = null;\n\tthis._interiorIntersections = null;\n\tlet li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersections = new ArrayList();\n};\n","import NodingValidator from '../NodingValidator';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport Noder from '../Noder';\nimport MCIndexNoder from '../MCIndexNoder';\nimport NodedSegmentString from '../NodedSegmentString';\nimport HotPixel from './HotPixel';\nimport Exception from '../../../../../java/lang/Exception';\nimport MCIndexPointSnapper from './MCIndexPointSnapper';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport InteriorIntersectionFinderAdder from '../InteriorIntersectionFinderAdder';\nexport default class MCIndexSnapRounder {\n\tconstructor() {\n\t\tMCIndexSnapRounder.constructor_.apply(this, arguments);\n\t}\n\tcheckCorrectness(inputSegmentStrings) {\n\t\tvar resultSegStrings = NodedSegmentString.getNodedSubstrings(inputSegmentStrings);\n\t\tvar nv = new NodingValidator(resultSegStrings);\n\t\ttry {\n\t\t\tnv.checkValid();\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tex.printStackTrace();\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t}\n\tgetNodedSubstrings() {\n\t\treturn NodedSegmentString.getNodedSubstrings(this._nodedSegStrings);\n\t}\n\tsnapRound(segStrings, li) {\n\t\tvar intersections = this.findInteriorIntersections(segStrings, li);\n\t\tthis.computeIntersectionSnaps(intersections);\n\t\tthis.computeVertexSnaps(segStrings);\n\t}\n\tfindInteriorIntersections(segStrings, li) {\n\t\tvar intFinderAdder = new InteriorIntersectionFinderAdder(li);\n\t\tthis._noder.setSegmentIntersector(intFinderAdder);\n\t\tthis._noder.computeNodes(segStrings);\n\t\treturn intFinderAdder.getInteriorIntersections();\n\t}\n\tcomputeVertexSnaps() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet edges = arguments[0];\n\t\t\tfor (var i0 = edges.iterator(); i0.hasNext(); ) {\n\t\t\t\tvar edge0 = i0.next();\n\t\t\t\tthis.computeVertexSnaps(edge0);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof NodedSegmentString) {\n\t\t\tlet e = arguments[0];\n\t\t\tvar pts0 = e.getCoordinates();\n\t\t\tfor (var i = 0; i < pts0.length; i++) {\n\t\t\t\tvar hotPixel = new HotPixel(pts0[i], this._scaleFactor, this._li);\n\t\t\t\tvar isNodeAdded = this._pointSnapper.snap(hotPixel, e, i);\n\t\t\t\tif (isNodeAdded) {\n\t\t\t\t\te.addIntersection(pts0[i], i);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcomputeNodes(inputSegmentStrings) {\n\t\tthis._nodedSegStrings = inputSegmentStrings;\n\t\tthis._noder = new MCIndexNoder();\n\t\tthis._pointSnapper = new MCIndexPointSnapper(this._noder.getIndex());\n\t\tthis.snapRound(inputSegmentStrings, this._li);\n\t}\n\tcomputeIntersectionSnaps(snapPts) {\n\t\tfor (var it = snapPts.iterator(); it.hasNext(); ) {\n\t\t\tvar snapPt = it.next();\n\t\t\tvar hotPixel = new HotPixel(snapPt, this._scaleFactor, this._li);\n\t\t\tthis._pointSnapper.snap(hotPixel);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn MCIndexSnapRounder;\n\t}\n\tget interfaces_() {\n\t\treturn [Noder];\n\t}\n}\nMCIndexSnapRounder.constructor_ = function () {\n\tthis._pm = null;\n\tthis._li = null;\n\tthis._scaleFactor = null;\n\tthis._noder = null;\n\tthis._pointSnapper = null;\n\tthis._nodedSegStrings = null;\n\tlet pm = arguments[0];\n\tthis._pm = pm;\n\tthis._li = new RobustLineIntersector();\n\tthis._li.setPrecisionModel(pm);\n\tthis._scaleFactor = pm.getScale();\n};\n","import BufferParameters from './BufferParameters';\nimport Geometry from '../../geom/Geometry';\nimport BufferBuilder from './BufferBuilder';\nimport ScaledNoder from '../../noding/ScaledNoder';\nimport TopologyException from '../../geom/TopologyException';\nimport MathUtil from '../../math/MathUtil';\nimport PrecisionModel from '../../geom/PrecisionModel';\nimport RuntimeException from '../../../../../java/lang/RuntimeException';\nimport MCIndexSnapRounder from '../../noding/snapround/MCIndexSnapRounder';\nexport default class BufferOp {\n\tconstructor() {\n\t\tBufferOp.constructor_.apply(this, arguments);\n\t}\n\tstatic bufferOp() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet g = arguments[0], distance = arguments[1];\n\t\t\tvar gBuf = new BufferOp(g);\n\t\t\tvar geomBuf = gBuf.getResultGeometry(distance);\n\t\t\treturn geomBuf;\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (Number.isInteger(arguments[2]) && (arguments[0] instanceof Geometry && typeof arguments[1] === \"number\")) {\n\t\t\t\tlet g = arguments[0], distance = arguments[1], quadrantSegments = arguments[2];\n\t\t\t\tvar bufOp = new BufferOp(g);\n\t\t\t\tbufOp.setQuadrantSegments(quadrantSegments);\n\t\t\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\t\t\treturn geomBuf;\n\t\t\t} else if (arguments[2] instanceof BufferParameters && (arguments[0] instanceof Geometry && typeof arguments[1] === \"number\")) {\n\t\t\t\tlet g = arguments[0], distance = arguments[1], params = arguments[2];\n\t\t\t\tvar bufOp = new BufferOp(g, params);\n\t\t\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\t\t\treturn geomBuf;\n\t\t\t}\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet g = arguments[0], distance = arguments[1], quadrantSegments = arguments[2], endCapStyle = arguments[3];\n\t\t\tvar bufOp = new BufferOp(g);\n\t\t\tbufOp.setQuadrantSegments(quadrantSegments);\n\t\t\tbufOp.setEndCapStyle(endCapStyle);\n\t\t\tvar geomBuf = bufOp.getResultGeometry(distance);\n\t\t\treturn geomBuf;\n\t\t}\n\t}\n\tstatic precisionScaleFactor(g, distance, maxPrecisionDigits) {\n\t\tvar env = g.getEnvelopeInternal();\n\t\tvar envMax = MathUtil.max(Math.abs(env.getMaxX()), Math.abs(env.getMaxY()), Math.abs(env.getMinX()), Math.abs(env.getMinY()));\n\t\tvar expandByDistance = distance > 0.0 ? distance : 0.0;\n\t\tvar bufEnvMax = envMax + 2 * expandByDistance;\n\t\tvar bufEnvPrecisionDigits = Math.trunc(Math.log(bufEnvMax) / Math.log(10) + 1.0);\n\t\tvar minUnitLog10 = maxPrecisionDigits - bufEnvPrecisionDigits;\n\t\tvar scaleFactor = Math.pow(10.0, minUnitLog10);\n\t\treturn scaleFactor;\n\t}\n\tbufferFixedPrecision(fixedPM) {\n\t\tvar noder = new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1.0)), fixedPM.getScale());\n\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\tbufBuilder.setWorkingPrecisionModel(fixedPM);\n\t\tbufBuilder.setNoder(noder);\n\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t}\n\tbufferReducedPrecision() {\n\t\tif (arguments.length === 0) {\n\t\t\tfor (var precDigits = BufferOp.MAX_PRECISION_DIGITS; precDigits >= 0; precDigits--) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.bufferReducedPrecision(precDigits);\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tif (ex instanceof TopologyException) {\n\t\t\t\t\t\tthis._saveException = ex;\n\t\t\t\t\t} else throw ex;\n\t\t\t\t} finally {}\n\t\t\t\tif (this._resultGeometry !== null) return null;\n\t\t\t}\n\t\t\tthrow this._saveException;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet precisionDigits = arguments[0];\n\t\t\tvar sizeBasedScaleFactor = BufferOp.precisionScaleFactor(this._argGeom, this._distance, precisionDigits);\n\t\t\tvar fixedPM = new PrecisionModel(sizeBasedScaleFactor);\n\t\t\tthis.bufferFixedPrecision(fixedPM);\n\t\t}\n\t}\n\tcomputeGeometry() {\n\t\tthis.bufferOriginalPrecision();\n\t\tif (this._resultGeometry !== null) return null;\n\t\tvar argPM = this._argGeom.getFactory().getPrecisionModel();\n\t\tif (argPM.getType() === PrecisionModel.FIXED) this.bufferFixedPrecision(argPM); else this.bufferReducedPrecision();\n\t}\n\tsetQuadrantSegments(quadrantSegments) {\n\t\tthis._bufParams.setQuadrantSegments(quadrantSegments);\n\t}\n\tbufferOriginalPrecision() {\n\t\ttry {\n\t\t\tvar bufBuilder = new BufferBuilder(this._bufParams);\n\t\t\tthis._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tthis._saveException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t}\n\tgetResultGeometry(distance) {\n\t\tthis._distance = distance;\n\t\tthis.computeGeometry();\n\t\treturn this._resultGeometry;\n\t}\n\tsetEndCapStyle(endCapStyle) {\n\t\tthis._bufParams.setEndCapStyle(endCapStyle);\n\t}\n\tgetClass() {\n\t\treturn BufferOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nBufferOp.constructor_ = function () {\n\tthis._argGeom = null;\n\tthis._distance = null;\n\tthis._bufParams = new BufferParameters();\n\tthis._resultGeometry = null;\n\tthis._saveException = null;\n\tif (arguments.length === 1) {\n\t\tlet g = arguments[0];\n\t\tthis._argGeom = g;\n\t} else if (arguments.length === 2) {\n\t\tlet g = arguments[0], bufParams = arguments[1];\n\t\tthis._argGeom = g;\n\t\tthis._bufParams = bufParams;\n\t}\n};\nBufferOp.CAP_ROUND = BufferParameters.CAP_ROUND;\nBufferOp.CAP_BUTT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_FLAT = BufferParameters.CAP_FLAT;\nBufferOp.CAP_SQUARE = BufferParameters.CAP_SQUARE;\nBufferOp.MAX_PRECISION_DIGITS = 12;\n","import Polygon from '../Polygon';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nexport default class PolygonExtracter {\n\tconstructor() {\n\t\tPolygonExtracter.constructor_.apply(this, arguments);\n\t}\n\tstatic getPolygons() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\treturn PolygonExtracter.getPolygons(geom, new ArrayList());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geom = arguments[0], list = arguments[1];\n\t\t\tif (geom instanceof Polygon) {\n\t\t\t\tlist.add(geom);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tgeom.apply(new PolygonExtracter(list));\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t}\n\tfilter(geom) {\n\t\tif (geom instanceof Polygon) this._comps.add(geom);\n\t}\n\tgetClass() {\n\t\treturn PolygonExtracter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryFilter];\n\t}\n}\nPolygonExtracter.constructor_ = function () {\n\tthis._comps = null;\n\tlet comps = arguments[0];\n\tthis._comps = comps;\n};\n","export default class GeometryLocation {\n\tconstructor() {\n\t\tGeometryLocation.constructor_.apply(this, arguments);\n\t}\n\tisInsideArea() {\n\t\treturn this._segIndex === GeometryLocation.INSIDE_AREA;\n\t}\n\tgetCoordinate() {\n\t\treturn this._pt;\n\t}\n\tgetGeometryComponent() {\n\t\treturn this._component;\n\t}\n\tgetSegmentIndex() {\n\t\treturn this._segIndex;\n\t}\n\tgetClass() {\n\t\treturn GeometryLocation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryLocation.constructor_ = function () {\n\tthis._component = null;\n\tthis._segIndex = null;\n\tthis._pt = null;\n\tif (arguments.length === 2) {\n\t\tlet component = arguments[0], pt = arguments[1];\n\t\tGeometryLocation.constructor_.call(this, component, GeometryLocation.INSIDE_AREA, pt);\n\t} else if (arguments.length === 3) {\n\t\tlet component = arguments[0], segIndex = arguments[1], pt = arguments[2];\n\t\tthis._component = component;\n\t\tthis._segIndex = segIndex;\n\t\tthis._pt = pt;\n\t}\n};\nGeometryLocation.INSIDE_AREA = -1;\n","import Point from '../Point';\nimport Collections from '../../../../../java/util/Collections';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nexport default class PointExtracter {\n\tconstructor() {\n\t\tPointExtracter.constructor_.apply(this, arguments);\n\t}\n\tstatic getPoints() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (geom instanceof Point) {\n\t\t\t\treturn Collections.singletonList(geom);\n\t\t\t}\n\t\t\treturn PointExtracter.getPoints(geom, new ArrayList());\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geom = arguments[0], list = arguments[1];\n\t\t\tif (geom instanceof Point) {\n\t\t\t\tlist.add(geom);\n\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\tgeom.apply(new PointExtracter(list));\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t}\n\tfilter(geom) {\n\t\tif (geom instanceof Point) this._pts.add(geom);\n\t}\n\tgetClass() {\n\t\treturn PointExtracter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryFilter];\n\t}\n}\nPointExtracter.constructor_ = function () {\n\tthis._pts = null;\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n};\n","import LineString from '../../geom/LineString';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport GeometryLocation from './GeometryLocation';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../../geom/GeometryFilter';\nexport default class ConnectedElementLocationFilter {\n\tconstructor() {\n\t\tConnectedElementLocationFilter.constructor_.apply(this, arguments);\n\t}\n\tstatic getLocations(geom) {\n\t\tvar locations = new ArrayList();\n\t\tgeom.apply(new ConnectedElementLocationFilter(locations));\n\t\treturn locations;\n\t}\n\tfilter(geom) {\n\t\tif (geom instanceof Point || geom instanceof LineString || geom instanceof Polygon) this._locations.add(new GeometryLocation(geom, 0, geom.getCoordinate()));\n\t}\n\tgetClass() {\n\t\treturn ConnectedElementLocationFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryFilter];\n\t}\n}\nConnectedElementLocationFilter.constructor_ = function () {\n\tthis._locations = null;\n\tlet locations = arguments[0];\n\tthis._locations = locations;\n};\n","import PointLocator from '../../algorithm/PointLocator';\nimport PolygonExtracter from '../../geom/util/PolygonExtracter';\nimport Location from '../../geom/Location';\nimport LineString from '../../geom/LineString';\nimport hasInterface from '../../../../../hasInterface';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport GeometryLocation from './GeometryLocation';\nimport Double from '../../../../../java/lang/Double';\nimport PointExtracter from '../../geom/util/PointExtracter';\nimport ConnectedElementLocationFilter from './ConnectedElementLocationFilter';\nimport LineSegment from '../../geom/LineSegment';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nimport List from '../../../../../java/util/List';\nimport Distance from '../../algorithm/Distance';\nexport default class DistanceOp {\n\tconstructor() {\n\t\tDistanceOp.constructor_.apply(this, arguments);\n\t}\n\tstatic distance(g0, g1) {\n\t\tvar distOp = new DistanceOp(g0, g1);\n\t\treturn distOp.distance();\n\t}\n\tstatic isWithinDistance(g0, g1, distance) {\n\t\tvar envDist = g0.getEnvelopeInternal().distance(g1.getEnvelopeInternal());\n\t\tif (envDist > distance) return false;\n\t\tvar distOp = new DistanceOp(g0, g1, distance);\n\t\treturn distOp.distance() <= distance;\n\t}\n\tstatic nearestPoints(g0, g1) {\n\t\tvar distOp = new DistanceOp(g0, g1);\n\t\treturn distOp.nearestPoints();\n\t}\n\tcomputeContainmentDistance() {\n\t\tif (arguments.length === 0) {\n\t\t\tvar locPtPoly = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance(0, locPtPoly);\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeContainmentDistance(1, locPtPoly);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet polyGeomIndex = arguments[0], locPtPoly = arguments[1];\n\t\t\tvar polyGeom = this._geom[polyGeomIndex];\n\t\t\tif (polyGeom.getDimension() < 2) return null;\n\t\t\tvar locationsIndex = 1 - polyGeomIndex;\n\t\t\tvar polys = PolygonExtracter.getPolygons(polyGeom);\n\t\t\tif (polys.size() > 0) {\n\t\t\t\tvar insideLocs = ConnectedElementLocationFilter.getLocations(this._geom[locationsIndex]);\n\t\t\t\tthis.computeContainmentDistance(insideLocs, polys, locPtPoly);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) {\n\t\t\t\t\tthis._minDistanceLocation[locationsIndex] = locPtPoly[0];\n\t\t\t\t\tthis._minDistanceLocation[polyGeomIndex] = locPtPoly[1];\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n\t\t\t\tlet locs = arguments[0], polys = arguments[1], locPtPoly = arguments[2];\n\t\t\t\tfor (var i = 0; i < locs.size(); i++) {\n\t\t\t\t\tvar loc = locs.get(i);\n\t\t\t\t\tfor (var j = 0; j < polys.size(); j++) {\n\t\t\t\t\t\tthis.computeContainmentDistance(loc, polys.get(j), locPtPoly);\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && (arguments[0] instanceof GeometryLocation && arguments[1] instanceof Polygon)) {\n\t\t\t\tlet ptLoc = arguments[0], poly = arguments[1], locPtPoly = arguments[2];\n\t\t\t\tvar pt = ptLoc.getCoordinate();\n\t\t\t\tif (Location.EXTERIOR !== this._ptLocator.locate(pt, poly)) {\n\t\t\t\t\tthis._minDistance = 0.0;\n\t\t\t\t\tlocPtPoly[0] = ptLoc;\n\t\t\t\t\tlocPtPoly[1] = new GeometryLocation(poly, pt);\n\t\t\t\t\t;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcomputeMinDistanceLinesPoints(lines, points, locGeom) {\n\t\tfor (var i = 0; i < lines.size(); i++) {\n\t\t\tvar line = lines.get(i);\n\t\t\tfor (var j = 0; j < points.size(); j++) {\n\t\t\t\tvar pt = points.get(j);\n\t\t\t\tthis.computeMinDistance(line, pt, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t}\n\tcomputeFacetDistance() {\n\t\tvar locGeom = new Array(2).fill(null);\n\t\tvar lines0 = LinearComponentExtracter.getLines(this._geom[0]);\n\t\tvar lines1 = LinearComponentExtracter.getLines(this._geom[1]);\n\t\tvar pts0 = PointExtracter.getPoints(this._geom[0]);\n\t\tvar pts1 = PointExtracter.getPoints(this._geom[1]);\n\t\tthis.computeMinDistanceLines(lines0, lines1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistanceLinesPoints(lines1, pts0, locGeom);\n\t\tthis.updateMinDistance(locGeom, true);\n\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\tlocGeom[0] = null;\n\t\tlocGeom[1] = null;\n\t\tthis.computeMinDistancePoints(pts0, pts1, locGeom);\n\t\tthis.updateMinDistance(locGeom, false);\n\t}\n\tnearestLocations() {\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistanceLocation;\n\t}\n\tupdateMinDistance(locGeom, flip) {\n\t\tif (locGeom[0] === null) return null;\n\t\tif (flip) {\n\t\t\tthis._minDistanceLocation[0] = locGeom[1];\n\t\t\tthis._minDistanceLocation[1] = locGeom[0];\n\t\t} else {\n\t\t\tthis._minDistanceLocation[0] = locGeom[0];\n\t\t\tthis._minDistanceLocation[1] = locGeom[1];\n\t\t}\n\t}\n\tnearestPoints() {\n\t\tthis.computeMinDistance();\n\t\tvar nearestPts = [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];\n\t\treturn nearestPts;\n\t}\n\tcomputeMinDistance() {\n\t\tif (arguments.length === 0) {\n\t\t\tif (this._minDistanceLocation !== null) return null;\n\t\t\tthis._minDistanceLocation = new Array(2).fill(null);\n\t\t\tthis.computeContainmentDistance();\n\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\tthis.computeFacetDistance();\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (arguments[2] instanceof Array && (arguments[0] instanceof LineString && arguments[1] instanceof Point)) {\n\t\t\t\tlet line = arguments[0], pt = arguments[1], locGeom = arguments[2];\n\t\t\t\tif (line.getEnvelopeInternal().distance(pt.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line.getCoordinates();\n\t\t\t\tvar coord = pt.getCoordinate();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tvar dist = Distance.pointToSegment(coord, coord0[i], coord0[i + 1]);\n\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\tvar seg = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\tvar segClosestPoint = seg.closestPoint(coord);\n\t\t\t\t\t\tlocGeom[0] = new GeometryLocation(line, i, segClosestPoint);\n\t\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt, 0, coord);\n\t\t\t\t\t}\n\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t}\n\t\t\t} else if (arguments[2] instanceof Array && (arguments[0] instanceof LineString && arguments[1] instanceof LineString)) {\n\t\t\t\tlet line0 = arguments[0], line1 = arguments[1], locGeom = arguments[2];\n\t\t\t\tif (line0.getEnvelopeInternal().distance(line1.getEnvelopeInternal()) > this._minDistance) return null;\n\t\t\t\tvar coord0 = line0.getCoordinates();\n\t\t\t\tvar coord1 = line1.getCoordinates();\n\t\t\t\tfor (var i = 0; i < coord0.length - 1; i++) {\n\t\t\t\t\tfor (var j = 0; j < coord1.length - 1; j++) {\n\t\t\t\t\t\tvar dist = Distance.segmentToSegment(coord0[i], coord0[i + 1], coord1[j], coord1[j + 1]);\n\t\t\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\t\t\tvar seg0 = new LineSegment(coord0[i], coord0[i + 1]);\n\t\t\t\t\t\t\tvar seg1 = new LineSegment(coord1[j], coord1[j + 1]);\n\t\t\t\t\t\t\tvar closestPt = seg0.closestPoints(seg1);\n\t\t\t\t\t\t\tlocGeom[0] = new GeometryLocation(line0, i, closestPt[0]);\n\t\t\t\t\t\t\tlocGeom[1] = new GeometryLocation(line1, j, closestPt[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcomputeMinDistancePoints(points0, points1, locGeom) {\n\t\tfor (var i = 0; i < points0.size(); i++) {\n\t\t\tvar pt0 = points0.get(i);\n\t\t\tfor (var j = 0; j < points1.size(); j++) {\n\t\t\t\tvar pt1 = points1.get(j);\n\t\t\t\tvar dist = pt0.getCoordinate().distance(pt1.getCoordinate());\n\t\t\t\tif (dist < this._minDistance) {\n\t\t\t\t\tthis._minDistance = dist;\n\t\t\t\t\tlocGeom[0] = new GeometryLocation(pt0, 0, pt0.getCoordinate());\n\t\t\t\t\tlocGeom[1] = new GeometryLocation(pt1, 0, pt1.getCoordinate());\n\t\t\t\t}\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t}\n\tdistance() {\n\t\tif (this._geom[0] === null || this._geom[1] === null) throw new IllegalArgumentException(\"null geometries are not supported\");\n\t\tif (this._geom[0].isEmpty() || this._geom[1].isEmpty()) return 0.0;\n\t\tthis.computeMinDistance();\n\t\treturn this._minDistance;\n\t}\n\tcomputeMinDistanceLines(lines0, lines1, locGeom) {\n\t\tfor (var i = 0; i < lines0.size(); i++) {\n\t\t\tvar line0 = lines0.get(i);\n\t\t\tfor (var j = 0; j < lines1.size(); j++) {\n\t\t\t\tvar line1 = lines1.get(j);\n\t\t\t\tthis.computeMinDistance(line0, line1, locGeom);\n\t\t\t\tif (this._minDistance <= this._terminateDistance) return null;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn DistanceOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDistanceOp.constructor_ = function () {\n\tthis._geom = null;\n\tthis._terminateDistance = 0.0;\n\tthis._ptLocator = new PointLocator();\n\tthis._minDistanceLocation = null;\n\tthis._minDistance = Double.MAX_VALUE;\n\tif (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tDistanceOp.constructor_.call(this, g0, g1, 0.0);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], terminateDistance = arguments[2];\n\t\tthis._geom = new Array(2).fill(null);\n\t\tthis._geom[0] = g0;\n\t\tthis._geom[1] = g1;\n\t\tthis._terminateDistance = terminateDistance;\n\t}\n};\n","import CoordinateList from '../../geom/CoordinateList';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class EdgeString {\n\tconstructor() {\n\t\tEdgeString.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {\n\t\tif (this._coordinates === null) {\n\t\t\tvar forwardDirectedEdges = 0;\n\t\t\tvar reverseDirectedEdges = 0;\n\t\t\tvar coordinateList = new CoordinateList();\n\t\t\tfor (var i = this._directedEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar directedEdge = i.next();\n\t\t\t\tif (directedEdge.getEdgeDirection()) {\n\t\t\t\t\tforwardDirectedEdges++;\n\t\t\t\t} else {\n\t\t\t\t\treverseDirectedEdges++;\n\t\t\t\t}\n\t\t\t\tcoordinateList.add(directedEdge.getEdge().getLine().getCoordinates(), false, directedEdge.getEdgeDirection());\n\t\t\t}\n\t\t\tthis._coordinates = coordinateList.toCoordinateArray();\n\t\t\tif (reverseDirectedEdges > forwardDirectedEdges) {\n\t\t\t\tCoordinateArrays.reverse(this._coordinates);\n\t\t\t}\n\t\t}\n\t\treturn this._coordinates;\n\t}\n\ttoLineString() {\n\t\treturn this._factory.createLineString(this.getCoordinates());\n\t}\n\tadd(directedEdge) {\n\t\tthis._directedEdges.add(directedEdge);\n\t}\n\tgetClass() {\n\t\treturn EdgeString;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeString.constructor_ = function () {\n\tthis._factory = null;\n\tthis._directedEdges = new ArrayList();\n\tthis._coordinates = null;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n};\n","export default class GraphComponent {\n\tconstructor() {\n\t\tGraphComponent.constructor_.apply(this, arguments);\n\t}\n\tstatic getComponentWithVisitedState(i, visitedState) {\n\t\twhile (i.hasNext()) {\n\t\t\tvar comp = i.next();\n\t\t\tif (comp.isVisited() === visitedState) return comp;\n\t\t}\n\t\treturn null;\n\t}\n\tstatic setVisited(i, visited) {\n\t\twhile (i.hasNext()) {\n\t\t\tvar comp = i.next();\n\t\t\tcomp.setVisited(visited);\n\t\t}\n\t}\n\tstatic setMarked(i, marked) {\n\t\twhile (i.hasNext()) {\n\t\t\tvar comp = i.next();\n\t\t\tcomp.setMarked(marked);\n\t\t}\n\t}\n\tsetVisited(isVisited) {\n\t\tthis._isVisited = isVisited;\n\t}\n\tisMarked() {\n\t\treturn this._isMarked;\n\t}\n\tsetData(data) {\n\t\tthis._data = data;\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\tsetMarked(isMarked) {\n\t\tthis._isMarked = isMarked;\n\t}\n\tgetContext() {\n\t\treturn this._data;\n\t}\n\tisVisited() {\n\t\treturn this._isVisited;\n\t}\n\tsetContext(data) {\n\t\tthis._data = data;\n\t}\n\tgetClass() {\n\t\treturn GraphComponent;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGraphComponent.constructor_ = function () {\n\tthis._isMarked = false;\n\tthis._isVisited = false;\n\tthis._data = null;\n};\n","import Orientation from '../algorithm/Orientation';\nimport Comparable from '../../../../java/lang/Comparable';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Quadrant from '../geomgraph/Quadrant';\nimport GraphComponent from './GraphComponent';\nexport default class DirectedEdge extends GraphComponent {\n\tconstructor() {\n\t\tsuper();\n\t\tDirectedEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic toEdges(dirEdges) {\n\t\tvar edges = new ArrayList();\n\t\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tedges.add(i.next()._parentEdge);\n\t\t}\n\t\treturn edges;\n\t}\n\tisRemoved() {\n\t\treturn this._parentEdge === null;\n\t}\n\tcompareDirection(e) {\n\t\tif (this._quadrant > e._quadrant) return 1;\n\t\tif (this._quadrant < e._quadrant) return -1;\n\t\treturn Orientation.index(e._p0, e._p1, this._p1);\n\t}\n\tgetCoordinate() {\n\t\treturn this._from.getCoordinate();\n\t}\n\tprint(out) {\n\t\tvar className = this.getClass().getName();\n\t\tvar lastDotPos = className.lastIndexOf('.');\n\t\tvar name = className.substring(lastDotPos + 1);\n\t\tout.print(\"  \" + name + \": \" + this._p0 + \" - \" + this._p1 + \" \" + this._quadrant + \":\" + this._angle);\n\t}\n\tgetDirectionPt() {\n\t\treturn this._p1;\n\t}\n\tgetAngle() {\n\t\treturn this._angle;\n\t}\n\tcompareTo(obj) {\n\t\tvar de = obj;\n\t\treturn this.compareDirection(de);\n\t}\n\tgetFromNode() {\n\t\treturn this._from;\n\t}\n\tgetSym() {\n\t\treturn this._sym;\n\t}\n\tsetEdge(parentEdge) {\n\t\tthis._parentEdge = parentEdge;\n\t}\n\tremove() {\n\t\tthis._sym = null;\n\t\tthis._parentEdge = null;\n\t}\n\tgetEdge() {\n\t\treturn this._parentEdge;\n\t}\n\tgetQuadrant() {\n\t\treturn this._quadrant;\n\t}\n\tsetSym(sym) {\n\t\tthis._sym = sym;\n\t}\n\tgetToNode() {\n\t\treturn this._to;\n\t}\n\tgetEdgeDirection() {\n\t\treturn this._edgeDirection;\n\t}\n\tgetClass() {\n\t\treturn DirectedEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nDirectedEdge.constructor_ = function () {\n\tthis._parentEdge = null;\n\tthis._from = null;\n\tthis._to = null;\n\tthis._p0 = null;\n\tthis._p1 = null;\n\tthis._sym = null;\n\tthis._edgeDirection = null;\n\tthis._quadrant = null;\n\tthis._angle = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 4) {\n\t\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\t\tthis._from = from;\n\t\tthis._to = to;\n\t\tthis._edgeDirection = edgeDirection;\n\t\tthis._p0 = from.getCoordinate();\n\t\tthis._p1 = directionPt;\n\t\tvar dx = this._p1.x - this._p0.x;\n\t\tvar dy = this._p1.y - this._p0.y;\n\t\tthis._quadrant = Quadrant.quadrant(dx, dy);\n\t\tthis._angle = Math.atan2(dy, dx);\n\t}\n};\n","import DirectedEdge from '../../planargraph/DirectedEdge';\nimport Assert from '../../util/Assert';\nexport default class LineMergeDirectedEdge extends DirectedEdge {\n\tconstructor() {\n\t\tsuper();\n\t\tLineMergeDirectedEdge.constructor_.apply(this, arguments);\n\t}\n\tgetNext() {\n\t\tif (this.getToNode().getDegree() !== 2) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.getToNode().getOutEdges().getEdges().get(0) === this.getSym()) {\n\t\t\treturn this.getToNode().getOutEdges().getEdges().get(1);\n\t\t}\n\t\tAssert.isTrue(this.getToNode().getOutEdges().getEdges().get(1) === this.getSym());\n\t\treturn this.getToNode().getOutEdges().getEdges().get(0);\n\t}\n\tgetClass() {\n\t\treturn LineMergeDirectedEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineMergeDirectedEdge.constructor_ = function () {\n\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\tDirectedEdge.constructor_.call(this, from, to, directionPt, edgeDirection);\n};\n","import Node from './Node';\nimport GraphComponent from './GraphComponent';\nexport default class Edge extends GraphComponent {\n\tconstructor() {\n\t\tsuper();\n\t\tEdge.constructor_.apply(this, arguments);\n\t}\n\tisRemoved() {\n\t\treturn this._dirEdge === null;\n\t}\n\tsetDirectedEdges(de0, de1) {\n\t\tthis._dirEdge = [de0, de1];\n\t\tde0.setEdge(this);\n\t\tde1.setEdge(this);\n\t\tde0.setSym(de1);\n\t\tde1.setSym(de0);\n\t\tde0.getFromNode().addOutEdge(de0);\n\t\tde1.getFromNode().addOutEdge(de1);\n\t}\n\tgetDirEdge() {\n\t\tif (Number.isInteger(arguments[0])) {\n\t\t\tlet i = arguments[0];\n\t\t\treturn this._dirEdge[i];\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet fromNode = arguments[0];\n\t\t\tif (this._dirEdge[0].getFromNode() === fromNode) return this._dirEdge[0];\n\t\t\tif (this._dirEdge[1].getFromNode() === fromNode) return this._dirEdge[1];\n\t\t\treturn null;\n\t\t}\n\t}\n\tremove() {\n\t\tthis._dirEdge = null;\n\t}\n\tgetOppositeNode(node) {\n\t\tif (this._dirEdge[0].getFromNode() === node) return this._dirEdge[0].getToNode();\n\t\tif (this._dirEdge[1].getFromNode() === node) return this._dirEdge[1].getToNode();\n\t\treturn null;\n\t}\n\tgetClass() {\n\t\treturn Edge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdge.constructor_ = function () {\n\tthis._dirEdge = null;\n\tif (arguments.length === 0) {} else if (arguments.length === 2) {\n\t\tlet de0 = arguments[0], de1 = arguments[1];\n\t\tthis.setDirectedEdges(de0, de1);\n\t}\n};\n","import Collections from '../../../../java/util/Collections';\nimport DirectedEdge from './DirectedEdge';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Edge from './Edge';\nexport default class DirectedEdgeStar {\n\tconstructor() {\n\t\tDirectedEdgeStar.constructor_.apply(this, arguments);\n\t}\n\tgetNextEdge(dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i + 1));\n\t}\n\tgetCoordinate() {\n\t\tvar it = this.iterator();\n\t\tif (!it.hasNext()) return null;\n\t\tvar e = it.next();\n\t\treturn e.getCoordinate();\n\t}\n\titerator() {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges.iterator();\n\t}\n\tsortEdges() {\n\t\tif (!this._sorted) {\n\t\t\tCollections.sort(this._outEdges);\n\t\t\tthis._sorted = true;\n\t\t}\n\t}\n\tremove(de) {\n\t\tthis._outEdges.remove(de);\n\t}\n\tgetEdges() {\n\t\tthis.sortEdges();\n\t\treturn this._outEdges;\n\t}\n\tgetNextCWEdge(dirEdge) {\n\t\tvar i = this.getIndex(dirEdge);\n\t\treturn this._outEdges.get(this.getIndex(i - 1));\n\t}\n\tgetIndex() {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de.getEdge() === edge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet dirEdge = arguments[0];\n\t\t\tthis.sortEdges();\n\t\t\tfor (var i = 0; i < this._outEdges.size(); i++) {\n\t\t\t\tvar de = this._outEdges.get(i);\n\t\t\t\tif (de === dirEdge) return i;\n\t\t\t}\n\t\t\treturn -1;\n\t\t} else if (Number.isInteger(arguments[0])) {\n\t\t\tlet i = arguments[0];\n\t\t\tvar modi = i % this._outEdges.size();\n\t\t\tif (modi < 0) modi += this._outEdges.size();\n\t\t\treturn modi;\n\t\t}\n\t}\n\tadd(de) {\n\t\tthis._outEdges.add(de);\n\t\tthis._sorted = false;\n\t}\n\tgetDegree() {\n\t\treturn this._outEdges.size();\n\t}\n\tgetClass() {\n\t\treturn DirectedEdgeStar;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDirectedEdgeStar.constructor_ = function () {\n\tthis._outEdges = new ArrayList();\n\tthis._sorted = false;\n};\n","import DirectedEdgeStar from './DirectedEdgeStar';\nimport HashSet from '../../../../java/util/HashSet';\nimport DirectedEdge from './DirectedEdge';\nimport GraphComponent from './GraphComponent';\nexport default class Node extends GraphComponent {\n\tconstructor() {\n\t\tsuper();\n\t\tNode.constructor_.apply(this, arguments);\n\t}\n\tstatic getEdgesBetween(node0, node1) {\n\t\tvar edges0 = DirectedEdge.toEdges(node0.getOutEdges().getEdges());\n\t\tvar commonEdges = new HashSet(edges0);\n\t\tvar edges1 = DirectedEdge.toEdges(node1.getOutEdges().getEdges());\n\t\tcommonEdges.retainAll(edges1);\n\t\treturn commonEdges;\n\t}\n\tisRemoved() {\n\t\treturn this._pt === null;\n\t}\n\taddOutEdge(de) {\n\t\tthis._deStar.add(de);\n\t}\n\tgetCoordinate() {\n\t\treturn this._pt;\n\t}\n\tgetOutEdges() {\n\t\treturn this._deStar;\n\t}\n\tremove() {\n\t\tif (arguments.length === 0) {\n\t\t\tthis._pt = null;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t\tthis._deStar.remove(de);\n\t\t}\n\t}\n\tgetIndex(edge) {\n\t\treturn this._deStar.getIndex(edge);\n\t}\n\tgetDegree() {\n\t\treturn this._deStar.getDegree();\n\t}\n\tgetClass() {\n\t\treturn Node;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNode.constructor_ = function () {\n\tthis._pt = null;\n\tthis._deStar = null;\n\tif (arguments.length === 1) {\n\t\tlet pt = arguments[0];\n\t\tNode.constructor_.call(this, pt, new DirectedEdgeStar());\n\t} else if (arguments.length === 2) {\n\t\tlet pt = arguments[0], deStar = arguments[1];\n\t\tthis._pt = pt;\n\t\tthis._deStar = deStar;\n\t}\n};\n","import Edge from '../../planargraph/Edge';\nexport default class LineMergeEdge extends Edge {\n\tconstructor() {\n\t\tsuper();\n\t\tLineMergeEdge.constructor_.apply(this, arguments);\n\t}\n\tgetLine() {\n\t\treturn this._line;\n\t}\n\tgetClass() {\n\t\treturn LineMergeEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineMergeEdge.constructor_ = function () {\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n};\n","import TreeMap from '../../../../java/util/TreeMap';\nexport default class NodeMap {\n\tconstructor() {\n\t\tNodeMap.constructor_.apply(this, arguments);\n\t}\n\tfind(coord) {\n\t\treturn this._nodeMap.get(coord);\n\t}\n\titerator() {\n\t\treturn this._nodeMap.values().iterator();\n\t}\n\tremove(pt) {\n\t\treturn this._nodeMap.remove(pt);\n\t}\n\tvalues() {\n\t\treturn this._nodeMap.values();\n\t}\n\tadd(n) {\n\t\tthis._nodeMap.put(n.getCoordinate(), n);\n\t\treturn n;\n\t}\n\tgetClass() {\n\t\treturn NodeMap;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nNodeMap.constructor_ = function () {\n\tthis._nodeMap = new TreeMap();\n};\n","import HashSet from '../../../../java/util/HashSet';\nimport Node from './Node';\nimport NodeMap from './NodeMap';\nimport DirectedEdge from './DirectedEdge';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Edge from './Edge';\nexport default class PlanarGraph {\n\tconstructor() {\n\t\tPlanarGraph.constructor_.apply(this, arguments);\n\t}\n\tfindNodesOfDegree(degree) {\n\t\tvar nodesFound = new ArrayList();\n\t\tfor (var i = this.nodeIterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() === degree) nodesFound.add(node);\n\t\t}\n\t\treturn nodesFound;\n\t}\n\tdirEdgeIterator() {\n\t\treturn this._dirEdges.iterator();\n\t}\n\tedgeIterator() {\n\t\treturn this._edges.iterator();\n\t}\n\tremove() {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis.remove(edge.getDirEdge(0));\n\t\t\tthis.remove(edge.getDirEdge(1));\n\t\t\tthis._edges.remove(edge);\n\t\t\tedge.remove();\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet de = arguments[0];\n\t\t\tvar sym = de.getSym();\n\t\t\tif (sym !== null) sym.setSym(null);\n\t\t\tde.getFromNode().remove(de);\n\t\t\tde.remove();\n\t\t\tthis._dirEdges.remove(de);\n\t\t} else if (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\tvar outEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = outEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) this.remove(sym);\n\t\t\t\tthis._dirEdges.remove(de);\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tif (edge !== null) {\n\t\t\t\t\tthis._edges.remove(edge);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._nodeMap.remove(node.getCoordinate());\n\t\t\tnode.remove();\n\t\t}\n\t}\n\tfindNode(pt) {\n\t\treturn this._nodeMap.find(pt);\n\t}\n\tgetEdges() {\n\t\treturn this._edges;\n\t}\n\tnodeIterator() {\n\t\treturn this._nodeMap.iterator();\n\t}\n\tcontains() {\n\t\tif (arguments[0] instanceof Edge) {\n\t\t\tlet e = arguments[0];\n\t\t\treturn this._edges.contains(e);\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet de = arguments[0];\n\t\t\treturn this._dirEdges.contains(de);\n\t\t}\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof Node) {\n\t\t\tlet node = arguments[0];\n\t\t\tthis._nodeMap.add(node);\n\t\t} else if (arguments[0] instanceof Edge) {\n\t\t\tlet edge = arguments[0];\n\t\t\tthis._edges.add(edge);\n\t\t\tthis.add(edge.getDirEdge(0));\n\t\t\tthis.add(edge.getDirEdge(1));\n\t\t} else if (arguments[0] instanceof DirectedEdge) {\n\t\t\tlet dirEdge = arguments[0];\n\t\t\tthis._dirEdges.add(dirEdge);\n\t\t}\n\t}\n\tgetNodes() {\n\t\treturn this._nodeMap.values();\n\t}\n\tgetClass() {\n\t\treturn PlanarGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPlanarGraph.constructor_ = function () {\n\tthis._edges = new HashSet();\n\tthis._dirEdges = new HashSet();\n\tthis._nodeMap = new NodeMap();\n};\n","import LineMergeDirectedEdge from './LineMergeDirectedEdge';\nimport Node from '../../planargraph/Node';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport LineMergeEdge from './LineMergeEdge';\nimport PlanarGraph from '../../planargraph/PlanarGraph';\nexport default class LineMergeGraph extends PlanarGraph {\n\tconstructor() {\n\t\tsuper();\n\t\tLineMergeGraph.constructor_.apply(this, arguments);\n\t}\n\taddEdge(lineString) {\n\t\tif (lineString.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar coordinates = CoordinateArrays.removeRepeatedPoints(lineString.getCoordinates());\n\t\tif (coordinates.length <= 1) return null;\n\t\tvar startCoordinate = coordinates[0];\n\t\tvar endCoordinate = coordinates[coordinates.length - 1];\n\t\tvar startNode = this.getNode(startCoordinate);\n\t\tvar endNode = this.getNode(endCoordinate);\n\t\tvar directedEdge0 = new LineMergeDirectedEdge(startNode, endNode, coordinates[1], true);\n\t\tvar directedEdge1 = new LineMergeDirectedEdge(endNode, startNode, coordinates[coordinates.length - 2], false);\n\t\tvar edge = new LineMergeEdge(lineString);\n\t\tedge.setDirectedEdges(directedEdge0, directedEdge1);\n\t\tthis.add(edge);\n\t}\n\tgetNode(coordinate) {\n\t\tvar node = this.findNode(coordinate);\n\t\tif (node === null) {\n\t\t\tnode = new Node(coordinate);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t}\n\tgetClass() {\n\t\treturn LineMergeGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineMergeGraph.constructor_ = function () {};\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport EdgeString from './EdgeString';\nimport LineMergeGraph from './LineMergeGraph';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport GraphComponent from '../../planargraph/GraphComponent';\nexport default class LineMerger {\n\tconstructor() {\n\t\tLineMerger.constructor_.apply(this, arguments);\n\t}\n\tbuildEdgeStringsForUnprocessedNodes() {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (!node.isMarked()) {\n\t\t\t\tAssert.isTrue(node.getDegree() === 2);\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t}\n\tbuildEdgeStringsForNonDegree2Nodes() {\n\t\tfor (var i = this._graph.getNodes().iterator(); i.hasNext(); ) {\n\t\t\tvar node = i.next();\n\t\t\tif (node.getDegree() !== 2) {\n\t\t\t\tthis.buildEdgeStringsStartingAt(node);\n\t\t\t\tnode.setMarked(true);\n\t\t\t}\n\t\t}\n\t}\n\tbuildEdgeStringsForObviousStartNodes() {\n\t\tthis.buildEdgeStringsForNonDegree2Nodes();\n\t}\n\tgetMergedLineStrings() {\n\t\tthis.merge();\n\t\treturn this._mergedLineStrings;\n\t}\n\tbuildEdgeStringsStartingAt(node) {\n\t\tfor (var i = node.getOutEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar directedEdge = i.next();\n\t\t\tif (directedEdge.getEdge().isMarked()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tthis._edgeStrings.add(this.buildEdgeStringStartingWith(directedEdge));\n\t\t}\n\t}\n\tmerge() {\n\t\tif (this._mergedLineStrings !== null) {\n\t\t\treturn null;\n\t\t}\n\t\tGraphComponent.setMarked(this._graph.nodeIterator(), false);\n\t\tGraphComponent.setMarked(this._graph.edgeIterator(), false);\n\t\tthis._edgeStrings = new ArrayList();\n\t\tthis.buildEdgeStringsForObviousStartNodes();\n\t\tthis.buildEdgeStringsForIsolatedLoops();\n\t\tthis._mergedLineStrings = new ArrayList();\n\t\tfor (var i = this._edgeStrings.iterator(); i.hasNext(); ) {\n\t\t\tvar edgeString = i.next();\n\t\t\tthis._mergedLineStrings.add(edgeString.toLineString());\n\t\t}\n\t}\n\taddLineString(lineString) {\n\t\tif (this._factory === null) {\n\t\t\tthis._factory = lineString.getFactory();\n\t\t}\n\t\tthis._graph.addEdge(lineString);\n\t}\n\tbuildEdgeStringStartingWith(start) {\n\t\tvar edgeString = new EdgeString(this._factory);\n\t\tvar current = start;\n\t\tdo {\n\t\t\tedgeString.add(current);\n\t\t\tcurrent.getEdge().setMarked(true);\n\t\t\tcurrent = current.getNext();\n\t\t} while (current !== null && current !== start);\n\t\treturn edgeString;\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geometry = arguments[0];\n\t\t\tfor (var i = 0; i < geometry.getNumGeometries(); i++) {\n\t\t\t\tvar component = geometry.getGeometryN(i);\n\t\t\t\tif (component instanceof LineString) {\n\t\t\t\t\tthis.addLineString(component);\n\t\t\t\t}\n\t\t\t}\n\t\t\t;\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geometries = arguments[0];\n\t\t\tthis._mergedLineStrings = null;\n\t\t\tfor (var i = geometries.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t}\n\t}\n\tbuildEdgeStringsForIsolatedLoops() {\n\t\tthis.buildEdgeStringsForUnprocessedNodes();\n\t}\n\tgetClass() {\n\t\treturn LineMerger;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineMerger.constructor_ = function () {\n\tthis._graph = new LineMergeGraph();\n\tthis._mergedLineStrings = null;\n\tthis._factory = null;\n\tthis._edgeStrings = null;\n};\n","import LineString from '../../../geom/LineString';\nimport CoordinateList from '../../../geom/CoordinateList';\nimport Coordinate from '../../../geom/Coordinate';\nimport Double from '../../../../../../java/lang/Double';\nimport LineSegment from '../../../geom/LineSegment';\nexport default class LineStringSnapper {\n\tconstructor() {\n\t\tLineStringSnapper.constructor_.apply(this, arguments);\n\t}\n\tstatic isClosed(pts) {\n\t\tif (pts.length <= 1) return false;\n\t\treturn pts[0].equals2D(pts[pts.length - 1]);\n\t}\n\tsnapVertices(srcCoords, snapPts) {\n\t\tvar end = this._isClosed ? srcCoords.size() - 1 : srcCoords.size();\n\t\tfor (var i = 0; i < end; i++) {\n\t\t\tvar srcPt = srcCoords.get(i);\n\t\t\tvar snapVert = this.findSnapForVertex(srcPt, snapPts);\n\t\t\tif (snapVert !== null) {\n\t\t\t\tsrcCoords.set(i, new Coordinate(snapVert));\n\t\t\t\tif (i === 0 && this._isClosed) srcCoords.set(srcCoords.size() - 1, new Coordinate(snapVert));\n\t\t\t}\n\t\t}\n\t}\n\tfindSnapForVertex(pt, snapPts) {\n\t\tfor (var i = 0; i < snapPts.length; i++) {\n\t\t\tif (pt.equals2D(snapPts[i])) return null;\n\t\t\tif (pt.distance(snapPts[i]) < this._snapTolerance) return snapPts[i];\n\t\t}\n\t\treturn null;\n\t}\n\tsnapTo(snapPts) {\n\t\tvar coordList = new CoordinateList(this._srcPts);\n\t\tthis.snapVertices(coordList, snapPts);\n\t\tthis.snapSegments(coordList, snapPts);\n\t\tvar newPts = coordList.toCoordinateArray();\n\t\treturn newPts;\n\t}\n\tsnapSegments(srcCoords, snapPts) {\n\t\tif (snapPts.length === 0) return null;\n\t\tvar distinctPtCount = snapPts.length;\n\t\tif (snapPts[0].equals2D(snapPts[snapPts.length - 1])) distinctPtCount = snapPts.length - 1;\n\t\tfor (var i = 0; i < distinctPtCount; i++) {\n\t\t\tvar snapPt = snapPts[i];\n\t\t\tvar index = this.findSegmentIndexToSnap(snapPt, srcCoords);\n\t\t\tif (index >= 0) {\n\t\t\t\tsrcCoords.add(index + 1, new Coordinate(snapPt), false);\n\t\t\t}\n\t\t}\n\t}\n\tfindSegmentIndexToSnap(snapPt, srcCoords) {\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tvar snapIndex = -1;\n\t\tfor (var i = 0; i < srcCoords.size() - 1; i++) {\n\t\t\tthis._seg.p0 = srcCoords.get(i);\n\t\t\tthis._seg.p1 = srcCoords.get(i + 1);\n\t\t\tif (this._seg.p0.equals2D(snapPt) || this._seg.p1.equals2D(snapPt)) {\n\t\t\t\tif (this._allowSnappingToSourceVertices) continue; else return -1;\n\t\t\t}\n\t\t\tvar dist = this._seg.distance(snapPt);\n\t\t\tif (dist < this._snapTolerance && dist < minDist) {\n\t\t\t\tminDist = dist;\n\t\t\t\tsnapIndex = i;\n\t\t\t}\n\t\t}\n\t\treturn snapIndex;\n\t}\n\tsetAllowSnappingToSourceVertices(allowSnappingToSourceVertices) {\n\t\tthis._allowSnappingToSourceVertices = allowSnappingToSourceVertices;\n\t}\n\tgetClass() {\n\t\treturn LineStringSnapper;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineStringSnapper.constructor_ = function () {\n\tthis._snapTolerance = 0.0;\n\tthis._srcPts = null;\n\tthis._seg = new LineSegment();\n\tthis._allowSnappingToSourceVertices = false;\n\tthis._isClosed = false;\n\tif (arguments[0] instanceof LineString && typeof arguments[1] === \"number\") {\n\t\tlet srcLine = arguments[0], snapTolerance = arguments[1];\n\t\tLineStringSnapper.constructor_.call(this, srcLine.getCoordinates(), snapTolerance);\n\t} else if (arguments[0] instanceof Array && typeof arguments[1] === \"number\") {\n\t\tlet srcPts = arguments[0], snapTolerance = arguments[1];\n\t\tthis._srcPts = srcPts;\n\t\tthis._isClosed = LineStringSnapper.isClosed(srcPts);\n\t\tthis._snapTolerance = snapTolerance;\n\t}\n};\n","import TreeSet from '../../../../../../java/util/TreeSet';\nimport GeometryTransformer from '../../../geom/util/GeometryTransformer';\nimport hasInterface from '../../../../../../hasInterface';\nimport Double from '../../../../../../java/lang/Double';\nimport LineStringSnapper from './LineStringSnapper';\nimport PrecisionModel from '../../../geom/PrecisionModel';\nimport Polygonal from '../../../geom/Polygonal';\nexport default class GeometrySnapper {\n\tconstructor() {\n\t\tGeometrySnapper.constructor_.apply(this, arguments);\n\t}\n\tstatic snap(g0, g1, snapTolerance) {\n\t\tvar snapGeom = new Array(2).fill(null);\n\t\tvar snapper0 = new GeometrySnapper(g0);\n\t\tsnapGeom[0] = snapper0.snapTo(g1, snapTolerance);\n\t\tvar snapper1 = new GeometrySnapper(g1);\n\t\tsnapGeom[1] = snapper1.snapTo(snapGeom[0], snapTolerance);\n\t\treturn snapGeom;\n\t}\n\tstatic computeOverlaySnapTolerance() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet g = arguments[0];\n\t\t\tvar snapTolerance = GeometrySnapper.computeSizeBasedSnapTolerance(g);\n\t\t\tvar pm = g.getPrecisionModel();\n\t\t\tif (pm.getType() === PrecisionModel.FIXED) {\n\t\t\t\tvar fixedSnapTol = 1 / pm.getScale() * 2 / 1.415;\n\t\t\t\tif (fixedSnapTol > snapTolerance) snapTolerance = fixedSnapTol;\n\t\t\t}\n\t\t\treturn snapTolerance;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\t\treturn Math.min(GeometrySnapper.computeOverlaySnapTolerance(g0), GeometrySnapper.computeOverlaySnapTolerance(g1));\n\t\t}\n\t}\n\tstatic computeSizeBasedSnapTolerance(g) {\n\t\tvar env = g.getEnvelopeInternal();\n\t\tvar minDimension = Math.min(env.getHeight(), env.getWidth());\n\t\tvar snapTol = minDimension * GeometrySnapper.SNAP_PRECISION_FACTOR;\n\t\treturn snapTol;\n\t}\n\tstatic snapToSelf(geom, snapTolerance, cleanResult) {\n\t\tvar snapper0 = new GeometrySnapper(geom);\n\t\treturn snapper0.snapToSelf(snapTolerance, cleanResult);\n\t}\n\tsnapTo(snapGeom, snapTolerance) {\n\t\tvar snapPts = this.extractTargetCoordinates(snapGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts);\n\t\treturn snapTrans.transform(this._srcGeom);\n\t}\n\tsnapToSelf(snapTolerance, cleanResult) {\n\t\tvar snapPts = this.extractTargetCoordinates(this._srcGeom);\n\t\tvar snapTrans = new SnapTransformer(snapTolerance, snapPts, true);\n\t\tvar snappedGeom = snapTrans.transform(this._srcGeom);\n\t\tvar result = snappedGeom;\n\t\tif (cleanResult && hasInterface(result, Polygonal)) {\n\t\t\tresult = snappedGeom.buffer(0);\n\t\t}\n\t\treturn result;\n\t}\n\tcomputeSnapTolerance(ringPts) {\n\t\tvar minSegLen = this.computeMinimumSegmentLength(ringPts);\n\t\tvar snapTol = minSegLen / 10;\n\t\treturn snapTol;\n\t}\n\textractTargetCoordinates(g) {\n\t\tvar ptSet = new TreeSet();\n\t\tvar pts = g.getCoordinates();\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tptSet.add(pts[i]);\n\t\t}\n\t\treturn ptSet.toArray(new Array(0).fill(null));\n\t}\n\tcomputeMinimumSegmentLength(pts) {\n\t\tvar minSegLen = Double.MAX_VALUE;\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar segLen = pts[i].distance(pts[i + 1]);\n\t\t\tif (segLen < minSegLen) minSegLen = segLen;\n\t\t}\n\t\treturn minSegLen;\n\t}\n\tgetClass() {\n\t\treturn GeometrySnapper;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometrySnapper.constructor_ = function () {\n\tthis._srcGeom = null;\n\tlet srcGeom = arguments[0];\n\tthis._srcGeom = srcGeom;\n};\nGeometrySnapper.SNAP_PRECISION_FACTOR = 1e-9;\nclass SnapTransformer extends GeometryTransformer {\n\tconstructor() {\n\t\tsuper();\n\t\tSnapTransformer.constructor_.apply(this, arguments);\n\t}\n\tsnapLine(srcPts, snapPts) {\n\t\tvar snapper = new LineStringSnapper(srcPts, this._snapTolerance);\n\t\tsnapper.setAllowSnappingToSourceVertices(this._isSelfSnap);\n\t\treturn snapper.snapTo(snapPts);\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\tvar srcPts = coords.toCoordinateArray();\n\t\tvar newPts = this.snapLine(srcPts, this._snapPts);\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t}\n\tgetClass() {\n\t\treturn SnapTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSnapTransformer.constructor_ = function () {\n\tthis._snapTolerance = null;\n\tthis._snapPts = null;\n\tthis._isSelfSnap = false;\n\tif (arguments.length === 2) {\n\t\tlet snapTolerance = arguments[0], snapPts = arguments[1];\n\t\tthis._snapTolerance = snapTolerance;\n\t\tthis._snapPts = snapPts;\n\t} else if (arguments.length === 3) {\n\t\tlet snapTolerance = arguments[0], snapPts = arguments[1], isSelfSnap = arguments[2];\n\t\tthis._snapTolerance = snapTolerance;\n\t\tthis._snapPts = snapPts;\n\t\tthis._isSelfSnap = isSelfSnap;\n\t}\n};\n","import WKTWriter from '../io/WKTWriter';\nimport CoordinateArraySequence from '../geom/impl/CoordinateArraySequence';\nimport Octant from './Octant';\nimport SegmentString from './SegmentString';\nexport default class BasicSegmentString {\n\tconstructor() {\n\t\tBasicSegmentString.constructor_.apply(this, arguments);\n\t}\n\tgetCoordinates() {\n\t\treturn this._pts;\n\t}\n\tsize() {\n\t\treturn this._pts.length;\n\t}\n\tgetCoordinate(i) {\n\t\treturn this._pts[i];\n\t}\n\tisClosed() {\n\t\treturn this._pts[0].equals(this._pts[this._pts.length - 1]);\n\t}\n\tgetSegmentOctant(index) {\n\t\tif (index === this._pts.length - 1) return -1;\n\t\treturn Octant.octant(this.getCoordinate(index), this.getCoordinate(index + 1));\n\t}\n\tsetData(data) {\n\t\tthis._data = data;\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this._pts));\n\t}\n\tgetClass() {\n\t\treturn BasicSegmentString;\n\t}\n\tget interfaces_() {\n\t\treturn [SegmentString];\n\t}\n}\nBasicSegmentString.constructor_ = function () {\n\tthis._pts = null;\n\tthis._data = null;\n\tlet pts = arguments[0], data = arguments[1];\n\tthis._pts = pts;\n\tthis._data = data;\n};\n","import SegmentIntersector from './SegmentIntersector';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class InteriorIntersectionFinder {\n\tconstructor() {\n\t\tInteriorIntersectionFinder.constructor_.apply(this, arguments);\n\t}\n\tstatic createAllIntersectionsFinder(li) {\n\t\tvar finder = new InteriorIntersectionFinder(li);\n\t\tfinder.setFindAllIntersections(true);\n\t\treturn finder;\n\t}\n\tstatic createAnyIntersectionFinder(li) {\n\t\treturn new InteriorIntersectionFinder(li);\n\t}\n\tstatic createIntersectionCounter(li) {\n\t\tvar finder = new InteriorIntersectionFinder(li);\n\t\tfinder.setFindAllIntersections(true);\n\t\tfinder.setKeepIntersections(false);\n\t\treturn finder;\n\t}\n\tgetInteriorIntersection() {\n\t\treturn this._interiorIntersection;\n\t}\n\tsetCheckEndSegmentsOnly(isCheckEndSegmentsOnly) {\n\t\tthis._isCheckEndSegmentsOnly = isCheckEndSegmentsOnly;\n\t}\n\tgetIntersectionSegments() {\n\t\treturn this._intSegments;\n\t}\n\tcount() {\n\t\treturn this._intersectionCount;\n\t}\n\tgetIntersections() {\n\t\treturn this._intersections;\n\t}\n\tsetFindAllIntersections(findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t}\n\tsetKeepIntersections(keepIntersections) {\n\t\tthis._keepIntersections = keepIntersections;\n\t}\n\tprocessIntersections(e0, segIndex0, e1, segIndex1) {\n\t\tif (!this._findAllIntersections && this.hasIntersection()) return null;\n\t\tif (e0 === e1 && segIndex0 === segIndex1) return null;\n\t\tif (this._isCheckEndSegmentsOnly) {\n\t\t\tvar isEndSegPresent = this.isEndSegment(e0, segIndex0) || this.isEndSegment(e1, segIndex1);\n\t\t\tif (!isEndSegPresent) return null;\n\t\t}\n\t\tvar p00 = e0.getCoordinates()[segIndex0];\n\t\tvar p01 = e0.getCoordinates()[segIndex0 + 1];\n\t\tvar p10 = e1.getCoordinates()[segIndex1];\n\t\tvar p11 = e1.getCoordinates()[segIndex1 + 1];\n\t\tthis._li.computeIntersection(p00, p01, p10, p11);\n\t\tif (this._li.hasIntersection()) {\n\t\t\tif (this._li.isInteriorIntersection()) {\n\t\t\t\tthis._intSegments = new Array(4).fill(null);\n\t\t\t\tthis._intSegments[0] = p00;\n\t\t\t\tthis._intSegments[1] = p01;\n\t\t\t\tthis._intSegments[2] = p10;\n\t\t\t\tthis._intSegments[3] = p11;\n\t\t\t\tthis._interiorIntersection = this._li.getIntersection(0);\n\t\t\t\tif (this._keepIntersections) this._intersections.add(this._interiorIntersection);\n\t\t\t\tthis._intersectionCount++;\n\t\t\t}\n\t\t}\n\t}\n\tisEndSegment(segStr, index) {\n\t\tif (index === 0) return true;\n\t\tif (index >= segStr.size() - 2) return true;\n\t\treturn false;\n\t}\n\thasIntersection() {\n\t\treturn this._interiorIntersection !== null;\n\t}\n\tisDone() {\n\t\tif (this._findAllIntersections) return false;\n\t\treturn this._interiorIntersection !== null;\n\t}\n\tgetClass() {\n\t\treturn InteriorIntersectionFinder;\n\t}\n\tget interfaces_() {\n\t\treturn [SegmentIntersector];\n\t}\n}\nInteriorIntersectionFinder.constructor_ = function () {\n\tthis._findAllIntersections = false;\n\tthis._isCheckEndSegmentsOnly = false;\n\tthis._li = null;\n\tthis._interiorIntersection = null;\n\tthis._intSegments = null;\n\tthis._intersections = new ArrayList();\n\tthis._intersectionCount = 0;\n\tthis._keepIntersections = true;\n\tlet li = arguments[0];\n\tthis._li = li;\n\tthis._interiorIntersection = null;\n};\n","import WKTWriter from '../io/WKTWriter';\nimport MCIndexNoder from './MCIndexNoder';\nimport TopologyException from '../geom/TopologyException';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nimport InteriorIntersectionFinder from './InteriorIntersectionFinder';\nexport default class FastNodingValidator {\n\tconstructor() {\n\t\tFastNodingValidator.constructor_.apply(this, arguments);\n\t}\n\tstatic computeIntersections(segStrings) {\n\t\tvar nv = new FastNodingValidator(segStrings);\n\t\tnv.setFindAllIntersections(true);\n\t\tnv.isValid();\n\t\treturn nv.getIntersections();\n\t}\n\texecute() {\n\t\tif (this._segInt !== null) return null;\n\t\tthis.checkInteriorIntersections();\n\t}\n\tgetIntersections() {\n\t\treturn this._segInt.getIntersections();\n\t}\n\tisValid() {\n\t\tthis.execute();\n\t\treturn this._isValid;\n\t}\n\tsetFindAllIntersections(findAllIntersections) {\n\t\tthis._findAllIntersections = findAllIntersections;\n\t}\n\tcheckInteriorIntersections() {\n\t\tthis._isValid = true;\n\t\tthis._segInt = new InteriorIntersectionFinder(this._li);\n\t\tthis._segInt.setFindAllIntersections(this._findAllIntersections);\n\t\tvar noder = new MCIndexNoder();\n\t\tnoder.setSegmentIntersector(this._segInt);\n\t\tnoder.computeNodes(this._segStrings);\n\t\tif (this._segInt.hasIntersection()) {\n\t\t\tthis._isValid = false;\n\t\t\treturn null;\n\t\t}\n\t}\n\tcheckValid() {\n\t\tthis.execute();\n\t\tif (!this._isValid) throw new TopologyException(this.getErrorMessage(), this._segInt.getInteriorIntersection());\n\t}\n\tgetErrorMessage() {\n\t\tif (this._isValid) return \"no intersections found\";\n\t\tvar intSegs = this._segInt.getIntersectionSegments();\n\t\treturn \"found non-noded intersection between \" + WKTWriter.toLineString(intSegs[0], intSegs[1]) + \" and \" + WKTWriter.toLineString(intSegs[2], intSegs[3]);\n\t}\n\tgetClass() {\n\t\treturn FastNodingValidator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nFastNodingValidator.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._segStrings = null;\n\tthis._findAllIntersections = false;\n\tthis._segInt = null;\n\tthis._isValid = true;\n\tlet segStrings = arguments[0];\n\tthis._segStrings = segStrings;\n};\n","import BasicSegmentString from '../noding/BasicSegmentString';\nimport FastNodingValidator from '../noding/FastNodingValidator';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class EdgeNodingValidator {\n\tconstructor() {\n\t\tEdgeNodingValidator.constructor_.apply(this, arguments);\n\t}\n\tstatic toSegmentStrings(edges) {\n\t\tvar segStrings = new ArrayList();\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tsegStrings.add(new BasicSegmentString(e.getCoordinates(), e));\n\t\t}\n\t\treturn segStrings;\n\t}\n\tstatic checkValid(edges) {\n\t\tvar validator = new EdgeNodingValidator(edges);\n\t\tvalidator.checkValid();\n\t}\n\tcheckValid() {\n\t\tthis._nv.checkValid();\n\t}\n\tgetClass() {\n\t\treturn EdgeNodingValidator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeNodingValidator.constructor_ = function () {\n\tthis._nv = null;\n\tlet edges = arguments[0];\n\tthis._nv = new FastNodingValidator(EdgeNodingValidator.toSegmentStrings(edges));\n};\n","import GeometryFactory from '../GeometryFactory';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class GeometryCollectionMapper {\n\tconstructor() {\n\t\tGeometryCollectionMapper.constructor_.apply(this, arguments);\n\t}\n\tstatic map(gc, op) {\n\t\tvar mapper = new GeometryCollectionMapper(op);\n\t\treturn mapper.map(gc);\n\t}\n\tmap(gc) {\n\t\tvar mapped = new ArrayList();\n\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\tvar g = this._mapOp.map(gc.getGeometryN(i));\n\t\t\tif (!g.isEmpty()) mapped.add(g);\n\t\t}\n\t\treturn gc.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(mapped));\n\t}\n\tgetClass() {\n\t\treturn GeometryCollectionMapper;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryCollectionMapper.constructor_ = function () {\n\tthis._mapOp = null;\n\tlet mapOp = arguments[0];\n\tthis._mapOp = mapOp;\n};\n","export default class MapOp {\n\tconstructor() {\n\t\tMapOp.constructor_.apply(this, arguments);\n\t}\n\tmap(g) {}\n\tgetClass() {\n\t\treturn MapOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nMapOp.constructor_ = function () {};\n","import ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport OverlayOp from './OverlayOp';\nexport default class LineBuilder {\n\tconstructor() {\n\t\tLineBuilder.constructor_.apply(this, arguments);\n\t}\n\tcollectLines(opCode) {\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tthis.collectLineEdge(de, opCode, this._lineEdgesList);\n\t\t\tthis.collectBoundaryTouchEdge(de, opCode, this._lineEdgesList);\n\t\t}\n\t}\n\tlabelIsolatedLine(e, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), this._op.getArgGeometry(targetIndex));\n\t\te.getLabel().setLocation(targetIndex, loc);\n\t}\n\tbuild(opCode) {\n\t\tthis.findCoveredLineEdges();\n\t\tthis.collectLines(opCode);\n\t\tthis.buildLines(opCode);\n\t\treturn this._resultLineList;\n\t}\n\tcollectLineEdge(de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tvar e = de.getEdge();\n\t\tif (de.isLineEdge()) {\n\t\t\tif (!de.isVisited() && OverlayOp.isResultOfOp(label, opCode) && !e.isCovered()) {\n\t\t\t\tedges.add(e);\n\t\t\t\tde.setVisitedEdge(true);\n\t\t\t}\n\t\t}\n\t}\n\tfindCoveredLineEdges() {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().findCoveredLineEdges();\n\t\t}\n\t\tfor (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar e = de.getEdge();\n\t\t\tif (de.isLineEdge() && !e.isCoveredSet()) {\n\t\t\t\tvar isCovered = this._op.isCoveredByA(de.getCoordinate());\n\t\t\t\te.setCovered(isCovered);\n\t\t\t}\n\t\t}\n\t}\n\tlabelIsolatedLines(edgesList) {\n\t\tfor (var it = edgesList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedLine(e, 0); else this.labelIsolatedLine(e, 1);\n\t\t\t}\n\t\t}\n\t}\n\tbuildLines(opCode) {\n\t\tfor (var it = this._lineEdgesList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar label = e.getLabel();\n\t\t\tvar line = this._geometryFactory.createLineString(e.getCoordinates());\n\t\t\tthis._resultLineList.add(line);\n\t\t\te.setInResult(true);\n\t\t}\n\t}\n\tcollectBoundaryTouchEdge(de, opCode, edges) {\n\t\tvar label = de.getLabel();\n\t\tif (de.isLineEdge()) return null;\n\t\tif (de.isVisited()) return null;\n\t\tif (de.isInteriorAreaEdge()) return null;\n\t\tif (de.getEdge().isInResult()) return null;\n\t\tAssert.isTrue(!(de.isInResult() || de.getSym().isInResult()) || !de.getEdge().isInResult());\n\t\tif (OverlayOp.isResultOfOp(label, opCode) && opCode === OverlayOp.INTERSECTION) {\n\t\t\tedges.add(de.getEdge());\n\t\t\tde.setVisitedEdge(true);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn LineBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineBuilder.constructor_ = function () {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._ptLocator = null;\n\tthis._lineEdgesList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tlet op = arguments[0], geometryFactory = arguments[1], ptLocator = arguments[2];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n\tthis._ptLocator = ptLocator;\n};\n","import ArrayList from '../../../../../java/util/ArrayList';\nimport OverlayOp from './OverlayOp';\nexport default class PointBuilder {\n\tconstructor() {\n\t\tPointBuilder.constructor_.apply(this, arguments);\n\t}\n\tfilterCoveredNodeToPoint(n) {\n\t\tvar coord = n.getCoordinate();\n\t\tif (!this._op.isCoveredByLA(coord)) {\n\t\t\tvar pt = this._geometryFactory.createPoint(coord);\n\t\t\tthis._resultPointList.add(pt);\n\t\t}\n\t}\n\textractNonCoveredResultNodes(opCode) {\n\t\tfor (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar n = nodeit.next();\n\t\t\tif (n.isInResult()) continue;\n\t\t\tif (n.isIncidentEdgeInResult()) continue;\n\t\t\tif (n.getEdges().getDegree() === 0 || opCode === OverlayOp.INTERSECTION) {\n\t\t\t\tvar label = n.getLabel();\n\t\t\t\tif (OverlayOp.isResultOfOp(label, opCode)) {\n\t\t\t\t\tthis.filterCoveredNodeToPoint(n);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tbuild(opCode) {\n\t\tthis.extractNonCoveredResultNodes(opCode);\n\t\treturn this._resultPointList;\n\t}\n\tgetClass() {\n\t\treturn PointBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointBuilder.constructor_ = function () {\n\tthis._op = null;\n\tthis._geometryFactory = null;\n\tthis._resultPointList = new ArrayList();\n\tlet op = arguments[0], geometryFactory = arguments[1], ptLocator = arguments[2];\n\tthis._op = op;\n\tthis._geometryFactory = geometryFactory;\n};\n","import Double from '../../../../java/lang/Double';\nimport Long from '../../../../java/lang/Long';\nexport default class CommonBits {\n\tconstructor() {\n\t\tthis._isFirst = true;\n\t\tthis._commonMantissaBitsCount = 53;\n\t\tthis._commonBits = new Long();\n\t\tthis._commonSignExp = null;\n\t}\n\tgetCommon() {\n\t\treturn Double.longBitsToDouble(this._commonBits);\n\t}\n\tadd(num) {\n\t\tvar numBits = Double.doubleToLongBits(num);\n\t\tif (this._isFirst) {\n\t\t\tthis._commonBits = numBits;\n\t\t\tthis._commonSignExp = CommonBits.signExpBits(this._commonBits);\n\t\t\tthis._isFirst = false;\n\t\t\treturn null;\n\t\t}\n\t\tvar numSignExp = CommonBits.signExpBits(numBits);\n\t\tif (numSignExp !== this._commonSignExp) {\n\t\t\tthis._commonBits.high = 0 | 0;\n\t\t\tthis._commonBits.low = 0 | 0;\n\t\t\treturn null;\n\t\t}\n\t\tthis._commonMantissaBitsCount = CommonBits.numCommonMostSigMantissaBits(this._commonBits, numBits);\n\t\tthis._commonBits = CommonBits.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount));\n\t}\n\ttoString() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet bits = arguments[0];\n\t\t\tvar x = Double.longBitsToDouble(bits);\n\t\t\tvar numStr = Long.toBinaryString(bits);\n\t\t\tvar padStr = \"0000000000000000000000000000000000000000000000000000000000000000\" + numStr;\n\t\t\tvar bitStr = padStr.substring(padStr.length - 64);\n\t\t\tvar str = bitStr.substring(0, 1) + \"  \" + bitStr.substring(1, 12) + \"(exp) \" + bitStr.substring(12) + \" [ \" + x + \" ]\";\n\t\t\treturn str;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn CommonBits;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n\tstatic getBit(bits, i) {\n\t\tvar mask = (1 << (i % 32));\n\t\tif (i < 32) {\n\t\t\treturn (bits.low & mask) != 0 ? 1 : 0;\n\t\t}\n\t\treturn (bits.high & mask) != 0 ? 1 : 0;\n\t}\n\tstatic signExpBits(num) {\n\t\treturn num.high >>> 20;\n\t}\n\tstatic zeroLowerBits(bits, nBits) {\n\t\tvar prop = 'low';\n\t\tif (nBits > 32) {\n\t\t\tbits.low = 0 | 0;\n\t\t\tnBits %= 32;\n\t\t\tprop = 'high';\n\t\t}\n\t\tif (nBits > 0) {\n\t\t\tvar mask = (nBits < 32) ? (~((1 << nBits) - 1)) : 0;\n\t\t\tbits[prop] &= mask;\n\t\t}\n\t\treturn bits;\n\t}\n\tstatic numCommonMostSigMantissaBits (num1, num2) {\n\t\tvar count = 0;\n\t\tfor (var i = 52; i >= 0; i--) {\n\t\t\tif (CommonBits.getBit(num1, i) !== CommonBits.getBit(num2, i)) return count;\n\t\t\tcount++;\n\t\t}\n\t\treturn 52;\n\t}\n}\n\n","import CommonBits from './CommonBits';\nimport CoordinateFilter from '../geom/CoordinateFilter';\nimport Coordinate from '../geom/Coordinate';\nimport CoordinateSequenceFilter from '../geom/CoordinateSequenceFilter';\nexport default class CommonBitsRemover {\n\tconstructor() {\n\t\tCommonBitsRemover.constructor_.apply(this, arguments);\n\t}\n\taddCommonBits(geom) {\n\t\tvar trans = new Translater(this._commonCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t}\n\tremoveCommonBits(geom) {\n\t\tif (this._commonCoord.x === 0.0 && this._commonCoord.y === 0.0) return geom;\n\t\tvar invCoord = new Coordinate(this._commonCoord);\n\t\tinvCoord.x = -invCoord.x;\n\t\tinvCoord.y = -invCoord.y;\n\t\tvar trans = new Translater(invCoord);\n\t\tgeom.apply(trans);\n\t\tgeom.geometryChanged();\n\t\treturn geom;\n\t}\n\tgetCommonCoordinate() {\n\t\treturn this._commonCoord;\n\t}\n\tadd(geom) {\n\t\tgeom.apply(this._ccFilter);\n\t\tthis._commonCoord = this._ccFilter.getCommonCoordinate();\n\t}\n\tgetClass() {\n\t\treturn CommonBitsRemover;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass CommonCoordinateFilter {\n\tconstructor() {\n\t\tCommonCoordinateFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(coord) {\n\t\tthis._commonBitsX.add(coord.x);\n\t\tthis._commonBitsY.add(coord.y);\n\t}\n\tgetCommonCoordinate() {\n\t\treturn new Coordinate(this._commonBitsX.getCommon(), this._commonBitsY.getCommon());\n\t}\n\tgetClass() {\n\t\treturn CommonCoordinateFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateFilter];\n\t}\n}\nCommonCoordinateFilter.constructor_ = function () {\n\tthis._commonBitsX = new CommonBits();\n\tthis._commonBitsY = new CommonBits();\n};\nclass Translater {\n\tconstructor() {\n\t\tTranslater.constructor_.apply(this, arguments);\n\t}\n\tfilter(seq, i) {\n\t\tvar xp = seq.getOrdinate(i, 0) + this.trans.x;\n\t\tvar yp = seq.getOrdinate(i, 1) + this.trans.y;\n\t\tseq.setOrdinate(i, 0, xp);\n\t\tseq.setOrdinate(i, 1, yp);\n\t}\n\tisDone() {\n\t\treturn false;\n\t}\n\tisGeometryChanged() {\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn Translater;\n\t}\n\tget interfaces_() {\n\t\treturn [CoordinateSequenceFilter];\n\t}\n}\nTranslater.constructor_ = function () {\n\tthis.trans = null;\n\tlet trans = arguments[0];\n\tthis.trans = trans;\n};\nCommonBitsRemover.CommonCoordinateFilter = CommonCoordinateFilter;\nCommonBitsRemover.Translater = Translater;\nCommonBitsRemover.constructor_ = function () {\n\tthis._commonCoord = null;\n\tthis._ccFilter = new CommonCoordinateFilter();\n};\n","import GeometrySnapper from './GeometrySnapper';\nimport System from '../../../../../../java/lang/System';\nimport CommonBitsRemover from '../../../precision/CommonBitsRemover';\nimport OverlayOp from '../OverlayOp';\nexport default class SnapOverlayOp {\n\tconstructor() {\n\t\tSnapOverlayOp.constructor_.apply(this, arguments);\n\t}\n\tstatic overlayOp(g0, g1, opCode) {\n\t\tvar op = new SnapOverlayOp(g0, g1);\n\t\treturn op.getResultGeometry(opCode);\n\t}\n\tstatic union(g0, g1) {\n\t\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n\t}\n\tstatic intersection(g0, g1) {\n\t\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n\t}\n\tstatic symDifference(g0, g1) {\n\t\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n\t}\n\tstatic difference(g0, g1) {\n\t\treturn SnapOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n\t}\n\tselfSnap(geom) {\n\t\tvar snapper0 = new GeometrySnapper(geom);\n\t\tvar snapGeom = snapper0.snapTo(geom, this._snapTolerance);\n\t\treturn snapGeom;\n\t}\n\tremoveCommonBits(geom) {\n\t\tthis._cbr = new CommonBitsRemover();\n\t\tthis._cbr.add(geom[0]);\n\t\tthis._cbr.add(geom[1]);\n\t\tvar remGeom = new Array(2).fill(null);\n\t\tremGeom[0] = this._cbr.removeCommonBits(geom[0].copy());\n\t\tremGeom[1] = this._cbr.removeCommonBits(geom[1].copy());\n\t\treturn remGeom;\n\t}\n\tprepareResult(geom) {\n\t\tthis._cbr.addCommonBits(geom);\n\t\treturn geom;\n\t}\n\tgetResultGeometry(opCode) {\n\t\tvar prepGeom = this.snap(this._geom);\n\t\tvar result = OverlayOp.overlayOp(prepGeom[0], prepGeom[1], opCode);\n\t\treturn this.prepareResult(result);\n\t}\n\tcheckValid(g) {\n\t\tif (!g.isValid()) {\n\t\t\tSystem.out.println(\"Snapped geometry is invalid\");\n\t\t}\n\t}\n\tcomputeSnapTolerance() {\n\t\tthis._snapTolerance = GeometrySnapper.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);\n\t}\n\tsnap(geom) {\n\t\tvar remGeom = this.removeCommonBits(geom);\n\t\tvar snapGeom = GeometrySnapper.snap(remGeom[0], remGeom[1], this._snapTolerance);\n\t\treturn snapGeom;\n\t}\n\tgetClass() {\n\t\treturn SnapOverlayOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSnapOverlayOp.constructor_ = function () {\n\tthis._geom = new Array(2).fill(null);\n\tthis._snapTolerance = null;\n\tthis._cbr = null;\n\tlet g1 = arguments[0], g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n\tthis.computeSnapTolerance();\n};\n","import SnapOverlayOp from './SnapOverlayOp';\nimport RuntimeException from '../../../../../../java/lang/RuntimeException';\nimport OverlayOp from '../OverlayOp';\nexport default class SnapIfNeededOverlayOp {\n\tconstructor() {\n\t\tSnapIfNeededOverlayOp.constructor_.apply(this, arguments);\n\t}\n\tstatic overlayOp(g0, g1, opCode) {\n\t\tvar op = new SnapIfNeededOverlayOp(g0, g1);\n\t\treturn op.getResultGeometry(opCode);\n\t}\n\tstatic union(g0, g1) {\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.UNION);\n\t}\n\tstatic intersection(g0, g1) {\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION);\n\t}\n\tstatic symDifference(g0, g1) {\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE);\n\t}\n\tstatic difference(g0, g1) {\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE);\n\t}\n\tgetResultGeometry(opCode) {\n\t\tvar result = null;\n\t\tvar isSuccess = false;\n\t\tvar savedException = null;\n\t\ttry {\n\t\t\tresult = OverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\tvar isValid = true;\n\t\t\tif (isValid) isSuccess = true;\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\tsavedException = ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (!isSuccess) {\n\t\t\ttry {\n\t\t\t\tresult = SnapOverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n\t\t\t} catch (ex) {\n\t\t\t\tif (ex instanceof RuntimeException) {\n\t\t\t\t\tthrow savedException;\n\t\t\t\t} else throw ex;\n\t\t\t} finally {}\n\t\t}\n\t\treturn result;\n\t}\n\tgetClass() {\n\t\treturn SnapIfNeededOverlayOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSnapIfNeededOverlayOp.constructor_ = function () {\n\tthis._geom = new Array(2).fill(null);\n\tlet g1 = arguments[0], g2 = arguments[1];\n\tthis._geom[0] = g1;\n\tthis._geom[1] = g2;\n};\n","import BoundaryNodeRule from '../algorithm/BoundaryNodeRule';\nimport GeometryGraph from '../geomgraph/GeometryGraph';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nexport default class GeometryGraphOperation {\n\tconstructor() {\n\t\tGeometryGraphOperation.constructor_.apply(this, arguments);\n\t}\n\tgetArgGeometry(i) {\n\t\treturn this._arg[i].getGeometry();\n\t}\n\tsetComputationPrecision(pm) {\n\t\tthis._resultPrecisionModel = pm;\n\t\tthis._li.setPrecisionModel(this._resultPrecisionModel);\n\t}\n\tgetClass() {\n\t\treturn GeometryGraphOperation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryGraphOperation.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._resultPrecisionModel = null;\n\tthis._arg = null;\n\tif (arguments.length === 1) {\n\t\tlet g0 = arguments[0];\n\t\tthis.setComputationPrecision(g0.getPrecisionModel());\n\t\tthis._arg = new Array(1).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, g0);\n\t\t;\n\t} else if (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tGeometryGraphOperation.constructor_.call(this, g0, g1, BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], boundaryNodeRule = arguments[2];\n\t\tif (g0.getPrecisionModel().compareTo(g1.getPrecisionModel()) >= 0) this.setComputationPrecision(g0.getPrecisionModel()); else this.setComputationPrecision(g1.getPrecisionModel());\n\t\tthis._arg = new Array(2).fill(null);\n\t\tthis._arg[0] = new GeometryGraph(0, g0, boundaryNodeRule);\n\t\tthis._arg[1] = new GeometryGraph(1, g1, boundaryNodeRule);\n\t}\n};\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport EdgeNodingValidator from '../../geomgraph/EdgeNodingValidator';\nimport GeometryCollectionMapper from '../../geom/util/GeometryCollectionMapper';\nimport PolygonBuilder from './PolygonBuilder';\nimport Position from '../../geomgraph/Position';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport MapOp from '../../geom/util/MapOp';\nimport LineBuilder from './LineBuilder';\nimport PointBuilder from './PointBuilder';\nimport SnapIfNeededOverlayOp from './snap/SnapIfNeededOverlayOp';\nimport Label from '../../geomgraph/Label';\nimport OverlayNodeFactory from './OverlayNodeFactory';\nimport GeometryGraphOperation from '../GeometryGraphOperation';\nimport EdgeList from '../../geomgraph/EdgeList';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default class OverlayOp extends GeometryGraphOperation {\n\tconstructor() {\n\t\tsuper();\n\t\tOverlayOp.constructor_.apply(this, arguments);\n\t}\n\tstatic overlayOp(geom0, geom1, opCode) {\n\t\tvar gov = new OverlayOp(geom0, geom1);\n\t\tvar geomOv = gov.getResultGeometry(opCode);\n\t\treturn geomOv;\n\t}\n\tstatic union(geom, other) {\n\t\tif (geom.isEmpty() || other.isEmpty()) {\n\t\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, geom, other, geom.getFactory());\n\t\t\tif (geom.isEmpty()) return other.copy();\n\t\t\tif (other.isEmpty()) return geom.copy();\n\t\t}\n\t\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.UNION);\n\t}\n\tstatic intersection(geom, other) {\n\t\tif (geom.isEmpty() || other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, geom, other, geom.getFactory());\n\t\tif (geom.isGeometryCollection()) {\n\t\t\tvar g2 = other;\n\t\t\treturn GeometryCollectionMapper.map(geom, new (class {\n\t\t\t\tget interfaces_() {\n\t\t\t\t\treturn [MapOp];\n\t\t\t\t}\n\t\t\t\tmap(g) {\n\t\t\t\t\treturn OverlayOp.intersection(g, g2);\n\t\t\t\t}\n\t\t\t})());\n\t\t}\n\t\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.INTERSECTION);\n\t}\n\tstatic symDifference(geom, other) {\n\t\tif (geom.isEmpty() || other.isEmpty()) {\n\t\t\tif (geom.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, geom, other, geom.getFactory());\n\t\t\tif (geom.isEmpty()) return other.copy();\n\t\t\tif (other.isEmpty()) return geom.copy();\n\t\t}\n\t\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.SYMDIFFERENCE);\n\t}\n\tstatic resultDimension(opCode, g0, g1) {\n\t\tvar dim0 = g0.getDimension();\n\t\tvar dim1 = g1.getDimension();\n\t\tvar resultDimension = -1;\n\t\tswitch (opCode) {\n\t\t\tcase OverlayOp.INTERSECTION:\n\t\t\t\tresultDimension = Math.min(dim0, dim1);\n\t\t\t\tbreak;\n\t\t\tcase OverlayOp.UNION:\n\t\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\t\tbreak;\n\t\t\tcase OverlayOp.DIFFERENCE:\n\t\t\t\tresultDimension = dim0;\n\t\t\t\tbreak;\n\t\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\t\tresultDimension = Math.max(dim0, dim1);\n\t\t\t\tbreak;\n\t\t}\n\t\treturn resultDimension;\n\t}\n\tstatic createEmptyResult(overlayOpCode, a, b, geomFact) {\n\t\tvar result = null;\n\t\tswitch (OverlayOp.resultDimension(overlayOpCode, a, b)) {\n\t\t\tcase -1:\n\t\t\t\tresult = geomFact.createGeometryCollection();\n\t\t\t\tbreak;\n\t\t\tcase 0:\n\t\t\t\tresult = geomFact.createPoint();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tresult = geomFact.createLineString();\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tresult = geomFact.createPolygon();\n\t\t\t\tbreak;\n\t\t}\n\t\treturn result;\n\t}\n\tstatic difference(geom, other) {\n\t\tif (geom.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, geom, other, geom.getFactory());\n\t\tif (other.isEmpty()) return geom.copy();\n\t\tif (geom.isGeometryCollection() || other.isGeometryCollection()) throw new IllegalArgumentException(\"This method does not support GeometryCollection arguments\");\n\t\treturn SnapIfNeededOverlayOp.overlayOp(geom, other, OverlayOp.DIFFERENCE);\n\t}\n\tstatic isResultOfOp() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet label = arguments[0], opCode = arguments[1];\n\t\t\tvar loc0 = label.getLocation(0);\n\t\t\tvar loc1 = label.getLocation(1);\n\t\t\treturn OverlayOp.isResultOfOp(loc0, loc1, opCode);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet loc0 = arguments[0], loc1 = arguments[1], overlayOpCode = arguments[2];\n\t\t\tif (loc0 === Location.BOUNDARY) loc0 = Location.INTERIOR;\n\t\t\tif (loc1 === Location.BOUNDARY) loc1 = Location.INTERIOR;\n\t\t\tswitch (overlayOpCode) {\n\t\t\t\tcase OverlayOp.INTERSECTION:\n\t\t\t\t\treturn loc0 === Location.INTERIOR && loc1 === Location.INTERIOR;\n\t\t\t\tcase OverlayOp.UNION:\n\t\t\t\t\treturn loc0 === Location.INTERIOR || loc1 === Location.INTERIOR;\n\t\t\t\tcase OverlayOp.DIFFERENCE:\n\t\t\t\t\treturn loc0 === Location.INTERIOR && loc1 !== Location.INTERIOR;\n\t\t\t\tcase OverlayOp.SYMDIFFERENCE:\n\t\t\t\t\treturn loc0 === Location.INTERIOR && loc1 !== Location.INTERIOR || loc0 !== Location.INTERIOR && loc1 === Location.INTERIOR;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\tinsertUniqueEdge(e) {\n\t\tvar existingEdge = this._edgeList.findEqualEdge(e);\n\t\tif (existingEdge !== null) {\n\t\t\tvar existingLabel = existingEdge.getLabel();\n\t\t\tvar labelToMerge = e.getLabel();\n\t\t\tif (!existingEdge.isPointwiseEqual(e)) {\n\t\t\t\tlabelToMerge = new Label(e.getLabel());\n\t\t\t\tlabelToMerge.flip();\n\t\t\t}\n\t\t\tvar depth = existingEdge.getDepth();\n\t\t\tif (depth.isNull()) {\n\t\t\t\tdepth.add(existingLabel);\n\t\t\t}\n\t\t\tdepth.add(labelToMerge);\n\t\t\texistingLabel.merge(labelToMerge);\n\t\t} else {\n\t\t\tthis._edgeList.add(e);\n\t\t}\n\t}\n\tgetGraph() {\n\t\treturn this._graph;\n\t}\n\tcancelDuplicateResultEdges() {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.isInResult() && sym.isInResult()) {\n\t\t\t\tde.setInResult(false);\n\t\t\t\tsym.setInResult(false);\n\t\t\t}\n\t\t}\n\t}\n\tisCoveredByLA(coord) {\n\t\tif (this.isCovered(coord, this._resultLineList)) return true;\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t}\n\tcomputeGeometry(resultPointList, resultLineList, resultPolyList, opcode) {\n\t\tvar geomList = new ArrayList();\n\t\tgeomList.addAll(resultPointList);\n\t\tgeomList.addAll(resultLineList);\n\t\tgeomList.addAll(resultPolyList);\n\t\tif (geomList.isEmpty()) return OverlayOp.createEmptyResult(opcode, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact);\n\t\treturn this._geomFact.buildGeometry(geomList);\n\t}\n\tmergeSymLabels() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().mergeSymLabels();\n\t\t}\n\t}\n\tisCovered(coord, geomList) {\n\t\tfor (var it = geomList.iterator(); it.hasNext(); ) {\n\t\t\tvar geom = it.next();\n\t\t\tvar loc = this._ptLocator.locate(coord, geom);\n\t\t\tif (loc !== Location.EXTERIOR) return true;\n\t\t}\n\t\treturn false;\n\t}\n\treplaceCollapsedEdges() {\n\t\tvar newEdges = new ArrayList();\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.isCollapsed()) {\n\t\t\t\tit.remove();\n\t\t\t\tnewEdges.add(e.getCollapsedEdge());\n\t\t\t}\n\t\t}\n\t\tthis._edgeList.addAll(newEdges);\n\t}\n\tupdateNodeLabelling() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tvar lbl = node.getEdges().getLabel();\n\t\t\tnode.getLabel().merge(lbl);\n\t\t}\n\t}\n\tgetResultGeometry(overlayOpCode) {\n\t\tthis.computeOverlay(overlayOpCode);\n\t\treturn this._resultGeom;\n\t}\n\tinsertUniqueEdges(edges) {\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis.insertUniqueEdge(e);\n\t\t}\n\t}\n\tcomputeOverlay(opCode) {\n\t\tthis.copyPoints(0);\n\t\tthis.copyPoints(1);\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tthis._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);\n\t\tvar baseSplitEdges = new ArrayList();\n\t\tthis._arg[0].computeSplitEdges(baseSplitEdges);\n\t\tthis._arg[1].computeSplitEdges(baseSplitEdges);\n\t\tvar splitEdges = baseSplitEdges;\n\t\tthis.insertUniqueEdges(baseSplitEdges);\n\t\tthis.computeLabelsFromDepths();\n\t\tthis.replaceCollapsedEdges();\n\t\tEdgeNodingValidator.checkValid(this._edgeList.getEdges());\n\t\tthis._graph.addEdges(this._edgeList.getEdges());\n\t\tthis.computeLabelling();\n\t\tthis.labelIncompleteNodes();\n\t\tthis.findResultAreaEdges(opCode);\n\t\tthis.cancelDuplicateResultEdges();\n\t\tvar polyBuilder = new PolygonBuilder(this._geomFact);\n\t\tpolyBuilder.add(this._graph);\n\t\tthis._resultPolyList = polyBuilder.getPolygons();\n\t\tvar lineBuilder = new LineBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultLineList = lineBuilder.build(opCode);\n\t\tvar pointBuilder = new PointBuilder(this, this._geomFact, this._ptLocator);\n\t\tthis._resultPointList = pointBuilder.build(opCode);\n\t\tthis._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, opCode);\n\t}\n\tlabelIncompleteNode(n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setLocation(targetIndex, loc);\n\t}\n\tcopyPoints(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext(); ) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._graph.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t}\n\tfindResultAreaEdges(opCode) {\n\t\tfor (var it = this._graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tif (label.isArea() && !de.isInteriorAreaEdge() && OverlayOp.isResultOfOp(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), opCode)) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t}\n\tcomputeLabelsFromDepths() {\n\t\tfor (var it = this._edgeList.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar lbl = e.getLabel();\n\t\t\tvar depth = e.getDepth();\n\t\t\tif (!depth.isNull()) {\n\t\t\t\tdepth.normalize();\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tif (!lbl.isNull(i) && lbl.isArea() && !depth.isNull(i)) {\n\t\t\t\t\t\tif (depth.getDelta(i) === 0) {\n\t\t\t\t\t\t\tlbl.toLine(i);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.LEFT), \"depth of LEFT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.LEFT, depth.getLocation(i, Position.LEFT));\n\t\t\t\t\t\t\tAssert.isTrue(!depth.isNull(i, Position.RIGHT), \"depth of RIGHT side has not been initialized\");\n\t\t\t\t\t\t\tlbl.setLocation(i, Position.RIGHT, depth.getLocation(i, Position.RIGHT));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcomputeLabelling() {\n\t\tfor (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext(); ) {\n\t\t\tvar node = nodeit.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t\tthis.mergeSymLabels();\n\t\tthis.updateNodeLabelling();\n\t}\n\tlabelIncompleteNodes() {\n\t\tvar nodeCount = 0;\n\t\tfor (var ni = this._graph.getNodes().iterator(); ni.hasNext(); ) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tnodeCount++;\n\t\t\t\tif (label.isNull(0)) this.labelIncompleteNode(n, 0); else this.labelIncompleteNode(n, 1);\n\t\t\t}\n\t\t\tn.getEdges().updateLabelling(label);\n\t\t}\n\t}\n\tisCoveredByA(coord) {\n\t\tif (this.isCovered(coord, this._resultPolyList)) return true;\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn OverlayOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nOverlayOp.constructor_ = function () {\n\tthis._ptLocator = new PointLocator();\n\tthis._geomFact = null;\n\tthis._resultGeom = null;\n\tthis._graph = null;\n\tthis._edgeList = new EdgeList();\n\tthis._resultPolyList = new ArrayList();\n\tthis._resultLineList = new ArrayList();\n\tthis._resultPointList = new ArrayList();\n\tlet g0 = arguments[0], g1 = arguments[1];\n\tGeometryGraphOperation.constructor_.call(this, g0, g1);\n\tthis._graph = new PlanarGraph(new OverlayNodeFactory());\n\tthis._geomFact = g0.getFactory();\n};\nOverlayOp.INTERSECTION = 1;\nOverlayOp.UNION = 2;\nOverlayOp.DIFFERENCE = 3;\nOverlayOp.SYMDIFFERENCE = 4;\n","import DirectedEdge from '../../planargraph/DirectedEdge';\nexport default class PolygonizeDirectedEdge extends DirectedEdge {\n\tconstructor() {\n\t\tsuper();\n\t\tPolygonizeDirectedEdge.constructor_.apply(this, arguments);\n\t}\n\tgetNext() {\n\t\treturn this._next;\n\t}\n\tisInRing() {\n\t\treturn this._edgeRing !== null;\n\t}\n\tsetRing(edgeRing) {\n\t\tthis._edgeRing = edgeRing;\n\t}\n\tsetLabel(label) {\n\t\tthis._label = label;\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tsetNext(next) {\n\t\tthis._next = next;\n\t}\n\tgetRing() {\n\t\treturn this._edgeRing;\n\t}\n\tgetClass() {\n\t\treturn PolygonizeDirectedEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPolygonizeDirectedEdge.constructor_ = function () {\n\tthis._edgeRing = null;\n\tthis._next = null;\n\tthis._label = -1;\n\tlet from = arguments[0], to = arguments[1], directionPt = arguments[2], edgeDirection = arguments[3];\n\tDirectedEdge.constructor_.call(this, from, to, directionPt, edgeDirection);\n};\n","import Edge from '../../planargraph/Edge';\nexport default class PolygonizeEdge extends Edge {\n\tconstructor() {\n\t\tsuper();\n\t\tPolygonizeEdge.constructor_.apply(this, arguments);\n\t}\n\tgetLine() {\n\t\treturn this._line;\n\t}\n\tgetClass() {\n\t\treturn PolygonizeEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPolygonizeEdge.constructor_ = function () {\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n};\n","import CoordinateList from '../../geom/CoordinateList';\nimport WKTWriter from '../../io/WKTWriter';\nimport CoordinateArraySequence from '../../geom/impl/CoordinateArraySequence';\nimport PointLocation from '../../algorithm/PointLocation';\nimport LinearRing from '../../geom/LinearRing';\nimport Exception from '../../../../../java/lang/Exception';\nimport Orientation from '../../algorithm/Orientation';\nimport System from '../../../../../java/lang/System';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Comparator from '../../../../../java/util/Comparator';\nimport Assert from '../../util/Assert';\nexport default class EdgeRing {\n\tconstructor() {\n\t\tEdgeRing.constructor_.apply(this, arguments);\n\t}\n\tstatic findDirEdgesInRing(startDE) {\n\t\tvar de = startDE;\n\t\tvar edges = new ArrayList();\n\t\tdo {\n\t\t\tedges.add(de);\n\t\t\tde = de.getNext();\n\t\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t\t} while (de !== startDE);\n\t\treturn edges;\n\t}\n\tstatic addEdge(coords, isForward, coordList) {\n\t\tif (isForward) {\n\t\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\t\tcoordList.add(coords[i], false);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = coords.length - 1; i >= 0; i--) {\n\t\t\t\tcoordList.add(coords[i], false);\n\t\t\t}\n\t\t}\n\t}\n\tstatic findEdgeRingContaining(testEr, shellList) {\n\t\tvar testRing = testEr.getRing();\n\t\tvar testEnv = testRing.getEnvelopeInternal();\n\t\tvar testPt = testRing.getCoordinateN(0);\n\t\tvar minShell = null;\n\t\tvar minShellEnv = null;\n\t\tfor (var it = shellList.iterator(); it.hasNext(); ) {\n\t\t\tvar tryShell = it.next();\n\t\t\tvar tryShellRing = tryShell.getRing();\n\t\t\tvar tryShellEnv = tryShellRing.getEnvelopeInternal();\n\t\t\tif (tryShellEnv.equals(testEnv)) continue;\n\t\t\tif (!tryShellEnv.contains(testEnv)) continue;\n\t\t\ttestPt = CoordinateArrays.ptNotInList(testRing.getCoordinates(), tryShellRing.getCoordinates());\n\t\t\tvar isContained = false;\n\t\t\tif (PointLocation.isInRing(testPt, tryShellRing.getCoordinates())) isContained = true;\n\t\t\tif (isContained) {\n\t\t\t\tif (minShell === null || minShellEnv.contains(tryShellEnv)) {\n\t\t\t\t\tminShell = tryShell;\n\t\t\t\t\tminShellEnv = minShell.getRing().getEnvelopeInternal();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn minShell;\n\t}\n\tisIncluded() {\n\t\treturn this._isIncluded;\n\t}\n\tgetCoordinates() {\n\t\tif (this._ringPts === null) {\n\t\t\tvar coordList = new CoordinateList();\n\t\t\tfor (var i = this._deList.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tvar edge = de.getEdge();\n\t\t\t\tEdgeRing.addEdge(edge.getLine().getCoordinates(), de.getEdgeDirection(), coordList);\n\t\t\t}\n\t\t\tthis._ringPts = coordList.toCoordinateArray();\n\t\t}\n\t\treturn this._ringPts;\n\t}\n\tisIncludedSet() {\n\t\treturn this._isIncludedSet;\n\t}\n\tisValid() {\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length <= 3) return false;\n\t\tthis.getRing();\n\t\treturn this._ring.isValid();\n\t}\n\tbuild(startDE) {\n\t\tvar de = startDE;\n\t\tdo {\n\t\t\tthis.add(de);\n\t\t\tde.setRing(this);\n\t\t\tde = de.getNext();\n\t\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t\t} while (de !== startDE);\n\t}\n\tisOuterHole() {\n\t\tif (!this._isHole) return false;\n\t\treturn !this.hasShell();\n\t}\n\tgetPolygon() {\n\t\tvar holeLR = null;\n\t\tif (this._holes !== null) {\n\t\t\tholeLR = new Array(this._holes.size()).fill(null);\n\t\t\tfor (var i = 0; i < this._holes.size(); i++) {\n\t\t\t\tholeLR[i] = this._holes.get(i);\n\t\t\t}\n\t\t}\n\t\tvar poly = this._factory.createPolygon(this._ring, holeLR);\n\t\treturn poly;\n\t}\n\tisHole() {\n\t\treturn this._isHole;\n\t}\n\tisProcessed() {\n\t\treturn this._isProcessed;\n\t}\n\taddHole() {\n\t\tif (arguments[0] instanceof LinearRing) {\n\t\t\tlet hole = arguments[0];\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(hole);\n\t\t} else if (arguments[0] instanceof EdgeRing) {\n\t\t\tlet holeER = arguments[0];\n\t\t\tholeER.setShell(this);\n\t\t\tvar hole = holeER.getRing();\n\t\t\tif (this._holes === null) this._holes = new ArrayList();\n\t\t\tthis._holes.add(hole);\n\t\t}\n\t}\n\tsetIncluded(isIncluded) {\n\t\tthis._isIncluded = isIncluded;\n\t\tthis._isIncludedSet = true;\n\t}\n\tgetOuterHole() {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjRing = de.getSym().getRing();\n\t\t\tif (adjRing.isOuterHole()) return adjRing;\n\t\t}\n\t\treturn null;\n\t}\n\tcomputeHole() {\n\t\tvar ring = this.getRing();\n\t\tthis._isHole = Orientation.isCCW(ring.getCoordinates());\n\t}\n\thasShell() {\n\t\treturn this._shell !== null;\n\t}\n\tisOuterShell() {\n\t\treturn this.getOuterHole() !== null;\n\t}\n\tgetLineString() {\n\t\tthis.getCoordinates();\n\t\treturn this._factory.createLineString(this._ringPts);\n\t}\n\ttoString() {\n\t\treturn WKTWriter.toLineString(new CoordinateArraySequence(this.getCoordinates()));\n\t}\n\tgetShell() {\n\t\tif (this.isHole()) return this._shell;\n\t\treturn this;\n\t}\n\tadd(de) {\n\t\tthis._deList.add(de);\n\t}\n\tgetRing() {\n\t\tif (this._ring !== null) return this._ring;\n\t\tthis.getCoordinates();\n\t\tif (this._ringPts.length < 3) System.out.println(this._ringPts);\n\t\ttry {\n\t\t\tthis._ring = this._factory.createLinearRing(this._ringPts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof Exception) {\n\t\t\t\tSystem.out.println(this._ringPts);\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\treturn this._ring;\n\t}\n\tupdateIncluded() {\n\t\tif (this.isHole()) return null;\n\t\tfor (var i = 0; i < this._deList.size(); i++) {\n\t\t\tvar de = this._deList.get(i);\n\t\t\tvar adjShell = de.getSym().getRing().getShell();\n\t\t\tif (adjShell !== null && adjShell.isIncludedSet()) {\n\t\t\t\tthis.setIncluded(!adjShell.isIncluded());\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tsetShell(shell) {\n\t\tthis._shell = shell;\n\t}\n\tsetProcessed(isProcessed) {\n\t\tthis._isProcessed = isProcessed;\n\t}\n\tgetClass() {\n\t\treturn EdgeRing;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass EnvelopeComparator {\n\tconstructor() {\n\t\tEnvelopeComparator.constructor_.apply(this, arguments);\n\t}\n\tcompare(obj0, obj1) {\n\t\tvar r0 = obj0;\n\t\tvar r1 = obj1;\n\t\treturn r0.getRing().getEnvelope().compareTo(r1.getRing().getEnvelope());\n\t}\n\tgetClass() {\n\t\treturn EnvelopeComparator;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparator];\n\t}\n}\nEnvelopeComparator.constructor_ = function () {};\nEdgeRing.EnvelopeComparator = EnvelopeComparator;\nEdgeRing.constructor_ = function () {\n\tthis._factory = null;\n\tthis._deList = new ArrayList();\n\tthis._lowestEdge = null;\n\tthis._ring = null;\n\tthis._ringPts = null;\n\tthis._holes = null;\n\tthis._shell = null;\n\tthis._isHole = null;\n\tthis._isProcessed = false;\n\tthis._isIncludedSet = false;\n\tthis._isIncluded = false;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n};\n","import PolygonizeDirectedEdge from './PolygonizeDirectedEdge';\nimport HashSet from '../../../../../java/util/HashSet';\nimport Stack from '../../../../../java/util/Stack';\nimport Node from '../../planargraph/Node';\nimport PolygonizeEdge from './PolygonizeEdge';\nimport EdgeRing from './EdgeRing';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../planargraph/PlanarGraph';\nexport default class PolygonizeGraph extends PlanarGraph {\n\tconstructor() {\n\t\tsuper();\n\t\tPolygonizeGraph.constructor_.apply(this, arguments);\n\t}\n\tstatic findLabeledEdgeRings(dirEdges) {\n\t\tvar edgeRingStarts = new ArrayList();\n\t\tvar currLabel = 1;\n\t\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tif (de.getLabel() >= 0) continue;\n\t\t\tedgeRingStarts.add(de);\n\t\t\tvar edges = EdgeRing.findDirEdgesInRing(de);\n\t\t\tPolygonizeGraph.label(edges, currLabel);\n\t\t\tcurrLabel++;\n\t\t}\n\t\treturn edgeRingStarts;\n\t}\n\tstatic getDegreeNonDeleted(node) {\n\t\tvar edges = node.getOutEdges().getEdges();\n\t\tvar degree = 0;\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (!de.isMarked()) degree++;\n\t\t}\n\t\treturn degree;\n\t}\n\tstatic deleteAllEdges(node) {\n\t\tvar edges = node.getOutEdges().getEdges();\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tde.setMarked(true);\n\t\t\tvar sym = de.getSym();\n\t\t\tif (sym !== null) sym.setMarked(true);\n\t\t}\n\t}\n\tstatic label(dirEdges, label) {\n\t\tfor (var i = dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tde.setLabel(label);\n\t\t}\n\t}\n\tstatic computeNextCWEdges(node) {\n\t\tvar deStar = node.getOutEdges();\n\t\tvar startDE = null;\n\t\tvar prevDE = null;\n\t\tfor (var i = deStar.getEdges().iterator(); i.hasNext(); ) {\n\t\t\tvar outDE = i.next();\n\t\t\tif (outDE.isMarked()) continue;\n\t\t\tif (startDE === null) startDE = outDE;\n\t\t\tif (prevDE !== null) {\n\t\t\t\tvar sym = prevDE.getSym();\n\t\t\t\tsym.setNext(outDE);\n\t\t\t}\n\t\t\tprevDE = outDE;\n\t\t}\n\t\tif (prevDE !== null) {\n\t\t\tvar sym = prevDE.getSym();\n\t\t\tsym.setNext(startDE);\n\t\t}\n\t}\n\tstatic computeNextCCWEdges(node, label) {\n\t\tvar deStar = node.getOutEdges();\n\t\tvar firstOutDE = null;\n\t\tvar prevInDE = null;\n\t\tvar edges = deStar.getEdges();\n\t\tfor (var i = edges.size() - 1; i >= 0; i--) {\n\t\t\tvar de = edges.get(i);\n\t\t\tvar sym = de.getSym();\n\t\t\tvar outDE = null;\n\t\t\tif (de.getLabel() === label) outDE = de;\n\t\t\tvar inDE = null;\n\t\t\tif (sym.getLabel() === label) inDE = sym;\n\t\t\tif (outDE === null && inDE === null) continue;\n\t\t\tif (inDE !== null) {\n\t\t\t\tprevInDE = inDE;\n\t\t\t}\n\t\t\tif (outDE !== null) {\n\t\t\t\tif (prevInDE !== null) {\n\t\t\t\t\tprevInDE.setNext(outDE);\n\t\t\t\t\tprevInDE = null;\n\t\t\t\t}\n\t\t\t\tif (firstOutDE === null) firstOutDE = outDE;\n\t\t\t}\n\t\t}\n\t\tif (prevInDE !== null) {\n\t\t\tAssert.isTrue(firstOutDE !== null);\n\t\t\tprevInDE.setNext(firstOutDE);\n\t\t}\n\t}\n\tstatic getDegree(node, label) {\n\t\tvar edges = node.getOutEdges().getEdges();\n\t\tvar degree = 0;\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.getLabel() === label) degree++;\n\t\t}\n\t\treturn degree;\n\t}\n\tstatic findIntersectionNodes(startDE, label) {\n\t\tvar de = startDE;\n\t\tvar intNodes = null;\n\t\tdo {\n\t\t\tvar node = de.getFromNode();\n\t\t\tif (PolygonizeGraph.getDegree(node, label) > 1) {\n\t\t\t\tif (intNodes === null) intNodes = new ArrayList();\n\t\t\t\tintNodes.add(node);\n\t\t\t}\n\t\t\tde = de.getNext();\n\t\t\tAssert.isTrue(de !== null, \"found null DE in ring\");\n\t\t\tAssert.isTrue(de === startDE || !de.isInRing(), \"found DE already in ring\");\n\t\t} while (de !== startDE);\n\t\treturn intNodes;\n\t}\n\tfindEdgeRing(startDE) {\n\t\tvar er = new EdgeRing(this._factory);\n\t\ter.build(startDE);\n\t\treturn er;\n\t}\n\tcomputeDepthParity() {\n\t\tif (arguments.length === 0) {\n\t\t\twhile (true) {\n\t\t\t\tvar de = null;\n\t\t\t\tif (de === null) return null;\n\t\t\t\tthis.computeDepthParity(de);\n\t\t\t}\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet de = arguments[0];\n\t\t}\n\t}\n\tcomputeNextCWEdges() {\n\t\tfor (var iNode = this.nodeIterator(); iNode.hasNext(); ) {\n\t\t\tvar node = iNode.next();\n\t\t\tPolygonizeGraph.computeNextCWEdges(node);\n\t\t}\n\t}\n\taddEdge(line) {\n\t\tif (line.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\t\tvar linePts = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n\t\tif (linePts.length < 2) {\n\t\t\treturn null;\n\t\t}\n\t\tvar startPt = linePts[0];\n\t\tvar endPt = linePts[linePts.length - 1];\n\t\tvar nStart = this.getNode(startPt);\n\t\tvar nEnd = this.getNode(endPt);\n\t\tvar de0 = new PolygonizeDirectedEdge(nStart, nEnd, linePts[1], true);\n\t\tvar de1 = new PolygonizeDirectedEdge(nEnd, nStart, linePts[linePts.length - 2], false);\n\t\tvar edge = new PolygonizeEdge(line);\n\t\tedge.setDirectedEdges(de0, de1);\n\t\tthis.add(edge);\n\t}\n\tdeleteCutEdges() {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tvar cutLines = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tvar sym = de.getSym();\n\t\t\tif (de.getLabel() === sym.getLabel()) {\n\t\t\t\tde.setMarked(true);\n\t\t\t\tsym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tcutLines.add(e.getLine());\n\t\t\t}\n\t\t}\n\t\treturn cutLines;\n\t}\n\tgetEdgeRings() {\n\t\tthis.computeNextCWEdges();\n\t\tPolygonizeGraph.label(this._dirEdges, -1);\n\t\tvar maximalRings = PolygonizeGraph.findLabeledEdgeRings(this._dirEdges);\n\t\tthis.convertMaximalToMinimalEdgeRings(maximalRings);\n\t\tvar edgeRingList = new ArrayList();\n\t\tfor (var i = this._dirEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tif (de.isMarked()) continue;\n\t\t\tif (de.isInRing()) continue;\n\t\t\tvar er = this.findEdgeRing(de);\n\t\t\tedgeRingList.add(er);\n\t\t}\n\t\treturn edgeRingList;\n\t}\n\tgetNode(pt) {\n\t\tvar node = this.findNode(pt);\n\t\tif (node === null) {\n\t\t\tnode = new Node(pt);\n\t\t\tthis.add(node);\n\t\t}\n\t\treturn node;\n\t}\n\tconvertMaximalToMinimalEdgeRings(ringEdges) {\n\t\tfor (var i = ringEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar de = i.next();\n\t\t\tvar label = de.getLabel();\n\t\t\tvar intNodes = PolygonizeGraph.findIntersectionNodes(de, label);\n\t\t\tif (intNodes === null) continue;\n\t\t\tfor (var iNode = intNodes.iterator(); iNode.hasNext(); ) {\n\t\t\t\tvar node = iNode.next();\n\t\t\t\tPolygonizeGraph.computeNextCCWEdges(node, label);\n\t\t\t}\n\t\t}\n\t}\n\tdeleteDangles() {\n\t\tvar nodesToRemove = this.findNodesOfDegree(1);\n\t\tvar dangleLines = new HashSet();\n\t\tvar nodeStack = new Stack();\n\t\tfor (var i = nodesToRemove.iterator(); i.hasNext(); ) {\n\t\t\tnodeStack.push(i.next());\n\t\t}\n\t\twhile (!nodeStack.isEmpty()) {\n\t\t\tvar node = nodeStack.pop();\n\t\t\tPolygonizeGraph.deleteAllEdges(node);\n\t\t\tvar nodeOutEdges = node.getOutEdges().getEdges();\n\t\t\tfor (var i = nodeOutEdges.iterator(); i.hasNext(); ) {\n\t\t\t\tvar de = i.next();\n\t\t\t\tde.setMarked(true);\n\t\t\t\tvar sym = de.getSym();\n\t\t\t\tif (sym !== null) sym.setMarked(true);\n\t\t\t\tvar e = de.getEdge();\n\t\t\t\tdangleLines.add(e.getLine());\n\t\t\t\tvar toNode = de.getToNode();\n\t\t\t\tif (PolygonizeGraph.getDegreeNonDeleted(toNode) === 1) nodeStack.push(toNode);\n\t\t\t}\n\t\t}\n\t\treturn dangleLines;\n\t}\n\tgetClass() {\n\t\treturn PolygonizeGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPolygonizeGraph.constructor_ = function () {\n\tthis._factory = null;\n\tlet factory = arguments[0];\n\tthis._factory = factory;\n};\n","import LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport PolygonizeGraph from './PolygonizeGraph';\nimport hasInterface from '../../../../../hasInterface';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Collection from '../../../../../java/util/Collection';\nimport Collections from '../../../../../java/util/Collections';\nimport EdgeRing from './EdgeRing';\nimport GeometryComponentFilter from '../../geom/GeometryComponentFilter';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class Polygonizer {\n\tconstructor() {\n\t\tPolygonizer.constructor_.apply(this, arguments);\n\t}\n\tstatic findOuterShells(shellList) {\n\t\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\tvar outerHoleER = er.getOuterHole();\n\t\t\tif (outerHoleER !== null && !outerHoleER.isProcessed()) {\n\t\t\t\ter.setIncluded(true);\n\t\t\t\touterHoleER.setProcessed(true);\n\t\t\t}\n\t\t}\n\t}\n\tstatic extractPolygons(shellList, includeAll) {\n\t\tvar polyList = new ArrayList();\n\t\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\tif (includeAll || er.isIncluded()) {\n\t\t\t\tpolyList.add(er.getPolygon());\n\t\t\t}\n\t\t}\n\t\treturn polyList;\n\t}\n\tstatic assignHolesToShells(holeList, shellList) {\n\t\tfor (var i = holeList.iterator(); i.hasNext(); ) {\n\t\t\tvar holeER = i.next();\n\t\t\tPolygonizer.assignHoleToShell(holeER, shellList);\n\t\t}\n\t}\n\tstatic assignHoleToShell(holeER, shellList) {\n\t\tvar shell = EdgeRing.findEdgeRingContaining(holeER, shellList);\n\t\tif (shell !== null) {\n\t\t\tshell.addHole(holeER);\n\t\t}\n\t}\n\tstatic findDisjointShells(shellList) {\n\t\tPolygonizer.findOuterShells(shellList);\n\t\tvar isMoreToScan = null;\n\t\tdo {\n\t\t\tisMoreToScan = false;\n\t\t\tfor (var i = shellList.iterator(); i.hasNext(); ) {\n\t\t\t\tvar er = i.next();\n\t\t\t\tif (er.isIncludedSet()) continue;\n\t\t\t\ter.updateIncluded();\n\t\t\t\tif (!er.isIncludedSet()) {\n\t\t\t\t\tisMoreToScan = true;\n\t\t\t\t}\n\t\t\t}\n\t\t} while (isMoreToScan);\n\t}\n\tgetGeometry() {\n\t\tif (this._geomFactory === null) this._geomFactory = new GeometryFactory();\n\t\tthis.polygonize();\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\treturn this._geomFactory.buildGeometry(this._polyList);\n\t\t}\n\t\treturn this._geomFactory.createGeometryCollection(GeometryFactory.toGeometryArray(this._polyList));\n\t}\n\tgetInvalidRingLines() {\n\t\tthis.polygonize();\n\t\treturn this._invalidRingLines;\n\t}\n\tfindValidRings(edgeRingList, validEdgeRingList, invalidRingList) {\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\tif (er.isValid()) validEdgeRingList.add(er); else invalidRingList.add(er.getLineString());\n\t\t}\n\t}\n\tpolygonize() {\n\t\tif (this._polyList !== null) return null;\n\t\tthis._polyList = new ArrayList();\n\t\tif (this._graph === null) return null;\n\t\tthis._dangles = this._graph.deleteDangles();\n\t\tthis._cutEdges = this._graph.deleteCutEdges();\n\t\tvar edgeRingList = this._graph.getEdgeRings();\n\t\tvar validEdgeRingList = new ArrayList();\n\t\tthis._invalidRingLines = new ArrayList();\n\t\tif (this._isCheckingRingsValid) {\n\t\t\tthis.findValidRings(edgeRingList, validEdgeRingList, this._invalidRingLines);\n\t\t} else {\n\t\t\tvalidEdgeRingList = edgeRingList;\n\t\t}\n\t\tthis.findShellsAndHoles(validEdgeRingList);\n\t\tPolygonizer.assignHolesToShells(this._holeList, this._shellList);\n\t\tCollections.sort(this._shellList, new EdgeRing.EnvelopeComparator());\n\t\tvar includeAll = true;\n\t\tif (this._extractOnlyPolygonal) {\n\t\t\tPolygonizer.findDisjointShells(this._shellList);\n\t\t\tincludeAll = false;\n\t\t}\n\t\tthis._polyList = Polygonizer.extractPolygons(this._shellList, includeAll);\n\t}\n\tgetDangles() {\n\t\tthis.polygonize();\n\t\treturn this._dangles;\n\t}\n\tgetCutEdges() {\n\t\tthis.polygonize();\n\t\treturn this._cutEdges;\n\t}\n\tgetPolygons() {\n\t\tthis.polygonize();\n\t\treturn this._polyList;\n\t}\n\tadd() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geomList = arguments[0];\n\t\t\tfor (var i = geomList.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geometry = i.next();\n\t\t\t\tthis.add(geometry);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet line = arguments[0];\n\t\t\tthis._geomFactory = line.getFactory();\n\t\t\tif (this._graph === null) this._graph = new PolygonizeGraph(this._geomFactory);\n\t\t\tthis._graph.addEdge(line);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tg.apply(this._lineStringAdder);\n\t\t}\n\t}\n\tsetCheckRingsValid(isCheckingRingsValid) {\n\t\tthis._isCheckingRingsValid = isCheckingRingsValid;\n\t}\n\tfindShellsAndHoles(edgeRingList) {\n\t\tthis._holeList = new ArrayList();\n\t\tthis._shellList = new ArrayList();\n\t\tfor (var i = edgeRingList.iterator(); i.hasNext(); ) {\n\t\t\tvar er = i.next();\n\t\t\ter.computeHole();\n\t\t\tif (er.isHole()) this._holeList.add(er); else this._shellList.add(er);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn Polygonizer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass LineStringAdder {\n\tconstructor() {\n\t\tLineStringAdder.constructor_.apply(this, arguments);\n\t}\n\tfilter(g) {\n\t\tif (g instanceof LineString) this.p.add(g);\n\t}\n\tgetClass() {\n\t\treturn LineStringAdder;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t}\n}\nLineStringAdder.constructor_ = function () {\n\tthis.p = null;\n\tlet p = arguments[0];\n\tthis.p = p;\n};\nPolygonizer.LineStringAdder = LineStringAdder;\nPolygonizer.constructor_ = function () {\n\tthis._lineStringAdder = new LineStringAdder(this);\n\tthis._graph = null;\n\tthis._dangles = new ArrayList();\n\tthis._cutEdges = new ArrayList();\n\tthis._invalidRingLines = new ArrayList();\n\tthis._holeList = null;\n\tthis._shellList = null;\n\tthis._polyList = null;\n\tthis._isCheckingRingsValid = true;\n\tthis._extractOnlyPolygonal = null;\n\tthis._geomFactory = null;\n\tif (arguments.length === 0) {\n\t\tPolygonizer.constructor_.call(this, false);\n\t} else if (arguments.length === 1) {\n\t\tlet extractOnlyPolygonal = arguments[0];\n\t\tthis._extractOnlyPolygonal = extractOnlyPolygonal;\n\t}\n};\n","import EdgeEnd from '../../geomgraph/EdgeEnd';\nimport Label from '../../geomgraph/Label';\nimport ArrayList from '../../../../../java/util/ArrayList';\nexport default class EdgeEndBuilder {\n\tconstructor() {\n\t\tEdgeEndBuilder.constructor_.apply(this, arguments);\n\t}\n\tcreateEdgeEndForNext(edge, l, eiCurr, eiNext) {\n\t\tvar iNext = eiCurr.segmentIndex + 1;\n\t\tif (iNext >= edge.getNumPoints() && eiNext === null) return null;\n\t\tvar pNext = edge.getCoordinate(iNext);\n\t\tif (eiNext !== null && eiNext.segmentIndex === eiCurr.segmentIndex) pNext = eiNext.coord;\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pNext, new Label(edge.getLabel()));\n\t\tl.add(e);\n\t}\n\tcreateEdgeEndForPrev(edge, l, eiCurr, eiPrev) {\n\t\tvar iPrev = eiCurr.segmentIndex;\n\t\tif (eiCurr.dist === 0.0) {\n\t\t\tif (iPrev === 0) return null;\n\t\t\tiPrev--;\n\t\t}\n\t\tvar pPrev = edge.getCoordinate(iPrev);\n\t\tif (eiPrev !== null && eiPrev.segmentIndex >= iPrev) pPrev = eiPrev.coord;\n\t\tvar label = new Label(edge.getLabel());\n\t\tlabel.flip();\n\t\tvar e = new EdgeEnd(edge, eiCurr.coord, pPrev, label);\n\t\tl.add(e);\n\t}\n\tcomputeEdgeEnds() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet edges = arguments[0];\n\t\t\tvar l = new ArrayList();\n\t\t\tfor (var i = edges; i.hasNext(); ) {\n\t\t\t\tvar e = i.next();\n\t\t\t\tthis.computeEdgeEnds(e, l);\n\t\t\t}\n\t\t\treturn l;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet edge = arguments[0], l = arguments[1];\n\t\t\tvar eiList = edge.getEdgeIntersectionList();\n\t\t\teiList.addEndpoints();\n\t\t\tvar it = eiList.iterator();\n\t\t\tvar eiPrev = null;\n\t\t\tvar eiCurr = null;\n\t\t\tif (!it.hasNext()) return null;\n\t\t\tvar eiNext = it.next();\n\t\t\tdo {\n\t\t\t\teiPrev = eiCurr;\n\t\t\t\teiCurr = eiNext;\n\t\t\t\teiNext = null;\n\t\t\t\tif (it.hasNext()) eiNext = it.next();\n\t\t\t\tif (eiCurr !== null) {\n\t\t\t\t\tthis.createEdgeEndForPrev(edge, l, eiCurr, eiPrev);\n\t\t\t\t\tthis.createEdgeEndForNext(edge, l, eiCurr, eiNext);\n\t\t\t\t}\n\t\t\t} while (eiCurr !== null);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn EdgeEndBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeEndBuilder.constructor_ = function () {};\n","import Location from '../../geom/Location';\nimport EdgeEnd from '../../geomgraph/EdgeEnd';\nimport Position from '../../geomgraph/Position';\nimport GeometryGraph from '../../geomgraph/GeometryGraph';\nimport Label from '../../geomgraph/Label';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Edge from '../../geomgraph/Edge';\nexport default class EdgeEndBundle extends EdgeEnd {\n\tconstructor() {\n\t\tsuper();\n\t\tEdgeEndBundle.constructor_.apply(this, arguments);\n\t}\n\tinsert(e) {\n\t\tthis._edgeEnds.add(e);\n\t}\n\tprint(out) {\n\t\tout.println(\"EdgeEndBundle--> Label: \" + this._label);\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar ee = it.next();\n\t\t\tee.print(out);\n\t\t\tout.println();\n\t\t}\n\t}\n\titerator() {\n\t\treturn this._edgeEnds.iterator();\n\t}\n\tgetEdgeEnds() {\n\t\treturn this._edgeEnds;\n\t}\n\tcomputeLabelOn(geomIndex, boundaryNodeRule) {\n\t\tvar boundaryCount = 0;\n\t\tvar foundInterior = false;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tvar loc = e.getLabel().getLocation(geomIndex);\n\t\t\tif (loc === Location.BOUNDARY) boundaryCount++;\n\t\t\tif (loc === Location.INTERIOR) foundInterior = true;\n\t\t}\n\t\tvar loc = Location.NONE;\n\t\tif (foundInterior) loc = Location.INTERIOR;\n\t\tif (boundaryCount > 0) {\n\t\t\tloc = GeometryGraph.determineBoundary(boundaryNodeRule, boundaryCount);\n\t\t}\n\t\tthis._label.setLocation(geomIndex, loc);\n\t}\n\tcomputeLabelSide(geomIndex, side) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) {\n\t\t\t\tvar loc = e.getLabel().getLocation(geomIndex, side);\n\t\t\t\tif (loc === Location.INTERIOR) {\n\t\t\t\t\tthis._label.setLocation(geomIndex, side, Location.INTERIOR);\n\t\t\t\t\treturn null;\n\t\t\t\t} else if (loc === Location.EXTERIOR) this._label.setLocation(geomIndex, side, Location.EXTERIOR);\n\t\t\t}\n\t\t}\n\t}\n\tgetLabel() {\n\t\treturn this._label;\n\t}\n\tcomputeLabelSides(geomIndex) {\n\t\tthis.computeLabelSide(geomIndex, Position.LEFT);\n\t\tthis.computeLabelSide(geomIndex, Position.RIGHT);\n\t}\n\tupdateIM(im) {\n\t\tEdge.updateIM(this._label, im);\n\t}\n\tcomputeLabel(boundaryNodeRule) {\n\t\tvar isArea = false;\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar e = it.next();\n\t\t\tif (e.getLabel().isArea()) isArea = true;\n\t\t}\n\t\tif (isArea) this._label = new Label(Location.NONE, Location.NONE, Location.NONE); else this._label = new Label(Location.NONE);\n\t\tfor (var i = 0; i < 2; i++) {\n\t\t\tthis.computeLabelOn(i, boundaryNodeRule);\n\t\t\tif (isArea) this.computeLabelSides(i);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn EdgeEndBundle;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeEndBundle.constructor_ = function () {\n\tthis._edgeEnds = new ArrayList();\n\tif (arguments.length === 1) {\n\t\tlet e = arguments[0];\n\t\tEdgeEndBundle.constructor_.call(this, null, e);\n\t} else if (arguments.length === 2) {\n\t\tlet boundaryNodeRule = arguments[0], e = arguments[1];\n\t\tEdgeEnd.constructor_.call(this, e.getEdge(), e.getCoordinate(), e.getDirectedCoordinate(), new Label(e.getLabel()));\n\t\tthis.insert(e);\n\t}\n};\n","import EdgeEndStar from '../../geomgraph/EdgeEndStar';\nimport EdgeEndBundle from './EdgeEndBundle';\nexport default class EdgeEndBundleStar extends EdgeEndStar {\n\tconstructor() {\n\t\tsuper();\n\t\tEdgeEndBundleStar.constructor_.apply(this, arguments);\n\t}\n\tupdateIM(im) {\n\t\tfor (var it = this.iterator(); it.hasNext(); ) {\n\t\t\tvar esb = it.next();\n\t\t\tesb.updateIM(im);\n\t\t}\n\t}\n\tinsert(e) {\n\t\tvar eb = this._edgeMap.get(e);\n\t\tif (eb === null) {\n\t\t\teb = new EdgeEndBundle(e);\n\t\t\tthis.insertEdgeEnd(e, eb);\n\t\t} else {\n\t\t\teb.insert(e);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn EdgeEndBundleStar;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEdgeEndBundleStar.constructor_ = function () {};\n","import Node from '../../geomgraph/Node';\nexport default class RelateNode extends Node {\n\tconstructor() {\n\t\tsuper();\n\t\tRelateNode.constructor_.apply(this, arguments);\n\t}\n\tupdateIMFromEdges(im) {\n\t\tthis._edges.updateIM(im);\n\t}\n\tcomputeIM(im) {\n\t\tim.setAtLeastIfValid(this._label.getLocation(0), this._label.getLocation(1), 0);\n\t}\n\tgetClass() {\n\t\treturn RelateNode;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRelateNode.constructor_ = function () {\n\tlet coord = arguments[0], edges = arguments[1];\n\tNode.constructor_.call(this, coord, edges);\n};\n","import EdgeEndBundleStar from './EdgeEndBundleStar';\nimport RelateNode from './RelateNode';\nimport NodeFactory from '../../geomgraph/NodeFactory';\nexport default class RelateNodeFactory extends NodeFactory {\n\tconstructor() {\n\t\tsuper();\n\t\tRelateNodeFactory.constructor_.apply(this, arguments);\n\t}\n\tcreateNode(coord) {\n\t\treturn new RelateNode(coord, new EdgeEndBundleStar());\n\t}\n\tgetClass() {\n\t\treturn RelateNodeFactory;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRelateNodeFactory.constructor_ = function () {};\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport IntersectionMatrix from '../../geom/IntersectionMatrix';\nimport EdgeEndBuilder from './EdgeEndBuilder';\nimport NodeMap from '../../geomgraph/NodeMap';\nimport RelateNodeFactory from './RelateNodeFactory';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport Assert from '../../util/Assert';\nexport default class RelateComputer {\n\tconstructor() {\n\t\tRelateComputer.constructor_.apply(this, arguments);\n\t}\n\tinsertEdgeEnds(ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t}\n\tcomputeProperIntersectionIM(intersector, im) {\n\t\tvar dimA = this._arg[0].getGeometry().getDimension();\n\t\tvar dimB = this._arg[1].getGeometry().getDimension();\n\t\tvar hasProper = intersector.hasProperIntersection();\n\t\tvar hasProperInterior = intersector.hasProperInteriorIntersection();\n\t\tif (dimA === 2 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"212101212\");\n\t\t} else if (dimA === 2 && dimB === 1) {\n\t\t\tif (hasProper) im.setAtLeast(\"FFF0FFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1FFFFF1FF\");\n\t\t} else if (dimA === 1 && dimB === 2) {\n\t\t\tif (hasProper) im.setAtLeast(\"F0FFFFFF2\");\n\t\t\tif (hasProperInterior) im.setAtLeast(\"1F1FFFFFF\");\n\t\t} else if (dimA === 1 && dimB === 1) {\n\t\t\tif (hasProperInterior) im.setAtLeast(\"0FFFFFFFF\");\n\t\t}\n\t}\n\tlabelIsolatedEdges(thisIndex, targetIndex) {\n\t\tfor (var ei = this._arg[thisIndex].getEdgeIterator(); ei.hasNext(); ) {\n\t\t\tvar e = ei.next();\n\t\t\tif (e.isIsolated()) {\n\t\t\t\tthis.labelIsolatedEdge(e, targetIndex, this._arg[targetIndex].getGeometry());\n\t\t\t\tthis._isolatedEdges.add(e);\n\t\t\t}\n\t\t}\n\t}\n\tlabelIsolatedEdge(e, targetIndex, target) {\n\t\tif (target.getDimension() > 0) {\n\t\t\tvar loc = this._ptLocator.locate(e.getCoordinate(), target);\n\t\t\te.getLabel().setAllLocations(targetIndex, loc);\n\t\t} else {\n\t\t\te.getLabel().setAllLocations(targetIndex, Location.EXTERIOR);\n\t\t}\n\t}\n\tcomputeIM() {\n\t\tvar im = new IntersectionMatrix();\n\t\tim.set(Location.EXTERIOR, Location.EXTERIOR, 2);\n\t\tif (!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal())) {\n\t\t\tthis.computeDisjointIM(im);\n\t\t\treturn im;\n\t\t}\n\t\tthis._arg[0].computeSelfNodes(this._li, false);\n\t\tthis._arg[1].computeSelfNodes(this._li, false);\n\t\tvar intersector = this._arg[0].computeEdgeIntersections(this._arg[1], this._li, false);\n\t\tthis.computeIntersectionNodes(0);\n\t\tthis.computeIntersectionNodes(1);\n\t\tthis.copyNodesAndLabels(0);\n\t\tthis.copyNodesAndLabels(1);\n\t\tthis.labelIsolatedNodes();\n\t\tthis.computeProperIntersectionIM(intersector, im);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar ee0 = eeBuilder.computeEdgeEnds(this._arg[0].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee0);\n\t\tvar ee1 = eeBuilder.computeEdgeEnds(this._arg[1].getEdgeIterator());\n\t\tthis.insertEdgeEnds(ee1);\n\t\tthis.labelNodeEdges();\n\t\tthis.labelIsolatedEdges(0, 1);\n\t\tthis.labelIsolatedEdges(1, 0);\n\t\tthis.updateIM(im);\n\t\treturn im;\n\t}\n\tlabelNodeEdges() {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.getEdges().computeLabelling(this._arg);\n\t\t}\n\t}\n\tcopyNodesAndLabels(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getNodeIterator(); i.hasNext(); ) {\n\t\t\tvar graphNode = i.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t}\n\tlabelIntersectionNodes(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.find(ei.coord);\n\t\t\t\tif (n.getLabel().isNull(argIndex)) {\n\t\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlabelIsolatedNode(n, targetIndex) {\n\t\tvar loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n\t\tn.getLabel().setAllLocations(targetIndex, loc);\n\t}\n\tcomputeIntersectionNodes(argIndex) {\n\t\tfor (var i = this._arg[argIndex].getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlabelIsolatedNodes() {\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar n = ni.next();\n\t\t\tvar label = n.getLabel();\n\t\t\tAssert.isTrue(label.getGeometryCount() > 0, \"node with empty label found\");\n\t\t\tif (n.isIsolated()) {\n\t\t\t\tif (label.isNull(0)) this.labelIsolatedNode(n, 0); else this.labelIsolatedNode(n, 1);\n\t\t\t}\n\t\t}\n\t}\n\tupdateIM(im) {\n\t\tfor (var ei = this._isolatedEdges.iterator(); ei.hasNext(); ) {\n\t\t\tvar e = ei.next();\n\t\t\te.updateIM(im);\n\t\t}\n\t\tfor (var ni = this._nodes.iterator(); ni.hasNext(); ) {\n\t\t\tvar node = ni.next();\n\t\t\tnode.updateIM(im);\n\t\t\tnode.updateIMFromEdges(im);\n\t\t}\n\t}\n\tcomputeDisjointIM(im) {\n\t\tvar ga = this._arg[0].getGeometry();\n\t\tif (!ga.isEmpty()) {\n\t\t\tim.set(Location.INTERIOR, Location.EXTERIOR, ga.getDimension());\n\t\t\tim.set(Location.BOUNDARY, Location.EXTERIOR, ga.getBoundaryDimension());\n\t\t}\n\t\tvar gb = this._arg[1].getGeometry();\n\t\tif (!gb.isEmpty()) {\n\t\t\tim.set(Location.EXTERIOR, Location.INTERIOR, gb.getDimension());\n\t\t\tim.set(Location.EXTERIOR, Location.BOUNDARY, gb.getBoundaryDimension());\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn RelateComputer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRelateComputer.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._ptLocator = new PointLocator();\n\tthis._arg = null;\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n\tthis._im = null;\n\tthis._isolatedEdges = new ArrayList();\n\tthis._invalidPoint = null;\n\tlet arg = arguments[0];\n\tthis._arg = arg;\n};\n","import LineString from '../../geom/LineString';\nimport Coordinate from '../../geom/Coordinate';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nexport default class RectangleContains {\n\tconstructor() {\n\t\tRectangleContains.constructor_.apply(this, arguments);\n\t}\n\tstatic contains(rectangle, b) {\n\t\tvar rc = new RectangleContains(rectangle);\n\t\treturn rc.contains(b);\n\t}\n\tisContainedInBoundary(geom) {\n\t\tif (geom instanceof Polygon) return false;\n\t\tif (geom instanceof Point) return this.isPointContainedInBoundary(geom);\n\t\tif (geom instanceof LineString) return this.isLineStringContainedInBoundary(geom);\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar comp = geom.getGeometryN(i);\n\t\t\tif (!this.isContainedInBoundary(comp)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tisLineSegmentContainedInBoundary(p0, p1) {\n\t\tif (p0.equals(p1)) return this.isPointContainedInBoundary(p0);\n\t\tif (p0.x === p1.x) {\n\t\t\tif (p0.x === this._rectEnv.getMinX() || p0.x === this._rectEnv.getMaxX()) return true;\n\t\t} else if (p0.y === p1.y) {\n\t\t\tif (p0.y === this._rectEnv.getMinY() || p0.y === this._rectEnv.getMaxY()) return true;\n\t\t}\n\t\treturn false;\n\t}\n\tisLineStringContainedInBoundary(line) {\n\t\tvar seq = line.getCoordinateSequence();\n\t\tvar p0 = new Coordinate();\n\t\tvar p1 = new Coordinate();\n\t\tfor (var i = 0; i < seq.size() - 1; i++) {\n\t\t\tseq.getCoordinate(i, p0);\n\t\t\tseq.getCoordinate(i + 1, p1);\n\t\t\tif (!this.isLineSegmentContainedInBoundary(p0, p1)) return false;\n\t\t}\n\t\treturn true;\n\t}\n\tisPointContainedInBoundary() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet point = arguments[0];\n\t\t\treturn this.isPointContainedInBoundary(point.getCoordinate());\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet pt = arguments[0];\n\t\t\treturn pt.x === this._rectEnv.getMinX() || pt.x === this._rectEnv.getMaxX() || pt.y === this._rectEnv.getMinY() || pt.y === this._rectEnv.getMaxY();\n\t\t}\n\t}\n\tcontains(geom) {\n\t\tif (!this._rectEnv.contains(geom.getEnvelopeInternal())) return false;\n\t\tif (this.isContainedInBoundary(geom)) return false;\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn RectangleContains;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRectangleContains.constructor_ = function () {\n\tthis._rectEnv = null;\n\tlet rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n};\n","import Coordinate from '../geom/Coordinate';\nimport RobustLineIntersector from './RobustLineIntersector';\nimport Envelope from '../geom/Envelope';\nexport default class RectangleLineIntersector {\n\tconstructor() {\n\t\tRectangleLineIntersector.constructor_.apply(this, arguments);\n\t}\n\tintersects(p0, p1) {\n\t\tvar segEnv = new Envelope(p0, p1);\n\t\tif (!this._rectEnv.intersects(segEnv)) return false;\n\t\tif (this._rectEnv.intersects(p0)) return true;\n\t\tif (this._rectEnv.intersects(p1)) return true;\n\t\tif (p0.compareTo(p1) > 0) {\n\t\t\tvar tmp = p0;\n\t\t\tp0 = p1;\n\t\t\tp1 = tmp;\n\t\t}\n\t\tvar isSegUpwards = false;\n\t\tif (p1.y > p0.y) isSegUpwards = true;\n\t\tif (isSegUpwards) {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagDown0, this._diagDown1);\n\t\t} else {\n\t\t\tthis._li.computeIntersection(p0, p1, this._diagUp0, this._diagUp1);\n\t\t}\n\t\tif (this._li.hasIntersection()) return true;\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn RectangleLineIntersector;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRectangleLineIntersector.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._rectEnv = null;\n\tthis._diagUp0 = null;\n\tthis._diagUp1 = null;\n\tthis._diagDown0 = null;\n\tthis._diagDown1 = null;\n\tlet rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n\tthis._diagUp0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMinY());\n\tthis._diagUp1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMaxY());\n\tthis._diagDown0 = new Coordinate(rectEnv.getMinX(), rectEnv.getMaxY());\n\tthis._diagDown1 = new Coordinate(rectEnv.getMaxX(), rectEnv.getMinY());\n};\n","import GeometryCollection from '../GeometryCollection';\nexport default class ShortCircuitedGeometryVisitor {\n\tconstructor() {\n\t\tShortCircuitedGeometryVisitor.constructor_.apply(this, arguments);\n\t}\n\tapplyTo(geom) {\n\t\tfor (var i = 0; i < geom.getNumGeometries() && !this._isDone; i++) {\n\t\t\tvar element = geom.getGeometryN(i);\n\t\t\tif (!(element instanceof GeometryCollection)) {\n\t\t\t\tthis.visit(element);\n\t\t\t\tif (this.isDone()) {\n\t\t\t\t\tthis._isDone = true;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t} else this.applyTo(element);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn ShortCircuitedGeometryVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nShortCircuitedGeometryVisitor.constructor_ = function () {\n\tthis._isDone = false;\n};\n","import Coordinate from '../../geom/Coordinate';\nimport Polygon from '../../geom/Polygon';\nimport RectangleLineIntersector from '../../algorithm/RectangleLineIntersector';\nimport ShortCircuitedGeometryVisitor from '../../geom/util/ShortCircuitedGeometryVisitor';\nimport SimplePointInAreaLocator from '../../algorithm/locate/SimplePointInAreaLocator';\nimport LinearComponentExtracter from '../../geom/util/LinearComponentExtracter';\nexport default class RectangleIntersects {\n\tconstructor() {\n\t\tRectangleIntersects.constructor_.apply(this, arguments);\n\t}\n\tstatic intersects(rectangle, b) {\n\t\tvar rp = new RectangleIntersects(rectangle);\n\t\treturn rp.intersects(b);\n\t}\n\tintersects(geom) {\n\t\tif (!this._rectEnv.intersects(geom.getEnvelopeInternal())) return false;\n\t\tvar visitor = new EnvelopeIntersectsVisitor(this._rectEnv);\n\t\tvisitor.applyTo(geom);\n\t\tif (visitor.intersects()) return true;\n\t\tvar ecpVisitor = new GeometryContainsPointVisitor(this._rectangle);\n\t\tecpVisitor.applyTo(geom);\n\t\tif (ecpVisitor.containsPoint()) return true;\n\t\tvar riVisitor = new RectangleIntersectsSegmentVisitor(this._rectangle);\n\t\triVisitor.applyTo(geom);\n\t\tif (riVisitor.intersects()) return true;\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn RectangleIntersects;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRectangleIntersects.constructor_ = function () {\n\tthis._rectangle = null;\n\tthis._rectEnv = null;\n\tlet rectangle = arguments[0];\n\tthis._rectangle = rectangle;\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n};\nclass EnvelopeIntersectsVisitor extends ShortCircuitedGeometryVisitor {\n\tconstructor() {\n\t\tsuper();\n\t\tEnvelopeIntersectsVisitor.constructor_.apply(this, arguments);\n\t}\n\tisDone() {\n\t\treturn this._intersects === true;\n\t}\n\tvisit(element) {\n\t\tvar elementEnv = element.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._rectEnv.contains(elementEnv)) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinX() >= this._rectEnv.getMinX() && elementEnv.getMaxX() <= this._rectEnv.getMaxX()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t\tif (elementEnv.getMinY() >= this._rectEnv.getMinY() && elementEnv.getMaxY() <= this._rectEnv.getMaxY()) {\n\t\t\tthis._intersects = true;\n\t\t\treturn null;\n\t\t}\n\t}\n\tintersects() {\n\t\treturn this._intersects;\n\t}\n\tgetClass() {\n\t\treturn EnvelopeIntersectsVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nEnvelopeIntersectsVisitor.constructor_ = function () {\n\tthis._rectEnv = null;\n\tthis._intersects = false;\n\tlet rectEnv = arguments[0];\n\tthis._rectEnv = rectEnv;\n};\nclass GeometryContainsPointVisitor extends ShortCircuitedGeometryVisitor {\n\tconstructor() {\n\t\tsuper();\n\t\tGeometryContainsPointVisitor.constructor_.apply(this, arguments);\n\t}\n\tisDone() {\n\t\treturn this._containsPoint === true;\n\t}\n\tvisit(geom) {\n\t\tif (!(geom instanceof Polygon)) return null;\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar rectPt = new Coordinate();\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tthis._rectSeq.getCoordinate(i, rectPt);\n\t\t\tif (!elementEnv.contains(rectPt)) continue;\n\t\t\tif (SimplePointInAreaLocator.containsPointInPolygon(rectPt, geom)) {\n\t\t\t\tthis._containsPoint = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tcontainsPoint() {\n\t\treturn this._containsPoint;\n\t}\n\tgetClass() {\n\t\treturn GeometryContainsPointVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryContainsPointVisitor.constructor_ = function () {\n\tthis._rectSeq = null;\n\tthis._rectEnv = null;\n\tthis._containsPoint = false;\n\tlet rectangle = arguments[0];\n\tthis._rectSeq = rectangle.getExteriorRing().getCoordinateSequence();\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n};\nclass RectangleIntersectsSegmentVisitor extends ShortCircuitedGeometryVisitor {\n\tconstructor() {\n\t\tsuper();\n\t\tRectangleIntersectsSegmentVisitor.constructor_.apply(this, arguments);\n\t}\n\tintersects() {\n\t\treturn this._hasIntersection;\n\t}\n\tisDone() {\n\t\treturn this._hasIntersection === true;\n\t}\n\tvisit(geom) {\n\t\tvar elementEnv = geom.getEnvelopeInternal();\n\t\tif (!this._rectEnv.intersects(elementEnv)) return null;\n\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\tthis.checkIntersectionWithLineStrings(lines);\n\t}\n\tcheckIntersectionWithLineStrings(lines) {\n\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\tvar testLine = i.next();\n\t\t\tthis.checkIntersectionWithSegments(testLine);\n\t\t\tif (this._hasIntersection) return null;\n\t\t}\n\t}\n\tcheckIntersectionWithSegments(testLine) {\n\t\tvar seq1 = testLine.getCoordinateSequence();\n\t\tfor (var j = 1; j < seq1.size(); j++) {\n\t\t\tseq1.getCoordinate(j - 1, this._p0);\n\t\t\tseq1.getCoordinate(j, this._p1);\n\t\t\tif (this._rectIntersector.intersects(this._p0, this._p1)) {\n\t\t\t\tthis._hasIntersection = true;\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn RectangleIntersectsSegmentVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRectangleIntersectsSegmentVisitor.constructor_ = function () {\n\tthis._rectEnv = null;\n\tthis._rectIntersector = null;\n\tthis._hasIntersection = false;\n\tthis._p0 = new Coordinate();\n\tthis._p1 = new Coordinate();\n\tlet rectangle = arguments[0];\n\tthis._rectEnv = rectangle.getEnvelopeInternal();\n\tthis._rectIntersector = new RectangleLineIntersector(this._rectEnv);\n};\n","import RelateComputer from './RelateComputer';\nimport GeometryGraphOperation from '../GeometryGraphOperation';\nimport RectangleContains from '../predicate/RectangleContains';\nimport RectangleIntersects from '../predicate/RectangleIntersects';\nexport default class RelateOp extends GeometryGraphOperation {\n\tconstructor() {\n\t\tsuper();\n\t\tRelateOp.constructor_.apply(this, arguments);\n\t}\n\tstatic covers(g1, g2) {\n\t\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!g1.getEnvelopeInternal().covers(g2.getEnvelopeInternal())) return false;\n\t\tif (g1.isRectangle()) {\n\t\t\treturn true;\n\t\t}\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCovers();\n\t}\n\tstatic intersects(g1, g2) {\n\t\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\t\tif (g1.isRectangle()) {\n\t\t\treturn RectangleIntersects.intersects(g1, g2);\n\t\t}\n\t\tif (g2.isRectangle()) {\n\t\t\treturn RectangleIntersects.intersects(g2, g1);\n\t\t}\n\t\tif (g1.isGeometryCollection() || g2.isGeometryCollection()) {\n\t\t\tvar r = false;\n\t\t\tfor (var i = 0; i < g1.getNumGeometries(); i++) {\n\t\t\t\tfor (var j = 0; j < g2.getNumGeometries(); j++) {\n\t\t\t\t\tif (g1.getGeometryN(i).intersects(g2.getGeometryN(j))) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isIntersects();\n\t}\n\tstatic touches(g1, g2) {\n\t\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isTouches(g1.getDimension(), g2.getDimension());\n\t}\n\tstatic relate() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet a = arguments[0], b = arguments[1];\n\t\t\tvar relOp = new RelateOp(a, b);\n\t\t\tvar im = relOp.getIntersectionMatrix();\n\t\t\treturn im;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet a = arguments[0], b = arguments[1], boundaryNodeRule = arguments[2];\n\t\t\tvar relOp = new RelateOp(a, b, boundaryNodeRule);\n\t\t\tvar im = relOp.getIntersectionMatrix();\n\t\t\treturn im;\n\t\t}\n\t}\n\tstatic overlaps(g1, g2) {\n\t\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isOverlaps(g1.getDimension(), g2.getDimension());\n\t}\n\tstatic crosses(g1, g2) {\n\t\tif (!g1.getEnvelopeInternal().intersects(g2.getEnvelopeInternal())) return false;\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isCrosses(g1.getDimension(), g2.getDimension());\n\t}\n\tstatic contains(g1, g2) {\n\t\tif (g2.getDimension() === 2 && g1.getDimension() < 2) {\n\t\t\treturn false;\n\t\t}\n\t\tif (g2.getDimension() === 1 && g1.getDimension() < 1 && g2.getLength() > 0.0) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!g1.getEnvelopeInternal().contains(g2.getEnvelopeInternal())) return false;\n\t\tif (g1.isRectangle()) {\n\t\t\treturn RectangleContains.contains(g1, g2);\n\t\t}\n\t\treturn new RelateOp(g1, g2).getIntersectionMatrix().isContains();\n\t}\n\tgetIntersectionMatrix() {\n\t\treturn this._relate.computeIM();\n\t}\n\tgetClass() {\n\t\treturn RelateOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRelateOp.constructor_ = function () {\n\tthis._relate = null;\n\tif (arguments.length === 2) {\n\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\tGeometryGraphOperation.constructor_.call(this, g0, g1);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t} else if (arguments.length === 3) {\n\t\tlet g0 = arguments[0], g1 = arguments[1], boundaryNodeRule = arguments[2];\n\t\tGeometryGraphOperation.constructor_.call(this, g0, g1, boundaryNodeRule);\n\t\tthis._relate = new RelateComputer(this._arg);\n\t}\n};\n","import ArrayList from '../../../../../java/util/ArrayList';\nexport default class GeometryCombiner {\n\tconstructor() {\n\t\tGeometryCombiner.constructor_.apply(this, arguments);\n\t}\n\tstatic combine() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tvar combiner = new GeometryCombiner(geoms);\n\t\t\treturn combiner.combine();\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1));\n\t\t\treturn combiner.combine();\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1], g2 = arguments[2];\n\t\t\tvar combiner = new GeometryCombiner(GeometryCombiner.createList(g0, g1, g2));\n\t\t\treturn combiner.combine();\n\t\t}\n\t}\n\tstatic extractFactory(geoms) {\n\t\tif (geoms.isEmpty()) return null;\n\t\treturn geoms.iterator().next().getFactory();\n\t}\n\tstatic createList() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet obj0 = arguments[0], obj1 = arguments[1];\n\t\t\tvar list = new ArrayList();\n\t\t\tlist.add(obj0);\n\t\t\tlist.add(obj1);\n\t\t\treturn list;\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet obj0 = arguments[0], obj1 = arguments[1], obj2 = arguments[2];\n\t\t\tvar list = new ArrayList();\n\t\t\tlist.add(obj0);\n\t\t\tlist.add(obj1);\n\t\t\tlist.add(obj2);\n\t\t\treturn list;\n\t\t}\n\t}\n\textractElements(geom, elems) {\n\t\tif (geom === null) return null;\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elemGeom = geom.getGeometryN(i);\n\t\t\tif (this._skipEmpty && elemGeom.isEmpty()) continue;\n\t\t\telems.add(elemGeom);\n\t\t}\n\t}\n\tcombine() {\n\t\tvar elems = new ArrayList();\n\t\tfor (var i = this._inputGeoms.iterator(); i.hasNext(); ) {\n\t\t\tvar g = i.next();\n\t\t\tthis.extractElements(g, elems);\n\t\t}\n\t\tif (elems.size() === 0) {\n\t\t\tif (this._geomFactory !== null) {\n\t\t\t\treturn this._geomFactory.createGeometryCollection();\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(elems);\n\t}\n\tgetClass() {\n\t\treturn GeometryCombiner;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryCombiner.constructor_ = function () {\n\tthis._geomFactory = null;\n\tthis._skipEmpty = false;\n\tthis._inputGeoms = null;\n\tlet geoms = arguments[0];\n\tthis._geomFactory = GeometryCombiner.extractFactory(geoms);\n\tthis._inputGeoms = geoms;\n};\n","import PointLocator from '../../algorithm/PointLocator';\nimport Location from '../../geom/Location';\nimport TreeSet from '../../../../../java/util/TreeSet';\nimport GeometryCombiner from '../../geom/util/GeometryCombiner';\nimport CoordinateArrays from '../../geom/CoordinateArrays';\nexport default class PointGeometryUnion {\n\tconstructor() {\n\t\tPointGeometryUnion.constructor_.apply(this, arguments);\n\t}\n\tstatic union(pointGeom, otherGeom) {\n\t\tvar unioner = new PointGeometryUnion(pointGeom, otherGeom);\n\t\treturn unioner.union();\n\t}\n\tunion() {\n\t\tvar locater = new PointLocator();\n\t\tvar exteriorCoords = new TreeSet();\n\t\tfor (var i = 0; i < this._pointGeom.getNumGeometries(); i++) {\n\t\t\tvar point = this._pointGeom.getGeometryN(i);\n\t\t\tvar coord = point.getCoordinate();\n\t\t\tvar loc = locater.locate(coord, this._otherGeom);\n\t\t\tif (loc === Location.EXTERIOR) exteriorCoords.add(coord);\n\t\t}\n\t\tif (exteriorCoords.size() === 0) return this._otherGeom;\n\t\tvar ptComp = null;\n\t\tvar coords = CoordinateArrays.toCoordinateArray(exteriorCoords);\n\t\tif (coords.length === 1) {\n\t\t\tptComp = this._geomFact.createPoint(coords[0]);\n\t\t} else {\n\t\t\tptComp = this._geomFact.createMultiPointFromCoords(coords);\n\t\t}\n\t\treturn GeometryCombiner.combine(ptComp, this._otherGeom);\n\t}\n\tgetClass() {\n\t\treturn PointGeometryUnion;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPointGeometryUnion.constructor_ = function () {\n\tthis._pointGeom = null;\n\tthis._otherGeom = null;\n\tthis._geomFact = null;\n\tlet pointGeom = arguments[0], otherGeom = arguments[1];\n\tthis._pointGeom = pointGeom;\n\tthis._otherGeom = otherGeom;\n\tthis._geomFact = otherGeom.getFactory();\n};\n","import Geometry from '../Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport GeometryCollection from '../GeometryCollection';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryFilter from '../GeometryFilter';\nimport List from '../../../../../java/util/List';\nexport default class GeometryExtracter {\n\tconstructor() {\n\t\tGeometryExtracter.constructor_.apply(this, arguments);\n\t}\n\tstatic isOfType(geom, geometryType) {\n\t\tif (geom.getGeometryType() === geometryType) return true;\n\t\tif (geometryType === Geometry.TYPENAME_LINESTRING && geom.getGeometryType() === Geometry.TYPENAME_LINEARRING) return true;\n\t\treturn false;\n\t}\n\tstatic extract() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet geom = arguments[0], geometryType = arguments[1];\n\t\t\treturn GeometryExtracter.extract(geom, geometryType, new ArrayList());\n\t\t} else if (arguments.length === 3) {\n\t\t\tif (hasInterface(arguments[2], List) && (arguments[0] instanceof Geometry && typeof arguments[1] === \"string\")) {\n\t\t\t\tlet geom = arguments[0], geometryType = arguments[1], list = arguments[2];\n\t\t\t\tif (geom.getGeometryType() === geometryType) {\n\t\t\t\t\tlist.add(geom);\n\t\t\t\t} else if (geom instanceof GeometryCollection) {\n\t\t\t\t\tgeom.apply(new GeometryExtracter(geometryType, list));\n\t\t\t\t}\n\t\t\t\treturn list;\n\t\t\t} else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Geometry && arguments[1] instanceof Class)) {\n\t\t\t\tlet geom = arguments[0], clz = arguments[1], list = arguments[2];\n\t\t\t\treturn GeometryExtracter.extract(geom, GeometryExtracter.toGeometryType(clz), list);\n\t\t\t}\n\t\t}\n\t}\n\tfilter(geom) {\n\t\tif (this._geometryType === null || GeometryExtracter.isOfType(geom, this._geometryType)) this._comps.add(geom);\n\t}\n\tgetClass() {\n\t\treturn GeometryExtracter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryFilter];\n\t}\n}\nGeometryExtracter.constructor_ = function () {\n\tthis._geometryType = null;\n\tthis._comps = null;\n\tlet geometryType = arguments[0], comps = arguments[1];\n\tthis._geometryType = geometryType;\n\tthis._comps = comps;\n};\n","import PolygonExtracter from '../../geom/util/PolygonExtracter';\nimport STRtree from '../../index/strtree/STRtree';\nimport Geometry from '../../geom/Geometry';\nimport hasInterface from '../../../../../hasInterface';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport GeometryCombiner from '../../geom/util/GeometryCombiner';\nimport Polygonal from '../../geom/Polygonal';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport List from '../../../../../java/util/List';\nexport default class CascadedPolygonUnion {\n\tconstructor() {\n\t\tCascadedPolygonUnion.constructor_.apply(this, arguments);\n\t}\n\tstatic restrictToPolygons(g) {\n\t\tif (hasInterface(g, Polygonal)) {\n\t\t\treturn g;\n\t\t}\n\t\tvar polygons = PolygonExtracter.getPolygons(g);\n\t\tif (polygons.size() === 1) return polygons.get(0);\n\t\treturn g.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(polygons));\n\t}\n\tstatic getGeometry(list, index) {\n\t\tif (index >= list.size()) return null;\n\t\treturn list.get(index);\n\t}\n\tstatic union(polys) {\n\t\tvar op = new CascadedPolygonUnion(polys);\n\t\treturn op.union();\n\t}\n\treduceToGeometries(geomTree) {\n\t\tvar geoms = new ArrayList();\n\t\tfor (var i = geomTree.iterator(); i.hasNext(); ) {\n\t\t\tvar o = i.next();\n\t\t\tvar geom = null;\n\t\t\tif (hasInterface(o, List)) {\n\t\t\t\tgeom = this.unionTree(o);\n\t\t\t} else if (o instanceof Geometry) {\n\t\t\t\tgeom = o;\n\t\t\t}\n\t\t\tgeoms.add(geom);\n\t\t}\n\t\treturn geoms;\n\t}\n\textractByEnvelope(env, geom, disjointGeoms) {\n\t\tvar intersectingGeoms = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar elem = geom.getGeometryN(i);\n\t\t\tif (elem.getEnvelopeInternal().intersects(env)) intersectingGeoms.add(elem); else disjointGeoms.add(elem);\n\t\t}\n\t\treturn this._geomFactory.buildGeometry(intersectingGeoms);\n\t}\n\tunionOptimized(g0, g1) {\n\t\tvar g0Env = g0.getEnvelopeInternal();\n\t\tvar g1Env = g1.getEnvelopeInternal();\n\t\tif (!g0Env.intersects(g1Env)) {\n\t\t\tvar combo = GeometryCombiner.combine(g0, g1);\n\t\t\treturn combo;\n\t\t}\n\t\tif (g0.getNumGeometries() <= 1 && g1.getNumGeometries() <= 1) return this.unionActual(g0, g1);\n\t\tvar commonEnv = g0Env.intersection(g1Env);\n\t\treturn this.unionUsingEnvelopeIntersection(g0, g1, commonEnv);\n\t}\n\tunion() {\n\t\tif (this._inputPolys === null) throw new IllegalStateException(\"union() method cannot be called twice\");\n\t\tif (this._inputPolys.isEmpty()) return null;\n\t\tthis._geomFactory = this._inputPolys.iterator().next().getFactory();\n\t\tvar index = new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY);\n\t\tfor (var i = this._inputPolys.iterator(); i.hasNext(); ) {\n\t\t\tvar item = i.next();\n\t\t\tindex.insert(item.getEnvelopeInternal(), item);\n\t\t}\n\t\tthis._inputPolys = null;\n\t\tvar itemTree = index.itemsTree();\n\t\tvar unionAll = this.unionTree(itemTree);\n\t\treturn unionAll;\n\t}\n\tbinaryUnion() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geoms = arguments[0];\n\t\t\treturn this.binaryUnion(geoms, 0, geoms.size());\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet geoms = arguments[0], start = arguments[1], end = arguments[2];\n\t\t\tif (end - start <= 1) {\n\t\t\t\tvar g0 = CascadedPolygonUnion.getGeometry(geoms, start);\n\t\t\t\treturn this.unionSafe(g0, null);\n\t\t\t} else if (end - start === 2) {\n\t\t\t\treturn this.unionSafe(CascadedPolygonUnion.getGeometry(geoms, start), CascadedPolygonUnion.getGeometry(geoms, start + 1));\n\t\t\t} else {\n\t\t\t\tvar mid = Math.trunc((end + start) / 2);\n\t\t\t\tvar g0 = this.binaryUnion(geoms, start, mid);\n\t\t\t\tvar g1 = this.binaryUnion(geoms, mid, end);\n\t\t\t\treturn this.unionSafe(g0, g1);\n\t\t\t}\n\t\t}\n\t}\n\trepeatedUnion(geoms) {\n\t\tvar union = null;\n\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\tvar g = i.next();\n\t\t\tif (union === null) union = g.copy(); else union = union.union(g);\n\t\t}\n\t\treturn union;\n\t}\n\tunionSafe(g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g0 === null) return g1.copy();\n\t\tif (g1 === null) return g0.copy();\n\t\treturn this.unionOptimized(g0, g1);\n\t}\n\tunionActual(g0, g1) {\n\t\treturn CascadedPolygonUnion.restrictToPolygons(g0.union(g1));\n\t}\n\tunionTree(geomTree) {\n\t\tvar geoms = this.reduceToGeometries(geomTree);\n\t\tvar union = this.binaryUnion(geoms);\n\t\treturn union;\n\t}\n\tunionUsingEnvelopeIntersection(g0, g1, common) {\n\t\tvar disjointPolys = new ArrayList();\n\t\tvar g0Int = this.extractByEnvelope(common, g0, disjointPolys);\n\t\tvar g1Int = this.extractByEnvelope(common, g1, disjointPolys);\n\t\tvar union = this.unionActual(g0Int, g1Int);\n\t\tdisjointPolys.add(union);\n\t\tvar overallUnion = GeometryCombiner.combine(disjointPolys);\n\t\treturn overallUnion;\n\t}\n\tbufferUnion() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tvar factory = geoms.get(0).getFactory();\n\t\t\tvar gColl = factory.buildGeometry(geoms);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet g0 = arguments[0], g1 = arguments[1];\n\t\t\tvar factory = g0.getFactory();\n\t\t\tvar gColl = factory.createGeometryCollection([g0, g1]);\n\t\t\tvar unionAll = gColl.buffer(0.0);\n\t\t\treturn unionAll;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn CascadedPolygonUnion;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nCascadedPolygonUnion.constructor_ = function () {\n\tthis._inputPolys = null;\n\tthis._geomFactory = null;\n\tlet polys = arguments[0];\n\tthis._inputPolys = polys;\n\tif (this._inputPolys === null) this._inputPolys = new ArrayList();\n};\nCascadedPolygonUnion.STRTREE_NODE_CAPACITY = 4;\n","import Geometry from '../../geom/Geometry';\nimport PointGeometryUnion from './PointGeometryUnion';\nimport hasInterface from '../../../../../hasInterface';\nimport Collection from '../../../../../java/util/Collection';\nimport SnapIfNeededOverlayOp from '../overlay/snap/SnapIfNeededOverlayOp';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport GeometryExtracter from '../../geom/util/GeometryExtracter';\nimport OverlayOp from '../overlay/OverlayOp';\nimport CascadedPolygonUnion from './CascadedPolygonUnion';\nexport default class UnaryUnionOp {\n\tconstructor() {\n\t\tUnaryUnionOp.constructor_.apply(this, arguments);\n\t}\n\tstatic union() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\t\tlet geoms = arguments[0];\n\t\t\t\tvar op = new UnaryUnionOp(geoms);\n\t\t\t\treturn op.union();\n\t\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\t\tlet geom = arguments[0];\n\t\t\t\tvar op = new UnaryUnionOp(geom);\n\t\t\t\treturn op.union();\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet geoms = arguments[0], geomFact = arguments[1];\n\t\t\tvar op = new UnaryUnionOp(geoms, geomFact);\n\t\t\treturn op.union();\n\t\t}\n\t}\n\tunionNoOpt(g0) {\n\t\tvar empty = this._geomFact.createPoint();\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g0, empty, OverlayOp.UNION);\n\t}\n\tunionWithNull(g0, g1) {\n\t\tif (g0 === null && g1 === null) return null;\n\t\tif (g1 === null) return g0;\n\t\tif (g0 === null) return g1;\n\t\treturn g0.union(g1);\n\t}\n\textract() {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tfor (var i = geoms.iterator(); i.hasNext(); ) {\n\t\t\t\tvar geom = i.next();\n\t\t\t\tthis.extract(geom);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tif (this._geomFact === null) this._geomFact = geom.getFactory();\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_POLYGON, this._polygons);\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_LINESTRING, this._lines);\n\t\t\tGeometryExtracter.extract(geom, Geometry.TYPENAME_POINT, this._points);\n\t\t}\n\t}\n\tunion() {\n\t\tif (this._geomFact === null) {\n\t\t\treturn null;\n\t\t}\n\t\tvar unionPoints = null;\n\t\tif (this._points.size() > 0) {\n\t\t\tvar ptGeom = this._geomFact.buildGeometry(this._points);\n\t\t\tunionPoints = this.unionNoOpt(ptGeom);\n\t\t}\n\t\tvar unionLines = null;\n\t\tif (this._lines.size() > 0) {\n\t\t\tvar lineGeom = this._geomFact.buildGeometry(this._lines);\n\t\t\tunionLines = this.unionNoOpt(lineGeom);\n\t\t}\n\t\tvar unionPolygons = null;\n\t\tif (this._polygons.size() > 0) {\n\t\t\tunionPolygons = CascadedPolygonUnion.union(this._polygons);\n\t\t}\n\t\tvar unionLA = this.unionWithNull(unionLines, unionPolygons);\n\t\tvar union = null;\n\t\tif (unionPoints === null) union = unionLA; else if (unionLA === null) union = unionPoints; else union = PointGeometryUnion.union(unionPoints, unionLA);\n\t\tif (union === null) return this._geomFact.createGeometryCollection();\n\t\treturn union;\n\t}\n\tgetClass() {\n\t\treturn UnaryUnionOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nUnaryUnionOp.constructor_ = function () {\n\tthis._polygons = new ArrayList();\n\tthis._lines = new ArrayList();\n\tthis._points = new ArrayList();\n\tthis._geomFact = null;\n\tif (arguments.length === 1) {\n\t\tif (hasInterface(arguments[0], Collection)) {\n\t\t\tlet geoms = arguments[0];\n\t\t\tthis.extract(geoms);\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis.extract(geom);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet geoms = arguments[0], geomFact = arguments[1];\n\t\tthis._geomFact = geomFact;\n\t\tthis.extract(geoms);\n\t}\n};\n","import Location from '../../geom/Location';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Position from '../../geomgraph/Position';\nimport Polygon from '../../geom/Polygon';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport MaximalEdgeRing from '../overlay/MaximalEdgeRing';\nimport OverlayNodeFactory from '../overlay/OverlayNodeFactory';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Assert from '../../util/Assert';\nimport PlanarGraph from '../../geomgraph/PlanarGraph';\nexport default class ConnectedInteriorTester {\n\tconstructor() {\n\t\tConnectedInteriorTester.constructor_.apply(this, arguments);\n\t}\n\tstatic findDifferentPoint(coord, pt) {\n\t\tfor (var i = 0; i < coord.length; i++) {\n\t\t\tif (!coord[i].equals(pt)) return coord[i];\n\t\t}\n\t\treturn null;\n\t}\n\tvisitInteriorRing(ring, graph) {\n\t\tvar pts = ring.getCoordinates();\n\t\tvar pt0 = pts[0];\n\t\tvar pt1 = ConnectedInteriorTester.findDifferentPoint(pts, pt0);\n\t\tvar e = graph.findEdgeInSameDirection(pt0, pt1);\n\t\tvar de = graph.findEdgeEnd(e);\n\t\tvar intDe = null;\n\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de;\n\t\t} else if (de.getSym().getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\tintDe = de.getSym();\n\t\t}\n\t\tAssert.isTrue(intDe !== null, \"unable to find dirEdge with Interior on RHS\");\n\t\tthis.visitLinkedDirectedEdges(intDe);\n\t}\n\tvisitShellInteriors(g, graph) {\n\t\tif (g instanceof Polygon) {\n\t\t\tvar p = g;\n\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t}\n\t\tif (g instanceof MultiPolygon) {\n\t\t\tvar mp = g;\n\t\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\t\tvar p = mp.getGeometryN(i);\n\t\t\t\tthis.visitInteriorRing(p.getExteriorRing(), graph);\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\treturn this._disconnectedRingcoord;\n\t}\n\tsetInteriorEdgesInResult(graph) {\n\t\tfor (var it = graph.getEdgeEnds().iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) === Location.INTERIOR) {\n\t\t\t\tde.setInResult(true);\n\t\t\t}\n\t\t}\n\t}\n\tvisitLinkedDirectedEdges(start) {\n\t\tvar startDe = start;\n\t\tvar de = start;\n\t\tdo {\n\t\t\tAssert.isTrue(de !== null, \"found null Directed Edge\");\n\t\t\tde.setVisited(true);\n\t\t\tde = de.getNext();\n\t\t} while (de !== startDe);\n\t}\n\tbuildEdgeRings(dirEdges) {\n\t\tvar edgeRings = new ArrayList();\n\t\tfor (var it = dirEdges.iterator(); it.hasNext(); ) {\n\t\t\tvar de = it.next();\n\t\t\tif (de.isInResult() && de.getEdgeRing() === null) {\n\t\t\t\tvar er = new MaximalEdgeRing(de, this._geometryFactory);\n\t\t\t\ter.linkDirectedEdgesForMinimalEdgeRings();\n\t\t\t\tvar minEdgeRings = er.buildMinimalRings();\n\t\t\t\tedgeRings.addAll(minEdgeRings);\n\t\t\t}\n\t\t}\n\t\treturn edgeRings;\n\t}\n\thasUnvisitedShellEdge(edgeRings) {\n\t\tfor (var i = 0; i < edgeRings.size(); i++) {\n\t\t\tvar er = edgeRings.get(i);\n\t\t\tif (er.isHole()) continue;\n\t\t\tvar edges = er.getEdges();\n\t\t\tvar de = edges.get(0);\n\t\t\tif (de.getLabel().getLocation(0, Position.RIGHT) !== Location.INTERIOR) continue;\n\t\t\tfor (var j = 0; j < edges.size(); j++) {\n\t\t\t\tde = edges.get(j);\n\t\t\t\tif (!de.isVisited()) {\n\t\t\t\t\tthis._disconnectedRingcoord = de.getCoordinate();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tisInteriorsConnected() {\n\t\tvar splitEdges = new ArrayList();\n\t\tthis._geomGraph.computeSplitEdges(splitEdges);\n\t\tvar graph = new PlanarGraph(new OverlayNodeFactory());\n\t\tgraph.addEdges(splitEdges);\n\t\tthis.setInteriorEdgesInResult(graph);\n\t\tgraph.linkResultDirectedEdges();\n\t\tvar edgeRings = this.buildEdgeRings(graph.getEdgeEnds());\n\t\tthis.visitShellInteriors(this._geomGraph.getGeometry(), graph);\n\t\treturn !this.hasUnvisitedShellEdge(edgeRings);\n\t}\n\tgetClass() {\n\t\treturn ConnectedInteriorTester;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConnectedInteriorTester.constructor_ = function () {\n\tthis._geometryFactory = new GeometryFactory();\n\tthis._geomGraph = null;\n\tthis._disconnectedRingcoord = null;\n\tlet geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n};\n","import Location from '../../geom/Location';\nimport EdgeEndBuilder from './EdgeEndBuilder';\nimport NodeMap from '../../geomgraph/NodeMap';\nimport RelateNodeFactory from './RelateNodeFactory';\nexport default class RelateNodeGraph {\n\tconstructor() {\n\t\tRelateNodeGraph.constructor_.apply(this, arguments);\n\t}\n\tinsertEdgeEnds(ee) {\n\t\tfor (var i = ee.iterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis._nodes.add(e);\n\t\t}\n\t}\n\tgetNodeIterator() {\n\t\treturn this._nodes.iterator();\n\t}\n\tcopyNodesAndLabels(geomGraph, argIndex) {\n\t\tfor (var nodeIt = geomGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar graphNode = nodeIt.next();\n\t\t\tvar newNode = this._nodes.addNode(graphNode.getCoordinate());\n\t\t\tnewNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n\t\t}\n\t}\n\tbuild(geomGraph) {\n\t\tthis.computeIntersectionNodes(geomGraph, 0);\n\t\tthis.copyNodesAndLabels(geomGraph, 0);\n\t\tvar eeBuilder = new EdgeEndBuilder();\n\t\tvar eeList = eeBuilder.computeEdgeEnds(geomGraph.getEdgeIterator());\n\t\tthis.insertEdgeEnds(eeList);\n\t}\n\tcomputeIntersectionNodes(geomGraph, argIndex) {\n\t\tfor (var edgeIt = geomGraph.getEdgeIterator(); edgeIt.hasNext(); ) {\n\t\t\tvar e = edgeIt.next();\n\t\t\tvar eLoc = e.getLabel().getLocation(argIndex);\n\t\t\tfor (var eiIt = e.getEdgeIntersectionList().iterator(); eiIt.hasNext(); ) {\n\t\t\t\tvar ei = eiIt.next();\n\t\t\t\tvar n = this._nodes.addNode(ei.coord);\n\t\t\t\tif (eLoc === Location.BOUNDARY) n.setLabelBoundary(argIndex); else {\n\t\t\t\t\tif (n.getLabel().isNull(argIndex)) n.setLabel(argIndex, Location.INTERIOR);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn RelateNodeGraph;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nRelateNodeGraph.constructor_ = function () {\n\tthis._nodes = new NodeMap(new RelateNodeFactory());\n};\n","import RelateNodeGraph from '../relate/RelateNodeGraph';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nexport default class ConsistentAreaTester {\n\tconstructor() {\n\t\tConsistentAreaTester.constructor_.apply(this, arguments);\n\t}\n\tisNodeEdgeAreaLabelsConsistent() {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tif (!node.getEdges().isAreaLabelsConsistent(this._geomGraph)) {\n\t\t\t\tthis._invalidPoint = node.getCoordinate().copy();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tgetInvalidPoint() {\n\t\treturn this._invalidPoint;\n\t}\n\thasDuplicateRings() {\n\t\tfor (var nodeIt = this._nodeGraph.getNodeIterator(); nodeIt.hasNext(); ) {\n\t\t\tvar node = nodeIt.next();\n\t\t\tfor (var i = node.getEdges().iterator(); i.hasNext(); ) {\n\t\t\t\tvar eeb = i.next();\n\t\t\t\tif (eeb.getEdgeEnds().size() > 1) {\n\t\t\t\t\tthis._invalidPoint = eeb.getEdge().getCoordinate(0);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tisNodeConsistentArea() {\n\t\tvar intersector = this._geomGraph.computeSelfNodes(this._li, true, true);\n\t\tif (intersector.hasProperIntersection()) {\n\t\t\tthis._invalidPoint = intersector.getProperIntersectionPoint();\n\t\t\treturn false;\n\t\t}\n\t\tthis._nodeGraph.build(this._geomGraph);\n\t\treturn this.isNodeEdgeAreaLabelsConsistent();\n\t}\n\tgetClass() {\n\t\treturn ConsistentAreaTester;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConsistentAreaTester.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._geomGraph = null;\n\tthis._nodeGraph = new RelateNodeGraph();\n\tthis._invalidPoint = null;\n\tlet geomGraph = arguments[0];\n\tthis._geomGraph = geomGraph;\n};\n","import STRtree from '../../index/strtree/STRtree';\nimport IsValidOp from './IsValidOp';\nimport PointLocation from '../../algorithm/PointLocation';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nexport default class IndexedNestedRingTester {\n\tconstructor() {\n\t\tIndexedNestedRingTester.constructor_.apply(this, arguments);\n\t}\n\tbuildIndex() {\n\t\tthis._index = new STRtree();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar ring = this._rings.get(i);\n\t\t\tvar env = ring.getEnvelopeInternal();\n\t\t\tthis._index.insert(env, ring);\n\t\t}\n\t}\n\tgetNestedPoint() {\n\t\treturn this._nestedPt;\n\t}\n\tisNonNested() {\n\t\tthis.buildIndex();\n\t\tfor (var i = 0; i < this._rings.size(); i++) {\n\t\t\tvar innerRing = this._rings.get(i);\n\t\t\tvar innerRingPts = innerRing.getCoordinates();\n\t\t\tvar results = this._index.query(innerRing.getEnvelopeInternal());\n\t\t\tfor (var j = 0; j < results.size(); j++) {\n\t\t\t\tvar searchRing = results.get(j);\n\t\t\t\tvar searchRingPts = searchRing.getCoordinates();\n\t\t\t\tif (innerRing === searchRing) continue;\n\t\t\t\tif (!innerRing.getEnvelopeInternal().intersects(searchRing.getEnvelopeInternal())) continue;\n\t\t\t\tvar innerRingPt = IsValidOp.findPtNotNode(innerRingPts, searchRing, this._graph);\n\t\t\t\tif (innerRingPt === null) continue;\n\t\t\t\tvar isInside = PointLocation.isInRing(innerRingPt, searchRingPts);\n\t\t\t\tif (isInside) {\n\t\t\t\t\tthis._nestedPt = innerRingPt;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\tadd(ring) {\n\t\tthis._rings.add(ring);\n\t\tthis._totalEnv.expandToInclude(ring.getEnvelopeInternal());\n\t}\n\tgetClass() {\n\t\treturn IndexedNestedRingTester;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIndexedNestedRingTester.constructor_ = function () {\n\tthis._graph = null;\n\tthis._rings = new ArrayList();\n\tthis._totalEnv = new Envelope();\n\tthis._index = null;\n\tthis._nestedPt = null;\n\tlet graph = arguments[0];\n\tthis._graph = graph;\n};\n","export default class TopologyValidationError {\n\tconstructor() {\n\t\tTopologyValidationError.constructor_.apply(this, arguments);\n\t}\n\tgetErrorType() {\n\t\treturn this._errorType;\n\t}\n\tgetMessage() {\n\t\treturn TopologyValidationError.errMsg[this._errorType];\n\t}\n\tgetCoordinate() {\n\t\treturn this._pt;\n\t}\n\ttoString() {\n\t\tvar locStr = \"\";\n\t\tif (this._pt !== null) locStr = \" at or near point \" + this._pt;\n\t\treturn this.getMessage() + locStr;\n\t}\n\tgetClass() {\n\t\treturn TopologyValidationError;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTopologyValidationError.constructor_ = function () {\n\tthis._errorType = null;\n\tthis._pt = null;\n\tif (arguments.length === 1) {\n\t\tlet errorType = arguments[0];\n\t\tTopologyValidationError.constructor_.call(this, errorType, null);\n\t} else if (arguments.length === 2) {\n\t\tlet errorType = arguments[0], pt = arguments[1];\n\t\tthis._errorType = errorType;\n\t\tif (pt !== null) this._pt = pt.copy();\n\t}\n};\nTopologyValidationError.ERROR = 0;\nTopologyValidationError.REPEATED_POINT = 1;\nTopologyValidationError.HOLE_OUTSIDE_SHELL = 2;\nTopologyValidationError.NESTED_HOLES = 3;\nTopologyValidationError.DISCONNECTED_INTERIOR = 4;\nTopologyValidationError.SELF_INTERSECTION = 5;\nTopologyValidationError.RING_SELF_INTERSECTION = 6;\nTopologyValidationError.NESTED_SHELLS = 7;\nTopologyValidationError.DUPLICATE_RINGS = 8;\nTopologyValidationError.TOO_FEW_POINTS = 9;\nTopologyValidationError.INVALID_COORDINATE = 10;\nTopologyValidationError.RING_NOT_CLOSED = 11;\nTopologyValidationError.errMsg = [\"Topology Validation Error\", \"Repeated Point\", \"Hole lies outside shell\", \"Holes are nested\", \"Interior is disconnected\", \"Self-intersection\", \"Ring Self-intersection\", \"Nested shells\", \"Duplicate Rings\", \"Too few distinct points in geometry component\", \"Invalid Coordinate\", \"Ring is not closed\"];\n","import Location from '../../geom/Location';\nimport TreeSet from '../../../../../java/util/TreeSet';\nimport LineString from '../../geom/LineString';\nimport Geometry from '../../geom/Geometry';\nimport ConnectedInteriorTester from './ConnectedInteriorTester';\nimport Coordinate from '../../geom/Coordinate';\nimport Point from '../../geom/Point';\nimport Polygon from '../../geom/Polygon';\nimport MultiPoint from '../../geom/MultiPoint';\nimport PointLocation from '../../algorithm/PointLocation';\nimport LinearRing from '../../geom/LinearRing';\nimport Double from '../../../../../java/lang/Double';\nimport GeometryGraph from '../../geomgraph/GeometryGraph';\nimport MultiPolygon from '../../geom/MultiPolygon';\nimport ConsistentAreaTester from './ConsistentAreaTester';\nimport GeometryCollection from '../../geom/GeometryCollection';\nimport IndexedNestedRingTester from './IndexedNestedRingTester';\nimport RobustLineIntersector from '../../algorithm/RobustLineIntersector';\nimport TopologyValidationError from './TopologyValidationError';\nimport IndexedPointInAreaLocator from '../../algorithm/locate/IndexedPointInAreaLocator';\nimport Assert from '../../util/Assert';\nexport default class IsValidOp {\n\tconstructor() {\n\t\tIsValidOp.constructor_.apply(this, arguments);\n\t}\n\tstatic findPtNotNode(testCoords, searchRing, graph) {\n\t\tvar searchEdge = graph.findEdge(searchRing);\n\t\tvar eiList = searchEdge.getEdgeIntersectionList();\n\t\tfor (var i = 0; i < testCoords.length; i++) {\n\t\t\tvar pt = testCoords[i];\n\t\t\tif (!eiList.isIntersection(pt)) return pt;\n\t\t}\n\t\treturn null;\n\t}\n\tstatic isValid() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tvar isValidOp = new IsValidOp(geom);\n\t\t\treturn isValidOp.isValid();\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet coord = arguments[0];\n\t\t\tif (Double.isNaN(coord.x)) return false;\n\t\t\tif (Double.isInfinite(coord.x)) return false;\n\t\t\tif (Double.isNaN(coord.y)) return false;\n\t\t\tif (Double.isInfinite(coord.y)) return false;\n\t\t\treturn true;\n\t\t}\n\t}\n\tcheckInvalidCoordinates() {\n\t\tif (arguments[0] instanceof Array) {\n\t\t\tlet coords = arguments[0];\n\t\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\t\tif (!IsValidOp.isValid(coords[i])) {\n\t\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.INVALID_COORDINATE, coords[i]);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tlet poly = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(poly.getExteriorRing().getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\t\tthis.checkInvalidCoordinates(poly.getInteriorRingN(i).getCoordinates());\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t}\n\tcheckHolesNotNested(p, graph) {\n\t\tvar nestedTester = new IndexedNestedRingTester(graph);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar innerHole = p.getInteriorRingN(i);\n\t\t\tnestedTester.add(innerHole);\n\t\t}\n\t\tvar isNonNested = nestedTester.isNonNested();\n\t\tif (!isNonNested) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_HOLES, nestedTester.getNestedPoint());\n\t\t}\n\t}\n\tcheckConsistentArea(graph) {\n\t\tvar cat = new ConsistentAreaTester(graph);\n\t\tvar isValidArea = cat.isNodeConsistentArea();\n\t\tif (!isValidArea) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.SELF_INTERSECTION, cat.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t\tif (cat.hasDuplicateRings()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.DUPLICATE_RINGS, cat.getInvalidPoint());\n\t\t}\n\t}\n\tisValid() {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr === null;\n\t}\n\tcheckShellInsideHole(shell, hole, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar holePts = hole.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, hole, graph);\n\t\tif (shellPt !== null) {\n\t\t\tvar insideHole = PointLocation.isInRing(shellPt, holePts);\n\t\t\tif (!insideHole) {\n\t\t\t\treturn shellPt;\n\t\t\t}\n\t\t}\n\t\tvar holePt = IsValidOp.findPtNotNode(holePts, shell, graph);\n\t\tif (holePt !== null) {\n\t\t\tvar insideShell = PointLocation.isInRing(holePt, shellPts);\n\t\t\tif (insideShell) {\n\t\t\t\treturn holePt;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tAssert.shouldNeverReachHere(\"points in shell and hole appear to be equal\");\n\t\treturn null;\n\t}\n\tcheckNoSelfIntersectingRings(graph) {\n\t\tfor (var i = graph.getEdgeIterator(); i.hasNext(); ) {\n\t\t\tvar e = i.next();\n\t\t\tthis.checkNoSelfIntersectingRing(e.getEdgeIntersectionList());\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t}\n\tcheckConnectedInteriors(graph) {\n\t\tvar cit = new ConnectedInteriorTester(graph);\n\t\tif (!cit.isInteriorsConnected()) this._validErr = new TopologyValidationError(TopologyValidationError.DISCONNECTED_INTERIOR, cit.getCoordinate());\n\t}\n\tcheckNoSelfIntersectingRing(eiList) {\n\t\tvar nodeSet = new TreeSet();\n\t\tvar isFirst = true;\n\t\tfor (var i = eiList.iterator(); i.hasNext(); ) {\n\t\t\tvar ei = i.next();\n\t\t\tif (isFirst) {\n\t\t\t\tisFirst = false;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (nodeSet.contains(ei.coord)) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_SELF_INTERSECTION, ei.coord);\n\t\t\t\treturn null;\n\t\t\t} else {\n\t\t\t\tnodeSet.add(ei.coord);\n\t\t\t}\n\t\t}\n\t}\n\tcheckHolesInShell(p, graph) {\n\t\tvar shell = p.getExteriorRing();\n\t\tvar pir = new IndexedPointInAreaLocator(shell);\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tvar holePt = IsValidOp.findPtNotNode(hole.getCoordinates(), shell, graph);\n\t\t\tif (holePt === null) return null;\n\t\t\tvar outside = Location.EXTERIOR === pir.locate(holePt);\n\t\t\tif (outside) {\n\t\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.HOLE_OUTSIDE_SHELL, holePt);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\tcheckTooFewPoints(graph) {\n\t\tif (graph.hasTooFewPoints()) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.TOO_FEW_POINTS, graph.getInvalidPoint());\n\t\t\treturn null;\n\t\t}\n\t}\n\tgetValidationError() {\n\t\tthis.checkValid(this._parentGeometry);\n\t\treturn this._validErr;\n\t}\n\tcheckValid() {\n\t\tif (arguments[0] instanceof Point) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t} else if (arguments[0] instanceof MultiPoint) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t} else if (arguments[0] instanceof LinearRing) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRing(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar li = new RobustLineIntersector();\n\t\t\tgraph.computeSelfNodes(li, true, true);\n\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t} else if (arguments[0] instanceof LineString) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g.getCoordinates());\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t} else if (arguments[0] instanceof Polygon) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis.checkInvalidCoordinates(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkClosedRings(g);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkHolesInShell(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkHolesNotNested(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof MultiPolygon) {\n\t\t\tlet g = arguments[0];\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkInvalidCoordinates(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t\tthis.checkClosedRings(p);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tvar graph = new GeometryGraph(0, g);\n\t\t\tthis.checkTooFewPoints(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConsistentArea(graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tif (!this._isSelfTouchingRingFormingHoleValid) {\n\t\t\t\tthis.checkNoSelfIntersectingRings(graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkHolesInShell(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tfor (var i = 0; i < g.getNumGeometries(); i++) {\n\t\t\t\tvar p = g.getGeometryN(i);\n\t\t\t\tthis.checkHolesNotNested(p, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t\tthis.checkShellsNotNested(g, graph);\n\t\t\tif (this._validErr !== null) return null;\n\t\t\tthis.checkConnectedInteriors(graph);\n\t\t} else if (arguments[0] instanceof GeometryCollection) {\n\t\t\tlet gc = arguments[0];\n\t\t\tfor (var i = 0; i < gc.getNumGeometries(); i++) {\n\t\t\t\tvar g = gc.getGeometryN(i);\n\t\t\t\tthis.checkValid(g);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t} else if (arguments[0] instanceof Geometry) {\n\t\t\tlet g = arguments[0];\n\t\t\tthis._validErr = null;\n\t\t\tif (g.isEmpty()) return null;\n\t\t\tif (g instanceof Point) this.checkValid(g); else if (g instanceof MultiPoint) this.checkValid(g); else if (g instanceof LinearRing) this.checkValid(g); else if (g instanceof LineString) this.checkValid(g); else if (g instanceof Polygon) this.checkValid(g); else if (g instanceof MultiPolygon) this.checkValid(g); else if (g instanceof GeometryCollection) this.checkValid(g); else throw new UnsupportedOperationException(g.getClass().getName());\n\t\t}\n\t}\n\tsetSelfTouchingRingFormingHoleValid(isValid) {\n\t\tthis._isSelfTouchingRingFormingHoleValid = isValid;\n\t}\n\tcheckShellNotNested(shell, p, graph) {\n\t\tvar shellPts = shell.getCoordinates();\n\t\tvar polyShell = p.getExteriorRing();\n\t\tvar polyPts = polyShell.getCoordinates();\n\t\tvar shellPt = IsValidOp.findPtNotNode(shellPts, polyShell, graph);\n\t\tif (shellPt === null) return null;\n\t\tvar insidePolyShell = PointLocation.isInRing(shellPt, polyPts);\n\t\tif (!insidePolyShell) return null;\n\t\tif (p.getNumInteriorRing() <= 0) {\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, shellPt);\n\t\t\treturn null;\n\t\t}\n\t\tvar badNestedPt = null;\n\t\tfor (var i = 0; i < p.getNumInteriorRing(); i++) {\n\t\t\tvar hole = p.getInteriorRingN(i);\n\t\t\tbadNestedPt = this.checkShellInsideHole(shell, hole, graph);\n\t\t\tif (badNestedPt === null) return null;\n\t\t}\n\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.NESTED_SHELLS, badNestedPt);\n\t}\n\tcheckClosedRings(poly) {\n\t\tthis.checkClosedRing(poly.getExteriorRing());\n\t\tif (this._validErr !== null) return null;\n\t\tfor (var i = 0; i < poly.getNumInteriorRing(); i++) {\n\t\t\tthis.checkClosedRing(poly.getInteriorRingN(i));\n\t\t\tif (this._validErr !== null) return null;\n\t\t}\n\t}\n\tcheckClosedRing(ring) {\n\t\tif (!ring.isClosed()) {\n\t\t\tvar pt = null;\n\t\t\tif (ring.getNumPoints() >= 1) pt = ring.getCoordinateN(0);\n\t\t\tthis._validErr = new TopologyValidationError(TopologyValidationError.RING_NOT_CLOSED, pt);\n\t\t}\n\t}\n\tcheckShellsNotNested(mp, graph) {\n\t\tfor (var i = 0; i < mp.getNumGeometries(); i++) {\n\t\t\tvar p = mp.getGeometryN(i);\n\t\t\tvar shell = p.getExteriorRing();\n\t\t\tfor (var j = 0; j < mp.getNumGeometries(); j++) {\n\t\t\t\tif (i === j) continue;\n\t\t\t\tvar p2 = mp.getGeometryN(j);\n\t\t\t\tthis.checkShellNotNested(shell, p2, graph);\n\t\t\t\tif (this._validErr !== null) return null;\n\t\t\t}\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn IsValidOp;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIsValidOp.constructor_ = function () {\n\tthis._parentGeometry = null;\n\tthis._isSelfTouchingRingFormingHoleValid = false;\n\tthis._validErr = null;\n\tlet parentGeometry = arguments[0];\n\tthis._parentGeometry = parentGeometry;\n};\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport Coordinate from '../geom/Coordinate';\nimport GeometryEditor from '../geom/util/GeometryEditor';\nimport LinearRing from '../geom/LinearRing';\nexport default class PrecisionReducerCoordinateOperation extends GeometryEditor.CoordinateOperation {\n\tconstructor() {\n\t\tsuper();\n\t\tPrecisionReducerCoordinateOperation.constructor_.apply(this, arguments);\n\t}\n\tedit() {\n\t\tif (arguments.length === 2 && (arguments[1] instanceof Geometry && arguments[0] instanceof Array)) {\n\t\t\tlet coordinates = arguments[0], geom = arguments[1];\n\t\t\tif (coordinates.length === 0) return null;\n\t\t\tvar reducedCoords = new Array(coordinates.length).fill(null);\n\t\t\tfor (var i = 0; i < coordinates.length; i++) {\n\t\t\t\tvar coord = new Coordinate(coordinates[i]);\n\t\t\t\tthis._targetPM.makePrecise(coord);\n\t\t\t\treducedCoords[i] = coord;\n\t\t\t}\n\t\t\tvar noRepeatedCoordList = new CoordinateList(reducedCoords, false);\n\t\t\tvar noRepeatedCoords = noRepeatedCoordList.toCoordinateArray();\n\t\t\tvar minLength = 0;\n\t\t\tif (geom instanceof LineString) minLength = 2;\n\t\t\tif (geom instanceof LinearRing) minLength = 4;\n\t\t\tvar collapsedCoords = reducedCoords;\n\t\t\tif (this._removeCollapsed) collapsedCoords = null;\n\t\t\tif (noRepeatedCoords.length < minLength) {\n\t\t\t\treturn collapsedCoords;\n\t\t\t}\n\t\t\treturn noRepeatedCoords;\n\t\t} else return super.edit.apply(this, arguments);\n\t}\n\tgetClass() {\n\t\treturn PrecisionReducerCoordinateOperation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nPrecisionReducerCoordinateOperation.constructor_ = function () {\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tlet targetPM = arguments[0], removeCollapsed = arguments[1];\n\tthis._targetPM = targetPM;\n\tthis._removeCollapsed = removeCollapsed;\n};\n","import hasInterface from '../../../../hasInterface';\nimport GeometryFactory from '../geom/GeometryFactory';\nimport IsValidOp from '../operation/valid/IsValidOp';\nimport GeometryEditor from '../geom/util/GeometryEditor';\nimport BufferOp from '../operation/buffer/BufferOp';\nimport Polygonal from '../geom/Polygonal';\nimport PrecisionReducerCoordinateOperation from './PrecisionReducerCoordinateOperation';\nexport default class GeometryPrecisionReducer {\n\tconstructor() {\n\t\tGeometryPrecisionReducer.constructor_.apply(this, arguments);\n\t}\n\tstatic reduce(g, precModel) {\n\t\tvar reducer = new GeometryPrecisionReducer(precModel);\n\t\treturn reducer.reduce(g);\n\t}\n\tstatic reducePointwise(g, precModel) {\n\t\tvar reducer = new GeometryPrecisionReducer(precModel);\n\t\treducer.setPointwise(true);\n\t\treturn reducer.reduce(g);\n\t}\n\tfixPolygonalTopology(geom) {\n\t\tvar geomToBuffer = geom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tgeomToBuffer = this.changePM(geom, this._targetPM);\n\t\t}\n\t\tvar bufGeom = BufferOp.bufferOp(geomToBuffer, 0);\n\t\tvar finalGeom = bufGeom;\n\t\tif (!this._changePrecisionModel) {\n\t\t\tfinalGeom = geom.getFactory().createGeometry(bufGeom);\n\t\t}\n\t\treturn finalGeom;\n\t}\n\treducePointwise(geom) {\n\t\tvar geomEdit = null;\n\t\tif (this._changePrecisionModel) {\n\t\t\tvar newFactory = this.createFactory(geom.getFactory(), this._targetPM);\n\t\t\tgeomEdit = new GeometryEditor(newFactory);\n\t\t} else geomEdit = new GeometryEditor();\n\t\tvar finalRemoveCollapsed = this._removeCollapsed;\n\t\tif (geom.getDimension() >= 2) finalRemoveCollapsed = true;\n\t\tvar reduceGeom = geomEdit.edit(geom, new PrecisionReducerCoordinateOperation(this._targetPM, finalRemoveCollapsed));\n\t\treturn reduceGeom;\n\t}\n\tchangePM(geom, newPM) {\n\t\tvar geomEditor = this.createEditor(geom.getFactory(), newPM);\n\t\treturn geomEditor.edit(geom, new GeometryEditor.NoOpGeometryOperation());\n\t}\n\tsetRemoveCollapsedComponents(removeCollapsed) {\n\t\tthis._removeCollapsed = removeCollapsed;\n\t}\n\tcreateFactory(inputFactory, pm) {\n\t\tvar newFactory = new GeometryFactory(pm, inputFactory.getSRID(), inputFactory.getCoordinateSequenceFactory());\n\t\treturn newFactory;\n\t}\n\tsetChangePrecisionModel(changePrecisionModel) {\n\t\tthis._changePrecisionModel = changePrecisionModel;\n\t}\n\treduce(geom) {\n\t\tvar reducePW = this.reducePointwise(geom);\n\t\tif (this._isPointwise) return reducePW;\n\t\tif (!hasInterface(reducePW, Polygonal)) return reducePW;\n\t\tif (IsValidOp.isValid(reducePW)) return reducePW;\n\t\treturn this.fixPolygonalTopology(reducePW);\n\t}\n\tsetPointwise(isPointwise) {\n\t\tthis._isPointwise = isPointwise;\n\t}\n\tcreateEditor(geomFactory, newPM) {\n\t\tif (geomFactory.getPrecisionModel() === newPM) return new GeometryEditor();\n\t\tvar newFactory = this.createFactory(geomFactory, newPM);\n\t\tvar geomEdit = new GeometryEditor(newFactory);\n\t\treturn geomEdit;\n\t}\n\tgetClass() {\n\t\treturn GeometryPrecisionReducer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nGeometryPrecisionReducer.constructor_ = function () {\n\tthis._targetPM = null;\n\tthis._removeCollapsed = true;\n\tthis._changePrecisionModel = false;\n\tthis._isPointwise = false;\n\tlet pm = arguments[0];\n\tthis._targetPM = pm;\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport Coordinate from '../geom/Coordinate';\nimport LineSegment from '../geom/LineSegment';\nexport default class DouglasPeuckerLineSimplifier {\n\tconstructor() {\n\t\tDouglasPeuckerLineSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(pts, distanceTolerance) {\n\t\tvar simp = new DouglasPeuckerLineSimplifier(pts);\n\t\tsimp.setDistanceTolerance(distanceTolerance);\n\t\treturn simp.simplify();\n\t}\n\tsimplifySection(i, j) {\n\t\tif (i + 1 === j) {\n\t\t\treturn null;\n\t\t}\n\t\tthis._seg.p0 = this._pts[i];\n\t\tthis._seg.p1 = this._pts[j];\n\t\tvar maxDistance = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar distance = this._seg.distance(this._pts[k]);\n\t\t\tif (distance > maxDistance) {\n\t\t\t\tmaxDistance = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tif (maxDistance <= this._distanceTolerance) {\n\t\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\t\tthis._usePt[k] = false;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.simplifySection(i, maxIndex);\n\t\t\tthis.simplifySection(maxIndex, j);\n\t\t}\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tsimplify() {\n\t\tthis._usePt = new Array(this._pts.length).fill(null);\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tthis._usePt[i] = true;\n\t\t}\n\t\tthis.simplifySection(0, this._pts.length - 1);\n\t\tvar coordList = new CoordinateList();\n\t\tfor (var i = 0; i < this._pts.length; i++) {\n\t\t\tif (this._usePt[i]) coordList.add(new Coordinate(this._pts[i]));\n\t\t}\n\t\treturn coordList.toCoordinateArray();\n\t}\n\tgetClass() {\n\t\treturn DouglasPeuckerLineSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDouglasPeuckerLineSimplifier.constructor_ = function () {\n\tthis._pts = null;\n\tthis._usePt = null;\n\tthis._distanceTolerance = null;\n\tthis._seg = new LineSegment();\n\tlet pts = arguments[0];\n\tthis._pts = pts;\n};\n","import DouglasPeuckerLineSimplifier from './DouglasPeuckerLineSimplifier';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Polygon from '../geom/Polygon';\nimport LinearRing from '../geom/LinearRing';\nimport MultiPolygon from '../geom/MultiPolygon';\nexport default class DouglasPeuckerSimplifier {\n\tconstructor() {\n\t\tDouglasPeuckerSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(geom, distanceTolerance) {\n\t\tvar tss = new DouglasPeuckerSimplifier(geom);\n\t\ttss.setDistanceTolerance(distanceTolerance);\n\t\treturn tss.getResultGeometry();\n\t}\n\tsetEnsureValid(isEnsureValidTopology) {\n\t\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\t}\n\tgetResultGeometry() {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\treturn new DPTransformer(this._isEnsureValidTopology, this._distanceTolerance).transform(this._inputGeom);\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tgetClass() {\n\t\treturn DouglasPeuckerSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass DPTransformer extends GeometryTransformer {\n\tconstructor() {\n\t\tsuper();\n\t\tDPTransformer.constructor_.apply(this, arguments);\n\t}\n\ttransformPolygon(geom, parent) {\n\t\tif (geom.isEmpty()) return null;\n\t\tvar rawGeom = super.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn rawGeom;\n\t\t}\n\t\treturn this.createValidArea(rawGeom);\n\t}\n\tcreateValidArea(rawAreaGeom) {\n\t\tif (this._isEnsureValidTopology) return rawAreaGeom.buffer(0.0);\n\t\treturn rawAreaGeom;\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = null;\n\t\tif (inputPts.length === 0) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t} else {\n\t\t\tnewPts = DouglasPeuckerLineSimplifier.simplify(inputPts, this._distanceTolerance);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t}\n\ttransformMultiPolygon(geom, parent) {\n\t\tvar rawGeom = super.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(rawGeom);\n\t}\n\ttransformLinearRing(geom, parent) {\n\t\tvar removeDegenerateRings = parent instanceof Polygon;\n\t\tvar simpResult = super.transformLinearRing.call(this, geom, parent);\n\t\tif (removeDegenerateRings && !(simpResult instanceof LinearRing)) return null;\n\t\t;\n\t\treturn simpResult;\n\t}\n\tgetClass() {\n\t\treturn DPTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDPTransformer.constructor_ = function () {\n\tthis._isEnsureValidTopology = true;\n\tthis._distanceTolerance = null;\n\tlet isEnsureValidTopology = arguments[0], distanceTolerance = arguments[1];\n\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\tthis._distanceTolerance = distanceTolerance;\n};\nDouglasPeuckerSimplifier.DPTransformer = DPTransformer;\nDouglasPeuckerSimplifier.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tthis._isEnsureValidTopology = true;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n};\n","import LineSegment from '../geom/LineSegment';\nexport default class TaggedLineSegment extends LineSegment {\n\tconstructor() {\n\t\tsuper();\n\t\tTaggedLineSegment.constructor_.apply(this, arguments);\n\t}\n\tgetIndex() {\n\t\treturn this._index;\n\t}\n\tgetParent() {\n\t\treturn this._parent;\n\t}\n\tgetClass() {\n\t\treturn TaggedLineSegment;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTaggedLineSegment.constructor_ = function () {\n\tthis._parent = null;\n\tthis._index = null;\n\tif (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tTaggedLineSegment.constructor_.call(this, p0, p1, null, -1);\n\t} else if (arguments.length === 4) {\n\t\tlet p0 = arguments[0], p1 = arguments[1], parent = arguments[2], index = arguments[3];\n\t\tLineSegment.constructor_.call(this, p0, p1);\n\t\tthis._parent = parent;\n\t\tthis._index = index;\n\t}\n};\n","import TaggedLineSegment from './TaggedLineSegment';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class TaggedLineString {\n\tconstructor() {\n\t\tTaggedLineString.constructor_.apply(this, arguments);\n\t}\n\tstatic extractCoordinates(segs) {\n\t\tvar pts = new Array(segs.size() + 1).fill(null);\n\t\tvar seg = null;\n\t\tfor (var i = 0; i < segs.size(); i++) {\n\t\t\tseg = segs.get(i);\n\t\t\tpts[i] = seg.p0;\n\t\t}\n\t\tpts[pts.length - 1] = seg.p1;\n\t\treturn pts;\n\t}\n\taddToResult(seg) {\n\t\tthis._resultSegs.add(seg);\n\t}\n\tasLineString() {\n\t\treturn this._parentLine.getFactory().createLineString(TaggedLineString.extractCoordinates(this._resultSegs));\n\t}\n\tgetResultSize() {\n\t\tvar resultSegsSize = this._resultSegs.size();\n\t\treturn resultSegsSize === 0 ? 0 : resultSegsSize + 1;\n\t}\n\tgetParent() {\n\t\treturn this._parentLine;\n\t}\n\tgetSegment(i) {\n\t\treturn this._segs[i];\n\t}\n\tgetParentCoordinates() {\n\t\treturn this._parentLine.getCoordinates();\n\t}\n\tgetMinimumSize() {\n\t\treturn this._minimumSize;\n\t}\n\tasLinearRing() {\n\t\treturn this._parentLine.getFactory().createLinearRing(TaggedLineString.extractCoordinates(this._resultSegs));\n\t}\n\tgetSegments() {\n\t\treturn this._segs;\n\t}\n\tinit() {\n\t\tvar pts = this._parentLine.getCoordinates();\n\t\tthis._segs = new Array(pts.length - 1).fill(null);\n\t\tfor (var i = 0; i < pts.length - 1; i++) {\n\t\t\tvar seg = new TaggedLineSegment(pts[i], pts[i + 1], this._parentLine, i);\n\t\t\tthis._segs[i] = seg;\n\t\t}\n\t}\n\tgetResultCoordinates() {\n\t\treturn TaggedLineString.extractCoordinates(this._resultSegs);\n\t}\n\tgetClass() {\n\t\treturn TaggedLineString;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTaggedLineString.constructor_ = function () {\n\tthis._parentLine = null;\n\tthis._segs = null;\n\tthis._resultSegs = new ArrayList();\n\tthis._minimumSize = null;\n\tif (arguments.length === 1) {\n\t\tlet parentLine = arguments[0];\n\t\tTaggedLineString.constructor_.call(this, parentLine, 2);\n\t} else if (arguments.length === 2) {\n\t\tlet parentLine = arguments[0], minimumSize = arguments[1];\n\t\tthis._parentLine = parentLine;\n\t\tthis._minimumSize = minimumSize;\n\t\tthis.init();\n\t}\n};\n","import Quadtree from '../index/quadtree/Quadtree';\nimport ItemVisitor from '../index/ItemVisitor';\nimport LineSegment from '../geom/LineSegment';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nimport TaggedLineString from './TaggedLineString';\nexport default class LineSegmentIndex {\n\tconstructor() {\n\t\tLineSegmentIndex.constructor_.apply(this, arguments);\n\t}\n\tremove(seg) {\n\t\tthis._index.remove(new Envelope(seg.p0, seg.p1), seg);\n\t}\n\tadd() {\n\t\tif (arguments[0] instanceof TaggedLineString) {\n\t\t\tlet line = arguments[0];\n\t\t\tvar segs = line.getSegments();\n\t\t\tfor (var i = 0; i < segs.length; i++) {\n\t\t\t\tvar seg = segs[i];\n\t\t\t\tthis.add(seg);\n\t\t\t}\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tthis._index.insert(new Envelope(seg.p0, seg.p1), seg);\n\t\t}\n\t}\n\tquery(querySeg) {\n\t\tvar env = new Envelope(querySeg.p0, querySeg.p1);\n\t\tvar visitor = new LineSegmentVisitor(querySeg);\n\t\tthis._index.query(env, visitor);\n\t\tvar itemsFound = visitor.getItems();\n\t\treturn itemsFound;\n\t}\n\tgetClass() {\n\t\treturn LineSegmentIndex;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineSegmentIndex.constructor_ = function () {\n\tthis._index = new Quadtree();\n};\nclass LineSegmentVisitor {\n\tconstructor() {\n\t\tLineSegmentVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisitItem(item) {\n\t\tvar seg = item;\n\t\tif (Envelope.intersects(seg.p0, seg.p1, this._querySeg.p0, this._querySeg.p1)) this._items.add(item);\n\t}\n\tgetItems() {\n\t\treturn this._items;\n\t}\n\tgetClass() {\n\t\treturn LineSegmentVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [ItemVisitor];\n\t}\n}\nLineSegmentVisitor.constructor_ = function () {\n\tthis._querySeg = null;\n\tthis._items = new ArrayList();\n\tlet querySeg = arguments[0];\n\tthis._querySeg = querySeg;\n};\n","import LineSegment from '../geom/LineSegment';\nimport LineSegmentIndex from './LineSegmentIndex';\nimport RobustLineIntersector from '../algorithm/RobustLineIntersector';\nexport default class TaggedLineStringSimplifier {\n\tconstructor() {\n\t\tTaggedLineStringSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic isInLineSection(line, sectionIndex, seg) {\n\t\tif (seg.getParent() !== line.getParent()) return false;\n\t\tvar segIndex = seg.getIndex();\n\t\tif (segIndex >= sectionIndex[0] && segIndex < sectionIndex[1]) return true;\n\t\treturn false;\n\t}\n\tflatten(start, end) {\n\t\tvar p0 = this._linePts[start];\n\t\tvar p1 = this._linePts[end];\n\t\tvar newSeg = new LineSegment(p0, p1);\n\t\tthis.remove(this._line, start, end);\n\t\tthis._outputIndex.add(newSeg);\n\t\treturn newSeg;\n\t}\n\thasBadIntersection(parentLine, sectionIndex, candidateSeg) {\n\t\tif (this.hasBadOutputIntersection(candidateSeg)) return true;\n\t\tif (this.hasBadInputIntersection(parentLine, sectionIndex, candidateSeg)) return true;\n\t\treturn false;\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tsimplifySection(i, j, depth) {\n\t\tdepth += 1;\n\t\tvar sectionIndex = new Array(2).fill(null);\n\t\tif (i + 1 === j) {\n\t\t\tvar newSeg = this._line.getSegment(i);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tvar isValidToSimplify = true;\n\t\tif (this._line.getResultSize() < this._line.getMinimumSize()) {\n\t\t\tvar worstCaseSize = depth + 1;\n\t\t\tif (worstCaseSize < this._line.getMinimumSize()) isValidToSimplify = false;\n\t\t}\n\t\tvar distance = new Array(1).fill(null);\n\t\tvar furthestPtIndex = this.findFurthestPoint(this._linePts, i, j, distance);\n\t\tif (distance[0] > this._distanceTolerance) isValidToSimplify = false;\n\t\tvar candidateSeg = new LineSegment();\n\t\tcandidateSeg.p0 = this._linePts[i];\n\t\tcandidateSeg.p1 = this._linePts[j];\n\t\tsectionIndex[0] = i;\n\t\tsectionIndex[1] = j;\n\t\tif (this.hasBadIntersection(this._line, sectionIndex, candidateSeg)) isValidToSimplify = false;\n\t\tif (isValidToSimplify) {\n\t\t\tvar newSeg = this.flatten(i, j);\n\t\t\tthis._line.addToResult(newSeg);\n\t\t\treturn null;\n\t\t}\n\t\tthis.simplifySection(i, furthestPtIndex, depth);\n\t\tthis.simplifySection(furthestPtIndex, j, depth);\n\t}\n\thasBadOutputIntersection(candidateSeg) {\n\t\tvar querySegs = this._outputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext(); ) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tfindFurthestPoint(pts, i, j, maxDistance) {\n\t\tvar seg = new LineSegment();\n\t\tseg.p0 = pts[i];\n\t\tseg.p1 = pts[j];\n\t\tvar maxDist = -1.0;\n\t\tvar maxIndex = i;\n\t\tfor (var k = i + 1; k < j; k++) {\n\t\t\tvar midPt = pts[k];\n\t\t\tvar distance = seg.distance(midPt);\n\t\t\tif (distance > maxDist) {\n\t\t\t\tmaxDist = distance;\n\t\t\t\tmaxIndex = k;\n\t\t\t}\n\t\t}\n\t\tmaxDistance[0] = maxDist;\n\t\treturn maxIndex;\n\t}\n\tsimplify(line) {\n\t\tthis._line = line;\n\t\tthis._linePts = line.getParentCoordinates();\n\t\tthis.simplifySection(0, this._linePts.length - 1, 0);\n\t}\n\tremove(line, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar seg = line.getSegment(i);\n\t\t\tthis._inputIndex.remove(seg);\n\t\t}\n\t}\n\thasInteriorIntersection(seg0, seg1) {\n\t\tthis._li.computeIntersection(seg0.p0, seg0.p1, seg1.p0, seg1.p1);\n\t\treturn this._li.isInteriorIntersection();\n\t}\n\thasBadInputIntersection(parentLine, sectionIndex, candidateSeg) {\n\t\tvar querySegs = this._inputIndex.query(candidateSeg);\n\t\tfor (var i = querySegs.iterator(); i.hasNext(); ) {\n\t\t\tvar querySeg = i.next();\n\t\t\tif (this.hasInteriorIntersection(querySeg, candidateSeg)) {\n\t\t\t\tif (TaggedLineStringSimplifier.isInLineSection(parentLine, sectionIndex, querySeg)) continue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tgetClass() {\n\t\treturn TaggedLineStringSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTaggedLineStringSimplifier.constructor_ = function () {\n\tthis._li = new RobustLineIntersector();\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._line = null;\n\tthis._linePts = null;\n\tthis._distanceTolerance = 0.0;\n\tlet inputIndex = arguments[0], outputIndex = arguments[1];\n\tthis._inputIndex = inputIndex;\n\tthis._outputIndex = outputIndex;\n};\n","import TaggedLineStringSimplifier from './TaggedLineStringSimplifier';\nimport LineSegmentIndex from './LineSegmentIndex';\nexport default class TaggedLinesSimplifier {\n\tconstructor() {\n\t\tTaggedLinesSimplifier.constructor_.apply(this, arguments);\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tsimplify(taggedLines) {\n\t\tfor (var i = taggedLines.iterator(); i.hasNext(); ) {\n\t\t\tthis._inputIndex.add(i.next());\n\t\t}\n\t\tfor (var i = taggedLines.iterator(); i.hasNext(); ) {\n\t\t\tvar tlss = new TaggedLineStringSimplifier(this._inputIndex, this._outputIndex);\n\t\t\ttlss.setDistanceTolerance(this._distanceTolerance);\n\t\t\ttlss.simplify(i.next());\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn TaggedLinesSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTaggedLinesSimplifier.constructor_ = function () {\n\tthis._inputIndex = new LineSegmentIndex();\n\tthis._outputIndex = new LineSegmentIndex();\n\tthis._distanceTolerance = 0.0;\n};\n","import LineString from '../geom/LineString';\nimport HashMap from '../../../../java/util/HashMap';\nimport GeometryTransformer from '../geom/util/GeometryTransformer';\nimport TaggedLinesSimplifier from './TaggedLinesSimplifier';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport GeometryComponentFilter from '../geom/GeometryComponentFilter';\nimport TaggedLineString from './TaggedLineString';\nexport default class TopologyPreservingSimplifier {\n\tconstructor() {\n\t\tTopologyPreservingSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(geom, distanceTolerance) {\n\t\tvar tss = new TopologyPreservingSimplifier(geom);\n\t\ttss.setDistanceTolerance(distanceTolerance);\n\t\treturn tss.getResultGeometry();\n\t}\n\tgetResultGeometry() {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\tthis._linestringMap = new HashMap();\n\t\tthis._inputGeom.apply(new LineStringMapBuilderFilter(this));\n\t\tthis._lineSimplifier.simplify(this._linestringMap.values());\n\t\tvar result = new LineStringTransformer(this._linestringMap).transform(this._inputGeom);\n\t\treturn result;\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._lineSimplifier.setDistanceTolerance(distanceTolerance);\n\t}\n\tgetClass() {\n\t\treturn TopologyPreservingSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass LineStringTransformer extends GeometryTransformer {\n\tconstructor() {\n\t\tsuper();\n\t\tLineStringTransformer.constructor_.apply(this, arguments);\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\tif (coords.size() === 0) return null;\n\t\tif (parent instanceof LineString) {\n\t\t\tvar taggedLine = this._linestringMap.get(parent);\n\t\t\treturn this.createCoordinateSequence(taggedLine.getResultCoordinates());\n\t\t}\n\t\treturn super.transformCoordinates.call(this, coords, parent);\n\t}\n\tgetClass() {\n\t\treturn LineStringTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLineStringTransformer.constructor_ = function () {\n\tthis._linestringMap = null;\n\tlet linestringMap = arguments[0];\n\tthis._linestringMap = linestringMap;\n};\nclass LineStringMapBuilderFilter {\n\tconstructor() {\n\t\tLineStringMapBuilderFilter.constructor_.apply(this, arguments);\n\t}\n\tfilter(geom) {\n\t\tif (geom instanceof LineString) {\n\t\t\tvar line = geom;\n\t\t\tif (line.isEmpty()) return null;\n\t\t\tvar minSize = line.isClosed() ? 4 : 2;\n\t\t\tvar taggedLine = new TaggedLineString(line, minSize);\n\t\t\tthis.tps._linestringMap.put(line, taggedLine);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn LineStringMapBuilderFilter;\n\t}\n\tget interfaces_() {\n\t\treturn [GeometryComponentFilter];\n\t}\n}\nLineStringMapBuilderFilter.constructor_ = function () {\n\tthis.tps = null;\n\tlet tps = arguments[0];\n\tthis.tps = tps;\n};\nTopologyPreservingSimplifier.LineStringTransformer = LineStringTransformer;\nTopologyPreservingSimplifier.LineStringMapBuilderFilter = LineStringMapBuilderFilter;\nTopologyPreservingSimplifier.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._lineSimplifier = new TaggedLinesSimplifier();\n\tthis._linestringMap = null;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport Coordinate from '../geom/Coordinate';\nimport Double from '../../../../java/lang/Double';\nimport Triangle from '../geom/Triangle';\nexport default class VWLineSimplifier {\n\tconstructor() {\n\t\tVWLineSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(pts, distanceTolerance) {\n\t\tvar simp = new VWLineSimplifier(pts, distanceTolerance);\n\t\treturn simp.simplify();\n\t}\n\tsimplifyVertex(vwLine) {\n\t\tvar curr = vwLine;\n\t\tvar minArea = curr.getArea();\n\t\tvar minVertex = null;\n\t\twhile (curr !== null) {\n\t\t\tvar area = curr.getArea();\n\t\t\tif (area < minArea) {\n\t\t\t\tminArea = area;\n\t\t\t\tminVertex = curr;\n\t\t\t}\n\t\t\tcurr = curr._next;\n\t\t}\n\t\tif (minVertex !== null && minArea < this._tolerance) {\n\t\t\tminVertex.remove();\n\t\t}\n\t\tif (!vwLine.isLive()) return -1;\n\t\treturn minArea;\n\t}\n\tsimplify() {\n\t\tvar vwLine = VWVertex.buildLine(this._pts);\n\t\tvar minArea = this._tolerance;\n\t\tdo {\n\t\t\tminArea = this.simplifyVertex(vwLine);\n\t\t} while (minArea < this._tolerance);\n\t\tvar simp = vwLine.getCoordinates();\n\t\tif (simp.length < 2) {\n\t\t\treturn [simp[0], new Coordinate(simp[0])];\n\t\t}\n\t\treturn simp;\n\t}\n\tgetClass() {\n\t\treturn VWLineSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass VWVertex {\n\tconstructor() {\n\t\tVWVertex.constructor_.apply(this, arguments);\n\t}\n\tstatic buildLine(pts) {\n\t\tvar first = null;\n\t\tvar prev = null;\n\t\tfor (var i = 0; i < pts.length; i++) {\n\t\t\tvar v = new VWVertex(pts[i]);\n\t\t\tif (first === null) first = v;\n\t\t\tv.setPrev(prev);\n\t\t\tif (prev !== null) {\n\t\t\t\tprev.setNext(v);\n\t\t\t\tprev.updateArea();\n\t\t\t}\n\t\t\tprev = v;\n\t\t}\n\t\treturn first;\n\t}\n\tgetCoordinates() {\n\t\tvar coords = new CoordinateList();\n\t\tvar curr = this;\n\t\tdo {\n\t\t\tcoords.add(curr._pt, false);\n\t\t\tcurr = curr._next;\n\t\t} while (curr !== null);\n\t\treturn coords.toCoordinateArray();\n\t}\n\tgetArea() {\n\t\treturn this._area;\n\t}\n\tupdateArea() {\n\t\tif (this._prev === null || this._next === null) {\n\t\t\tthis._area = VWVertex.MAX_AREA;\n\t\t\treturn null;\n\t\t}\n\t\tthis._area = Math.abs(Triangle.area(this._prev._pt, this._pt, this._next._pt));\n\t}\n\tremove() {\n\t\tvar tmpPrev = this._prev;\n\t\tvar tmpNext = this._next;\n\t\tvar result = null;\n\t\tif (this._prev !== null) {\n\t\t\tthis._prev.setNext(tmpNext);\n\t\t\tthis._prev.updateArea();\n\t\t\tresult = this._prev;\n\t\t}\n\t\tif (this._next !== null) {\n\t\t\tthis._next.setPrev(tmpPrev);\n\t\t\tthis._next.updateArea();\n\t\t\tif (result === null) result = this._next;\n\t\t}\n\t\tthis._isLive = false;\n\t\treturn result;\n\t}\n\tisLive() {\n\t\treturn this._isLive;\n\t}\n\tsetPrev(prev) {\n\t\tthis._prev = prev;\n\t}\n\tsetNext(next) {\n\t\tthis._next = next;\n\t}\n\tgetClass() {\n\t\treturn VWVertex;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nVWVertex.constructor_ = function () {\n\tthis._pt = null;\n\tthis._prev = null;\n\tthis._next = null;\n\tthis._area = VWVertex.MAX_AREA;\n\tthis._isLive = true;\n\tlet pt = arguments[0];\n\tthis._pt = pt;\n};\nVWVertex.MAX_AREA = Double.MAX_VALUE;\nVWLineSimplifier.VWVertex = VWVertex;\nVWLineSimplifier.constructor_ = function () {\n\tthis._pts = null;\n\tthis._tolerance = null;\n\tlet pts = arguments[0], distanceTolerance = arguments[1];\n\tthis._pts = pts;\n\tthis._tolerance = distanceTolerance * distanceTolerance;\n};\n","import GeometryTransformer from '../geom/util/GeometryTransformer';\nimport VWLineSimplifier from './VWLineSimplifier';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Polygon from '../geom/Polygon';\nimport LinearRing from '../geom/LinearRing';\nimport MultiPolygon from '../geom/MultiPolygon';\nexport default class VWSimplifier {\n\tconstructor() {\n\t\tVWSimplifier.constructor_.apply(this, arguments);\n\t}\n\tstatic simplify(geom, distanceTolerance) {\n\t\tvar simp = new VWSimplifier(geom);\n\t\tsimp.setDistanceTolerance(distanceTolerance);\n\t\treturn simp.getResultGeometry();\n\t}\n\tsetEnsureValid(isEnsureValidTopology) {\n\t\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\t}\n\tgetResultGeometry() {\n\t\tif (this._inputGeom.isEmpty()) return this._inputGeom.copy();\n\t\treturn new VWTransformer(this._isEnsureValidTopology, this._distanceTolerance).transform(this._inputGeom);\n\t}\n\tsetDistanceTolerance(distanceTolerance) {\n\t\tif (distanceTolerance < 0.0) throw new IllegalArgumentException(\"Tolerance must be non-negative\");\n\t\tthis._distanceTolerance = distanceTolerance;\n\t}\n\tgetClass() {\n\t\treturn VWSimplifier;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass VWTransformer extends GeometryTransformer {\n\tconstructor() {\n\t\tsuper();\n\t\tVWTransformer.constructor_.apply(this, arguments);\n\t}\n\ttransformPolygon(geom, parent) {\n\t\tif (geom.isEmpty()) return null;\n\t\tvar rawGeom = super.transformPolygon.call(this, geom, parent);\n\t\tif (parent instanceof MultiPolygon) {\n\t\t\treturn rawGeom;\n\t\t}\n\t\treturn this.createValidArea(rawGeom);\n\t}\n\tcreateValidArea(rawAreaGeom) {\n\t\tif (this._isEnsureValidTopology) return rawAreaGeom.buffer(0.0);\n\t\treturn rawAreaGeom;\n\t}\n\ttransformCoordinates(coords, parent) {\n\t\tvar inputPts = coords.toCoordinateArray();\n\t\tvar newPts = null;\n\t\tif (inputPts.length === 0) {\n\t\t\tnewPts = new Array(0).fill(null);\n\t\t} else {\n\t\t\tnewPts = VWLineSimplifier.simplify(inputPts, this._distanceTolerance);\n\t\t}\n\t\treturn this._factory.getCoordinateSequenceFactory().create(newPts);\n\t}\n\ttransformMultiPolygon(geom, parent) {\n\t\tvar rawGeom = super.transformMultiPolygon.call(this, geom, parent);\n\t\treturn this.createValidArea(rawGeom);\n\t}\n\ttransformLinearRing(geom, parent) {\n\t\tvar removeDegenerateRings = parent instanceof Polygon;\n\t\tvar simpResult = super.transformLinearRing.call(this, geom, parent);\n\t\tif (removeDegenerateRings && !(simpResult instanceof LinearRing)) return null;\n\t\t;\n\t\treturn simpResult;\n\t}\n\tgetClass() {\n\t\treturn VWTransformer;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nVWTransformer.constructor_ = function () {\n\tthis._isEnsureValidTopology = true;\n\tthis._distanceTolerance = null;\n\tlet isEnsureValidTopology = arguments[0], distanceTolerance = arguments[1];\n\tthis._isEnsureValidTopology = isEnsureValidTopology;\n\tthis._distanceTolerance = distanceTolerance;\n};\nVWSimplifier.VWTransformer = VWTransformer;\nVWSimplifier.constructor_ = function () {\n\tthis._inputGeom = null;\n\tthis._distanceTolerance = null;\n\tthis._isEnsureValidTopology = true;\n\tlet inputGeom = arguments[0];\n\tthis._inputGeom = inputGeom;\n};\n","import Coordinate from '../geom/Coordinate';\nexport default class SplitSegment {\n\tconstructor() {\n\t\tSplitSegment.constructor_.apply(this, arguments);\n\t}\n\tstatic pointAlongReverse(seg, segmentLengthFraction) {\n\t\tvar coord = new Coordinate();\n\t\tcoord.x = seg.p1.x - segmentLengthFraction * (seg.p1.x - seg.p0.x);\n\t\tcoord.y = seg.p1.y - segmentLengthFraction * (seg.p1.y - seg.p0.y);\n\t\treturn coord;\n\t}\n\tsplitAt() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet pt = arguments[0];\n\t\t\tvar minFrac = this._minimumLen / this._segLen;\n\t\t\tif (pt.distance(this._seg.p0) < this._minimumLen) {\n\t\t\t\tthis._splitPt = this._seg.pointAlong(minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (pt.distance(this._seg.p1) < this._minimumLen) {\n\t\t\t\tthis._splitPt = SplitSegment.pointAlongReverse(this._seg, minFrac);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._splitPt = pt;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet length = arguments[0], endPt = arguments[1];\n\t\t\tvar actualLen = this.getConstrainedLength(length);\n\t\t\tvar frac = actualLen / this._segLen;\n\t\t\tif (endPt.equals2D(this._seg.p0)) this._splitPt = this._seg.pointAlong(frac); else this._splitPt = SplitSegment.pointAlongReverse(this._seg, frac);\n\t\t}\n\t}\n\tsetMinimumLength(minLen) {\n\t\tthis._minimumLen = minLen;\n\t}\n\tgetConstrainedLength(len) {\n\t\tif (len < this._minimumLen) return this._minimumLen;\n\t\treturn len;\n\t}\n\tgetSplitPoint() {\n\t\treturn this._splitPt;\n\t}\n\tgetClass() {\n\t\treturn SplitSegment;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSplitSegment.constructor_ = function () {\n\tthis._seg = null;\n\tthis._segLen = null;\n\tthis._splitPt = null;\n\tthis._minimumLen = 0.0;\n\tlet seg = arguments[0];\n\tthis._seg = seg;\n\tthis._segLen = seg.getLength();\n};\n","export default class ConstraintSplitPointFinder {\n\tconstructor() {\n\t\tConstraintSplitPointFinder.constructor_.apply(this, arguments);\n\t}\n\tfindSplitPoint(seg, encroachPt) {}\n\tgetClass() {\n\t\treturn ConstraintSplitPointFinder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConstraintSplitPointFinder.constructor_ = function () {};\n","import SplitSegment from './SplitSegment';\nimport ConstraintSplitPointFinder from './ConstraintSplitPointFinder';\nexport default class NonEncroachingSplitPointFinder {\n\tconstructor() {\n\t\tNonEncroachingSplitPointFinder.constructor_.apply(this, arguments);\n\t}\n\tstatic projectedSplitPoint(seg, encroachPt) {\n\t\tvar lineSeg = seg.getLineSegment();\n\t\tvar projPt = lineSeg.project(encroachPt);\n\t\treturn projPt;\n\t}\n\tfindSplitPoint(seg, encroachPt) {\n\t\tvar lineSeg = seg.getLineSegment();\n\t\tvar segLen = lineSeg.getLength();\n\t\tvar midPtLen = segLen / 2;\n\t\tvar splitSeg = new SplitSegment(lineSeg);\n\t\tvar projPt = NonEncroachingSplitPointFinder.projectedSplitPoint(seg, encroachPt);\n\t\tvar nonEncroachDiam = projPt.distance(encroachPt) * 2 * 0.8;\n\t\tvar maxSplitLen = nonEncroachDiam;\n\t\tif (maxSplitLen > midPtLen) {\n\t\t\tmaxSplitLen = midPtLen;\n\t\t}\n\t\tsplitSeg.setMinimumLength(maxSplitLen);\n\t\tsplitSeg.splitAt(projPt);\n\t\treturn splitSeg.getSplitPoint();\n\t}\n\tgetClass() {\n\t\treturn NonEncroachingSplitPointFinder;\n\t}\n\tget interfaces_() {\n\t\treturn [ConstraintSplitPointFinder];\n\t}\n}\nNonEncroachingSplitPointFinder.constructor_ = function () {};\n","import WKTWriter from '../../io/WKTWriter';\nimport CoordinateArraySequence from '../../geom/impl/CoordinateArraySequence';\nimport DD from '../../math/DD';\nimport System from '../../../../../java/lang/System';\nimport Triangle from '../../geom/Triangle';\nexport default class TrianglePredicate {\n\tconstructor() {\n\t\tTrianglePredicate.constructor_.apply(this, arguments);\n\t}\n\tstatic triArea(a, b, c) {\n\t\treturn (b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x);\n\t}\n\tstatic isInCircleDDNormalized(a, b, c, p) {\n\t\tvar adx = DD.valueOf(a.x).selfSubtract(p.x);\n\t\tvar ady = DD.valueOf(a.y).selfSubtract(p.y);\n\t\tvar bdx = DD.valueOf(b.x).selfSubtract(p.x);\n\t\tvar bdy = DD.valueOf(b.y).selfSubtract(p.y);\n\t\tvar cdx = DD.valueOf(c.x).selfSubtract(p.x);\n\t\tvar cdy = DD.valueOf(c.y).selfSubtract(p.y);\n\t\tvar abdet = adx.multiply(bdy).selfSubtract(bdx.multiply(ady));\n\t\tvar bcdet = bdx.multiply(cdy).selfSubtract(cdx.multiply(bdy));\n\t\tvar cadet = cdx.multiply(ady).selfSubtract(adx.multiply(cdy));\n\t\tvar alift = adx.multiply(adx).selfAdd(ady.multiply(ady));\n\t\tvar blift = bdx.multiply(bdx).selfAdd(bdy.multiply(bdy));\n\t\tvar clift = cdx.multiply(cdx).selfAdd(cdy.multiply(cdy));\n\t\tvar sum = alift.selfMultiply(bcdet).selfAdd(blift.selfMultiply(cadet)).selfAdd(clift.selfMultiply(abdet));\n\t\tvar isInCircle = sum.doubleValue() > 0;\n\t\treturn isInCircle;\n\t}\n\tstatic checkRobustInCircle(a, b, c, p) {\n\t\tvar nonRobustInCircle = TrianglePredicate.isInCircleNonRobust(a, b, c, p);\n\t\tvar isInCircleDD = TrianglePredicate.isInCircleDDSlow(a, b, c, p);\n\t\tvar isInCircleCC = TrianglePredicate.isInCircleCC(a, b, c, p);\n\t\tvar circumCentre = Triangle.circumcentre(a, b, c);\n\t\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) - a.distance(circumCentre)) / a.distance(circumCentre));\n\t\tif (nonRobustInCircle !== isInCircleDD || nonRobustInCircle !== isInCircleCC) {\n\t\t\tSystem.out.println(\"inCircle robustness failure (double result = \" + nonRobustInCircle + \", DD result = \" + isInCircleDD + \", CC result = \" + isInCircleCC + \")\");\n\t\t\tSystem.out.println(WKTWriter.toLineString(new CoordinateArraySequence([a, b, c, p])));\n\t\t\tSystem.out.println(\"Circumcentre = \" + WKTWriter.toPoint(circumCentre) + \" radius = \" + a.distance(circumCentre));\n\t\t\tSystem.out.println(\"p radius diff a = \" + Math.abs(p.distance(circumCentre) / a.distance(circumCentre) - 1));\n\t\t\tSystem.out.println(\"p radius diff b = \" + Math.abs(p.distance(circumCentre) / b.distance(circumCentre) - 1));\n\t\t\tSystem.out.println(\"p radius diff c = \" + Math.abs(p.distance(circumCentre) / c.distance(circumCentre) - 1));\n\t\t\tSystem.out.println();\n\t\t}\n\t}\n\tstatic isInCircleDDFast(a, b, c, p) {\n\t\tvar aTerm = DD.sqr(a.x).selfAdd(DD.sqr(a.y)).selfMultiply(TrianglePredicate.triAreaDDFast(b, c, p));\n\t\tvar bTerm = DD.sqr(b.x).selfAdd(DD.sqr(b.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, c, p));\n\t\tvar cTerm = DD.sqr(c.x).selfAdd(DD.sqr(c.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, p));\n\t\tvar pTerm = DD.sqr(p.x).selfAdd(DD.sqr(p.y)).selfMultiply(TrianglePredicate.triAreaDDFast(a, b, c));\n\t\tvar sum = aTerm.selfSubtract(bTerm).selfAdd(cTerm).selfSubtract(pTerm);\n\t\tvar isInCircle = sum.doubleValue() > 0;\n\t\treturn isInCircle;\n\t}\n\tstatic isInCircleCC(a, b, c, p) {\n\t\tvar cc = Triangle.circumcentre(a, b, c);\n\t\tvar ccRadius = a.distance(cc);\n\t\tvar pRadiusDiff = p.distance(cc) - ccRadius;\n\t\treturn pRadiusDiff <= 0;\n\t}\n\tstatic isInCircleNormalized(a, b, c, p) {\n\t\tvar adx = a.x - p.x;\n\t\tvar ady = a.y - p.y;\n\t\tvar bdx = b.x - p.x;\n\t\tvar bdy = b.y - p.y;\n\t\tvar cdx = c.x - p.x;\n\t\tvar cdy = c.y - p.y;\n\t\tvar abdet = adx * bdy - bdx * ady;\n\t\tvar bcdet = bdx * cdy - cdx * bdy;\n\t\tvar cadet = cdx * ady - adx * cdy;\n\t\tvar alift = adx * adx + ady * ady;\n\t\tvar blift = bdx * bdx + bdy * bdy;\n\t\tvar clift = cdx * cdx + cdy * cdy;\n\t\tvar disc = alift * bcdet + blift * cadet + clift * abdet;\n\t\treturn disc > 0;\n\t}\n\tstatic isInCircleDDSlow(a, b, c, p) {\n\t\tvar px = DD.valueOf(p.x);\n\t\tvar py = DD.valueOf(p.y);\n\t\tvar ax = DD.valueOf(a.x);\n\t\tvar ay = DD.valueOf(a.y);\n\t\tvar bx = DD.valueOf(b.x);\n\t\tvar by = DD.valueOf(b.y);\n\t\tvar cx = DD.valueOf(c.x);\n\t\tvar cy = DD.valueOf(c.y);\n\t\tvar aTerm = ax.multiply(ax).add(ay.multiply(ay)).multiply(TrianglePredicate.triAreaDDSlow(bx, by, cx, cy, px, py));\n\t\tvar bTerm = bx.multiply(bx).add(by.multiply(by)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, cx, cy, px, py));\n\t\tvar cTerm = cx.multiply(cx).add(cy.multiply(cy)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, px, py));\n\t\tvar pTerm = px.multiply(px).add(py.multiply(py)).multiply(TrianglePredicate.triAreaDDSlow(ax, ay, bx, by, cx, cy));\n\t\tvar sum = aTerm.subtract(bTerm).add(cTerm).subtract(pTerm);\n\t\tvar isInCircle = sum.doubleValue() > 0;\n\t\treturn isInCircle;\n\t}\n\tstatic isInCircleNonRobust(a, b, c, p) {\n\t\tvar isInCircle = (a.x * a.x + a.y * a.y) * TrianglePredicate.triArea(b, c, p) - (b.x * b.x + b.y * b.y) * TrianglePredicate.triArea(a, c, p) + (c.x * c.x + c.y * c.y) * TrianglePredicate.triArea(a, b, p) - (p.x * p.x + p.y * p.y) * TrianglePredicate.triArea(a, b, c) > 0;\n\t\treturn isInCircle;\n\t}\n\tstatic isInCircleRobust(a, b, c, p) {\n\t\treturn TrianglePredicate.isInCircleNormalized(a, b, c, p);\n\t}\n\tstatic triAreaDDSlow(ax, ay, bx, by, cx, cy) {\n\t\treturn bx.subtract(ax).multiply(cy.subtract(ay)).subtract(by.subtract(ay).multiply(cx.subtract(ax)));\n\t}\n\tstatic triAreaDDFast(a, b, c) {\n\t\tvar t1 = DD.valueOf(b.x).selfSubtract(a.x).selfMultiply(DD.valueOf(c.y).selfSubtract(a.y));\n\t\tvar t2 = DD.valueOf(b.y).selfSubtract(a.y).selfMultiply(DD.valueOf(c.x).selfSubtract(a.x));\n\t\treturn t1.selfSubtract(t2);\n\t}\n\tgetClass() {\n\t\treturn TrianglePredicate;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTrianglePredicate.constructor_ = function () {};\n","import NotRepresentableException from '../../algorithm/NotRepresentableException';\nimport Coordinate from '../../geom/Coordinate';\nimport TrianglePredicate from './TrianglePredicate';\nimport System from '../../../../../java/lang/System';\nimport HCoordinate from '../../algorithm/HCoordinate';\nexport default class Vertex {\n\tconstructor() {\n\t\tVertex.constructor_.apply(this, arguments);\n\t}\n\tstatic interpolateZ() {\n\t\tif (arguments.length === 3) {\n\t\t\tlet p = arguments[0], p0 = arguments[1], p1 = arguments[2];\n\t\t\tvar segLen = p0.distance(p1);\n\t\t\tvar ptLen = p.distance(p0);\n\t\t\tvar dz = p1.z - p0.z;\n\t\t\tvar pz = p0.z + dz * (ptLen / segLen);\n\t\t\treturn pz;\n\t\t} else if (arguments.length === 4) {\n\t\t\tlet p = arguments[0], v0 = arguments[1], v1 = arguments[2], v2 = arguments[3];\n\t\t\tvar x0 = v0.x;\n\t\t\tvar y0 = v0.y;\n\t\t\tvar a = v1.x - x0;\n\t\t\tvar b = v2.x - x0;\n\t\t\tvar c = v1.y - y0;\n\t\t\tvar d = v2.y - y0;\n\t\t\tvar det = a * d - b * c;\n\t\t\tvar dx = p.x - x0;\n\t\t\tvar dy = p.y - y0;\n\t\t\tvar t = (d * dx - b * dy) / det;\n\t\t\tvar u = (-c * dx + a * dy) / det;\n\t\t\tvar z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n\t\t\treturn z;\n\t\t}\n\t}\n\tcircleCenter(b, c) {\n\t\tvar a = new Vertex(this.getX(), this.getY());\n\t\tvar cab = this.bisector(a, b);\n\t\tvar cbc = this.bisector(b, c);\n\t\tvar hcc = new HCoordinate(cab, cbc);\n\t\tvar cc = null;\n\t\ttry {\n\t\t\tcc = new Vertex(hcc.getX(), hcc.getY());\n\t\t} catch (nre) {\n\t\t\tif (nre instanceof NotRepresentableException) {\n\t\t\t\tSystem.err.println(\"a: \" + a + \"  b: \" + b + \"  c: \" + c);\n\t\t\t\tSystem.err.println(nre);\n\t\t\t} else throw nre;\n\t\t} finally {}\n\t\treturn cc;\n\t}\n\tdot(v) {\n\t\treturn this._p.x * v.getX() + this._p.y * v.getY();\n\t}\n\tmagn() {\n\t\treturn Math.sqrt(this._p.x * this._p.x + this._p.y * this._p.y);\n\t}\n\tgetZ() {\n\t\treturn this._p.z;\n\t}\n\tbisector(a, b) {\n\t\tvar dx = b.getX() - a.getX();\n\t\tvar dy = b.getY() - a.getY();\n\t\tvar l1 = new HCoordinate(a.getX() + dx / 2.0, a.getY() + dy / 2.0, 1.0);\n\t\tvar l2 = new HCoordinate(a.getX() - dy + dx / 2.0, a.getY() + dx + dy / 2.0, 1.0);\n\t\treturn new HCoordinate(l1, l2);\n\t}\n\tequals() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet _x = arguments[0];\n\t\t\tif (this._p.x === _x.getX() && this._p.y === _x.getY()) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet _x = arguments[0], tolerance = arguments[1];\n\t\t\tif (this._p.distance(_x.getCoordinate()) < tolerance) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\tgetCoordinate() {\n\t\treturn this._p;\n\t}\n\tisInCircle(a, b, c) {\n\t\treturn TrianglePredicate.isInCircleRobust(a._p, b._p, c._p, this._p);\n\t}\n\tinterpolateZValue(v0, v1, v2) {\n\t\tvar x0 = v0.getX();\n\t\tvar y0 = v0.getY();\n\t\tvar a = v1.getX() - x0;\n\t\tvar b = v2.getX() - x0;\n\t\tvar c = v1.getY() - y0;\n\t\tvar d = v2.getY() - y0;\n\t\tvar det = a * d - b * c;\n\t\tvar dx = this.getX() - x0;\n\t\tvar dy = this.getY() - y0;\n\t\tvar t = (d * dx - b * dy) / det;\n\t\tvar u = (-c * dx + a * dy) / det;\n\t\tvar z = v0.getZ() + t * (v1.getZ() - v0.getZ()) + u * (v2.getZ() - v0.getZ());\n\t\treturn z;\n\t}\n\tmidPoint(a) {\n\t\tvar xm = (this._p.x + a.getX()) / 2.0;\n\t\tvar ym = (this._p.y + a.getY()) / 2.0;\n\t\tvar zm = (this._p.z + a.getZ()) / 2.0;\n\t\treturn new Vertex(xm, ym, zm);\n\t}\n\trightOf(e) {\n\t\treturn this.isCCW(e.dest(), e.orig());\n\t}\n\tisCCW(b, c) {\n\t\treturn (b._p.x - this._p.x) * (c._p.y - this._p.y) - (b._p.y - this._p.y) * (c._p.x - this._p.x) > 0;\n\t}\n\tgetX() {\n\t\treturn this._p.x;\n\t}\n\tcrossProduct(v) {\n\t\treturn this._p.x * v.getY() - this._p.y * v.getX();\n\t}\n\tsetZ(_z) {\n\t\tthis._p.z = _z;\n\t}\n\ttimes(c) {\n\t\treturn new Vertex(c * this._p.x, c * this._p.y);\n\t}\n\tcross() {\n\t\treturn new Vertex(this._p.y, -this._p.x);\n\t}\n\tleftOf(e) {\n\t\treturn this.isCCW(e.orig(), e.dest());\n\t}\n\ttoString() {\n\t\treturn \"POINT (\" + this._p.x + \" \" + this._p.y + \")\";\n\t}\n\tsub(v) {\n\t\treturn new Vertex(this._p.x - v.getX(), this._p.y - v.getY());\n\t}\n\tgetY() {\n\t\treturn this._p.y;\n\t}\n\tclassify(p0, p1) {\n\t\tvar p2 = this;\n\t\tvar a = p1.sub(p0);\n\t\tvar b = p2.sub(p0);\n\t\tvar sa = a.crossProduct(b);\n\t\tif (sa > 0.0) return Vertex.LEFT;\n\t\tif (sa < 0.0) return Vertex.RIGHT;\n\t\tif (a.getX() * b.getX() < 0.0 || a.getY() * b.getY() < 0.0) return Vertex.BEHIND;\n\t\tif (a.magn() < b.magn()) return Vertex.BEYOND;\n\t\tif (p0.equals(p2)) return Vertex.ORIGIN;\n\t\tif (p1.equals(p2)) return Vertex.DESTINATION;\n\t\treturn Vertex.BETWEEN;\n\t}\n\tsum(v) {\n\t\treturn new Vertex(this._p.x + v.getX(), this._p.y + v.getY());\n\t}\n\tdistance(v1, v2) {\n\t\treturn Math.sqrt(Math.pow(v2.getX() - v1.getX(), 2.0) + Math.pow(v2.getY() - v1.getY(), 2.0));\n\t}\n\tcircumRadiusRatio(b, c) {\n\t\tvar x = this.circleCenter(b, c);\n\t\tvar radius = this.distance(x, b);\n\t\tvar edgeLength = this.distance(this, b);\n\t\tvar el = this.distance(b, c);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\tel = this.distance(c, this);\n\t\tif (el < edgeLength) {\n\t\t\tedgeLength = el;\n\t\t}\n\t\treturn radius / edgeLength;\n\t}\n\tgetClass() {\n\t\treturn Vertex;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nVertex.constructor_ = function () {\n\tthis._p = null;\n\tif (arguments.length === 1) {\n\t\tlet _p = arguments[0];\n\t\tthis._p = new Coordinate(_p);\n\t} else if (arguments.length === 2) {\n\t\tlet _x = arguments[0], _y = arguments[1];\n\t\tthis._p = new Coordinate(_x, _y);\n\t} else if (arguments.length === 3) {\n\t\tlet _x = arguments[0], _y = arguments[1], _z = arguments[2];\n\t\tthis._p = new Coordinate(_x, _y, _z);\n\t}\n};\nVertex.LEFT = 0;\nVertex.RIGHT = 1;\nVertex.BEYOND = 2;\nVertex.BEHIND = 3;\nVertex.BETWEEN = 4;\nVertex.ORIGIN = 5;\nVertex.DESTINATION = 6;\n","import Vertex from './quadedge/Vertex';\nexport default class ConstraintVertex extends Vertex {\n\tconstructor() {\n\t\tsuper();\n\t\tConstraintVertex.constructor_.apply(this, arguments);\n\t}\n\tgetConstraint() {\n\t\treturn this._constraint;\n\t}\n\tsetOnConstraint(isOnConstraint) {\n\t\tthis._isOnConstraint = isOnConstraint;\n\t}\n\tmerge(other) {\n\t\tif (other._isOnConstraint) {\n\t\t\tthis._isOnConstraint = true;\n\t\t\tthis._constraint = other._constraint;\n\t\t}\n\t}\n\tisOnConstraint() {\n\t\treturn this._isOnConstraint;\n\t}\n\tsetConstraint(constraint) {\n\t\tthis._isOnConstraint = true;\n\t\tthis._constraint = constraint;\n\t}\n\tgetClass() {\n\t\treturn ConstraintVertex;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConstraintVertex.constructor_ = function () {\n\tthis._isOnConstraint = null;\n\tthis._constraint = null;\n\tlet p = arguments[0];\n\tVertex.constructor_.call(this, p);\n};\n","import WKTWriter from '../../io/WKTWriter';\nimport LineSegment from '../../geom/LineSegment';\nexport default class QuadEdge {\n\tconstructor() {\n\t\tQuadEdge.constructor_.apply(this, arguments);\n\t}\n\tstatic makeEdge(o, d) {\n\t\tvar q0 = new QuadEdge();\n\t\tvar q1 = new QuadEdge();\n\t\tvar q2 = new QuadEdge();\n\t\tvar q3 = new QuadEdge();\n\t\tq0._rot = q1;\n\t\tq1._rot = q2;\n\t\tq2._rot = q3;\n\t\tq3._rot = q0;\n\t\tq0.setNext(q0);\n\t\tq1.setNext(q3);\n\t\tq2.setNext(q2);\n\t\tq3.setNext(q1);\n\t\tvar base = q0;\n\t\tbase.setOrig(o);\n\t\tbase.setDest(d);\n\t\treturn base;\n\t}\n\tstatic swap(e) {\n\t\tvar a = e.oPrev();\n\t\tvar b = e.sym().oPrev();\n\t\tQuadEdge.splice(e, a);\n\t\tQuadEdge.splice(e.sym(), b);\n\t\tQuadEdge.splice(e, a.lNext());\n\t\tQuadEdge.splice(e.sym(), b.lNext());\n\t\te.setOrig(a.dest());\n\t\te.setDest(b.dest());\n\t}\n\tstatic splice(a, b) {\n\t\tvar alpha = a.oNext().rot();\n\t\tvar beta = b.oNext().rot();\n\t\tvar t1 = b.oNext();\n\t\tvar t2 = a.oNext();\n\t\tvar t3 = beta.oNext();\n\t\tvar t4 = alpha.oNext();\n\t\ta.setNext(t1);\n\t\tb.setNext(t2);\n\t\talpha.setNext(t3);\n\t\tbeta.setNext(t4);\n\t}\n\tstatic connect(a, b) {\n\t\tvar e = QuadEdge.makeEdge(a.dest(), b.orig());\n\t\tQuadEdge.splice(e, a.lNext());\n\t\tQuadEdge.splice(e.sym(), b);\n\t\treturn e;\n\t}\n\tequalsNonOriented(qe) {\n\t\tif (this.equalsOriented(qe)) return true;\n\t\tif (this.equalsOriented(qe.sym())) return true;\n\t\treturn false;\n\t}\n\ttoLineSegment() {\n\t\treturn new LineSegment(this._vertex.getCoordinate(), this.dest().getCoordinate());\n\t}\n\tdest() {\n\t\treturn this.sym().orig();\n\t}\n\toNext() {\n\t\treturn this._next;\n\t}\n\tequalsOriented(qe) {\n\t\tif (this.orig().getCoordinate().equals2D(qe.orig().getCoordinate()) && this.dest().getCoordinate().equals2D(qe.dest().getCoordinate())) return true;\n\t\treturn false;\n\t}\n\tdNext() {\n\t\treturn this.sym().oNext().sym();\n\t}\n\tlPrev() {\n\t\treturn this._next.sym();\n\t}\n\trPrev() {\n\t\treturn this.sym().oNext();\n\t}\n\trot() {\n\t\treturn this._rot;\n\t}\n\toPrev() {\n\t\treturn this._rot._next._rot;\n\t}\n\tsym() {\n\t\treturn this._rot._rot;\n\t}\n\tsetOrig(o) {\n\t\tthis._vertex = o;\n\t}\n\tlNext() {\n\t\treturn this.invRot().oNext().rot();\n\t}\n\tgetLength() {\n\t\treturn this.orig().getCoordinate().distance(this.dest().getCoordinate());\n\t}\n\tinvRot() {\n\t\treturn this._rot.sym();\n\t}\n\tsetDest(d) {\n\t\tthis.sym().setOrig(d);\n\t}\n\tsetData(data) {\n\t\tthis._data = data;\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\tdelete() {\n\t\tthis._rot = null;\n\t}\n\torig() {\n\t\treturn this._vertex;\n\t}\n\trNext() {\n\t\treturn this._rot._next.invRot();\n\t}\n\ttoString() {\n\t\tvar p0 = this._vertex.getCoordinate();\n\t\tvar p1 = this.dest().getCoordinate();\n\t\treturn WKTWriter.toLineString(p0, p1);\n\t}\n\tisLive() {\n\t\treturn this._rot !== null;\n\t}\n\tgetPrimary() {\n\t\tif (this.orig().getCoordinate().compareTo(this.dest().getCoordinate()) <= 0) return this; else return this.sym();\n\t}\n\tdPrev() {\n\t\treturn this.invRot().oNext().invRot();\n\t}\n\tsetNext(next) {\n\t\tthis._next = next;\n\t}\n\tgetClass() {\n\t\treturn QuadEdge;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nQuadEdge.constructor_ = function () {\n\tthis._rot = null;\n\tthis._vertex = null;\n\tthis._next = null;\n\tthis._data = null;\n};\n","import QuadEdge from './quadedge/QuadEdge';\nexport default class IncrementalDelaunayTriangulator {\n\tconstructor() {\n\t\tIncrementalDelaunayTriangulator.constructor_.apply(this, arguments);\n\t}\n\tinsertSite(v) {\n\t\tvar e = this._subdiv.locate(v);\n\t\tif (this._subdiv.isVertexOfEdge(e, v)) {\n\t\t\treturn e;\n\t\t} else if (this._subdiv.isOnEdge(e, v.getCoordinate())) {\n\t\t\te = e.oPrev();\n\t\t\tthis._subdiv.delete(e.oNext());\n\t\t}\n\t\tvar base = this._subdiv.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this._subdiv.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\tdo {\n\t\t\tvar t = e.oPrev();\n\t\t\tif (t.dest().rightOf(e) && v.isInCircle(e.orig(), t.dest(), e.dest())) {\n\t\t\t\tQuadEdge.swap(e);\n\t\t\t\te = e.oPrev();\n\t\t\t} else if (e.oNext() === startEdge) {\n\t\t\t\treturn base;\n\t\t\t} else {\n\t\t\t\te = e.oNext().lPrev();\n\t\t\t}\n\t\t} while (true);\n\t}\n\tinsertSites(vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn IncrementalDelaunayTriangulator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nIncrementalDelaunayTriangulator.constructor_ = function () {\n\tthis._subdiv = null;\n\tthis._isUsingTolerance = false;\n\tlet subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis._isUsingTolerance = subdiv.getTolerance() > 0.0;\n};\n","export default class QuadEdgeLocator {\n\tconstructor() {\n\t\tQuadEdgeLocator.constructor_.apply(this, arguments);\n\t}\n\tlocate(v) {}\n\tgetClass() {\n\t\treturn QuadEdgeLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nQuadEdgeLocator.constructor_ = function () {};\n","import QuadEdgeLocator from './QuadEdgeLocator';\nexport default class LastFoundQuadEdgeLocator {\n\tconstructor() {\n\t\tLastFoundQuadEdgeLocator.constructor_.apply(this, arguments);\n\t}\n\tinit() {\n\t\tthis._lastEdge = this.findEdge();\n\t}\n\tlocate(v) {\n\t\tif (!this._lastEdge.isLive()) {\n\t\t\tthis.init();\n\t\t}\n\t\tvar e = this._subdiv.locateFromEdge(v, this._lastEdge);\n\t\tthis._lastEdge = e;\n\t\treturn e;\n\t}\n\tfindEdge() {\n\t\tvar edges = this._subdiv.getEdges();\n\t\treturn edges.iterator().next();\n\t}\n\tgetClass() {\n\t\treturn LastFoundQuadEdgeLocator;\n\t}\n\tget interfaces_() {\n\t\treturn [QuadEdgeLocator];\n\t}\n}\nLastFoundQuadEdgeLocator.constructor_ = function () {\n\tthis._subdiv = null;\n\tthis._lastEdge = null;\n\tlet subdiv = arguments[0];\n\tthis._subdiv = subdiv;\n\tthis.init();\n};\n","import LineSegment from '../../geom/LineSegment';\nimport RuntimeException from '../../../../../java/lang/RuntimeException';\nexport default class LocateFailureException extends RuntimeException {\n\tconstructor() {\n\t\tsuper();\n\t\tLocateFailureException.constructor_.apply(this, arguments);\n\t}\n\tstatic msgWithSpatial(msg, seg) {\n\t\tif (seg !== null) return msg + \" [ \" + seg + \" ]\";\n\t\treturn msg;\n\t}\n\tgetSegment() {\n\t\treturn this._seg;\n\t}\n\tgetClass() {\n\t\treturn LocateFailureException;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLocateFailureException.constructor_ = function () {\n\tthis._seg = null;\n\tif (arguments.length === 1) {\n\t\tif (typeof arguments[0] === \"string\") {\n\t\t\tlet msg = arguments[0];\n\t\t\tRuntimeException.constructor_.call(this, msg);\n\t\t} else if (arguments[0] instanceof LineSegment) {\n\t\t\tlet seg = arguments[0];\n\t\t\tRuntimeException.constructor_.call(this, \"Locate failed to converge (at edge: \" + seg + \").  Possible causes include invalid Subdivision topology or very close sites\");\n\t\t\tthis._seg = new LineSegment(seg);\n\t\t}\n\t} else if (arguments.length === 2) {\n\t\tlet msg = arguments[0], seg = arguments[1];\n\t\tRuntimeException.constructor_.call(this, LocateFailureException.msgWithSpatial(msg, seg));\n\t\tthis._seg = new LineSegment(seg);\n\t}\n};\n","export default class TriangleVisitor {\n\tconstructor() {\n\t\tTriangleVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisit(triEdges) {}\n\tgetClass() {\n\t\treturn TriangleVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nTriangleVisitor.constructor_ = function () {};\n","import QuadEdge from './QuadEdge';\nimport CoordinateList from '../../geom/CoordinateList';\nimport HashSet from '../../../../../java/util/HashSet';\nimport WKTWriter from '../../io/WKTWriter';\nimport GeometryFactory from '../../geom/GeometryFactory';\nimport Coordinate from '../../geom/Coordinate';\nimport IllegalArgumentException from '../../../../../java/lang/IllegalArgumentException';\nimport Stack from '../../../../../java/util/Stack';\nimport LastFoundQuadEdgeLocator from './LastFoundQuadEdgeLocator';\nimport LocateFailureException from './LocateFailureException';\nimport Vertex from './Vertex';\nimport System from '../../../../../java/lang/System';\nimport LineSegment from '../../geom/LineSegment';\nimport ArrayList from '../../../../../java/util/ArrayList';\nimport Envelope from '../../geom/Envelope';\nimport Triangle from '../../geom/Triangle';\nimport TriangleVisitor from './TriangleVisitor';\nexport default class QuadEdgeSubdivision {\n\tconstructor() {\n\t\tQuadEdgeSubdivision.constructor_.apply(this, arguments);\n\t}\n\tstatic getTriangleEdges(startQE, triEdge) {\n\t\ttriEdge[0] = startQE;\n\t\ttriEdge[1] = triEdge[0].lNext();\n\t\ttriEdge[2] = triEdge[1].lNext();\n\t\tif (triEdge[2].lNext() !== triEdge[0]) throw new IllegalArgumentException(\"Edges do not form a triangle\");\n\t}\n\tgetTriangleVertices(includeFrame) {\n\t\tvar visitor = new TriangleVertexListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleVertices();\n\t}\n\tisFrameVertex(v) {\n\t\tif (v.equals(this._frameVertex[0])) return true;\n\t\tif (v.equals(this._frameVertex[1])) return true;\n\t\tif (v.equals(this._frameVertex[2])) return true;\n\t\treturn false;\n\t}\n\tisVertexOfEdge(e, v) {\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tconnect(a, b) {\n\t\tvar q = QuadEdge.connect(a, b);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t}\n\tgetVoronoiCellPolygon(qe, geomFact) {\n\t\tvar cellPts = new ArrayList();\n\t\tvar startQE = qe;\n\t\tdo {\n\t\t\tvar cc = qe.rot().orig().getCoordinate();\n\t\t\tcellPts.add(cc);\n\t\t\tqe = qe.oPrev();\n\t\t} while (qe !== startQE);\n\t\tvar coordList = new CoordinateList();\n\t\tcoordList.addAll(cellPts, false);\n\t\tcoordList.closeRing();\n\t\tif (coordList.size() < 4) {\n\t\t\tSystem.out.println(coordList);\n\t\t\tcoordList.add(coordList.get(coordList.size() - 1), true);\n\t\t}\n\t\tvar pts = coordList.toCoordinateArray();\n\t\tvar cellPoly = geomFact.createPolygon(geomFact.createLinearRing(pts));\n\t\tvar v = startQE.orig();\n\t\tcellPoly.setUserData(v.getCoordinate());\n\t\treturn cellPoly;\n\t}\n\tsetLocator(locator) {\n\t\tthis._locator = locator;\n\t}\n\tinitSubdiv() {\n\t\tvar ea = this.makeEdge(this._frameVertex[0], this._frameVertex[1]);\n\t\tvar eb = this.makeEdge(this._frameVertex[1], this._frameVertex[2]);\n\t\tQuadEdge.splice(ea.sym(), eb);\n\t\tvar ec = this.makeEdge(this._frameVertex[2], this._frameVertex[0]);\n\t\tQuadEdge.splice(eb.sym(), ec);\n\t\tQuadEdge.splice(ec.sym(), ea);\n\t\treturn ea;\n\t}\n\tisFrameBorderEdge(e) {\n\t\tvar leftTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e, leftTri);\n\t\tvar rightTri = new Array(3).fill(null);\n\t\tQuadEdgeSubdivision.getTriangleEdges(e.sym(), rightTri);\n\t\tvar vLeftTriOther = e.lNext().dest();\n\t\tif (this.isFrameVertex(vLeftTriOther)) return true;\n\t\tvar vRightTriOther = e.sym().lNext().dest();\n\t\tif (this.isFrameVertex(vRightTriOther)) return true;\n\t\treturn false;\n\t}\n\tmakeEdge(o, d) {\n\t\tvar q = QuadEdge.makeEdge(o, d);\n\t\tthis._quadEdges.add(q);\n\t\treturn q;\n\t}\n\tvisitTriangles(triVisitor, includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar triEdges = this.fetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges);\n\t\t\t\tif (triEdges !== null) triVisitor.visit(triEdges);\n\t\t\t}\n\t\t}\n\t}\n\tisFrameEdge(e) {\n\t\tif (this.isFrameVertex(e.orig()) || this.isFrameVertex(e.dest())) return true;\n\t\treturn false;\n\t}\n\tisOnEdge(e, p) {\n\t\tthis._seg.setCoordinates(e.orig().getCoordinate(), e.dest().getCoordinate());\n\t\tvar dist = this._seg.distance(p);\n\t\treturn dist < this._edgeCoincidenceTolerance;\n\t}\n\tgetEnvelope() {\n\t\treturn new Envelope(this._frameEnv);\n\t}\n\tcreateFrame(env) {\n\t\tvar deltaX = env.getWidth();\n\t\tvar deltaY = env.getHeight();\n\t\tvar offset = 0.0;\n\t\tif (deltaX > deltaY) {\n\t\t\toffset = deltaX * 10.0;\n\t\t} else {\n\t\t\toffset = deltaY * 10.0;\n\t\t}\n\t\tthis._frameVertex[0] = new Vertex((env.getMaxX() + env.getMinX()) / 2.0, env.getMaxY() + offset);\n\t\tthis._frameVertex[1] = new Vertex(env.getMinX() - offset, env.getMinY() - offset);\n\t\tthis._frameVertex[2] = new Vertex(env.getMaxX() + offset, env.getMinY() - offset);\n\t\tthis._frameEnv = new Envelope(this._frameVertex[0].getCoordinate(), this._frameVertex[1].getCoordinate());\n\t\tthis._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate());\n\t}\n\tgetTriangleCoordinates(includeFrame) {\n\t\tvar visitor = new TriangleCoordinatesVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangles();\n\t}\n\tgetVertices(includeFrame) {\n\t\tvar vertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (includeFrame || !this.isFrameVertex(v)) vertices.add(v);\n\t\t\tvar vd = qe.dest();\n\t\t\tif (includeFrame || !this.isFrameVertex(vd)) vertices.add(vd);\n\t\t}\n\t\treturn vertices;\n\t}\n\tfetchTriangleToVisit(edge, edgeStack, includeFrame, visitedEdges) {\n\t\tvar curr = edge;\n\t\tvar edgeCount = 0;\n\t\tvar isFrame = false;\n\t\tdo {\n\t\t\tthis._triEdges[edgeCount] = curr;\n\t\t\tif (this.isFrameEdge(curr)) isFrame = true;\n\t\t\tvar sym = curr.sym();\n\t\t\tif (!visitedEdges.contains(sym)) edgeStack.push(sym);\n\t\t\tvisitedEdges.add(curr);\n\t\t\tedgeCount++;\n\t\t\tcurr = curr.lNext();\n\t\t} while (curr !== edge);\n\t\tif (isFrame && !includeFrame) return null;\n\t\treturn this._triEdges;\n\t}\n\tgetEdges() {\n\t\tif (arguments.length === 0) {\n\t\t\treturn this._quadEdges;\n\t\t} else if (arguments.length === 1) {\n\t\t\tlet geomFact = arguments[0];\n\t\t\tvar quadEdges = this.getPrimaryEdges(false);\n\t\t\tvar edges = new Array(quadEdges.size()).fill(null);\n\t\t\tvar i = 0;\n\t\t\tfor (var it = quadEdges.iterator(); it.hasNext(); ) {\n\t\t\t\tvar qe = it.next();\n\t\t\t\tedges[i++] = geomFact.createLineString([qe.orig().getCoordinate(), qe.dest().getCoordinate()]);\n\t\t\t}\n\t\t\treturn geomFact.createMultiLineString(edges);\n\t\t}\n\t}\n\tgetVertexUniqueEdges(includeFrame) {\n\t\tvar edges = new ArrayList();\n\t\tvar visitedVertices = new HashSet();\n\t\tfor (var i = this._quadEdges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tvar v = qe.orig();\n\t\t\tif (!visitedVertices.contains(v)) {\n\t\t\t\tvisitedVertices.add(v);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(v)) {\n\t\t\t\t\tedges.add(qe);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar qd = qe.sym();\n\t\t\tvar vd = qd.orig();\n\t\t\tif (!visitedVertices.contains(vd)) {\n\t\t\t\tvisitedVertices.add(vd);\n\t\t\t\tif (includeFrame || !this.isFrameVertex(vd)) {\n\t\t\t\t\tedges.add(qd);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t}\n\tgetTriangleEdges(includeFrame) {\n\t\tvar visitor = new TriangleEdgesListVisitor();\n\t\tthis.visitTriangles(visitor, includeFrame);\n\t\treturn visitor.getTriangleEdges();\n\t}\n\tgetPrimaryEdges(includeFrame) {\n\t\tthis._visitedKey++;\n\t\tvar edges = new ArrayList();\n\t\tvar edgeStack = new Stack();\n\t\tedgeStack.push(this._startingEdge);\n\t\tvar visitedEdges = new HashSet();\n\t\twhile (!edgeStack.empty()) {\n\t\t\tvar edge = edgeStack.pop();\n\t\t\tif (!visitedEdges.contains(edge)) {\n\t\t\t\tvar priQE = edge.getPrimary();\n\t\t\t\tif (includeFrame || !this.isFrameEdge(priQE)) edges.add(priQE);\n\t\t\t\tedgeStack.push(edge.oNext());\n\t\t\t\tedgeStack.push(edge.sym().oNext());\n\t\t\t\tvisitedEdges.add(edge);\n\t\t\t\tvisitedEdges.add(edge.sym());\n\t\t\t}\n\t\t}\n\t\treturn edges;\n\t}\n\tdelete(e) {\n\t\tQuadEdge.splice(e, e.oPrev());\n\t\tQuadEdge.splice(e.sym(), e.sym().oPrev());\n\t\tvar eSym = e.sym();\n\t\tvar eRot = e.rot();\n\t\tvar eRotSym = e.rot().sym();\n\t\tthis._quadEdges.remove(e);\n\t\tthis._quadEdges.remove(eSym);\n\t\tthis._quadEdges.remove(eRot);\n\t\tthis._quadEdges.remove(eRotSym);\n\t\te.delete();\n\t\teSym.delete();\n\t\teRot.delete();\n\t\teRotSym.delete();\n\t}\n\tlocateFromEdge(v, startEdge) {\n\t\tvar iter = 0;\n\t\tvar maxIter = this._quadEdges.size();\n\t\tvar e = startEdge;\n\t\twhile (true) {\n\t\t\titer++;\n\t\t\tif (iter > maxIter) {\n\t\t\t\tthrow new LocateFailureException(e.toLineSegment());\n\t\t\t}\n\t\t\tif (v.equals(e.orig()) || v.equals(e.dest())) {\n\t\t\t\tbreak;\n\t\t\t} else if (v.rightOf(e)) {\n\t\t\t\te = e.sym();\n\t\t\t} else if (!v.rightOf(e.oNext())) {\n\t\t\t\te = e.oNext();\n\t\t\t} else if (!v.rightOf(e.dPrev())) {\n\t\t\t\te = e.dPrev();\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn e;\n\t}\n\tgetTolerance() {\n\t\treturn this._tolerance;\n\t}\n\tgetVoronoiCellPolygons(geomFact) {\n\t\tthis.visitTriangles(new TriangleCircumcentreVisitor(), true);\n\t\tvar cells = new ArrayList();\n\t\tvar edges = this.getVertexUniqueEdges(false);\n\t\tfor (var i = edges.iterator(); i.hasNext(); ) {\n\t\t\tvar qe = i.next();\n\t\t\tcells.add(this.getVoronoiCellPolygon(qe, geomFact));\n\t\t}\n\t\treturn cells;\n\t}\n\tgetVoronoiDiagram(geomFact) {\n\t\tvar vorCells = this.getVoronoiCellPolygons(geomFact);\n\t\treturn geomFact.createGeometryCollection(GeometryFactory.toGeometryArray(vorCells));\n\t}\n\tgetTriangles(geomFact) {\n\t\tvar triPtsList = this.getTriangleCoordinates(false);\n\t\tvar tris = new Array(triPtsList.size()).fill(null);\n\t\tvar i = 0;\n\t\tfor (var it = triPtsList.iterator(); it.hasNext(); ) {\n\t\t\tvar triPt = it.next();\n\t\t\ttris[i++] = geomFact.createPolygon(geomFact.createLinearRing(triPt));\n\t\t}\n\t\treturn geomFact.createGeometryCollection(tris);\n\t}\n\tinsertSite(v) {\n\t\tvar e = this.locate(v);\n\t\tif (v.equals(e.orig(), this._tolerance) || v.equals(e.dest(), this._tolerance)) {\n\t\t\treturn e;\n\t\t}\n\t\tvar base = this.makeEdge(e.orig(), v);\n\t\tQuadEdge.splice(base, e);\n\t\tvar startEdge = base;\n\t\tdo {\n\t\t\tbase = this.connect(e, base.sym());\n\t\t\te = base.oPrev();\n\t\t} while (e.lNext() !== startEdge);\n\t\treturn startEdge;\n\t}\n\tlocate() {\n\t\tif (arguments.length === 1) {\n\t\t\tif (arguments[0] instanceof Vertex) {\n\t\t\t\tlet v = arguments[0];\n\t\t\t\treturn this._locator.locate(v);\n\t\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\t\tlet p = arguments[0];\n\t\t\t\treturn this._locator.locate(new Vertex(p));\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\t\tvar e = this._locator.locate(new Vertex(p0));\n\t\t\tif (e === null) return null;\n\t\t\tvar base = e;\n\t\t\tif (e.dest().getCoordinate().equals2D(p0)) base = e.sym();\n\t\t\tvar locEdge = base;\n\t\t\tdo {\n\t\t\t\tif (locEdge.dest().getCoordinate().equals2D(p1)) return locEdge;\n\t\t\t\tlocEdge = locEdge.oNext();\n\t\t\t} while (locEdge !== base);\n\t\t\treturn null;\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn QuadEdgeSubdivision;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nclass TriangleCircumcentreVisitor {\n\tconstructor() {\n\t\tTriangleCircumcentreVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisit(triEdges) {\n\t\tvar a = triEdges[0].orig().getCoordinate();\n\t\tvar b = triEdges[1].orig().getCoordinate();\n\t\tvar c = triEdges[2].orig().getCoordinate();\n\t\tvar cc = Triangle.circumcentre(a, b, c);\n\t\tvar ccVertex = new Vertex(cc);\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\ttriEdges[i].rot().setOrig(ccVertex);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn TriangleCircumcentreVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [TriangleVisitor];\n\t}\n}\nTriangleCircumcentreVisitor.constructor_ = function () {};\nclass TriangleEdgesListVisitor {\n\tconstructor() {\n\t\tTriangleEdgesListVisitor.constructor_.apply(this, arguments);\n\t}\n\tgetTriangleEdges() {\n\t\treturn this._triList;\n\t}\n\tvisit(triEdges) {\n\t\tthis._triList.add(triEdges);\n\t}\n\tgetClass() {\n\t\treturn TriangleEdgesListVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [TriangleVisitor];\n\t}\n}\nTriangleEdgesListVisitor.constructor_ = function () {\n\tthis._triList = new ArrayList();\n};\nclass TriangleVertexListVisitor {\n\tconstructor() {\n\t\tTriangleVertexListVisitor.constructor_.apply(this, arguments);\n\t}\n\tvisit(triEdges) {\n\t\tthis._triList.add([triEdges[0].orig(), triEdges[1].orig(), triEdges[2].orig()]);\n\t}\n\tgetTriangleVertices() {\n\t\treturn this._triList;\n\t}\n\tgetClass() {\n\t\treturn TriangleVertexListVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [TriangleVisitor];\n\t}\n}\nTriangleVertexListVisitor.constructor_ = function () {\n\tthis._triList = new ArrayList();\n};\nclass TriangleCoordinatesVisitor {\n\tconstructor() {\n\t\tTriangleCoordinatesVisitor.constructor_.apply(this, arguments);\n\t}\n\tcheckTriangleSize(pts) {\n\t\tvar loc = \"\";\n\t\tif (pts.length >= 2) loc = WKTWriter.toLineString(pts[0], pts[1]); else {\n\t\t\tif (pts.length >= 1) loc = WKTWriter.toPoint(pts[0]);\n\t\t}\n\t}\n\tvisit(triEdges) {\n\t\tthis._coordList.clear();\n\t\tfor (var i = 0; i < 3; i++) {\n\t\t\tvar v = triEdges[i].orig();\n\t\t\tthis._coordList.add(v.getCoordinate());\n\t\t}\n\t\tif (this._coordList.size() > 0) {\n\t\t\tthis._coordList.closeRing();\n\t\t\tvar pts = this._coordList.toCoordinateArray();\n\t\t\tif (pts.length !== 4) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tthis._triCoords.add(pts);\n\t\t}\n\t}\n\tgetTriangles() {\n\t\treturn this._triCoords;\n\t}\n\tgetClass() {\n\t\treturn TriangleCoordinatesVisitor;\n\t}\n\tget interfaces_() {\n\t\treturn [TriangleVisitor];\n\t}\n}\nTriangleCoordinatesVisitor.constructor_ = function () {\n\tthis._coordList = new CoordinateList();\n\tthis._triCoords = new ArrayList();\n};\nQuadEdgeSubdivision.TriangleCircumcentreVisitor = TriangleCircumcentreVisitor;\nQuadEdgeSubdivision.TriangleEdgesListVisitor = TriangleEdgesListVisitor;\nQuadEdgeSubdivision.TriangleVertexListVisitor = TriangleVertexListVisitor;\nQuadEdgeSubdivision.TriangleCoordinatesVisitor = TriangleCoordinatesVisitor;\nQuadEdgeSubdivision.constructor_ = function () {\n\tthis._visitedKey = 0;\n\tthis._quadEdges = new ArrayList();\n\tthis._startingEdge = null;\n\tthis._tolerance = null;\n\tthis._edgeCoincidenceTolerance = null;\n\tthis._frameVertex = new Array(3).fill(null);\n\tthis._frameEnv = null;\n\tthis._locator = null;\n\tthis._seg = new LineSegment();\n\tthis._triEdges = new Array(3).fill(null);\n\tlet env = arguments[0], tolerance = arguments[1];\n\tthis._tolerance = tolerance;\n\tthis._edgeCoincidenceTolerance = tolerance / QuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR;\n\tthis.createFrame(env);\n\tthis._startingEdge = this.initSubdiv();\n\tthis._locator = new LastFoundQuadEdgeLocator(this);\n};\nQuadEdgeSubdivision.EDGE_COINCIDENCE_TOL_FACTOR = 1000;\n","import Coordinate from '../geom/Coordinate';\nimport LineSegment from '../geom/LineSegment';\nexport default class Segment {\n\tconstructor() {\n\t\tSegment.constructor_.apply(this, arguments);\n\t}\n\tgetLineSegment() {\n\t\treturn this._ls;\n\t}\n\tgetEndZ() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.z;\n\t}\n\tgetStartZ() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.z;\n\t}\n\tintersection(s) {\n\t\treturn this._ls.intersection(s.getLineSegment());\n\t}\n\tgetStart() {\n\t\treturn this._ls.getCoordinate(0);\n\t}\n\tgetEnd() {\n\t\treturn this._ls.getCoordinate(1);\n\t}\n\tgetEndY() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.y;\n\t}\n\tgetStartX() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.x;\n\t}\n\tequalsTopo(s) {\n\t\treturn this._ls.equalsTopo(s.getLineSegment());\n\t}\n\tgetStartY() {\n\t\tvar p = this._ls.getCoordinate(0);\n\t\treturn p.y;\n\t}\n\tsetData(data) {\n\t\tthis._data = data;\n\t}\n\tgetData() {\n\t\treturn this._data;\n\t}\n\tgetEndX() {\n\t\tvar p = this._ls.getCoordinate(1);\n\t\treturn p.x;\n\t}\n\ttoString() {\n\t\treturn this._ls.toString();\n\t}\n\tgetClass() {\n\t\treturn Segment;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nSegment.constructor_ = function () {\n\tthis._ls = null;\n\tthis._data = null;\n\tif (arguments.length === 2) {\n\t\tlet p0 = arguments[0], p1 = arguments[1];\n\t\tthis._ls = new LineSegment(p0, p1);\n\t} else if (arguments.length === 3) {\n\t\tlet p0 = arguments[0], p1 = arguments[1], data = arguments[2];\n\t\tthis._ls = new LineSegment(p0, p1);\n\t\tthis._data = data;\n\t} else if (arguments.length === 6) {\n\t\tlet x1 = arguments[0], y1 = arguments[1], z1 = arguments[2], x2 = arguments[3], y2 = arguments[4], z2 = arguments[5];\n\t\tSegment.constructor_.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2));\n\t} else if (arguments.length === 7) {\n\t\tlet x1 = arguments[0], y1 = arguments[1], z1 = arguments[2], x2 = arguments[3], y2 = arguments[4], z2 = arguments[5], data = arguments[6];\n\t\tSegment.constructor_.call(this, new Coordinate(x1, y1, z1), new Coordinate(x2, y2, z2), data);\n\t}\n};\n","import GeometryFactory from '../geom/GeometryFactory';\nimport NonEncroachingSplitPointFinder from './NonEncroachingSplitPointFinder';\nimport ConstraintVertex from './ConstraintVertex';\nimport Coordinate from '../geom/Coordinate';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport Double from '../../../../java/lang/Double';\nimport LastFoundQuadEdgeLocator from './quadedge/LastFoundQuadEdgeLocator';\nimport Segment from './Segment';\nimport ConvexHull from '../algorithm/ConvexHull';\nimport KdTree from '../index/kdtree/KdTree';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nexport default class ConformingDelaunayTriangulator {\n\tconstructor() {\n\t\tConformingDelaunayTriangulator.constructor_.apply(this, arguments);\n\t}\n\tstatic computeVertexEnvelope(vertices) {\n\t\tvar env = new Envelope();\n\t\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tenv.expandToInclude(v.getCoordinate());\n\t\t}\n\t\treturn env;\n\t}\n\tgetInitialVertices() {\n\t\treturn this._initialVertices;\n\t}\n\tgetKDT() {\n\t\treturn this._kdt;\n\t}\n\tenforceConstraints() {\n\t\tthis.addConstraintVertices();\n\t\tvar count = 0;\n\t\tvar splits = 0;\n\t\tdo {\n\t\t\tsplits = this.enforceGabriel(this._segments);\n\t\t\tcount++;\n\t\t} while (splits > 0 && count < ConformingDelaunayTriangulator.MAX_SPLIT_ITER);\n\t}\n\tinsertSites(vertices) {\n\t\tfor (var i = vertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tthis.insertSite(v);\n\t\t}\n\t}\n\tgetVertexFactory() {\n\t\treturn this._vertexFactory;\n\t}\n\tgetPointArray() {\n\t\tvar pts = new Array(this._initialVertices.size() + this._segVertices.size()).fill(null);\n\t\tvar index = 0;\n\t\tfor (var i = this._initialVertices.iterator(); i.hasNext(); ) {\n\t\t\tvar v = i.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\tfor (var i2 = this._segVertices.iterator(); i2.hasNext(); ) {\n\t\t\tvar v = i2.next();\n\t\t\tpts[index++] = v.getCoordinate();\n\t\t}\n\t\treturn pts;\n\t}\n\tsetConstraints(segments, segVertices) {\n\t\tthis._segments = segments;\n\t\tthis._segVertices = segVertices;\n\t}\n\tcomputeConvexHull() {\n\t\tvar fact = new GeometryFactory();\n\t\tvar coords = this.getPointArray();\n\t\tvar hull = new ConvexHull(coords, fact);\n\t\tthis._convexHull = hull.getConvexHull();\n\t}\n\taddConstraintVertices() {\n\t\tthis.computeConvexHull();\n\t\tthis.insertSites(this._segVertices);\n\t}\n\tfindNonGabrielPoint(seg) {\n\t\tvar p = seg.getStart();\n\t\tvar q = seg.getEnd();\n\t\tvar midPt = new Coordinate((p.x + q.x) / 2.0, (p.y + q.y) / 2.0);\n\t\tvar segRadius = p.distance(midPt);\n\t\tvar env = new Envelope(midPt);\n\t\tenv.expandBy(segRadius);\n\t\tvar result = this._kdt.query(env);\n\t\tvar closestNonGabriel = null;\n\t\tvar minDist = Double.MAX_VALUE;\n\t\tfor (var i = result.iterator(); i.hasNext(); ) {\n\t\t\tvar nextNode = i.next();\n\t\t\tvar testPt = nextNode.getCoordinate();\n\t\t\tif (testPt.equals2D(p) || testPt.equals2D(q)) continue;\n\t\t\tvar testRadius = midPt.distance(testPt);\n\t\t\tif (testRadius < segRadius) {\n\t\t\t\tvar testDist = testRadius;\n\t\t\t\tif (closestNonGabriel === null || testDist < minDist) {\n\t\t\t\t\tclosestNonGabriel = testPt;\n\t\t\t\t\tminDist = testDist;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn closestNonGabriel;\n\t}\n\tgetConstraintSegments() {\n\t\treturn this._segments;\n\t}\n\tsetSplitPointFinder(splitFinder) {\n\t\tthis._splitFinder = splitFinder;\n\t}\n\tgetConvexHull() {\n\t\treturn this._convexHull;\n\t}\n\tgetTolerance() {\n\t\treturn this._tolerance;\n\t}\n\tenforceGabriel(segsToInsert) {\n\t\tvar newSegments = new ArrayList();\n\t\tvar splits = 0;\n\t\tvar segsToRemove = new ArrayList();\n\t\tfor (var i = segsToInsert.iterator(); i.hasNext(); ) {\n\t\t\tvar seg = i.next();\n\t\t\tvar encroachPt = this.findNonGabrielPoint(seg);\n\t\t\tif (encroachPt === null) continue;\n\t\t\tthis._splitPt = this._splitFinder.findSplitPoint(seg, encroachPt);\n\t\t\tvar splitVertex = this.createVertex(this._splitPt, seg);\n\t\t\tvar insertedVertex = this.insertSite(splitVertex);\n\t\t\tif (!insertedVertex.getCoordinate().equals2D(this._splitPt)) {}\n\t\t\tvar s1 = new Segment(seg.getStartX(), seg.getStartY(), seg.getStartZ(), splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getData());\n\t\t\tvar s2 = new Segment(splitVertex.getX(), splitVertex.getY(), splitVertex.getZ(), seg.getEndX(), seg.getEndY(), seg.getEndZ(), seg.getData());\n\t\t\tnewSegments.add(s1);\n\t\t\tnewSegments.add(s2);\n\t\t\tsegsToRemove.add(seg);\n\t\t\tsplits = splits + 1;\n\t\t}\n\t\tsegsToInsert.removeAll(segsToRemove);\n\t\tsegsToInsert.addAll(newSegments);\n\t\treturn splits;\n\t}\n\tcreateVertex() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet p = arguments[0];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, null); else v = new ConstraintVertex(p);\n\t\t\treturn v;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet p = arguments[0], seg = arguments[1];\n\t\t\tvar v = null;\n\t\t\tif (this._vertexFactory !== null) v = this._vertexFactory.createVertex(p, seg); else v = new ConstraintVertex(p);\n\t\t\tv.setOnConstraint(true);\n\t\t\treturn v;\n\t\t}\n\t}\n\tgetSubdivision() {\n\t\treturn this._subdiv;\n\t}\n\tcomputeBoundingBox() {\n\t\tvar vertexEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._initialVertices);\n\t\tvar segEnv = ConformingDelaunayTriangulator.computeVertexEnvelope(this._segVertices);\n\t\tvar allPointsEnv = new Envelope(vertexEnv);\n\t\tallPointsEnv.expandToInclude(segEnv);\n\t\tvar deltaX = allPointsEnv.getWidth() * 0.2;\n\t\tvar deltaY = allPointsEnv.getHeight() * 0.2;\n\t\tvar delta = Math.max(deltaX, deltaY);\n\t\tthis._computeAreaEnv = new Envelope(allPointsEnv);\n\t\tthis._computeAreaEnv.expandBy(delta);\n\t}\n\tsetVertexFactory(vertexFactory) {\n\t\tthis._vertexFactory = vertexFactory;\n\t}\n\tformInitialDelaunay() {\n\t\tthis.computeBoundingBox();\n\t\tthis._subdiv = new QuadEdgeSubdivision(this._computeAreaEnv, this._tolerance);\n\t\tthis._subdiv.setLocator(new LastFoundQuadEdgeLocator(this._subdiv));\n\t\tthis._incDel = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\tthis.insertSites(this._initialVertices);\n\t}\n\tinsertSite() {\n\t\tif (arguments[0] instanceof ConstraintVertex) {\n\t\t\tlet v = arguments[0];\n\t\t\tvar kdnode = this._kdt.insert(v.getCoordinate(), v);\n\t\t\tif (!kdnode.isRepeated()) {\n\t\t\t\tthis._incDel.insertSite(v);\n\t\t\t} else {\n\t\t\t\tvar snappedV = kdnode.getData();\n\t\t\t\tsnappedV.merge(v);\n\t\t\t\treturn snappedV;\n\t\t\t}\n\t\t\treturn v;\n\t\t} else if (arguments[0] instanceof Coordinate) {\n\t\t\tlet p = arguments[0];\n\t\t\tthis.insertSite(this.createVertex(p));\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn ConformingDelaunayTriangulator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConformingDelaunayTriangulator.constructor_ = function () {\n\tthis._initialVertices = null;\n\tthis._segVertices = null;\n\tthis._segments = new ArrayList();\n\tthis._subdiv = null;\n\tthis._incDel = null;\n\tthis._convexHull = null;\n\tthis._splitFinder = new NonEncroachingSplitPointFinder();\n\tthis._kdt = null;\n\tthis._vertexFactory = null;\n\tthis._computeAreaEnv = null;\n\tthis._splitPt = null;\n\tthis._tolerance = null;\n\tlet initialVertices = arguments[0], tolerance = arguments[1];\n\tthis._initialVertices = new ArrayList(initialVertices);\n\tthis._tolerance = tolerance;\n\tthis._kdt = new KdTree(tolerance);\n};\nConformingDelaunayTriangulator.MAX_SPLIT_ITER = 99;\n","import CoordinateList from '../geom/CoordinateList';\nimport Geometry from '../geom/Geometry';\nimport Arrays from '../../../../java/util/Arrays';\nimport hasInterface from '../../../../hasInterface';\nimport Collection from '../../../../java/util/Collection';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport Vertex from './quadedge/Vertex';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport Envelope from '../geom/Envelope';\nexport default class DelaunayTriangulationBuilder {\n\tconstructor() {\n\t\tDelaunayTriangulationBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic extractUniqueCoordinates(geom) {\n\t\tif (geom === null) return new CoordinateList();\n\t\tvar coords = geom.getCoordinates();\n\t\treturn DelaunayTriangulationBuilder.unique(coords);\n\t}\n\tstatic envelope(coords) {\n\t\tvar env = new Envelope();\n\t\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\t\tvar coord = i.next();\n\t\t\tenv.expandToInclude(coord);\n\t\t}\n\t\treturn env;\n\t}\n\tstatic unique(coords) {\n\t\tvar coordsCopy = CoordinateArrays.copyDeep(coords);\n\t\tArrays.sort(coordsCopy);\n\t\tvar coordList = new CoordinateList(coordsCopy, false);\n\t\treturn coordList;\n\t}\n\tstatic toVertices(coords) {\n\t\tvar verts = new ArrayList();\n\t\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\t\tvar coord = i.next();\n\t\t\tverts.add(new Vertex(coord));\n\t\t}\n\t\treturn verts;\n\t}\n\tcreate() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t}\n\tsetTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t}\n\tsetSites() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t}\n\tgetEdges(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t}\n\tgetSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t}\n\tgetTriangles(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t}\n\tgetClass() {\n\t\treturn DelaunayTriangulationBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nDelaunayTriangulationBuilder.constructor_ = function () {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n};\n","import ConformingDelaunayTriangulator from './ConformingDelaunayTriangulator';\nimport ConstraintVertex from './ConstraintVertex';\nimport DelaunayTriangulationBuilder from './DelaunayTriangulationBuilder';\nimport Segment from './Segment';\nimport ArrayList from '../../../../java/util/ArrayList';\nimport LinearComponentExtracter from '../geom/util/LinearComponentExtracter';\nimport TreeMap from '../../../../java/util/TreeMap';\nexport default class ConformingDelaunayTriangulationBuilder {\n\tconstructor() {\n\t\tConformingDelaunayTriangulationBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic createConstraintSegments() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet geom = arguments[0];\n\t\t\tvar lines = LinearComponentExtracter.getLines(geom);\n\t\t\tvar constraintSegs = new ArrayList();\n\t\t\tfor (var i = lines.iterator(); i.hasNext(); ) {\n\t\t\t\tvar line = i.next();\n\t\t\t\tConformingDelaunayTriangulationBuilder.createConstraintSegments(line, constraintSegs);\n\t\t\t}\n\t\t\treturn constraintSegs;\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet line = arguments[0], constraintSegs = arguments[1];\n\t\t\tvar coords = line.getCoordinates();\n\t\t\tfor (var i = 1; i < coords.length; i++) {\n\t\t\t\tconstraintSegs.add(new Segment(coords[i - 1], coords[i]));\n\t\t\t}\n\t\t}\n\t}\n\tcreateSiteVertices(coords) {\n\t\tvar verts = new ArrayList();\n\t\tfor (var i = coords.iterator(); i.hasNext(); ) {\n\t\t\tvar coord = i.next();\n\t\t\tif (this._constraintVertexMap.containsKey(coord)) continue;\n\t\t\tverts.add(new ConstraintVertex(coord));\n\t\t}\n\t\treturn verts;\n\t}\n\tcreate() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tvar segments = new ArrayList();\n\t\tif (this._constraintLines !== null) {\n\t\t\tsiteEnv.expandToInclude(this._constraintLines.getEnvelopeInternal());\n\t\t\tthis.createVertices(this._constraintLines);\n\t\t\tsegments = ConformingDelaunayTriangulationBuilder.createConstraintSegments(this._constraintLines);\n\t\t}\n\t\tvar sites = this.createSiteVertices(this._siteCoords);\n\t\tvar cdt = new ConformingDelaunayTriangulator(sites, this._tolerance);\n\t\tcdt.setConstraints(segments, new ArrayList(this._constraintVertexMap.values()));\n\t\tcdt.formInitialDelaunay();\n\t\tcdt.enforceConstraints();\n\t\tthis._subdiv = cdt.getSubdivision();\n\t}\n\tsetTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t}\n\tsetConstraints(constraintLines) {\n\t\tthis._constraintLines = constraintLines;\n\t}\n\tsetSites(geom) {\n\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t}\n\tgetEdges(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getEdges(geomFact);\n\t}\n\tgetSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t}\n\tgetTriangles(geomFact) {\n\t\tthis.create();\n\t\treturn this._subdiv.getTriangles(geomFact);\n\t}\n\tcreateVertices(geom) {\n\t\tvar coords = geom.getCoordinates();\n\t\tfor (var i = 0; i < coords.length; i++) {\n\t\t\tvar v = new ConstraintVertex(coords[i]);\n\t\t\tthis._constraintVertexMap.put(coords[i], v);\n\t\t}\n\t}\n\tgetClass() {\n\t\treturn ConformingDelaunayTriangulationBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nConformingDelaunayTriangulationBuilder.constructor_ = function () {\n\tthis._siteCoords = null;\n\tthis._constraintLines = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._constraintVertexMap = new TreeMap();\n};\n","import Geometry from '../geom/Geometry';\nimport hasInterface from '../../../../hasInterface';\nimport GeometryFactory from '../geom/GeometryFactory';\nimport Collection from '../../../../java/util/Collection';\nimport IncrementalDelaunayTriangulator from './IncrementalDelaunayTriangulator';\nimport QuadEdgeSubdivision from './quadedge/QuadEdgeSubdivision';\nimport DelaunayTriangulationBuilder from './DelaunayTriangulationBuilder';\nimport CoordinateArrays from '../geom/CoordinateArrays';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class VoronoiDiagramBuilder {\n\tconstructor() {\n\t\tVoronoiDiagramBuilder.constructor_.apply(this, arguments);\n\t}\n\tstatic clipGeometryCollection(geom, clipEnv) {\n\t\tvar clipPoly = geom.getFactory().toGeometry(clipEnv);\n\t\tvar clipped = new ArrayList();\n\t\tfor (var i = 0; i < geom.getNumGeometries(); i++) {\n\t\t\tvar g = geom.getGeometryN(i);\n\t\t\tvar result = null;\n\t\t\tif (clipEnv.contains(g.getEnvelopeInternal())) result = g; else if (clipEnv.intersects(g.getEnvelopeInternal())) {\n\t\t\t\tresult = clipPoly.intersection(g);\n\t\t\t\tresult.setUserData(g.getUserData());\n\t\t\t}\n\t\t\tif (result !== null && !result.isEmpty()) {\n\t\t\t\tclipped.add(result);\n\t\t\t}\n\t\t}\n\t\treturn geom.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(clipped));\n\t}\n\tcreate() {\n\t\tif (this._subdiv !== null) return null;\n\t\tvar siteEnv = DelaunayTriangulationBuilder.envelope(this._siteCoords);\n\t\tthis._diagramEnv = siteEnv;\n\t\tvar expandBy = Math.max(this._diagramEnv.getWidth(), this._diagramEnv.getHeight());\n\t\tthis._diagramEnv.expandBy(expandBy);\n\t\tif (this._clipEnv !== null) this._diagramEnv.expandToInclude(this._clipEnv);\n\t\tvar vertices = DelaunayTriangulationBuilder.toVertices(this._siteCoords);\n\t\tthis._subdiv = new QuadEdgeSubdivision(siteEnv, this._tolerance);\n\t\tvar triangulator = new IncrementalDelaunayTriangulator(this._subdiv);\n\t\ttriangulator.insertSites(vertices);\n\t}\n\tgetDiagram(geomFact) {\n\t\tthis.create();\n\t\tvar polys = this._subdiv.getVoronoiDiagram(geomFact);\n\t\treturn VoronoiDiagramBuilder.clipGeometryCollection(polys, this._diagramEnv);\n\t}\n\tsetTolerance(tolerance) {\n\t\tthis._tolerance = tolerance;\n\t}\n\tsetSites() {\n\t\tif (arguments[0] instanceof Geometry) {\n\t\t\tlet geom = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.extractUniqueCoordinates(geom);\n\t\t} else if (hasInterface(arguments[0], Collection)) {\n\t\t\tlet coords = arguments[0];\n\t\t\tthis._siteCoords = DelaunayTriangulationBuilder.unique(CoordinateArrays.toCoordinateArray(coords));\n\t\t}\n\t}\n\tsetClipEnvelope(clipEnv) {\n\t\tthis._clipEnv = clipEnv;\n\t}\n\tgetSubdivision() {\n\t\tthis.create();\n\t\treturn this._subdiv;\n\t}\n\tgetClass() {\n\t\treturn VoronoiDiagramBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nVoronoiDiagramBuilder.constructor_ = function () {\n\tthis._siteCoords = null;\n\tthis._tolerance = 0.0;\n\tthis._subdiv = null;\n\tthis._clipEnv = null;\n\tthis._diagramEnv = null;\n};\n","import Coordinate from '../geom/Coordinate';\nimport LineSegment from '../geom/LineSegment';\nimport Comparable from '../../../../java/lang/Comparable';\nexport default class LinearLocation {\n\tconstructor() {\n\t\tLinearLocation.constructor_.apply(this, arguments);\n\t}\n\tstatic getEndLocation(linear) {\n\t\tvar loc = new LinearLocation();\n\t\tloc.setToEnd(linear);\n\t\treturn loc;\n\t}\n\tstatic pointAlongSegmentByFraction(p0, p1, frac) {\n\t\tif (frac <= 0.0) return p0;\n\t\tif (frac >= 1.0) return p1;\n\t\tvar x = (p1.x - p0.x) * frac + p0.x;\n\t\tvar y = (p1.y - p0.y) * frac + p0.y;\n\t\tvar z = (p1.z - p0.z) * frac + p0.z;\n\t\treturn new Coordinate(x, y, z);\n\t}\n\tstatic compareLocationValues(componentIndex0, segmentIndex0, segmentFraction0, componentIndex1, segmentIndex1, segmentFraction1) {\n\t\tif (componentIndex0 < componentIndex1) return -1;\n\t\tif (componentIndex0 > componentIndex1) return 1;\n\t\tif (segmentIndex0 < segmentIndex1) return -1;\n\t\tif (segmentIndex0 > segmentIndex1) return 1;\n\t\tif (segmentFraction0 < segmentFraction1) return -1;\n\t\tif (segmentFraction0 > segmentFraction1) return 1;\n\t\treturn 0;\n\t}\n\tgetSegmentIndex() {\n\t\treturn this._segmentIndex;\n\t}\n\tgetComponentIndex() {\n\t\treturn this._componentIndex;\n\t}\n\tisEndpoint(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\treturn this._segmentIndex >= nseg || this._segmentIndex === nseg && this._segmentFraction >= 1.0;\n\t}\n\tisValid(linearGeom) {\n\t\tif (this._componentIndex < 0 || this._componentIndex >= linearGeom.getNumGeometries()) return false;\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tif (this._segmentIndex < 0 || this._segmentIndex > lineComp.getNumPoints()) return false;\n\t\tif (this._segmentIndex === lineComp.getNumPoints() && this._segmentFraction !== 0.0) return false;\n\t\tif (this._segmentFraction < 0.0 || this._segmentFraction > 1.0) return false;\n\t\treturn true;\n\t}\n\tnormalize() {\n\t\tif (this._segmentFraction < 0.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction > 1.0) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t\tif (this._componentIndex < 0) {\n\t\t\tthis._componentIndex = 0;\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentIndex < 0) {\n\t\t\tthis._segmentIndex = 0;\n\t\t\tthis._segmentFraction = 0.0;\n\t\t}\n\t\tif (this._segmentFraction === 1.0) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t\tthis._segmentIndex += 1;\n\t\t}\n\t}\n\ttoLowest(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar nseg = lineComp.getNumPoints() - 1;\n\t\tif (this._segmentIndex < nseg) return this;\n\t\treturn new LinearLocation(this._componentIndex, nseg, 1.0, false);\n\t}\n\tgetCoordinate(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) return p0;\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn LinearLocation.pointAlongSegmentByFraction(p0, p1, this._segmentFraction);\n\t}\n\tgetSegmentFraction() {\n\t\treturn this._segmentFraction;\n\t}\n\tgetSegment(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar p0 = lineComp.getCoordinateN(this._segmentIndex);\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) {\n\t\t\tvar prev = lineComp.getCoordinateN(lineComp.getNumPoints() - 2);\n\t\t\treturn new LineSegment(prev, p0);\n\t\t}\n\t\tvar p1 = lineComp.getCoordinateN(this._segmentIndex + 1);\n\t\treturn new LineSegment(p0, p1);\n\t}\n\tclamp(linear) {\n\t\tif (this._componentIndex >= linear.getNumGeometries()) {\n\t\t\tthis.setToEnd(linear);\n\t\t\treturn null;\n\t\t}\n\t\tif (this._segmentIndex >= linear.getNumPoints()) {\n\t\t\tvar line = linear.getGeometryN(this._componentIndex);\n\t\t\tthis._segmentIndex = line.getNumPoints() - 1;\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t}\n\tsetToEnd(linear) {\n\t\tthis._componentIndex = linear.getNumGeometries() - 1;\n\t\tvar lastLine = linear.getGeometryN(this._componentIndex);\n\t\tthis._segmentIndex = lastLine.getNumPoints() - 1;\n\t\tthis._segmentFraction = 1.0;\n\t}\n\tcompareTo(o) {\n\t\tvar other = o;\n\t\tif (this._componentIndex < other._componentIndex) return -1;\n\t\tif (this._componentIndex > other._componentIndex) return 1;\n\t\tif (this._segmentIndex < other._segmentIndex) return -1;\n\t\tif (this._segmentIndex > other._segmentIndex) return 1;\n\t\tif (this._segmentFraction < other._segmentFraction) return -1;\n\t\tif (this._segmentFraction > other._segmentFraction) return 1;\n\t\treturn 0;\n\t}\n\tcopy() {\n\t\treturn new LinearLocation(this._componentIndex, this._segmentIndex, this._segmentFraction);\n\t}\n\ttoString() {\n\t\treturn \"LinearLoc[\" + this._componentIndex + \", \" + this._segmentIndex + \", \" + this._segmentFraction + \"]\";\n\t}\n\tisOnSameSegment(loc) {\n\t\tif (this._componentIndex !== loc._componentIndex) return false;\n\t\tif (this._segmentIndex === loc._segmentIndex) return true;\n\t\tif (loc._segmentIndex - this._segmentIndex === 1 && loc._segmentFraction === 0.0) return true;\n\t\tif (this._segmentIndex - loc._segmentIndex === 1 && this._segmentFraction === 0.0) return true;\n\t\treturn false;\n\t}\n\tsnapToVertex(linearGeom, minDistance) {\n\t\tif (this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0) return null;\n\t\tvar segLen = this.getSegmentLength(linearGeom);\n\t\tvar lenToStart = this._segmentFraction * segLen;\n\t\tvar lenToEnd = segLen - lenToStart;\n\t\tif (lenToStart <= lenToEnd && lenToStart < minDistance) {\n\t\t\tthis._segmentFraction = 0.0;\n\t\t} else if (lenToEnd <= lenToStart && lenToEnd < minDistance) {\n\t\t\tthis._segmentFraction = 1.0;\n\t\t}\n\t}\n\tcompareLocationValues(componentIndex1, segmentIndex1, segmentFraction1) {\n\t\tif (this._componentIndex < componentIndex1) return -1;\n\t\tif (this._componentIndex > componentIndex1) return 1;\n\t\tif (this._segmentIndex < segmentIndex1) return -1;\n\t\tif (this._segmentIndex > segmentIndex1) return 1;\n\t\tif (this._segmentFraction < segmentFraction1) return -1;\n\t\tif (this._segmentFraction > segmentFraction1) return 1;\n\t\treturn 0;\n\t}\n\tgetSegmentLength(linearGeom) {\n\t\tvar lineComp = linearGeom.getGeometryN(this._componentIndex);\n\t\tvar segIndex = this._segmentIndex;\n\t\tif (this._segmentIndex >= lineComp.getNumPoints() - 1) segIndex = lineComp.getNumPoints() - 2;\n\t\tvar p0 = lineComp.getCoordinateN(segIndex);\n\t\tvar p1 = lineComp.getCoordinateN(segIndex + 1);\n\t\treturn p0.distance(p1);\n\t}\n\tisVertex() {\n\t\treturn this._segmentFraction <= 0.0 || this._segmentFraction >= 1.0;\n\t}\n\tgetClass() {\n\t\treturn LinearLocation;\n\t}\n\tget interfaces_() {\n\t\treturn [Comparable];\n\t}\n}\nLinearLocation.constructor_ = function () {\n\tthis._componentIndex = 0;\n\tthis._segmentIndex = 0;\n\tthis._segmentFraction = 0.0;\n\tif (arguments.length === 0) {} else if (arguments.length === 1) {\n\t\tlet loc = arguments[0];\n\t\tthis._componentIndex = loc._componentIndex;\n\t\tthis._segmentIndex = loc._segmentIndex;\n\t\tthis._segmentFraction = loc._segmentFraction;\n\t} else if (arguments.length === 2) {\n\t\tlet segmentIndex = arguments[0], segmentFraction = arguments[1];\n\t\tLinearLocation.constructor_.call(this, 0, segmentIndex, segmentFraction);\n\t} else if (arguments.length === 3) {\n\t\tlet componentIndex = arguments[0], segmentIndex = arguments[1], segmentFraction = arguments[2];\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._segmentIndex = segmentIndex;\n\t\tthis._segmentFraction = segmentFraction;\n\t\tthis.normalize();\n\t} else if (arguments.length === 4) {\n\t\tlet componentIndex = arguments[0], segmentIndex = arguments[1], segmentFraction = arguments[2], doNormalize = arguments[3];\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._segmentIndex = segmentIndex;\n\t\tthis._segmentFraction = segmentFraction;\n\t\tif (doNormalize) this.normalize();\n\t}\n};\n","import hasInterface from '../../../../hasInterface';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport Lineal from '../geom/Lineal';\nexport default class LinearIterator {\n\tconstructor() {\n\t\tLinearIterator.constructor_.apply(this, arguments);\n\t}\n\tstatic segmentEndVertexIndex(loc) {\n\t\tif (loc.getSegmentFraction() > 0.0) return loc.getSegmentIndex() + 1;\n\t\treturn loc.getSegmentIndex();\n\t}\n\tgetComponentIndex() {\n\t\treturn this._componentIndex;\n\t}\n\tgetLine() {\n\t\treturn this._currentLine;\n\t}\n\tgetVertexIndex() {\n\t\treturn this._vertexIndex;\n\t}\n\tgetSegmentEnd() {\n\t\tif (this._vertexIndex < this.getLine().getNumPoints() - 1) return this._currentLine.getCoordinateN(this._vertexIndex + 1);\n\t\treturn null;\n\t}\n\tnext() {\n\t\tif (!this.hasNext()) return null;\n\t\tthis._vertexIndex++;\n\t\tif (this._vertexIndex >= this._currentLine.getNumPoints()) {\n\t\t\tthis._componentIndex++;\n\t\t\tthis.loadCurrentLine();\n\t\t\tthis._vertexIndex = 0;\n\t\t}\n\t}\n\tloadCurrentLine() {\n\t\tif (this._componentIndex >= this._numLines) {\n\t\t\tthis._currentLine = null;\n\t\t\treturn null;\n\t\t}\n\t\tthis._currentLine = this._linearGeom.getGeometryN(this._componentIndex);\n\t}\n\tgetSegmentStart() {\n\t\treturn this._currentLine.getCoordinateN(this._vertexIndex);\n\t}\n\tisEndOfLine() {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._vertexIndex < this._currentLine.getNumPoints() - 1) return false;\n\t\treturn true;\n\t}\n\thasNext() {\n\t\tif (this._componentIndex >= this._numLines) return false;\n\t\tif (this._componentIndex === this._numLines - 1 && this._vertexIndex >= this._currentLine.getNumPoints()) return false;\n\t\treturn true;\n\t}\n\tgetClass() {\n\t\treturn LinearIterator;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLinearIterator.constructor_ = function () {\n\tthis._linearGeom = null;\n\tthis._numLines = null;\n\tthis._currentLine = null;\n\tthis._componentIndex = 0;\n\tthis._vertexIndex = 0;\n\tif (arguments.length === 1) {\n\t\tlet linear = arguments[0];\n\t\tLinearIterator.constructor_.call(this, linear, 0, 0);\n\t} else if (arguments.length === 2) {\n\t\tlet linear = arguments[0], start = arguments[1];\n\t\tLinearIterator.constructor_.call(this, linear, start.getComponentIndex(), LinearIterator.segmentEndVertexIndex(start));\n\t} else if (arguments.length === 3) {\n\t\tlet linearGeom = arguments[0], componentIndex = arguments[1], vertexIndex = arguments[2];\n\t\tif (!hasInterface(linearGeom, Lineal)) throw new IllegalArgumentException(\"Lineal geometry is required\");\n\t\tthis._linearGeom = linearGeom;\n\t\tthis._numLines = linearGeom.getNumGeometries();\n\t\tthis._componentIndex = componentIndex;\n\t\tthis._vertexIndex = vertexIndex;\n\t\tthis.loadCurrentLine();\n\t}\n};\n","import LinearIterator from './LinearIterator';\nimport LinearLocation from './LinearLocation';\nimport Double from '../../../../java/lang/Double';\nimport LineSegment from '../geom/LineSegment';\nimport Assert from '../util/Assert';\nexport default class LocationIndexOfPoint {\n\tconstructor() {\n\t\tLocationIndexOfPoint.constructor_.apply(this, arguments);\n\t}\n\tstatic indexOf(linearGeom, inputPt) {\n\t\tvar locater = new LocationIndexOfPoint(linearGeom);\n\t\treturn locater.indexOf(inputPt);\n\t}\n\tstatic indexOfAfter(linearGeom, inputPt, minIndex) {\n\t\tvar locater = new LocationIndexOfPoint(linearGeom);\n\t\treturn locater.indexOfAfter(inputPt, minIndex);\n\t}\n\tindexOf(inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, null);\n\t}\n\tindexOfFromStart(inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar minComponentIndex = 0;\n\t\tvar minSegmentIndex = 0;\n\t\tvar minFrac = -1.0;\n\t\tvar seg = new LineSegment();\n\t\tfor (var it = new LinearIterator(this._linearGeom); it.hasNext(); it.next()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segFrac = seg.segmentFraction(inputPt);\n\t\t\t\tvar candidateComponentIndex = it.getComponentIndex();\n\t\t\t\tvar candidateSegmentIndex = it.getVertexIndex();\n\t\t\t\tif (segDistance < minDistance) {\n\t\t\t\t\tif (minIndex === null || minIndex.compareLocationValues(candidateComponentIndex, candidateSegmentIndex, segFrac) < 0) {\n\t\t\t\t\t\tminComponentIndex = candidateComponentIndex;\n\t\t\t\t\t\tminSegmentIndex = candidateSegmentIndex;\n\t\t\t\t\t\tminFrac = segFrac;\n\t\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (minDistance === Double.MAX_VALUE) {\n\t\t\treturn new LinearLocation(minIndex);\n\t\t}\n\t\tvar loc = new LinearLocation(minComponentIndex, minSegmentIndex, minFrac);\n\t\treturn loc;\n\t}\n\tindexOfAfter(inputPt, minIndex) {\n\t\tif (minIndex === null) return this.indexOf(inputPt);\n\t\tvar endLoc = LinearLocation.getEndLocation(this._linearGeom);\n\t\tif (endLoc.compareTo(minIndex) <= 0) return endLoc;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter.compareTo(minIndex) >= 0, \"computed location is before specified minimum location\");\n\t\treturn closestAfter;\n\t}\n\tgetClass() {\n\t\treturn LocationIndexOfPoint;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLocationIndexOfPoint.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n};\n","import LocationIndexOfPoint from './LocationIndexOfPoint';\nexport default class LocationIndexOfLine {\n\tconstructor() {\n\t\tLocationIndexOfLine.constructor_.apply(this, arguments);\n\t}\n\tstatic indicesOf(linearGeom, subLine) {\n\t\tvar locater = new LocationIndexOfLine(linearGeom);\n\t\treturn locater.indicesOf(subLine);\n\t}\n\tindicesOf(subLine) {\n\t\tvar startPt = subLine.getGeometryN(0).getCoordinateN(0);\n\t\tvar lastLine = subLine.getGeometryN(subLine.getNumGeometries() - 1);\n\t\tvar endPt = lastLine.getCoordinateN(lastLine.getNumPoints() - 1);\n\t\tvar locPt = new LocationIndexOfPoint(this._linearGeom);\n\t\tvar subLineLoc = new Array(2).fill(null);\n\t\tsubLineLoc[0] = locPt.indexOf(startPt);\n\t\tif (subLine.getLength() === 0.0) {\n\t\t\tsubLineLoc[1] = subLineLoc[0].copy();\n\t\t} else {\n\t\t\tsubLineLoc[1] = locPt.indexOfAfter(endPt, subLineLoc[0]);\n\t\t}\n\t\treturn subLineLoc;\n\t}\n\tgetClass() {\n\t\treturn LocationIndexOfLine;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLocationIndexOfLine.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n};\n","import CoordinateList from '../geom/CoordinateList';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport ArrayList from '../../../../java/util/ArrayList';\nexport default class LinearGeometryBuilder {\n\tconstructor() {\n\t\tLinearGeometryBuilder.constructor_.apply(this, arguments);\n\t}\n\tgetGeometry() {\n\t\tthis.endLine();\n\t\treturn this._geomFact.buildGeometry(this._lines);\n\t}\n\tgetLastCoordinate() {\n\t\treturn this._lastPt;\n\t}\n\tendLine() {\n\t\tif (this._coordList === null) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this._ignoreInvalidLines && this._coordList.size() < 2) {\n\t\t\tthis._coordList = null;\n\t\t\treturn null;\n\t\t}\n\t\tvar rawPts = this._coordList.toCoordinateArray();\n\t\tvar pts = rawPts;\n\t\tif (this._fixInvalidLines) pts = this.validCoordinateSequence(rawPts);\n\t\tthis._coordList = null;\n\t\tvar line = null;\n\t\ttry {\n\t\t\tline = this._geomFact.createLineString(pts);\n\t\t} catch (ex) {\n\t\t\tif (ex instanceof IllegalArgumentException) {\n\t\t\t\tif (!this._ignoreInvalidLines) throw ex;\n\t\t\t} else throw ex;\n\t\t} finally {}\n\t\tif (line !== null) this._lines.add(line);\n\t}\n\tsetFixInvalidLines(fixInvalidLines) {\n\t\tthis._fixInvalidLines = fixInvalidLines;\n\t}\n\tadd() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet pt = arguments[0];\n\t\t\tthis.add(pt, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet pt = arguments[0], allowRepeatedPoints = arguments[1];\n\t\t\tif (this._coordList === null) this._coordList = new CoordinateList();\n\t\t\tthis._coordList.add(pt, allowRepeatedPoints);\n\t\t\tthis._lastPt = pt;\n\t\t}\n\t}\n\tsetIgnoreInvalidLines(ignoreInvalidLines) {\n\t\tthis._ignoreInvalidLines = ignoreInvalidLines;\n\t}\n\tvalidCoordinateSequence(pts) {\n\t\tif (pts.length >= 2) return pts;\n\t\tvar validPts = [pts[0], pts[0]];\n\t\treturn validPts;\n\t}\n\tgetClass() {\n\t\treturn LinearGeometryBuilder;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLinearGeometryBuilder.constructor_ = function () {\n\tthis._geomFact = null;\n\tthis._lines = new ArrayList();\n\tthis._coordList = null;\n\tthis._ignoreInvalidLines = false;\n\tthis._fixInvalidLines = false;\n\tthis._lastPt = null;\n\tlet geomFact = arguments[0];\n\tthis._geomFact = geomFact;\n};\n","import LineString from '../geom/LineString';\nimport CoordinateList from '../geom/CoordinateList';\nimport LinearIterator from './LinearIterator';\nimport Assert from '../util/Assert';\nimport LinearGeometryBuilder from './LinearGeometryBuilder';\nimport MultiLineString from '../geom/MultiLineString';\nexport default class ExtractLineByLocation {\n\tconstructor() {\n\t\tExtractLineByLocation.constructor_.apply(this, arguments);\n\t}\n\tstatic extract(line, start, end) {\n\t\tvar ls = new ExtractLineByLocation(line);\n\t\treturn ls.extract(start, end);\n\t}\n\tcomputeLinear(start, end) {\n\t\tvar builder = new LinearGeometryBuilder(this._line.getFactory());\n\t\tbuilder.setFixInvalidLines(true);\n\t\tif (!start.isVertex()) builder.add(start.getCoordinate(this._line));\n\t\tfor (var it = new LinearIterator(this._line, start); it.hasNext(); it.next()) {\n\t\t\tif (end.compareLocationValues(it.getComponentIndex(), it.getVertexIndex(), 0.0) < 0) break;\n\t\t\tvar pt = it.getSegmentStart();\n\t\t\tbuilder.add(pt);\n\t\t\tif (it.isEndOfLine()) builder.endLine();\n\t\t}\n\t\tif (!end.isVertex()) builder.add(end.getCoordinate(this._line));\n\t\treturn builder.getGeometry();\n\t}\n\tcomputeLine(start, end) {\n\t\tvar coordinates = this._line.getCoordinates();\n\t\tvar newCoordinates = new CoordinateList();\n\t\tvar startSegmentIndex = start.getSegmentIndex();\n\t\tif (start.getSegmentFraction() > 0.0) startSegmentIndex += 1;\n\t\tvar lastSegmentIndex = end.getSegmentIndex();\n\t\tif (end.getSegmentFraction() === 1.0) lastSegmentIndex += 1;\n\t\tif (lastSegmentIndex >= coordinates.length) lastSegmentIndex = coordinates.length - 1;\n\t\tif (!start.isVertex()) newCoordinates.add(start.getCoordinate(this._line));\n\t\tfor (var i = startSegmentIndex; i <= lastSegmentIndex; i++) {\n\t\t\tnewCoordinates.add(coordinates[i]);\n\t\t}\n\t\tif (!end.isVertex()) newCoordinates.add(end.getCoordinate(this._line));\n\t\tif (newCoordinates.size() <= 0) newCoordinates.add(start.getCoordinate(this._line));\n\t\tvar newCoordinateArray = newCoordinates.toCoordinateArray();\n\t\tif (newCoordinateArray.length <= 1) {\n\t\t\tnewCoordinateArray = [newCoordinateArray[0], newCoordinateArray[0]];\n\t\t}\n\t\treturn this._line.getFactory().createLineString(newCoordinateArray);\n\t}\n\textract(start, end) {\n\t\tif (end.compareTo(start) < 0) {\n\t\t\treturn this.reverse(this.computeLinear(end, start));\n\t\t}\n\t\treturn this.computeLinear(start, end);\n\t}\n\treverse(linear) {\n\t\tif (linear instanceof LineString) return linear.reverse();\n\t\tif (linear instanceof MultiLineString) return linear.reverse();\n\t\tAssert.shouldNeverReachHere(\"non-linear geometry encountered\");\n\t\treturn null;\n\t}\n\tgetClass() {\n\t\treturn ExtractLineByLocation;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nExtractLineByLocation.constructor_ = function () {\n\tthis._line = null;\n\tlet line = arguments[0];\n\tthis._line = line;\n};\n","import LineString from '../geom/LineString';\nimport IllegalArgumentException from '../../../../java/lang/IllegalArgumentException';\nimport LinearLocation from './LinearLocation';\nimport LocationIndexOfPoint from './LocationIndexOfPoint';\nimport LocationIndexOfLine from './LocationIndexOfLine';\nimport ExtractLineByLocation from './ExtractLineByLocation';\nimport MultiLineString from '../geom/MultiLineString';\nexport default class LocationIndexedLine {\n\tconstructor() {\n\t\tLocationIndexedLine.constructor_.apply(this, arguments);\n\t}\n\tclampIndex(index) {\n\t\tvar loc = index.copy();\n\t\tloc.clamp(this._linearGeom);\n\t\treturn loc;\n\t}\n\tproject(pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t}\n\tcheckGeometryType() {\n\t\tif (!(this._linearGeom instanceof LineString || this._linearGeom instanceof MultiLineString)) throw new IllegalArgumentException(\"Input geometry must be linear\");\n\t}\n\textractPoint() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\treturn index.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], offsetDistance = arguments[1];\n\t\t\tvar indexLow = index.toLowest(this._linearGeom);\n\t\t\treturn indexLow.getSegment(this._linearGeom).pointAlongOffset(indexLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t}\n\tisValidIndex(index) {\n\t\treturn index.isValid(this._linearGeom);\n\t}\n\tgetEndIndex() {\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t}\n\tgetStartIndex() {\n\t\treturn new LinearLocation();\n\t}\n\tindexOfAfter(pt, minIndex) {\n\t\treturn LocationIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t}\n\textractLine(startIndex, endIndex) {\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startIndex, endIndex);\n\t}\n\tindexOf(pt) {\n\t\treturn LocationIndexOfPoint.indexOf(this._linearGeom, pt);\n\t}\n\tindicesOf(subLine) {\n\t\treturn LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t}\n\tgetClass() {\n\t\treturn LocationIndexedLine;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLocationIndexedLine.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n\tthis.checkGeometryType();\n};\n","import LinearIterator from './LinearIterator';\nimport Double from '../../../../java/lang/Double';\nimport LineSegment from '../geom/LineSegment';\nimport Assert from '../util/Assert';\nexport default class LengthIndexOfPoint {\n\tconstructor() {\n\t\tLengthIndexOfPoint.constructor_.apply(this, arguments);\n\t}\n\tstatic indexOf(linearGeom, inputPt) {\n\t\tvar locater = new LengthIndexOfPoint(linearGeom);\n\t\treturn locater.indexOf(inputPt);\n\t}\n\tstatic indexOfAfter(linearGeom, inputPt, minIndex) {\n\t\tvar locater = new LengthIndexOfPoint(linearGeom);\n\t\treturn locater.indexOfAfter(inputPt, minIndex);\n\t}\n\tindexOf(inputPt) {\n\t\treturn this.indexOfFromStart(inputPt, -1.0);\n\t}\n\tindexOfFromStart(inputPt, minIndex) {\n\t\tvar minDistance = Double.MAX_VALUE;\n\t\tvar ptMeasure = minIndex;\n\t\tvar segmentStartMeasure = 0.0;\n\t\tvar seg = new LineSegment();\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tseg.p0 = it.getSegmentStart();\n\t\t\t\tseg.p1 = it.getSegmentEnd();\n\t\t\t\tvar segDistance = seg.distance(inputPt);\n\t\t\t\tvar segMeasureToPt = this.segmentNearestMeasure(seg, inputPt, segmentStartMeasure);\n\t\t\t\tif (segDistance < minDistance && segMeasureToPt > minIndex) {\n\t\t\t\t\tptMeasure = segMeasureToPt;\n\t\t\t\t\tminDistance = segDistance;\n\t\t\t\t}\n\t\t\t\tsegmentStartMeasure += seg.getLength();\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn ptMeasure;\n\t}\n\tindexOfAfter(inputPt, minIndex) {\n\t\tif (minIndex < 0.0) return this.indexOf(inputPt);\n\t\tvar endIndex = this._linearGeom.getLength();\n\t\tif (endIndex < minIndex) return endIndex;\n\t\tvar closestAfter = this.indexOfFromStart(inputPt, minIndex);\n\t\tAssert.isTrue(closestAfter >= minIndex, \"computed index is before specified minimum index\");\n\t\treturn closestAfter;\n\t}\n\tsegmentNearestMeasure(seg, inputPt, segmentStartMeasure) {\n\t\tvar projFactor = seg.projectionFactor(inputPt);\n\t\tif (projFactor <= 0.0) return segmentStartMeasure;\n\t\tif (projFactor <= 1.0) return segmentStartMeasure + projFactor * seg.getLength();\n\t\treturn segmentStartMeasure + seg.getLength();\n\t}\n\tgetClass() {\n\t\treturn LengthIndexOfPoint;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLengthIndexOfPoint.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n};\n","import LinearIterator from './LinearIterator';\nimport LinearLocation from './LinearLocation';\nexport default class LengthLocationMap {\n\tconstructor() {\n\t\tLengthLocationMap.constructor_.apply(this, arguments);\n\t}\n\tstatic getLength(linearGeom, loc) {\n\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\treturn locater.getLength(loc);\n\t}\n\tstatic getLocation() {\n\t\tif (arguments.length === 2) {\n\t\t\tlet linearGeom = arguments[0], length = arguments[1];\n\t\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\t\treturn locater.getLocation(length);\n\t\t} else if (arguments.length === 3) {\n\t\t\tlet linearGeom = arguments[0], length = arguments[1], resolveLower = arguments[2];\n\t\t\tvar locater = new LengthLocationMap(linearGeom);\n\t\t\treturn locater.getLocation(length, resolveLower);\n\t\t}\n\t}\n\tgetLength(loc) {\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (!it.isEndOfLine()) {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (loc.getComponentIndex() === it.getComponentIndex() && loc.getSegmentIndex() === it.getVertexIndex()) {\n\t\t\t\t\treturn totalLength + segLen * loc.getSegmentFraction();\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn totalLength;\n\t}\n\tresolveHigher(loc) {\n\t\tif (!loc.isEndpoint(this._linearGeom)) return loc;\n\t\tvar compIndex = loc.getComponentIndex();\n\t\tif (compIndex >= this._linearGeom.getNumGeometries() - 1) return loc;\n\t\tdo {\n\t\t\tcompIndex++;\n\t\t} while (compIndex < this._linearGeom.getNumGeometries() - 1 && this._linearGeom.getGeometryN(compIndex).getLength() === 0);\n\t\treturn new LinearLocation(compIndex, 0, 0.0);\n\t}\n\tgetLocation() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet length = arguments[0];\n\t\t\treturn this.getLocation(length, true);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet length = arguments[0], resolveLower = arguments[1];\n\t\t\tvar forwardLength = length;\n\t\t\tif (length < 0.0) {\n\t\t\t\tvar lineLen = this._linearGeom.getLength();\n\t\t\t\tforwardLength = lineLen + length;\n\t\t\t}\n\t\t\tvar loc = this.getLocationForward(forwardLength);\n\t\t\tif (resolveLower) {\n\t\t\t\treturn loc;\n\t\t\t}\n\t\t\treturn this.resolveHigher(loc);\n\t\t}\n\t}\n\tgetLocationForward(length) {\n\t\tif (length <= 0.0) return new LinearLocation();\n\t\tvar totalLength = 0.0;\n\t\tvar it = new LinearIterator(this._linearGeom);\n\t\twhile (it.hasNext()) {\n\t\t\tif (it.isEndOfLine()) {\n\t\t\t\tif (totalLength === length) {\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, 0.0);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar p0 = it.getSegmentStart();\n\t\t\t\tvar p1 = it.getSegmentEnd();\n\t\t\t\tvar segLen = p1.distance(p0);\n\t\t\t\tif (totalLength + segLen > length) {\n\t\t\t\t\tvar frac = (length - totalLength) / segLen;\n\t\t\t\t\tvar compIndex = it.getComponentIndex();\n\t\t\t\t\tvar segIndex = it.getVertexIndex();\n\t\t\t\t\treturn new LinearLocation(compIndex, segIndex, frac);\n\t\t\t\t}\n\t\t\t\ttotalLength += segLen;\n\t\t\t}\n\t\t\tit.next();\n\t\t}\n\t\treturn LinearLocation.getEndLocation(this._linearGeom);\n\t}\n\tgetClass() {\n\t\treturn LengthLocationMap;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLengthLocationMap.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n};\n","import LocationIndexedLine from './LocationIndexedLine';\nimport LengthIndexOfPoint from './LengthIndexOfPoint';\nimport LocationIndexOfLine from './LocationIndexOfLine';\nimport LengthLocationMap from './LengthLocationMap';\nimport ExtractLineByLocation from './ExtractLineByLocation';\nexport default class LengthIndexedLine {\n\tconstructor() {\n\t\tLengthIndexedLine.constructor_.apply(this, arguments);\n\t}\n\tclampIndex(index) {\n\t\tvar posIndex = this.positiveIndex(index);\n\t\tvar startIndex = this.getStartIndex();\n\t\tif (posIndex < startIndex) return startIndex;\n\t\tvar endIndex = this.getEndIndex();\n\t\tif (posIndex > endIndex) return endIndex;\n\t\treturn posIndex;\n\t}\n\tlocationOf() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], resolveLower = arguments[1];\n\t\t\treturn LengthLocationMap.getLocation(this._linearGeom, index, resolveLower);\n\t\t}\n\t}\n\tproject(pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t}\n\tpositiveIndex(index) {\n\t\tif (index >= 0.0) return index;\n\t\treturn this._linearGeom.getLength() + index;\n\t}\n\textractPoint() {\n\t\tif (arguments.length === 1) {\n\t\t\tlet index = arguments[0];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t\treturn loc.getCoordinate(this._linearGeom);\n\t\t} else if (arguments.length === 2) {\n\t\t\tlet index = arguments[0], offsetDistance = arguments[1];\n\t\t\tvar loc = LengthLocationMap.getLocation(this._linearGeom, index);\n\t\t\tvar locLow = loc.toLowest(this._linearGeom);\n\t\t\treturn locLow.getSegment(this._linearGeom).pointAlongOffset(locLow.getSegmentFraction(), offsetDistance);\n\t\t}\n\t}\n\tisValidIndex(index) {\n\t\treturn index >= this.getStartIndex() && index <= this.getEndIndex();\n\t}\n\tgetEndIndex() {\n\t\treturn this._linearGeom.getLength();\n\t}\n\tgetStartIndex() {\n\t\treturn 0.0;\n\t}\n\tindexOfAfter(pt, minIndex) {\n\t\treturn LengthIndexOfPoint.indexOfAfter(this._linearGeom, pt, minIndex);\n\t}\n\textractLine(startIndex, endIndex) {\n\t\tvar lil = new LocationIndexedLine(this._linearGeom);\n\t\tvar startIndex2 = this.clampIndex(startIndex);\n\t\tvar endIndex2 = this.clampIndex(endIndex);\n\t\tvar resolveStartLower = startIndex2 === endIndex2;\n\t\tvar startLoc = this.locationOf(startIndex2, resolveStartLower);\n\t\tvar endLoc = this.locationOf(endIndex2);\n\t\treturn ExtractLineByLocation.extract(this._linearGeom, startLoc, endLoc);\n\t}\n\tindexOf(pt) {\n\t\treturn LengthIndexOfPoint.indexOf(this._linearGeom, pt);\n\t}\n\tindicesOf(subLine) {\n\t\tvar locIndex = LocationIndexOfLine.indicesOf(this._linearGeom, subLine);\n\t\tvar index = [LengthLocationMap.getLength(this._linearGeom, locIndex[0]), LengthLocationMap.getLength(this._linearGeom, locIndex[1])];\n\t\treturn index;\n\t}\n\tgetClass() {\n\t\treturn LengthIndexedLine;\n\t}\n\tget interfaces_() {\n\t\treturn [];\n\t}\n}\nLengthIndexedLine.constructor_ = function () {\n\tthis._linearGeom = null;\n\tlet linearGeom = arguments[0];\n\tthis._linearGeom = linearGeom;\n};\n","import SnapIfNeededOverlayOp from '../overlay/snap/SnapIfNeededOverlayOp';\nimport OverlayOp from '../overlay/OverlayOp';\nexport default class UnionOp {\n\tget interfaces_() {\n\t\treturn [];\n\t}\n\tgetClass() {\n\t\treturn UnionOp;\n\t}\n\tstatic union(g, other) {\n\t\tif (g.isEmpty() || other.isEmpty()) {\n\t\t\tif (g.isEmpty() && other.isEmpty()) return OverlayOp.createEmptyResult(OverlayOp.UNION, g, other, g.getFactory());\n\t\t\tif (g.isEmpty()) return other.copy();\n\t\t\tif (other.isEmpty()) return g.copy();\n\t\t}\n\t\tg.checkNotGeometryCollection(g);\n\t\tg.checkNotGeometryCollection(other);\n\t\treturn SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.UNION);\n\t}\n}","import WKTWriter from './io/WKTWriter';\nimport IsValidOp from './operation/valid/IsValidOp';\nimport InteriorPointArea from './algorithm/InteriorPointArea';\nimport UnaryUnionOp from './operation/union/UnaryUnionOp';\nimport UnionOp from './operation/union/UnionOp';\nimport InteriorPointLine from './algorithm/InteriorPointLine';\nimport IsSimpleOp from './operation/IsSimpleOp';\nimport BufferOp from './operation/buffer/BufferOp';\nimport ConvexHull from './algorithm/ConvexHull';\nimport Centroid from './algorithm/Centroid';\nimport RelateOp from './operation/relate/RelateOp';\nimport InteriorPointPoint from './algorithm/InteriorPointPoint';\nimport DistanceOp from './operation/distance/DistanceOp';\nimport OverlayOp from './operation/overlay/OverlayOp';\nimport Geometry from './geom/Geometry';\n\nGeometry.prototype.equalsTopo = function (g) {\n\tif (!this.getEnvelopeInternal().equals(g.getEnvelopeInternal())) return false;\n\treturn RelateOp.relate(this, g).isEquals(this.getDimension(), g.getDimension());\n}\nGeometry.prototype.union = function() {\n\tif (arguments.length === 0) {\n\t\treturn UnaryUnionOp.union(this);\n\t} else if (arguments.length === 1) {\n\t\tlet other = arguments[0];\n\t\treturn UnionOp.union(this, other);\n\t}\n}\nGeometry.prototype.isValid = function() {\n\treturn IsValidOp.isValid(this);\n}\nGeometry.prototype.intersection = function(other) {\n\treturn OverlayOp.intersection(this, other);\n}\nGeometry.prototype.covers = function(g) {\n\treturn RelateOp.covers(this, g);\n}\nGeometry.prototype.coveredBy = function(g) {\n\treturn RelateOp.covers(g, this);\n}\nGeometry.prototype.touches = function(g) {\n\treturn RelateOp.touches(this, g);\n}\nGeometry.prototype.intersects = function(g) {\n\treturn RelateOp.intersects(this, g);\n}\nGeometry.prototype.within = function(g) {\n\treturn RelateOp.contains(g, this);\n}\nGeometry.prototype.overlaps = function(g) {\n\treturn RelateOp.overlaps(this, g);\n}\nGeometry.prototype.disjoint = function(g) {\n\treturn RelateOp.disjoint(this, g);\n}\nGeometry.prototype.crosses = function(g) {\n\treturn RelateOp.crosses(this, g);\n}\nGeometry.prototype.buffer = function() {\n\tif (arguments.length === 1) {\n\t\tlet distance = arguments[0];\n\t\treturn BufferOp.bufferOp(this, distance);\n\t} else if (arguments.length === 2) {\n\t\tlet distance = arguments[0], quadrantSegments = arguments[1];\n\t\treturn BufferOp.bufferOp(this, distance, quadrantSegments);\n\t} else if (arguments.length === 3) {\n\t\tlet distance = arguments[0], quadrantSegments = arguments[1], endCapStyle = arguments[2];\n\t\treturn BufferOp.bufferOp(this, distance, quadrantSegments, endCapStyle);\n\t}\n}\nGeometry.prototype.convexHull = function() {\n\treturn new ConvexHull(this).getConvexHull();\n}\nGeometry.prototype.relate = function(...args) {\n\tif (arguments.length === 1) {\n\t\tlet geometry = arguments[0];\n\t\treturn RelateOp.relate(this, geometry);\n\t} else if (arguments.length === 2) {\n\t\tlet geometry = arguments[0], intersectionPattern = arguments[1];\n\t\treturn RelateOp.relate(this, geometry).matches(intersectionPattern);\n\t}\n}\nGeometry.prototype.getCentroid = function() {\n\tif (this.isEmpty()) return this._factory.createPoint();\n\tvar centPt = Centroid.getCentroid(this);\n\treturn this.createPointFromInternalCoord(centPt, this);\n}\nGeometry.prototype.getInteriorPoint = function() {\n\tif (this.isEmpty()) return this._factory.createPoint();\n\tvar interiorPt = null;\n\tvar dim = this.getDimension();\n\tif (dim === 0) {\n\t\tvar intPt = new InteriorPointPoint(this);\n\t\tinteriorPt = intPt.getInteriorPoint();\n\t} else if (dim === 1) {\n\t\tvar intPt = new InteriorPointLine(this);\n\t\tinteriorPt = intPt.getInteriorPoint();\n\t} else {\n\t\tvar intPt = new InteriorPointArea(this);\n\t\tinteriorPt = intPt.getInteriorPoint();\n\t}\n\treturn this.createPointFromInternalCoord(interiorPt, this);\n}\nGeometry.prototype.symDifference = function(other) {\n\treturn OverlayOp.symDifference(this, other);\n}\nGeometry.prototype.createPointFromInternalCoord = function(coord, exemplar) {\n\texemplar.getPrecisionModel().makePrecise(coord);\n\treturn exemplar.getFactory().createPoint(coord);\n}\nGeometry.prototype.toText = function() {\n\tvar writer = new WKTWriter();\n\treturn writer.write(this);\n}\nGeometry.prototype.toString = function() {\n\tthis.toText();\n}\nGeometry.prototype.contains = function(g) {\n\treturn RelateOp.contains(this, g);\n}\nGeometry.prototype.difference = function(other) {\n\treturn OverlayOp.difference(this, other);\n}\nGeometry.prototype.isSimple = function() {\n\tvar op = new IsSimpleOp(this);\n\treturn op.isSimple();\n}\nGeometry.prototype.isWithinDistance = function(geom, distance) {\n\tvar envDist = this.getEnvelopeInternal().distance(geom.getEnvelopeInternal());\n\tif (envDist > distance) return false;\n\treturn DistanceOp.isWithinDistance(this, geom, distance);\n}\nGeometry.prototype.distance = function(g) {\n\treturn DistanceOp.distance(this, g);\n}\nGeometry.prototype.isEquivalentClass = function(other) {\n\treturn this.getClass() === other.getClass();\n}\n\n","import './Array'\nimport './Number'\nimport './Math'\n\nimport * as geom from './org/locationtech/jts/geom'\nimport * as algorithm from './org/locationtech/jts/algorithm'\nimport * as densify from './org/locationtech/jts/densify'\nimport * as dissolve from './org/locationtech/jts/dissolve'\nimport * as geomgraph from './org/locationtech/jts/geomgraph'\nimport * as index from './org/locationtech/jts/index'\nimport * as io from './org/locationtech/jts/io'\nimport * as noding from './org/locationtech/jts/noding'\nimport * as operation from './org/locationtech/jts/operation'\nimport * as precision from './org/locationtech/jts/precision'\nimport * as simplify from './org/locationtech/jts/simplify'\nimport * as triangulate from './org/locationtech/jts/triangulate'\nimport * as linearref from './org/locationtech/jts/linearref'\n\nimport './org/locationtech/jts/monkey'\n\nconst version = 'npm_package_version (git_hash)'\nexport {\n  version,\n  algorithm,\n  densify,\n  dissolve,\n  geom,\n  geomgraph,\n  index,\n  io,\n  noding,\n  operation,\n  precision,\n  simplify,\n  triangulate,\n  linearref\n}\n"]}