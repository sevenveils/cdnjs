!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.json2csv=e():t.json2csv=e()}(this,function(){return function(n){var r={};function o(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,o),e.loaded=!0,e.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(t,e,n){(function(u){var c=n(2),f=n(3),l=n(4),s=n(5),p=n(6);t.exports=function(t,e){var n="function"==typeof e;try{!function(n){n.data=n.data||[],Array.isArray(n.data)||(n.data=[n.data]);n.flatten&&(n.data=n.data.map(p));if(!n.fields&&(0===n.data.length||"object"!=typeof n.data[0]))throw new Error('params should include "fields" and/or non-empty "data" array of objects');if(!n.fields){var t=n.data.map(function(t){return Object.keys(t)});t=l(t),n.fields=s(t)}if(n.fieldNames&&n.fieldNames.length!==n.fields.length)throw new Error("fieldNames and fields should be of the same length, if fieldNames is provided.");n.fieldNames=n.fields.map(function(t,e){return n.fieldNames&&"string"==typeof t?n.fieldNames[e]:"string"==typeof t?t:t.label||t.value}),n.del=n.del||",",n.eol=n.eol||"",n.quotes="string"==typeof n.quotes?n.quotes:'"',n.doubleQuotes="string"==typeof n.doubleQuotes?n.doubleQuotes:Array(3).join(n.quotes),n.defaultValue=n.defaultValue,n.hasCSVColumnTitle=!1!==n.hasCSVColumnTitle,n.includeEmptyRows=n.includeEmptyRows||!1}(t)}catch(t){if(n)return u.nextTick(function(){e(t)});throw t}var a,r,o=function(e){var n="";e.hasCSVColumnTitle&&e.fieldNames.forEach(function(t){""!==n&&(n+=e.del),n+=JSON.stringify(t).replace(/\"/g,e.quotes)});return n}(t),i=(r=o,(a=t).data.forEach(function(i){if(i&&(0<Object.getOwnPropertyNames(i).length||a.includeEmptyRows)){var u="",t=a.newLine||c.EOL||"\n";a.fields.forEach(function(t){var e,n=a.defaultValue;if("object"==typeof t&&"default"in t&&(n=t.default),!t||"string"!=typeof t&&"string"!=typeof t.value)t&&"function"==typeof t.value&&(e=t.value(i));else{var r="string"==typeof t?t:t.value;e=f(i,r,n)}if(null==e&&(e=n),void 0!==e){var o=JSON.stringify(e);"object"==typeof e&&(o=JSON.stringify(o)),'"'!==a.quotes&&(o=function(t,e){var n=t.length-1;if('"'===t[0]&&'"'===t[n]){var r=t.split("");r[0]=e,r[n]=e,t=r.join("")}return t}(o,a.quotes)),o=o.replace(/\\\\/g,"\\"),a.excelStrings&&"string"==typeof e&&(o='"="'+o+'""'),u+=o}u+=a.del}),u=(u=(u=u.substring(0,u.length-1)).split("\\\\").map(function(t){return t.replace(/\\"/g,a.doubleQuotes)}).join("\\\\")).replace(/\\\\/g,"\\"),""!==r?r+=t+u+a.eol:r=u+a.eol}}),r);return n?u.nextTick(function(){e(null,i)}):i}}).call(e,n(1))},function(t,e){var n,r,o=t.exports={};function i(e){if(n===setTimeout)return setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n=setTimeout}catch(t){n=function(){throw new Error("setTimeout is not defined")}}try{r=clearTimeout}catch(t){r=function(){throw new Error("clearTimeout is not defined")}}}();var u,a=[],c=!1,f=-1;function l(){c&&u&&(c=!1,u.length?a=u.concat(a):f=-1,a.length&&s())}function s(){if(!c){var t=i(l);c=!0;for(var e=a.length;e;){for(u=a,a=[];++f<e;)u&&u[f].run();f=-1,e=a.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new p(t,e)),1!==a.length||c||i(s)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n"},function(U,t){(function(t){var e="Expected a function",r="__lodash_hash_undefined__",n=1/0,o="[object Function]",i="[object GeneratorFunction]",u="[object Symbol]",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,h="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,y=h||d||Function("return this")();var _,v=Array.prototype,g=Function.prototype,b=Object.prototype,m=y["__core-js_shared__"],j=(_=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",w=g.toString,O=b.hasOwnProperty,x=b.toString,E=RegExp("^"+w.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=y.Symbol,A=v.splice,N=I(y,"Map"),T=I(Object,"create"),$=S?S.prototype:void 0,k=$?$.toString:void 0;function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function V(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function P(t,e){for(var n,r=0,o=(e=function(t,e){if(D(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||J(t))return!0;return c.test(t)||!a.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:D(n=e)?n:B(n)).length;null!=t&&r<o;)t=t[M(e[r++])];return r&&r==o?t:void 0}function q(t){return!(!G(t)||(e=t,j&&j in e))&&((r=G(n=t)?x.call(n):"")==o||r==i||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?E:p).test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e,n,r}function R(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function I(t,e){var n,r,o=(r=e,null==(n=t)?void 0:n[r]);return q(o)?o:void 0}F.prototype.clear=function(){this.__data__=T?T(null):{}},F.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},F.prototype.get=function(t){var e=this.__data__;if(T){var n=e[t];return n===r?void 0:n}return O.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return T?void 0!==e[t]:O.call(e,t)},F.prototype.set=function(t,e){return this.__data__[t]=T&&void 0===e?r:e,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(t){var e=this.__data__,n=V(e,t);return!(n<0||(n==e.length-1?e.pop():A.call(e,n,1),0))},C.prototype.get=function(t){var e=this.__data__,n=V(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return-1<V(this.__data__,t)},C.prototype.set=function(t,e){var n=this.__data__,r=V(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},L.prototype.clear=function(){this.__data__={hash:new F,map:new(N||C),string:new F}},L.prototype.delete=function(t){return R(this,t).delete(t)},L.prototype.get=function(t){return R(this,t).get(t)},L.prototype.has=function(t){return R(this,t).has(t)},L.prototype.set=function(t,e){return R(this,t).set(t,e),this};var B=Q(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(J(t))return k?k.call(t):"";var e=t+"";return"0"==e&&1/t==-n?"-0":e}(e);var o=[];return f.test(t)&&o.push(""),t.replace(l,function(t,e,n,r){o.push(n?r.replace(s,"$1"):e||t)}),o});function M(t){if("string"==typeof t||J(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function Q(o,i){if("function"!=typeof o||i&&"function"!=typeof i)throw new TypeError(e);var u=function(){var t=arguments,e=i?i.apply(this,t):t[0],n=u.cache;if(n.has(e))return n.get(e);var r=o.apply(this,t);return u.cache=n.set(e,r),r};return u.cache=new(Q.Cache||L),u}Q.Cache=L;var D=Array.isArray;function G(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function J(t){return"symbol"==typeof t||!!(e=t)&&"object"==typeof e&&x.call(t)==u;var e}U.exports=function(t,e,n){var r=null==t?void 0:P(t,e);return void 0===r?n:r}}).call(t,function(){return this}())},function(u,t){(function(t){var l=9007199254740991,s="[object Arguments]",p="[object Function]",h="[object GeneratorFunction]",e="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,r=e||n||Function("return this")();function f(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var o=Object.prototype,d=o.hasOwnProperty,y=o.toString,i=r.Symbol,_=o.propertyIsEnumerable,v=i?i.isConcatSpreadable:void 0;function g(t){return b(t)||!!(f=n=e=t)&&"object"==typeof f&&(null!=(r=n)&&("number"==typeof(c=r.length)&&-1<c&&c%1==0&&c<=l)&&(a=typeof(u=o=r),!((i=!u||"object"!=a&&"function"!=a?"":y.call(o))==p||i==h)))&&d.call(e,"callee")&&(!_.call(e,"callee")||y.call(e)==s)||!!(v&&t&&t[v]);var e,n,r,o,i,u,a,c,f}var b=Array.isArray;u.exports=function(t){return t&&t.length?function t(e,n,r,o,i){var u=-1,a=e.length;for(r||(r=g),i||(i=[]);++u<a;){var c=e[u];0<n&&r(c)?1<n?t(c,n-1,r,o,i):f(i,c):o||(i[i.length]=c)}return i}(t,1):[]}}).call(t,function(){return this}())},function(R,t){(function(t){var h=200,r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",u=/^\[object .+?Constructor\]$/,e="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,a=e||n||Function("return this")();function d(t,e){return!!(t?t.length:0)&&-1<function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,c,n);var r=n-1,o=t.length;for(;++r<o;)if(t[r]===e)return r;return-1}(t,e,0)}function y(t,e,n){for(var r=-1,o=t?t.length:0;++r<o;)if(n(e,t[r]))return!0;return!1}function c(t){return t!=t}function _(t,e){return t.has(e)}function v(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}var f,l=Array.prototype,s=Function.prototype,p=Object.prototype,g=a["__core-js_shared__"],b=(f=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",m=s.toString,j=p.hasOwnProperty,w=p.toString,O=RegExp("^"+m.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=l.splice,E=P(a,"Map"),S=P(a,"Set"),A=P(Object,"create");function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function k(t){var e=-1,n=t?t.length:0;for(this.__data__=new $;++e<n;)this.add(t[e])}function F(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function C(t){return!(!q(t)||(e=t,b&&b in e))&&((r=q(n=t)?w.call(n):"")==o||r==i||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?O:u).test(function(t){if(null!=t){try{return m.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e,n,r}N.prototype.clear=function(){this.__data__=A?A(null):{}},N.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},N.prototype.get=function(t){var e=this.__data__;if(A){var n=e[t];return n===r?void 0:n}return j.call(e,t)?e[t]:void 0},N.prototype.has=function(t){var e=this.__data__;return A?void 0!==e[t]:j.call(e,t)},N.prototype.set=function(t,e){return this.__data__[t]=A&&void 0===e?r:e,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(t){var e=this.__data__,n=F(e,t);return!(n<0||(n==e.length-1?e.pop():x.call(e,n,1),0))},T.prototype.get=function(t){var e=this.__data__,n=F(e,t);return n<0?void 0:e[n][1]},T.prototype.has=function(t){return-1<F(this.__data__,t)},T.prototype.set=function(t,e){var n=this.__data__,r=F(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},$.prototype.clear=function(){this.__data__={hash:new N,map:new(E||T),string:new N}},$.prototype.delete=function(t){return V(this,t).delete(t)},$.prototype.get=function(t){return V(this,t).get(t)},$.prototype.has=function(t){return V(this,t).has(t)},$.prototype.set=function(t,e){return V(this,t).set(t,e),this},k.prototype.add=k.prototype.push=function(t){return this.__data__.set(t,r),this},k.prototype.has=function(t){return this.__data__.has(t)};var L=S&&1/v(new S([,-0]))[1]==1/0?function(t){return new S(t)}:function(){};function V(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function P(t,e){var n,r,o=(r=e,null==(n=t)?void 0:n[r]);return C(o)?o:void 0}function q(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}R.exports=function(t){return t&&t.length?function(t,e,n){var r=-1,o=d,i=t.length,u=!0,a=[],c=a;if(n)u=!1,o=y;else if(h<=i){var f=e?null:L(t);if(f)return v(f);u=!1,o=_,c=new k}else c=e?[]:a;t:for(;++r<i;){var l=t[r],s=e?e(l):l;if(l=n||0!==l?l:0,u&&s==s){for(var p=c.length;p--;)if(c[p]===s)continue t;e&&c.push(s),a.push(l)}else o(c,s,n)||(c!==a&&c.push(s),a.push(l))}return a}(t):[]}}).call(t,function(){return this}())},function(t,e,n){var d=n(7);t.exports=r;function r(t,l){var s=(l=l||{}).delimiter||".",p=l.maxDepth,h={};return function u(a,c,f){f=f||1,Object.keys(a).forEach(function(t){var e=a[t],n=l.safe&&Array.isArray(e),r=Object.prototype.toString.call(e),o=d(e),i=c?c+s+t:t;if(!n&&!o&&("[object Object]"===r||"[object Array]"===r)&&Object.keys(e).length&&(!l.maxDepth||f<p))return u(e,i,f+1);h[i]=e})}(t),h}(r.flatten=r).unflatten=function a(c,f){f=f||{};var l=f.delimiter||".";var s=f.overwrite||!1;var p={};var t=d(c);if(t||"[object Object]"!==Object.prototype.toString.call(c))return c;function h(t){var e=Number(t);return isNaN(e)||-1!==t.indexOf(".")?t:e}Object.keys(c).forEach(function(t){for(var e=t.split(l),n=h(e.shift()),r=h(e[0]),o=p;void 0!==r;){var i=Object.prototype.toString.call(o[n]),u="[object Object]"===i||"[object Array]"===i;if(!s&&!u&&void 0!==o[n])return;(s&&!u||!s&&null==o[n])&&(o[n]="number"!=typeof r||f.object?{}:[]),o=o[n],0<e.length&&(n=h(e.shift()),r=h(e[0]))}o[n]=a(c[t],f)});return p}},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}}])});